/*! For license information please see main.7d182fbd.js.LICENSE.txt */
(()=>{var e={102:function(e,t,n){var i;e.exports=function(){function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,n,i)}return n[o].exports}for(var a=void 0,o=0;o<i.length;o++)r(i[o]);return r}return e}()({1:[function(e,t,n){"use strict";var i=(0,e("./adapter_factory.js").adapterFactory)({window:window});t.exports=i},{"./adapter_factory.js":2}],2:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=r.log,i=r.detectBrowser(e),u={browserDetails:i,commonShim:c,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(i.browser){case"chrome":if(!a||!a.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=a,a.shimGetUserMedia(e),a.shimMediaStream(e),a.shimPeerConnection(e),a.shimOnTrack(e),a.shimAddTrackRemoveTrack(e),a.shimGetSendersWithDtmf(e),a.shimGetStats(e),a.shimSenderReceiverGetStats(e),a.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case"firefox":if(!s||!s.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=s,s.shimGetUserMedia(e),s.shimPeerConnection(e),s.shimOnTrack(e),s.shimRemoveStream(e),s.shimSenderGetStats(e),s.shimReceiverGetStats(e),s.shimRTCDataChannel(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=o,o.shimGetUserMedia(e),o.shimGetDisplayMedia(e),o.shimPeerConnection(e),o.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"safari":if(!l||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=l,l.shimRTCIceServerUrls(e),l.shimCreateOfferLegacy(e),l.shimCallbacksAPI(e),l.shimLocalStreamsAPI(e),l.shimRemoteStreamsAPI(e),l.shimTrackEventTransceiver(e),l.shimGetUserMedia(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:n("Unsupported browser!")}return u};var r=i(e("./utils")),a=i(e("./chrome/chrome_shim")),o=i(e("./edge/edge_shim")),s=i(e("./firefox/firefox_shim")),l=i(e("./safari/safari_shim")),c=i(e("./common_shim"))},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){"use strict";function i(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var i=this.getSenders();n.apply(this,arguments);var r=this.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var i=t._shimmedLocalStreams[n].indexOf(e);-1!==i&&t._shimmedLocalStreams[n].splice(i,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),r.apply(this,arguments)}}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},n.shimOnTrack=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)s.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(i){var r=void 0;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var a=new Event("track");a.track=i.track,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(i){var r=void 0;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var a=new Event("track");a.track=i,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}},n.shimGetSendersWithDtmf=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},n.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,i){var r=this,a=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var l=function(e){a[1](s(o(e)))};return t.apply(this,[l,arguments[0]])}return new Promise((function(e,n){t.apply(r,[function(t){e(s(o(t)))},n])})).then(n,i)}}},n.shimSenderReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),s.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,i=void 0,r=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?r=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(i?r=!0:i=e),e.track===t})),r||n&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}},n.shimAddTrackRemoveTrackWithNative=i,n.shimAddTrackRemoveTrack=function(e){function t(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function n(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}if(e.RTCPeerConnection){var r=s.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&r.version>=65)return i(e);var a=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=a.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}o.apply(this,[t])};var l=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var i=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){i.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[n.id]=o,this._reverseStreams[o.id]=n,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(n){var i=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=this,n=arguments;return arguments.length&&"function"==typeof arguments[0]?i.apply(this,[function(i){var r=t(e,i);n[0].apply(null,[r])},function(e){n[1]&&n[1].apply(null,e)},arguments[2]]):i.apply(this,arguments).then((function(n){return t(e,n)}))}}));var c=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=n(this,arguments[0]),c.apply(this,arguments)):c.apply(this,arguments)};var u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=u.get.apply(this);return""===e.type?e:t(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var n=void 0;Object.keys(this._streams).forEach((function(i){t._streams[i].getTracks().find((function(t){return e.track===t}))&&(n=t._streams[i])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}},n.shimPeerConnection=function(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},n.fixNegotiationNeeded=function(e){s.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js"))},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var i=n.video&&n.video.width,r=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var n=r.detectBrowser(e),o=function(e){if("object"!==(void 0===e?"undefined":i(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[a("min",n)]=r.ideal,t.optional.push(o),(o={})[a("max",n)]=r.ideal,t.optional.push(o)):(o[a("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,r){if(n.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"===i(e.video)){var l=e.video.facingMode;l=l&&("object"===(void 0===l?"undefined":i(l))?l:{ideal:l});var c=n.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var u=void 0;if("environment"===l.exact||"environment"===l.ideal?u=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&u.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=l.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=o(e.video),a("chrome: "+JSON.stringify(e)),r(e)}))}e.video=o(e.video)}return a("chrome: "+JSON.stringify(e)),r(e)},l=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,i){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){i&&i(l(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){var c=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(l(e))}))}))}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js")),a=r.log},{"../utils.js":15}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimRTCIceCandidate=function(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),a=r.default.parseCandidate(e.candidate),o=Object.assign(n,a);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},n.shimMaxMessageSize=function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=r.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=r.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},o=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var a=r.default.matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?i=parseInt(a[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},l=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n(arguments[0])){var e=i(arguments[0]),t=o(e),r=s(arguments[0],e),a=void 0;a=0===t&&0===r?Number.POSITIVE_INFINITY:0===t||0===r?Math.max(t,r):Math.min(t,r);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return a}}),this._sctp=c}return l.apply(this,arguments)}}},n.shimSendThrowTypeError=function(e){function t(e,t){var n=e.send;e.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",(function(e){return t(e.channel,e.target),e}))}},n.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}},n.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("sdp")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils"))},{"./utils":15,sdp:17}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var r=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}}),n.shimPeerConnection=function(e){var t=a.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=(0,s.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,o.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype},n.shimReplaceTrack=function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),o=e("./filtericeservers"),s=function(e){return e&&e.__esModule?e:{default:e}}(e("rtcpeerconnection-shim"))},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var r="string"==typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch((function(e){return Promise.reject(n(e))}))}}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var a=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return a.shimGetDisplayMedia}}),n.shimOnTrack=function(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(e){var t=o.detectBrowser(e);if("object"===(void 0===e?"undefined":i(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,i){return a.apply(this,[e||null]).then((function(e){if(t.version<53&&!n)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(n,i)}}},n.shimSenderGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},n.shimReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},n.shimRemoveStream=function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})},n.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":i(e))&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},a&&a.prototype.getSettings){var l=a.prototype.getSettings;a.prototype.getSettings=function(){var e=l.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var c=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":i(e))&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],14:[function(e,t,n){"use strict";function i(e){return e&&void 0!==e.video?Object.assign({},e,{video:a.compactObject(e.video)}):e}Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimLocalStreamsAPI=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach((function(i){return t.call(n,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var i=e.getTracks();this.getSenders().forEach((function(e){i.includes(e.track)&&t.removeTrack(e)}))}})}},n.shimRemoteStreamsAPI=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},n.shimCallbacksAPI=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,a=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};var l=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=l,l=function(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=l,l=function(e,t,n){var i=s.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=l}},n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(i(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))},n.shimConstraints=i,n.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(a.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,i.push(o)):i.push(e.iceServers[r])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},n.shimTrackEventTransceiver=function(e){"object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video")}return t.apply(this,arguments)}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],15:[function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function a(e){return"object"!==(void 0===e?"undefined":s(e))?e:Object.keys(e).reduce((function(t,n){var r="object"===s(e[n]),o=r?a(e[n]):e[n],l=r&&!Object.keys(o).length;return void 0===o||l?t:Object.assign(t,i({},n,o))}),{})}function o(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(i){i.endsWith("Id")?o(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach((function(t){o(e,e.get(t),n)}))})))}Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.extractVersion=r,n.wrapPeerConnectionEvent=function(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var a=function(e){var t=n(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=a,r.apply(this,[e,a])};var a=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return a.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],a.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},n.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":s(e))+". Please use a boolean."):(l=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},n.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":s(e))+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},n.log=function(){if("object"===("undefined"==typeof window?"undefined":s(window))){if(l)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")},n.detectBrowser=function(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=r(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=r(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=r(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=r(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n},n.compactObject=a,n.walkStats=o,n.filterStats=function(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===i&&n.trackId===t.id&&o(e,n,r)}))})),r};var l=!0,c=!0},{}],16:[function(e,t,n){"use strict";function i(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function r(e,t,n,i,r){var a=u.writeRtpDescription(e.kind,t);if(a+=u.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=u.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":r||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=o;var s="msid:"+(i?i.id:"-")+" "+o+"\r\n";a+="a="+s,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+u.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+u.localCName+"\r\n"),a}function a(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof i;return r&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=r?i[0]:i,!!i.length}}))}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var a=i(e.parameters.apt,n),o=i(t.parameters.apt,r);return a&&o&&a.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(i){for(var a=0;a<t.codecs.length;a++){var o=t.codecs[a];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.clockRate===o.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.apt&&!r(i,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(i.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}})),n}function s(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function l(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var u=e("sdp");t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function d(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function f(t,n,i,r){var a=new Event("track");a.track=n,a.receiver=i,a.transceiver={receiver:i},a.streams=r,e.setTimeout((function(){t._dispatchEvent("track",a)}))}var h=function(n){var i=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=r[e].bind(r)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=a(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=u.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},h.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},h.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i,r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(i=this.transceivers[r]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),i.track=t,i.stream=n,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},h.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var i=e.clone();e.getTracks().forEach((function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),i.getTracks().forEach((function(e){n.addTrack(e,i)}))}},h.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var i=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},h.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},h.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},h.prototype._createIceGatherer=function(t,n){var i=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;r.state=n?"completed":"gathering",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},h.prototype._gather=function(t,n){var i=this,r=this.transceivers[n].iceGatherer;if(!r.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,r.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),r.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var o=e.candidate,s=!o||0===Object.keys(o).length;if(s)"new"!==r.state&&"gathering"!==r.state||(r.state="completed");else{"new"===r.state&&(r.state="gathering"),o.component=1,o.ufrag=r.getLocalParameters().usernameFragment;var l=u.writeCandidate(o);a.candidate=Object.assign(a.candidate,u.parseCandidate(l)),a.candidate.candidate=l,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var c=u.getMediaSections(i._localDescription.sdp);c[a.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=u.getDescription(i._localDescription.sdp)+c.join("");var d=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||i._dispatchEvent("icecandidate",a),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){r.onlocalcandidate(e)}))}),0)}},h.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},h.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},h.prototype._transceive=function(e,n,i){var r=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(r.encodings=e.sendEncodingParameters,r.rtcp={cname:u.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(r.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(r)),i&&e.rtpReceiver&&r.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?r.encodings=e.recvEncodingParameters:r.encodings=[{}],r.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(r.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(r.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(r))},h.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=u.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=u.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=u.splitSections(i._remoteDescription.sdp),n=t.shift();var r=u.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],s=a.iceGatherer,l=a.iceTransport,c=a.dtlsTransport,d=a.localCapabilities,f=a.remoteCapabilities;if((!u.isRejected(e)||0!==u.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var h=u.getIceParameters(e,n),p=u.getDtlsParameters(e,n);r&&(p.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===l.state&&l.start(s,h,r?"controlling":"controlled"),"new"===c.state&&c.start(p));var g=o(d,f);i._transceive(a,g.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(i){var r=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!s("setRemoteDescription",i.type,r.signalingState)||r._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+r.signalingState));var a={};r.remoteStreams.forEach((function(e){a[e.id]=e}));var h=[],p=u.splitSections(i.sdp),g=p.shift(),m=u.matchPrefix(g,"a=ice-lite").length>0,v=u.matchPrefix(g,"a=group:BUNDLE ").length>0;r.usingBundle=v;var b=u.matchPrefix(g,"a=ice-options:")[0];return r.canTrickleIceCandidates=!!b&&b.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(s,c){var f=u.splitLines(s),p=u.getKind(s),b=u.isRejected(s)&&0===u.matchPrefix(s,"a=bundle-only").length,y=f[0].substr(2).split(" ")[2],C=u.getDirection(s,g),w=u.parseMsid(s),S=u.getMid(s)||u.generateIdentifier();if(b||"application"===p&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))r.transceivers[c]={mid:S,kind:p,protocol:y,rejected:!0};else{!b&&r.transceivers[c]&&r.transceivers[c].rejected&&(r.transceivers[c]=r._createTransceiver(p,!0));var I,T,E,M,R,A,k,x,D,O,L,_=u.parseRtpParameters(s);b||(O=u.getIceParameters(s,g),(L=u.getDtlsParameters(s,g)).role="client"),k=u.parseRtpEncodingParameters(s);var N=u.parseRtcpParameters(s),j=u.matchPrefix(s,"a=end-of-candidates",g).length>0,P=u.matchPrefix(s,"a=candidate:").map((function(e){return u.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!b&&v&&c>0&&r.transceivers[c]&&(r._disposeIceAndDtlsTransports(c),r.transceivers[c].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[c].iceTransport=r.transceivers[0].iceTransport,r.transceivers[c].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[c].rtpSender&&r.transceivers[c].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[c].rtpReceiver&&r.transceivers[c].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==i.type||b)"answer"!==i.type||b||(T=(I=r.transceivers[c]).iceGatherer,E=I.iceTransport,M=I.dtlsTransport,R=I.rtpReceiver,A=I.sendEncodingParameters,x=I.localCapabilities,r.transceivers[c].recvEncodingParameters=k,r.transceivers[c].remoteCapabilities=_,r.transceivers[c].rtcpParameters=N,P.length&&"new"===E.state&&(!m&&!j||v&&0!==c?P.forEach((function(e){l(I.iceTransport,e)})):E.setRemoteCandidates(P)),v&&0!==c||("new"===E.state&&E.start(T,O,"controlling"),"new"===M.state&&M.start(L)),!o(I.localCapabilities,I.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&I.sendEncodingParameters[0].rtx&&delete I.sendEncodingParameters[0].rtx,r._transceive(I,"sendrecv"===C||"recvonly"===C,"sendrecv"===C||"sendonly"===C),!R||"sendrecv"!==C&&"sendonly"!==C?delete I.rtpReceiver:(D=R.track,w?(a[w.stream]||(a[w.stream]=new e.MediaStream),n(D,a[w.stream]),h.push([D,R,a[w.stream]])):(a.default||(a.default=new e.MediaStream),n(D,a.default),h.push([D,R,a.default]))));else{(I=r.transceivers[c]||r._createTransceiver(p)).mid=S,I.iceGatherer||(I.iceGatherer=r._createIceGatherer(c,v)),P.length&&"new"===I.iceTransport.state&&(!j||v&&0!==c?P.forEach((function(e){l(I.iceTransport,e)})):I.iceTransport.setRemoteCandidates(P)),x=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(x.codecs=x.codecs.filter((function(e){return"rtx"!==e.name}))),A=I.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var U,F=!1;"sendrecv"===C||"sendonly"===C?(F=!I.rtpReceiver,R=I.rtpReceiver||new e.RTCRtpReceiver(I.dtlsTransport,p),F&&(D=R.track,w&&"-"===w.stream||(w?(a[w.stream]||(a[w.stream]=new e.MediaStream,Object.defineProperty(a[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(D,"id",{get:function(){return w.track}}),U=a[w.stream]):(a.default||(a.default=new e.MediaStream),U=a.default)),U&&(n(D,U),I.associatedRemoteMediaStreams.push(U)),h.push([D,R,U]))):I.rtpReceiver&&I.rtpReceiver.track&&(I.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===I.rtpReceiver.track.id}));t&&d(t,e)})),I.associatedRemoteMediaStreams=[]),I.localCapabilities=x,I.remoteCapabilities=_,I.rtpReceiver=R,I.rtcpParameters=N,I.sendEncodingParameters=A,I.recvEncodingParameters=k,r._transceive(r.transceivers[c],!1,F)}}})),void 0===r._dtlsRole&&(r._dtlsRole="offer"===i.type?"active":"passive"),r._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?r._updateSignalingState("have-remote-offer"):r._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===r.remoteStreams.indexOf(n)){r.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){r._dispatchEvent("addstream",i)}))}h.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&f(r,t,i,[n])}))}})),h.forEach((function(e){e[2]||f(r,e[0],e[1],[])})),e.setTimeout((function(){r&&r.transceivers&&r.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},h.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},h.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},h.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},h.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,o=arguments[0];if(o){if(o.mandatory||o.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==o.offerToReceiveAudio&&(i=!0===o.offerToReceiveAudio?1:!1===o.offerToReceiveAudio?0:o.offerToReceiveAudio),void 0!==o.offerToReceiveVideo&&(a=!0===o.offerToReceiveVideo?1:!1===o.offerToReceiveVideo?0:o.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));i>0||a>0;)i>0&&(n._createTransceiver("audio"),i--),a>0&&(n._createTransceiver("video"),a--);var s=u.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,r){var a=i.track,o=i.kind,s=i.mid||u.generateIdentifier();i.mid=s,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(r,n.usingBundle));var l=e.RTCRtpSender.getCapabilities(o);t<15019&&(l.codecs=l.codecs.filter((function(e){return"rtx"!==e.name}))),l.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),l.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var c=i.sendEncodingParameters||[{ssrc:1001*(2*r+1)}];a&&t>=15019&&"video"===o&&!c[0].rtx&&(c[0].rtx={ssrc:c[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,o)),i.localCapabilities=l,i.sendEncodingParameters=c})),"max-compat"!==n._config.bundlePolicy&&(s+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){s+=r(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),s+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,s+="a="+u.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(l)},h.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var i=u.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(i+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n";var a=u.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,s){if(!(s+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?i+="m=application 0 DTLS/SCTP 5000\r\n":i+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?i+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(i+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(i+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var l;e.stream&&("audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,i+=r(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}}));var s=new e.RTCSessionDescription({type:"answer",sdp:i});return Promise.resolve(s)},h.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,r){if(!n._remoteDescription)return r(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var o=0;o<n.transceivers.length;o++)if(n.transceivers[o].mid===e.sdpMid){a=o;break}var s=n.transceivers[a];if(!s)return r(c("OperationError","Can not add ICE candidate"));if(s.rejected)return i();var d=Object.keys(e.candidate).length>0?u.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===a||a>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!l(s.iceTransport,d))return r(c("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=u.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(d.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=u.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var h=0;h<n.transceivers.length&&(n.transceivers[h].rejected||(n.transceivers[h].iceTransport.addRemoteCandidate({}),(t=u.getMediaSections(n._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=u.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));h++);i()}))},h.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var i=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),Promise.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){e[n].type=i(e[n]),t.set(n,e[n])})),t}))}}}));var p=["createOffer","createAnswer"];return p.forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),h}},{sdp:17}],17:[function(e,t,n){"use strict";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substr(14).split(" ")},i.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},i.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},i.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},i.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},i.getMid=function(e){var t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},i.getIceParameters=function(e,t){var n=i.splitLines(e);return{usernameFragment:(n=n.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},i.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(e)[0].split(" "),r=3;r<n.length;r++){var a=n[r],o=i.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=i.parseRtpMap(o),l=i.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=l.length?i.parseFmtp(l[0]):{},s.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=i.writeRtpMap(e),n+=i.writeFmtp(e),n+=i.writeRtcpFb(e)}));var r=0;return t.codecs.forEach((function(e){e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=i.writeExtmap(e)})),n},i.parseRtpEncodingParameters=function(e){var t,n=[],r=i.parseRtpParameters(e),a=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,c=i.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(t=c[0][1]),r.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&t&&(i.rtx={ssrc:t}),n.push(i),a&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},n.push(i))}})),0===n.length&&l&&n.push({ssrc:l});var u=i.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=u}))),n},i.parseRtcpParameters=function(e){var t={},n=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=i.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var a=i.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},i.parseMsid=function(e){var t,n=i.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var r=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return r.length>0?{stream:(t=r[0].value.split(" "))[0],track:t[1]}:void 0},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,n){var r=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(e,t,n,r){var a=i.writeRtpDescription(e.kind,t);if(a+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),a},i.getDirection=function(e,t){for(var n=i.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substr(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){var t=i.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=i.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=i)},{}]},{},[1])(1),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(p.arrayBuffer&&p.blob&&m(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e,t){var n=(t=t||{}).body;if(e instanceof u){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function f(e){var t=new r;return e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t}function h(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var p={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(p.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),i(e)},r.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),i(e)},r.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),i(e)},p.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})},c.call(u.prototype),c.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];h.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=u,e.Response=h,e.fetch=function(e,t){return new Promise((function(n,i){var r=new u(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:f(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new h(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),r.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===r._bodyInit?null:r._bodyInit)}))},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var r,a={};a=function(){function e(e,t){if(e){var n=l[e];if(s[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function t(e,t){e.call&&(e={success:e}),t.length?(e.error||a)(t):(e.success||a)(e)}function n(e,t,i,r){var o,s,l=document,u=i.async,d=(i.numRetries||0)+1,f=i.before||a,h=e.replace(/^(css|img)!/,""),p=i.reqdelay||0;r=r||0,/(^css!|\.css$)/.test(e)?(o=!0,(s=l.createElement("link")).rel="stylesheet",s.href=h):/(^img!|\.(png|gif|jpg|svg)$)/.test(e)?(s=l.createElement("img")).src=h:((s=l.createElement("script")).src=e,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(a){var l=a.type[0];if(o&&"hideFocus"in s)try{s.sheet.cssText.length||(l="e")}catch(e){l="e"}if("e"==l&&(r+=1)<d)return c=p*r,setTimeout((function(){n(e,t,i,r)}),c),void(i.retrycb&&i.retrycb(r,c));t(e,l,a.defaultPrevented)},!1!==f(e,s)&&l.head.appendChild(s)}function i(e,t,i){var r,a,o=(e=e.push?e:[e]).length,s=o,l=[];for(r=function(e,n,i){if("e"==n&&l.push(e),"b"==n){if(!i)return;l.push(e)}--o||t(l)},a=0;a<s;a++)n(e[a],r,i)}function r(n,r,a){var o,s;r&&r.trim&&(o=r),i(n,(function(n){t(s,n),e(o,n)}),s=(o?a:r)||{})}var a=function(){},o={},s={},l={},c=0;return r.ready=function(e,n){return function(e,t){var n,i,r,a=[],o=(e=e.push?e:[e]).length,c=o;for(n=function(e,n){n.length&&a.push(e),--c||t(a)};o--;)i=e[o],(r=s[i])?n(i,r):(l[i]=l[i]||[]).push(n)}(e,(function(e){t(n,e)})),r},r.done=function(t){e(t,[])},r.reset=function(){o={},s={},l={}},r.isDefined=function(e){return e in o},r}(),function(e,t){"use strict";var n={load:function(t,n,i){if("undefined"!=typeof requirejs){var r,o=[],s=t+"://"+n.ccsServer+"/socket.io/v3/socket.io.js";o.push("sio"),r={sio:s},requirejs.config({shim:{sio:{exports:"io"}},wrap:!1,paths:r}),requirejs(o,(function(t){e.rtcio=t,i.success()}))}else if(void 0!==typeof a&&"undefined"==typeof apiRTC_React){var l={async:!0,numRetries:n.extJsLoadingRetryNb||100,reqdelay:n.extJsLoadingRetryDelay||200,success:function(){e.rtcio=io,i.success()},error:function(e){console.error("socket.io loading error"),i.error()},retrycb:function(e,t){console.warn("socket.io loading retry :"+e+" ,delay before retry :"+t),i.retrycb()}};void 0!==n.socketioUrl?a([n.socketioUrl],"socketio",l):a([t+"://"+n.ccsServer+"/socket.io/v3/socket.io.js"],"socketio",l)}else console.log("Else loadjs io"),e.rtcio=io,i.success()}};e.apiRTC_sioLoader=n}(window),self,r=()=>(()=>{var r={8364:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),n(2043)),o=n(7987),s=a.getLogger("CloudAPI"),l=(o.reg(a),o.apply(s,{format:function(e,t,n){return"".concat(n," - [").concat(e,"] ").concat(t," : ")}}),s.setDefaultLevel("error"),s.setLevel("error"),"https://cloud.apizee.com"),c="/api/v2/media/upload",u="/api/v2/conversation/{convId}/media",d="/api/v2/conferences",f={updateWebconfTags:{fetchRetryCount:3,fetchRetryDelay:500}},h=null,p=function(){function e(){if(this.cloudUrl=l,this.JWTApzToken="",this.fetchRetries=100,this.fetchRetryDelay=200,null!==h)return s.debug("Cannot construct multiple CloudAPI, this is a singleton."),h;h=this}return e.get=function(){return h=null===h?new e:h},e.prototype.setLogLevel=function(e){s.setLevel(e)},e.prototype.getLogLevel=function(){var e="";switch(s.getLevel()){case 0:e="trace";break;case 1:e="debug";break;case 2:e="info";break;case 3:e="warn";break;case 4:e="error";break;case 5:e="silent"}return e},e.prototype.setCloudURL=function(e){s.debug("setCloudURL :",e),this.cloudUrl=e},e.prototype.setJWTApzToken=function(e){this.JWTApzToken=e},e.prototype.setFetchRetries=function(e){s.debug("setFetchRetries :",e),null!=e&&(this.fetchRetries=e)},e.prototype.setFetchRetryDelay=function(e){s.log("setFetchRetryDelay :",e),null!=e&&(this.fetchRetryDelay=e)},e.prototype.request=function(e,t,n,i,r,a){void 0===r&&(r={}),void 0===a&&(a={});var o=-1===e.indexOf(this.cloudUrl)?this.cloudUrl+e:e,l=null;return new Promise((function(e,c){var u,d=new XMLHttpRequest;if(a.hasOwnProperty("withCredentials")&&(d.withCredentials=a.withCredentials),d.onreadystatechange=function(t){if(d.readyState===XMLHttpRequest.DONE)if(s.debug("request onreadystatechange status :",d.status),200<=d.status&&d.status<300)if(d.responseText){var n=null;try{n=JSON.parse(d.responseText)}catch(t){n=d.responseText}e(n)}else e("No_responseTest");else{if(n={status:d.status,text:d.statusText},d.responseText)try{n.response=JSON.parse(d.responseText)}catch(t){n.responseText=d.responseText}c(n)}},d.onprogress=function(e){"function"==typeof i&&i(e)},d.onerror=function(e){c(e)},"GET"===n)0<Object.keys(t).length&&(u=new URLSearchParams(t),s.debug("johann",u,u.toString,t),o+="?"+u.toString());else{l=new FormData;for(var f=0,h=Object.keys(t);f<h.length;f++){var p=h[f];l.append(p,t[p])}}if(d.open(n,o,!0),null!=r)for(var g=0,m=Object.keys(r);g<m.length;g++)p=m[g],d.setRequestHeader(p,r[p]);d.send(l)}))},e.prototype.get=function(e,t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),s.log("Send HTTP request : GET ".concat(e)),this.request(e,t,"GET",null,n,i)},e.prototype.post=function(e,t,n,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),s.log("Send HTTP request : POST ".concat(e)),this.request(e,t,"POST",n,i,r)},e.prototype.put=function(e,t,n,i){return s.log("Send HTTP request : PUT ".concat(e)),(t=null!==t&&"object"==typeof t?t:{})._method="PUT",this.request(e,t,"POST",n,i)},e.prototype.delete=function(e,t,n){return s.log("Send HTTP request : DELETE ".concat(e)),(t=null!==t&&"object"==typeof t?t:{})._method="DELETE",this.request(e,t,"POST",null,n)},e.prototype.cloudRequest=function(e,t,n,i){var r=this;return void 0===i&&(i={}),new Promise((function(a,o){s.trace(n+" cloudRequest to "+h.cloudUrl,t);var l={method:n.toUpperCase()},c=h.cloudUrl+e;if("GET"===l.method)0<Object.keys(t).length&&(c+="?"+new URLSearchParams(t).toString());else{for(var u=new FormData,d=0,f=Object.keys(t);d<f.length;d++){var m=f[d];u.append(m,t[m])}l.body=u}i.hasOwnProperty("bearerToken")?l.headers={Authorization:"Bearer "+i.bearerToken}:""!==r.JWTApzToken&&(l.headers={Authorization:"Bearer "+r.JWTApzToken}),i.hasOwnProperty("fetchRetryCount")?l.retries=i.fetchRetryCount:l.retries=r.fetchRetries,i.hasOwnProperty("fetchRetryDelay")?l.retryDelay=i.fetchRetryDelay:l.retryDelay=r.fetchRetryDelay,function(e,t){s.log("fetchRetry");var n=3,i=1e3,r=[];if(t&&t.retries&&(n=t.retries),t&&t.retryDelay&&(i=t.retryDelay),t&&t.retryOn){if(!(t.retryOn instanceof Array))throw{name:"ArgumentError",message:"retryOn property expects an array"};r=t.retryOn}return new Promise((function(a,o){function l(n){var i,l;s.log("wrappedFetch n:",n),void 0!==window.fetch?fetch(e,t).then((function(e){-1===r.indexOf(e.status)?a(e):0<n?c(n):o(e)})).catch((function(e){0<n?c(n):o(e)})):(s.debug("Cannot use fetch in this browser, using XHR"),i=p.get(),l={},t.body&&t.body.forEach((function(e,t){return l[t]=e})),i.request(e,l,t.method,null,t.headers).then((function(e){a({gettype:"cloudApiNoFetch",response:e})})).catch((function(e){s.error("error :",e),o(e)})))}function c(e){s.error("retry n:",e);var t=n-e+1;s.error("retry number is :",t),setTimeout((function(){l(--e)}),i*t)}l(n)}))}(c,l).then((function(e){if("cloudApiNoFetch"===e.gettype)return a(e.response);e.json().then((function(t){var n;if(e.status<200||299<e.status)return n="cloudRequest - response status Code: "+e.status,s.warn(n),n=new g(n,13,e.status,t),o(n);a(t)})).catch((function(t){return s.error("json err :",t),o(new g("cloudRequest - json() Error: "+t.text,0,e.status,{}))}))})).catch((function(e){return s.error("Fetch Error :",e),o(new g("cloudRequest - Fetch Error: "+e.text,13,e.status,e.response))}))}))},e.prototype.cloudFetchMedia=function(e){var t=this;return new Promise((function(n,i){var r={};""!==t.JWTApzToken&&(r={Authorization:"Bearer "+t.JWTApzToken}),fetch(e,{headers:r}).then((function(e){return e.blob()})).then((function(e){n(e)})).catch((function(e){i(e)}))}))},e.prototype.authentication=function(e,t,n){return s.debug("authentication to "+h.cloudUrl),e={username:e,password:t},void 0!==n&&""!==n&&(e.captcha_token=n),this.cloudRequest("/api/v3/authenticate",e,"POST")},e.prototype.getConnectedUserInformation=function(e){return s.debug("getConnectedUserInformation to "+h.cloudUrl),this.cloudRequest("/api/v2/users/me",{},"GET",{bearerToken:e})},e.prototype.getUserProfile=function(e,t,n){return s.debug("getUserProfile to "+h.cloudUrl),"string"!=typeof e||"string"!=typeof t?Promise.reject("wrongArguments"):(e={apiKey:e},this.cloudRequest("/api/v3/users/{userId}/profile".replace("{userId}",t),e,"GET",{bearerToken:n}))},e.prototype.getSiteAgents=function(e,t,n){return void 0===n&&(n={}),s.debug("getSiteAgents to "+h.cloudUrl),"string"!=typeof e||"string"!=typeof t?Promise.reject("wrongArguments"):(e={apiKey:e},n.useAcd&&(e.useAcd=1),n.usePresence&&(e.usePresence=1),n.convId&&(e.convId=n.convId),this.cloudRequest("/api/v2/sites/{siteKey}/agents".replace("{siteKey}",t),e,"GET"))},e.prototype.getEnterpriseInformation=function(e,t){return void 0===e&&(e={}),s.debug("getEnterpriseInformation to "+h.cloudUrl),this.cloudRequest("/api/v3/enterpriseInformation",e,"GET",{bearerToken:t})},e.prototype.getPreferredCCS=function(e){return s.debug("getPreferredCCS to "+h.cloudUrl),this.cloudRequest("/api/v2/preferredCCS",{apiKey:e},"GET")},e.prototype.checkUserToken=function(e){return s.debug("checkUserToken to "+h.cloudUrl),this.cloudRequest("/api/v2/checkToken",{},"GET",{bearerToken:e})},e.prototype.invalidateUserToken=function(e){return s.debug("invalidateUserToken to "+h.cloudUrl),this.cloudRequest("/api/v2/invalidateToken",{},"POST",{bearerToken:e})},e.prototype.uploadFile=function(e,t,n){s.debug("uploadMedia to "+h.cloudUrl);var i={file:e};if(null!=n)for(var r=0,a=Object.keys(n);r<a.length;r++){var o=a[r];i[o]=n[o]}return this.cloudRequest(c,i,"POST",{bearerToken:t})},e.prototype.uploadSnapshot=function(e,t,n){void 0===n&&(n={}),s.debug("uploadSnapshot to "+h.cloudUrl);for(var i={dataUri:1,file:e},r=0,a=Object.keys(n);r<a.length;r++){var o=a[r];i[o]=n[o]}return this.cloudRequest(c,i,"POST",{bearerToken:t})},e.prototype.getEnterpriseUserList=function(e,t){return s.debug("getEnterpriseUserList to "+h.cloudUrl),this.cloudRequest("/api/v2/enterprises/{enterpriseId}/users".replace("{enterpriseId}",e),{json:!0},"GET",{bearerToken:t})},e.prototype.getEnterpriseTagList=function(e,t,n){return void 0===n&&(n={}),s.debug("getEnterpriseTagList to "+h.cloudUrl),n.hasOwnProperty("webconfId")&&n.webconfId,this.cloudRequest("/api/v2/enterprises/{enterpriseId}/tags".replace("{enterpriseId}",e),{},"GET",{bearerToken:t})},e.prototype.updateWebconfTags=function(e,t,n,i){return s.debug("updateWebconfTags to "+h.cloudUrl),n={_method:"PUT",tags:n.join(",")},function(e,t){if(null!==e&&"object"==typeof e||(e={}),f.hasOwnProperty(t))for(var n=f[t],i=0,r=["fetchRetryCount","fetchRetryDelay"];i<r.length;i++){var a=r[i];n.hasOwnProperty(a)&&(e[a]=n[a])}}(i={bearerToken:i},"updateWebconfTags"),this.cloudRequest("/api/enterprises/{enterpriseId}/conferences/{conferenceId}".replace("{enterpriseId}",e).replace("{conferenceId}",t),n,"POST",i)},e.prototype.getConferenceList=function(e){return s.debug("getConferenceList to "+h.cloudUrl),this.cloudRequest(d,{},"GET",{bearerToken:e})},e.prototype.getOrCreateConversation=function(e,t,n){return void 0===n&&(n={}),s.debug("getOrCreateConversation to "+h.cloudUrl),null===e||"object"!=typeof e||"string"!=typeof t?Promise.reject("wrongArguments"):(e={name:e._getTechnicalName(),type:e.getType(),apiKey:t},t={},n.hasOwnProperty("token")&&n.token&&(t.bearerToken=n.token),n.hasOwnProperty("active")&&"boolean"==typeof n.active&&(e.active=1),this.cloudRequest("/api/v2/conversation",e,"POST",t))},e.prototype.createConference=function(e,t,n){return void 0===n&&(n={}),s.debug("createConference to "+h.cloudUrl),t={name:t},n.hasOwnProperty("password")&&(t.password=n.password),this.cloudRequest(d,t,"POST",{bearerToken:e})},e.prototype.checkConferenceAccess=function(e,t,n){var i;return void 0===n&&(n={}),s.debug("checkConferenceAccess for "+e+" to "+h.cloudUrl),"string"!=typeof t?Promise.reject("wrongArguments"):(t={apiKey:t},n.convId&&(t.conv_id=n.convId),n.hasOwnProperty("password")&&(t.password=n.password),i={},n.hasOwnProperty("session")&&"function"==typeof n.session.getToken&&null!==n.session.getToken()&&(i.bearerToken=n.session.getToken()),this.cloudRequest("/api/v2/conferences/{roomname}/checkAccess".replace("{roomname}",e),t,"POST",i))},e.prototype.getWebconf=function(e,t){void 0===t&&(t={}),s.debug("getWebconf for "+e+" to "+h.cloudUrl);var n={};return t.hasOwnProperty("token")&&t.token&&(n.bearerToken=t.token),this.cloudRequest("/api/v2/conferences/{roomname}".replace("{roomname}",e),{},"GET",n)},e.prototype.getWebconfConversation=function(e,t,n){var i;return void 0===n&&(n={}),s.debug("getWebconfConversation for "+e+" to "+h.cloudUrl),"string"!=typeof t?Promise.reject("wrongArguments"):(t={apiKey:t},i={},n.hasOwnProperty("token")&&n.token&&(i.bearerToken=n.token),this.cloudRequest("/api/v2/conferences/{roomname}/conversation".replace("{roomname}",e),t,"GET",i))},e.prototype.updateConferencePresence=function(e,t,n){s.trace("updateConferencePresence for "+e.getName()+" to "+h.cloudUrl),n={ccid:t.getId(),name:t.getUserAgent().getUsername(),instanceId:e.getInstanceId(),apiKey:n};var i={};return null!==t.getToken()&&(i.bearerToken=t.getToken()),this.cloudRequest("/api/v2/conferences/{roomname}/updatePresence".replace("{roomname}",e._getTechnicalName()),n,"POST",i)},e.prototype.closeConferenceInstance=function(e,t){s.debug("closeConferenceInstance for "+e.getName()+" to "+h.cloudUrl);var n={instanceId:e.getInstanceId()};return this.cloudRequest("/api/v2/conferences/{roomname}/closeInstance".replace("{roomname}",e._getTechnicalName()),n,"POST",{bearerToken:t.getToken()})},e.prototype.getConversationMediaList=function(e,t,n){var i;return void 0===n&&(n={}),s.debug("getConversationMediaList for "+e+" to "+h.cloudUrl),e&&"string"==typeof t?(t={apiKey:t},i={},n.hasOwnProperty("token")&&n.token&&(i.bearerToken=n.token),n.hasOwnProperty("offset")&&(t.offset=n.offset),n.hasOwnProperty("limit")&&(t.limit=n.limit),this.cloudRequest(u.replace("{convId}",e.toString()),t,"GET",i)):Promise.reject("wrongArguments")},e.prototype.pushConversationMedia=function(e,t,n,i){return void 0===i&&(i={}),s.debug("pushConversationMedia for "+e+" to "+h.cloudUrl),e&&t&&"string"==typeof n?(t={media:t,apiKey:n},n={},i.hasOwnProperty("token")&&i.token&&(n.bearerToken=i.token),i.hasOwnProperty("metadata")&&i.metadata&&(t.metadata=i.metadata),i.hasOwnProperty("asFile")&&i.asFile&&(t.asFile=i.asFile),i.hasOwnProperty("filename")&&i.filename&&(t.filename=i.filename),!0===i.overwrite&&(t.overwrite=1),"number"==typeof i.ttl&&0<i.ttl&&(t.ttl=i.ttl),this.cloudRequest(u.replace("{convId}",e.toString()),t,"POST",n)):Promise.reject("wrongArguments")},e.prototype.setConversationData=function(e,t,n,i){return void 0===i&&(i={}),s.debug("setConversationData for "+e+" to "+h.cloudUrl),e&&"string"==typeof t&&"string"==typeof n?(t={data:t,apiKey:n},n={},i.hasOwnProperty("token")&&i.token&&(n.bearerToken=i.token),this.cloudRequest("/api/v2/conversation/{convId}/data".replace("{convId}",e.toString()),t,"POST",n)):Promise.reject("wrongArguments")},e.prototype.getSessionHistory=function(e,t,n){void 0===n&&(n={}),s.debug("getSessionHistory to "+h.cloudUrl);var i={sessionId:e};if(null!=n)for(var r=0,a=Object.keys(n);r<a.length;r++){var o=a[r];i[o]=n[o]}return this.cloudRequest("/api/v2/messages",i,"GET",{bearerToken:t})},e.prototype.getWebSession=function(e,t,n){return s.debug("getSessionHistory to "+h.cloudUrl),"string"!=typeof n?Promise.reject("wrongArguments"):(t={destId:t.getId(),apiKey:n},n={},null!==e.getToken()?n.bearerToken=e.getToken():t.userId=e.getId(),this.cloudRequest("/api/v2/webSession",t,"GET",n))},e.prototype.saveNewMessage=function(e,t,n,i,r,a){return s.debug("saveNewMessage to "+h.cloudUrl),r={uuid:r,destId:n,message:i,sessionId:e,userId:t.getId(),apiKey:a},n={},null!==t.getToken()&&(n.bearerToken=t.getToken()),this.cloudRequest("/api/v2/messages",r,"POST",n)},e.prototype.saveGroupChatMessage=function(e,t,n,i,r,a){return void 0===a&&(a={}),s.debug("saveGroupChatMessage to "+h.cloudUrl),n={apiKey:n,message:i,ccid:t.getId(),name:t.getUserAgent().getUsername(),parent_conv_id:e.getCloudConversationId(),uuid:r,htmlEnable:a.metadata&&a.metadata.htmlEnable||!1},i={},void 0!==a.token&&null!==a.token?i.bearerToken=a.token:null!==t.getToken()?i.bearerToken=t.getToken():n.userId=t.getId(),this.cloudRequest("/api/v2/groupChatMessages",n,"POST",i)},e.prototype.loadGroupChatMessages=function(e,t,n){void 0===n&&(n=""),s.debug("loadGroupChatMessages to "+h.cloudUrl),e={parent_conv_id:e.getCloudConversationId()};var i={};return i.bearerToken=""!==n?n:t.getToken(),this.cloudRequest("/api/v2/groupChatMessages",e,"GET",i)},e}(),g=(t.default=p,function(e){function t(t,n,i,r){return(t=e.call(this,t)||this).name=t.constructor.name,t.code=n,t.httpCode=i,t.cloudResponse=r,t}return r(t,e),t}(Error))},128:(e,t,n)=>{"use strict";n.d(t,{_:()=>a}),n(2564);var i=n(1549).Y.get("ApiCCDataClient"),r=apiCC.myWebRTC_Event,a=function(e){this.sendData=function(t,n,r){i.info("Call sending data function .... to :"+t+" message :",n);var a,o,s=e.channel.getNewCSeq(),l=null;return a={type:"dataMessage",senderId:e.apiCCId,dstRoomId:t,data:n,cSeq:s},o=JSON.stringify(a),i.log("C->S: "+o),void 0!==r?(i.log("Ack management activated"),l=setTimeout((function(){r({reason:"timeoutReached",cSeq:s}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[s]}),e.messageTimeOutTimer),i.log("timeOutId: "+l),e.messageTimeOutTable[s]=l,e.channel.socket.emit("dataMessage",o,(function(e){i.log("callback on dataMessage"),i.log("callback reason :"+e.reason),i.log("cSeq :"+e.cSeq),r(e),void 0!==apiCC.session.messageTimeOutTable[s]?(i.log("clearing timeOutId: "+apiCC.session.messageTimeOutTable[s]),clearTimeout(apiCC.session.messageTimeOutTable[s]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[s]):i.warn("messageTimeOutTable was already deleted : timeout may have been reached before Ack")}))):(i.log("Ack management not activated"),e.channel.socket.emit("dataMessage",o)),s},this.sendDataToGroup=function(t,n){i.info("[ApiCCDataClient] sendDataToGroup - "+t);var r,a=e.getConnectedUsersList(t);for(r=0;r<a.length;r++)e.apiCCId!=a[r].userId&&this.sendData(a[r].userId,n)},this.receiveData=function(e){i.info("receiveData :"+e.data),r.createReceiveDataEvent(e.senderId,e.dstRoomId,e.data)}}},6844:(e,t,n)=>{"use strict";n.d(t,{U:()=>l}),n(9554),n(1539),n(4747),n(2564),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var i=n(1549),r=n(4708),a=n(940);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=i.Y.get("ApiCCIMClient"),l=function(e,t){this.convTable=[],this.myWebRTC_Event=apiCC.myWebRTC_Event,this.nickname=e.nickname,this.photoURL=null,this.userDataSetted=!1,this.myWebRTC_Stack=new a.S(e.channel.socket),this.findIMIdWithDestID=function(e){var t,n=this.convTable.length;for(s.log("findIMIdWithDestID = "+e),t=0;t<n;t+=1)if(s.log("this.convTable[i].dest_roomId = "+this.convTable[t].dest_roomId),this.convTable[t].dest_roomId==e)return this.convTable[t].IMId;return s.log("Conversation IMId not found"),0},this.addInConvTable=function(e){s.debug("addInConvTable");var t,n=this.convTable.length;for(t=0;t<n;t+=1)if(s.log("this.convTable[i].dest_roomId = "+this.convTable[t].dest_roomId),this.convTable[t].dest_roomId==e.dest_roomId)return void(this.convTable[t].IMId=e.IMId);s.log("Conversation not found in the table, adding .."),this.convTable.push(e)},this.sendMessage=function(t,n,i,r){s.info("Call sending message function .... from :"+this.nickname+" message :"+n);var a,l=this.findIMIdWithDestID(t),c=null,u=null,d=null,f=e.channel.getNewCSeq();return 0===l?s.log("Creation of a new IM conversation"):s.log("Message is for existing conversation with ID : "+l),s.log("IMConvId :"+l),c={type:"IMMessage",IMId:l,senderId:e.apiCCId,nickname:this.nickname,photoURL:this.photoURL,dstRoomId:t,data:n,cSeq:f,convData:r},e.getConnectedUserIdsList().forEach((function(e){e.userId==t&&e.hasOwnProperty("userData")&&null!==e.userData&&o(e.userData.hasOwnProperty("isChatbot"))&&e.userData.isChatbot&&(c.pubSub="BotConnector")})),a=JSON.stringify(c),u=document.createElement("message"),s.log("C->S: "+a),void 0!==i?(s.log("Ack management activated"),d=setTimeout((function(){i({reason:"timeoutReached",cSeq:f}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[f]}),e.messageTimeOutTimer),s.log("timeOutId: "+d),e.messageTimeOutTable[f]=d,e.channel.socket.emit("IMMessage",a,(function(e){s.log("callback on IMMessage"),s.log("data :",e),s.log("callback reason :"+e.reason),s.log("callback convId :"+e.convId),s.log("cSeq :"+e.cSeq),i(e),void 0!==apiCC.session.messageTimeOutTable[f]?(s.log("clearing timeOutId: "+apiCC.session.messageTimeOutTable[f]),clearTimeout(apiCC.session.messageTimeOutTable[f]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[f]):s.warn("messageTimeOutTable was already deleted : timeout may have been reached before Ack")}))):(s.log("Ack management not activated"),e.channel.socket.emit("IMMessage",a)),null!==this.conversation&&(u.innerHTML="<b>me :</b> "+r+"<br>",this.conversation.appendChild(u),this.conversation.scrollTop=this.conversation.scrollHeight),f},this.newConversationCreated=function(e){s.debug("newConversationCreated :"+e),s.log("msg.dstRoomId :"+e.dstRoomId),s.log("msg.IMId :"+e.IMId);var t={dest_roomId:e.dstRoomId,IMId:e.IMId};this.addInConvTable(t)},this.receiveMessage=function(e){s.info("Call receiveMessage message :"+e);var t,n=null;t={dest_roomId:e.senderId,IMId:e.IMId},this.addInConvTable(t),null!==this.conversation&&((n=document.createElement("message")).innerHTML="<b>"+e.nickname+":</b> "+e.data+"<br>",this.conversation.appendChild(n),this.conversation.scrollTop=this.conversation.scrollHeight),this.myWebRTC_Event.createReceiveIMMessageEvent(e.senderId,e.nickname,e.photoURL,e.data,e.UUCSeq,e.IMId)},this.createGroupChat=function(t,n){var i,r;s.info("createGroupChat with contacts : "+t+","+n),i={type:"createGroupChat",nickname:this.nickname,photoURL:this.photoURL,contactId1:t,contactId2:n},r=JSON.stringify(i),s.log("C->S: "+r),e.channel.socket.emit("createGroupChat",r)},this.groupChatCreation=function(e){s.debug("groupChatCreation"),this.myWebRTC_Event.createGroupChatCreationEvent(e.status,e.groupChatId,e.contactId1,e.invitationSendedToInitialDestId,e.contactId2,e.invitationSendedToNewContactId)},this.joinGroupChat=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.debug("joinGroupChat : "+t);var i,r=null;r={type:"joinGroupChat",groupChatId:t},n.convId&&(r.data={},r.data.cloudConvId=n.convId),i=JSON.stringify(r),s.log("C->S: "+i),e.channel.socket.emit("joinGroupChat",i)},this.groupChatInvitation=function(e){s.debug("groupChatInvitation"),this.myWebRTC_Event.createGroupChatInvitationEvent(e.groupChatId,e.senderId,e.senderNickname,e.senderPhotoURL,e.contactList)},this.answerToGroupChatInvitation=function(t,n){var i,r;s.debug("answerToGroupChatInvitation: "+t+" : "+n),!0===n||!1===n?(i={type:"groupChatInvitationAnswer",groupChatId:t,senderId:e.apiCCId,nickname:this.nickname,photoURL:this.photoURL,accept:n},r=JSON.stringify(i),s.log("C->S: "+r),e.channel.socket.emit("groupChatInvitationAnswer",r)):s.log("accept value is not correct")},this.groupChatMemberUpdate=function(e){s.info("groupChatMemberUpdate"),this.myWebRTC_Event.createGroupChatMemberUpdateEvent(e.groupChatId,e.contactList,e.status)},this.addUserInGroupChat=function(t,n){var i,r;s.debug("addUser : "+n+"in Group Chat with Id :"+t),i={type:"addUserInGroupChat",groupChatId:t,nickname:this.nickname,photoURL:this.photoURL,contactId:n},r=JSON.stringify(i),s.log("C->S: "+r),e.channel.socket.emit("addUserInGroupChat",r)},this.addUserInGroupChatAnswer=function(e){s.info("addUserInGroupChatAnswer"),this.myWebRTC_Event.createAddUserInGroupChatEvent(e.invitationSended,e.groupChatId,e.contactId)},this.leaveGroupChat=function(t){var n,i;s.info("Leave Group Chat with Id :"+t),n={type:"leaveGroupChat",groupChatId:t,nickname:this.nickname,photoURL:this.photoURL},i=JSON.stringify(n),s.log("C->S: "+i),e.channel.socket.emit("leaveGroupChat",i)},this.sendMessageToGroupChat=function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s.info("Call sending message to Group Chat .... from :"+this.nickname+" message :"+n);var o,l=null,c=apiCC.session.channel.getNewCSeq();l={type:"groupChatMessage",groupChatId:t,senderId:e.apiCCId,nickname:this.nickname,cSeq:c,data:n},(0,r.Ym)(a,"metadata","object")&&(l.metadata=a.metadata),o=JSON.stringify(l),null!==i&&"function"==typeof i?(apiCC.session.messageTimeOutTable[c]=setTimeout((function(){i({reason:"timeoutReached",cSeq:c}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[c]}),apiCC.session.messageTimeOutTimer),s.log("C->S: "+o),e.channel.socket.emit("groupChatMessage",o,(function(e){clearTimeout(apiCC.session.messageTimeOutTable[e.cSeq]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[e.cSeq],i(e)}))):(s.log("C->S: "+o),e.channel.socket.emit("groupChatMessage",o))},this.receiveGroupChatMessage=function(e){s.info("receiveGroupChatMessage"),this.myWebRTC_Event.createReceiveGroupChatMessageEvent(e.groupChatId,e.senderId,e.nickname,e.data,e.metadata)},this.getConversationHistory=function(t){var n,i;s.debug("getConversationHistory"),n={type:"getConversationHistory",convId:t},i=JSON.stringify(n),s.log("C->S: "+i),e.channel.socket.emit("getConversationHistory",i)},this.receiveConversationHistory=function(e){s.debug("receiveConversationHistory"),s.log("msg.convId :"+e.convId);var t,n=0,i=[],r=null;if(null!==e.convHistory)for(s.log("msg.convHistory.length :"+e.convHistory.length),n=e.convHistory.length,i=[],t=0;t<n;t+=1)r=JSON.parse(e.convHistory[t]),i.push(r);this.myWebRTC_Event.createReceiveConversationHistoryEvent(e.convId,i,e.status)},this.setUserData=function(t){var n,i;s.info("setUserData"),this.photoURL=t.photoURL,e.photoURL=t.photoURL,s.log("photoURL :"+this.photoURL),n={type:"setUserData",nickname:this.nickname,photoURL:this.photoURL},i=JSON.stringify(n),s.log("C->S: "+i),e.channel.socket.emit("setUserData",i),this.userDataSetted=!0},this.getUserData=function(t){var n,i;s.info("getUserData"),n={type:"getUserData",contactId:t},i=JSON.stringify(n),s.log("C->S: "+i),e.channel.socket.emit("getUserData",i)},this.receiveUserDataAnswer=function(e){s.info("receiveUserDataAnswer"),this.myWebRTC_Event.createUserDataAnswerEvent(e.userFound,e.contactId,e.nickname,e.photoURL)},this.receiveFetchUserDataAnswer=function(e){s.info("receiveFetchUserDataAnswer"),this.myWebRTC_Event.createFetchUserDataAnswerEvent(e)},this.initialize=function(t){var n,i;this.conversation=document.getElementById(t),null===this.conversation&&(s.log("conversationElementId Div Name is not correct : INCORRECT_DIV_NAME_CONVERSATION"),s.log("conversationElementId is null")),n={type:"registerIM",username:this.nickname},i=JSON.stringify(n),s.log("C->S: "+i),e.channel.socket.emit("registerIM",i)},this.initialize(t)}},9213:(e,t,n)=>{"use strict";n.d(t,{X:()=>o}),n(2564),n(2526),n(1817),n(1539);var i=n(1549),r=n(4708),a=i.Y.get("ApiCCPointerSharingClient"),o=function e(t){this.roomTable={},this.getRoomIds=function(){var e=[],t=null;for(t in this.roomTable)e.push(t);return e},this.roomExists=function(e){return this.roomTable.hasOwnProperty(e)},this.roomActive=function(t){return this.roomTable.hasOwnProperty(t)&&this.roomTable[t].state===e.STATE_ACTIVE},this.joinRoom=function(t,n){var i=this;a.info("ApiCCPointerSharingClient::joinRoom()"),(0,r.Ym)(n,"object")||(n={}),(0,r.ki)(n,"success","function")||(n.success=function(){}),(0,r.ki)(n,"failure","function")||(n.failure=function(){}),this.roomTable.hasOwnProperty(t)?n.failure("room already joined",t):(this.roomTable[t]={roomId:t,state:e.STATE_JOINING,joinRoomCallbacks:n},this.roomTable[t].joinRoomTimeoutId=setTimeout((function(){delete i.roomTable[t],n.failure("timeout",t)}),15e3),apiCC.session.roomMgr.joinRoom(t,"pointerSharing"))},this.leaveRoom=function(e){this.roomTable.hasOwnProperty(e)&&delete this.roomTable[e],apiCC.session.roomMgr.leaveRoom(e,"pointerSharing")},this.inviteInRoom=function(e,t,n){a.info("ApiCCPointerSharingClient::inviteInRoom()"),apiCC.session.roomMgr.inviteInRoom(e,t,"pointerSharing",n)},this.sendPointerLocation=function(t,n,i,a,o){var s;return!(!this.roomTable.hasOwnProperty(t)||this.roomTable[t].state!==e.STATE_ACTIVE||(s={type:"pointerLocation",source:n,x:i,y:a},(0,r.Ym)(o,"object")&&(s.data=o),apiCC.session.roomMgr.sendMessageToRoom(t,"pointerSharing",s),0))},this.processMessageRoomJoin=function(t){this.roomTable.hasOwnProperty(t.roomId)&&this.roomTable[t.roomId].state===e.STATE_JOINING&&(clearTimeout(this.roomTable[t.roomId].joinRoomTimeoutId),delete this.roomTable[t.roomId].joinRoomTimeoutId,this.roomTable[t.roomId].state=e.STATE_ACTIVE,this.roomTable[t.roomId].joinRoomCallbacks.success(t.roomId),delete this.roomTable[t.roomId].joinRoomCallbacks)},this.stop=function(){for(var e=this.getRoomIds(),t=e.length;--t>=0;)this.leaveRoom(e[t])}};o.STATE_IDLE=Symbol("idle"),o.STATE_JOINING=Symbol("joining"),o.STATE_ACTIVE=Symbol("active"),o.STATE_ERROR=Symbol("error")},3720:(e,t,n)=>{"use strict";n.d(t,{K:()=>b}),n(1058),n(8309),n(3710),n(1539),n(9714),n(2564),n(9554),n(4747),n(2772),n(561),n(6699),n(2479),n(2707),n(9601),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(8304),n(7042);var i=n(1549),r=i.Y.get("RoomManager"),a=function(e,t){r.debug("RoomManager"),this.myWebRTC_Event=apiCC.myWebRTC_Event,this.createRoom=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.info("RoomManager:createRoom with roomType : "+t);var i={type:"createRoom",roomType:t,nickname:e.nickname,photoURL:e.photoURL};n.convId&&(i.data||(i.data={}),i.data.cloudConvId=n.convId),!0===n.webconf&&(i.data||(i.data={}),i.data.webconf=!0);var a=JSON.stringify(i);r.log("C->S: "+a),e.channel.socket.emit("createRoom",a)},this.roomCreation=function(e){r.info("RoomManager:roomCreation"),this.myWebRTC_Event.createRoomCreationEvent(e.status,e.roomId,e.roomType),t(e)},this.roomJoin=function(e){r.info("RoomManager:roomJoin"),this.myWebRTC_Event.createRoomJoinedEvent(e.status,e.roomId,e.roomType),t(e)},this.inviteInRoom=function(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.info("RoomManager:inviteInRoom with roomType:",i);var s={type:"inviteInRoom",roomId:t,contactId:n,roomType:i,nickname:e.nickname,photoURL:e.photoURL,context:a};o.convId&&(s.data||(s.data={}),s.data.cloudConvId=o.convId),!0===o.webconf&&(s.data||(s.data={}),s.data.webconf=!0);var l=JSON.stringify(s);r.log("C->S: "+l),e.channel.socket.emit("inviteInRoom",l)},this.inviteInRoomStatus=function(e){r.info("inviteInRoomStatus"),t(e)},this.roomInvitation=function(e){r.info("roomInvitation",e);var n={};e.data&&(e.data.cloudConvId&&(n.cloudConvId=e.data.cloudConvId),!0===e.data.webconf&&(n.webconf=!0)),this.myWebRTC_Event.createRoomInvitationEvent(e.roomId,e.senderId,e.senderNickname,e.senderPhotoURL,e.contactList,e.roomType,n),t(e)},this.requestContactListInRoom=function(t){r.info("requestContactListInRoom :"+t);var n={type:"requestContactListInRoom",roomId:t},i=JSON.stringify(n);e.channel.socket.emit("requestContactListInRoom",i)},this.onContactListInRoom=function(e){r.info("onContactListInRoom :"+e),this.myWebRTC_Event.createContactListInRoomEvent(e.roomId,e.contactList,e.roomType),t(e)},this.answerToRoomInvitation=function(t,n,i){if(r.info("answerToRoomInvitation:",t,n),!0===n||!1===n){var a={type:"roomInvitationAnswer",roomId:t,senderId:e.apiCCId,nickname:e.nickname,photoURL:e.photoURL,accept:n,roomType:i},o=JSON.stringify(a);r.log("C->S: "+o),e.channel.socket.emit("roomInvitationAnswer",o)}else r.log("accept value is not correct")},this.roomMemberUpdate=function(e){r.info("roomMemberUpdate"),this.myWebRTC_Event.createRoomMemberUpdateEvent(e.roomId,e.contactList,e.status,e.roomType),t(e)},this.sendMessageToRoom=function(t,n,i){r.info("Call sending message to Room .... from :"+e.apiCCId+" message :"+i);var a={type:"roomMessage",roomId:t,senderId:e.apiCCId,nickname:e.nickname,roomType:n,data:i},o=JSON.stringify(a);r.log("C->S: "+o),e.channel.socket.emit("roomMessage",o)},this.receiveRoomMessage=function(e){r.info("receiveRoomMessage"),this.myWebRTC_Event.createReceiveRoomMessageEvent(e.roomId,e.senderId,e.nickname,e.data,e.roomType),t(e)},this.joinRoom=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.info("Join Room with Id:",t);var a={type:"joinRoom",roomId:t,nickname:e.nickname,photoURL:e.photoURL,roomType:n};i.convId&&(a.data||(a.data={}),a.data.cloudConvId=i.convId),!0===i.webconf&&(a.data||(a.data={}),a.data.webconf=!0);var o=JSON.stringify(a);r.log("C->S: "+o),e.channel.socket.emit("joinRoom",o)},this.leaveRoom=function(t,n){r.info("Leave Room with Id:",t);var i={type:"leaveRoom",roomId:t,nickname:e.nickname,photoURL:e.photoURL,roomType:n},a=JSON.stringify(i);r.log("C->S: "+a),e.channel.socket.emit("leaveRoom",a)}},o=(n(2023),n(1038),n(4916),n(9753),n(8765)),s=n(5945);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c=i.Y.get("ApiCC_Channel"),u=function(e){c.debug("ApiCC_Channel"),this.channelReady=!1,this.socket=null,this.channelId=e.apiCCId,this.myWebRTC_Event=new o.K,this.channelHasBeenDisconnected=!1,this.cSeq=0,this.updatePresenceGroupIsNeeded=!1,this.oldPresenceGroup=null,this.newPresenceGroup=null,this.updateSubscribeToPresenceGroupIsNeeded=!1,this.oldSubscribeToPresenceGroup=null,this.newSubscribeToPresenceGroup=null,this.initialize=function(){c.info("ApiCC_Channel::initialize()"),this.openChannel()},this.getNewCSeq=function(){return this.cSeq=this.cSeq+1,this.cSeq},this.openChannel=function(){var t,n,i,r="",a=null,o=null,l=null,u=null;c.debug("openChannel channelId :"+this.channelId),c.debug("session.apiKey :"+e.apiKey),c.log("session.sessionId :"+e.sessionId),e.xhrPolling=!0,c.log("CCSserver used : "+e.ccsServer),n=void 0!==e.appId?"&appId="+e.appId:"",i=void 0!==e.siteId?"&siteId="+e.siteId:"",void 0!==e.userData&&(c.log("Defined userData : ",e.userData),a=JSON.stringify(e.userData),c.log("stringUserData.length :"+a.length),a.length<=1e3?r="&userData="+encodeURIComponent(a):c.warn("userData length is too long :"+a.length+" .Need to be <= 500")),void 0!==e.presenceGroup&&(c.log("Defined presenceGroup : "+e.presenceGroup),o=JSON.stringify(e.presenceGroup),c.log("stringPresenceGroup.length :"+o.length),o.length<=750?r+="&presenceGroup="+encodeURIComponent(o):c.warn("presenceGroup length is too long :"+o.length+" .Need to be <= 750")),void 0!==e.subscribeToPresenceGroup&&(c.log("Defined subscribeToPresenceGroup : "+e.subscribeToPresenceGroup),l=JSON.stringify(e.subscribeToPresenceGroup),c.log("stringsubscribeToPresenceGroup.length :"+l.length),l.length<=750?r+="&subscribeToPresenceGroup="+encodeURIComponent(l):c.warn("subscribeToPresenceGroup length is too long :"+l.length+" .Need to be <= 750")),void 0!==e.token&&(c.log("Defined token : "+e.token),r+="&token="+e.token),void 0!==e.conversationSpace&&null!==e.conversationSpace&&(c.log("Defined conversationSpace : "+e.conversationSpace),r+="&conversationSpace="+e.conversationSpace),"undefined"==typeof apiRTC_React&&(c.log("ApplicationUUID : "+window.location.hostname),r+="&applicationUUID="+window.location.hostname),r+="&apiLibType=apiRTC_JS",c.log("requestOptions on connect :"+r),c.log("session.ccsServer :"+e.ccsServer),t="?channelId="+this.channelId+"&apiKey="+e.apiKey+"&apiVersion="+apiCC.version+"&apiCCSessionId="+e.apiCCSessionId+"&sessionId="+e.sessionId+n+i+r,u="undefined"!=typeof apiRTC_React?"https":"http:"===window.location.protocol?"http":"https","iOS"!==s.ag.name&&"Android"!==s.ag.name||(c.log(s.ag.name+" detected forcing protocol to https"),u="https"),c.info("CCS Connect, socket url is : "+u+"://"+e.ccsServer+"/"+t),this.ccsConnectionRetryNb=e.ccsConnectionRetryNb,this.ccsConnectionRetryDelay=e.ccsConnectionRetryDelay,this.socket=window.rtcio.connect(u+"://"+e.ccsServer+"/"+t,{forceNew:!0,multiplex:!1,withCredentials:!0,reconnectionAttempts:this.ccsConnectionRetryNb,reconnectionDelay:this.ccsConnectionRetryDelay}),this.socket.on("connect",this.callback(this,"onChannelOpened")).on("connect_error",this.callback(this,"onChannelConnectError")).on("message",this.callbackWithParams(this,"onChannelMessage")).on("disconnect",this.callback(this,"onChannelDisconnect")),this.socket.io.on("error",this.callback(this,"onChannelError")).on("reconnect",this.callback(this,"onChannelReconnect")).on("reconnect_attempt",this.callback(this,"onChannelReconnectAttempt")).on("reconnect_error",this.callback(this,"onChannelReconnectError")).on("reconnect_failed",this.callback(this,"onChannelReconnect_failed"))},this.onWhiteBoardDisconnection=function(){c.info("onWhiteBoardDisconnection"),apiCC.session.closeWhiteBoardClient("NETWORK_DISCONNECTION")},this.onChannelDisconnect=function(e){c.info("onChannelDisconnect");var t=Date();c.debug("date :"+t),apiCC.session.connectedUsersList.splice(0,apiCC.session.connectedUsersList.length),this.myWebRTC_Event.createChannelEvent("onChannelDisconnect",e),this.channelHasBeenDisconnected=!0,null!==apiCC.myApiCCWhiteBoardClient&&(c.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId?(c.log("Disconnection with an ongoing whiteboard"),c.error("Whiteboard disconnectionTimer is set to:",apiCC.myApiCCWhiteBoardClient.disconnectionTimer),apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId=setTimeout(this.callback(this,"onWhiteBoardDisconnection"),apiCC.myApiCCWhiteBoardClient.disconnectionTimer)):c.log("Disconnection without an ongoing whiteboard")),-1!==apiCC.session.JWTApzTokentimeOutId&&clearTimeout(apiCC.session.JWTApzTokentimeOutId)},this.onChannelReconnect_failed=function(){c.info("onChannelReconnect_failed"),this.myWebRTC_Event.createChannelEvent("onChannelReconnect_failed")},this.onChannelReconnect=function(t){c.error("onChannelReconnect",t);var n,i=null,r=0,a=[],o=null,s=null,u=null,d=!1,f=0,h=null,p=null;if(null!==e.conversationSpace&&void 0!==e.conversationSpace?(c.debug("conversationSpace is set :",e.conversationSpace),e.joinConversationSpace(e.conversationSpace)):c.debug("no conversationSpace defined"),void 0!==e.userData&&null!==e.userData&&(c.debug("sending userData :",e.userData),e.setUserData(e.userData,!0)),null!==e.presenceGroup?(c.debug("presenceGroup is set :",e.presenceGroup),e.sendPresenceGroupManagementCommand("join",e.presenceGroup)):c.debug("no presenceGroup defined"),null!==e.subscribeToPresenceGroup?(c.debug("subscribeToPresenceGroup is set :",e.subscribeToPresenceGroup),e.sendPresenceGroupManagementCommand("subscribe",e.subscribeToPresenceGroup)):c.debug("no subscribeToPresenceGroup defined"),null!==apiCC.session.apiCCIMClient?!0===apiCC.session.apiCCIMClient.userDataSetted?(i={photoURL:apiCC.session.apiCCIMClient.photoURL},apiCC.session.apiCCIMClient.setUserData(i)):c.log("apiCC.session.apiCCIMClient.userDataSetted !== true"):c.log("apiCC.session.apiCCIMClient === null"),null!==apiCC.session.apiCCWebRTCClient){if(apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.length>0)for(d=!0,n=0;n<apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.length;n+=1)o={destId:(p=apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable[n]).remoteId,convId:p.userMediaId,callType:p.callType,roomId:p.roomId,data:p.data,meshPublish:!0},a.push(o);if(0!==(r=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length)){for(c.log("Reconnecting with calls ongoing"),n=0;n<r;n+=1)null!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n]&&void 0!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n]?(p=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n],c.debug("call.iceState =",p.iceState),null!==p.data?"publish"!==p.data.type&&"subscribe"!==p.data.type?(c.log("Call is P2P, updating media"),p.updateMediaWithRetryManagement(!0),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o)):(c.log("Call is in an MCU session"),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o)):(c.log("Call is P2P, updating media - no data"),p.updateMediaWithRetryManagement(!0),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o))):c.log("call no more exist");d=!0}else c.log("Reconnecting without calls ongoing");for(var g=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs,m=0;m<g.length;m+=1){c.log("Reconnecting with an ongoing sessionMCU");var v=[];v.push(g[m].roomName),apiCC.session.sendPresenceGroupManagementCommand("join",v),apiCC.session.sendPresenceGroupManagementCommand("subscribe",v)}}if(null!==apiCC.myApiCCWhiteBoardClient&&(0!==apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId&&(c.debug("clearing whiteBoardDisconnectionTimeoutId"),clearTimeout(apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId),apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId=0),c.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId?(c.log("Reconnection with an ongoing whiteboard"),f=apiCC.myApiCCWhiteBoardClient.roomId,d=!0,c.debug("Reconnection , sending request to get most recent whiteboard data"),apiCC.myApiCCWhiteBoardClient.paperSheetId=0,apiCC.myApiCCWhiteBoardClient.drawingId=0,apiCC.myApiCCWhiteBoardClient.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})):c.log("Reconnecting without an ongoing whiteboard")),null!==apiCC.session.apiCCPointerSharingClient&&(h=apiCC.session.apiCCPointerSharingClient.getRoomIds()).length>0&&(d=!0),!0===d){c.log("Sending reconnectContext to CCS"),s={type:"reconnectContext",callList:a,whiteBoardRoomId:f},null!==h&&h.length>0&&(s.pointerSharingRoomIds=h);var b=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs;if(b.length>0){s.updateSession=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.createJoinSessionMessage(null),s.updateSession.type="updateSession",s.updateSessions=[];var y,C=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(b);try{for(C.s();!(y=C.n()).done;){var w=y.value,S=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.createJoinSessionMessage(null,{sessionMCU:w});S.type="updateSession",s.updateSessions.push(S)}}catch(e){C.e(e)}finally{C.f()}}u=JSON.stringify(s),c.log("C->S: "+u),apiCC.session.channel.socket.emit("reconnectContext",u)}a.splice(0,a.length),this.myWebRTC_Event.createChannelEvent("onChannelReconnect",t)},this.onChannelReconnecting=function(e){c.info("onChannelReconnecting",e);var t=Date();c.debug("date :"+t),this.myWebRTC_Event.createChannelEvent("onChannelReconnecting",e)},this.onChannelOpened=function(){c.info("Channel opened"),c.log("this.channelId :"+this.channelId),this.channelReady=!0,!1===this.channelHasBeenDisconnected?e.onChannelOpened():(c.log("onChannelOpened after a disconnection, no change on session"),this.channelHasBeenDisconnected=!1,!1!==e.ApiDBActivated&&void 0!==e.ApiDBActivated&&null!==e.ApiDBActivated&&(c.log("apiDB initialisation"),apiDB.init(e.channel.socket))),!0===this.updatePresenceGroupIsNeeded&&(c.log("Updating presence group"),e.leavePresenceGroup(this.oldPresenceGroup),e.joinPresenceGroup(this.newPresenceGroup)),!0===this.updateSubscribeToPresenceGroupIsNeeded&&(c.log("Updating subscribe to presence group"),e.unsubscribePresenceGroup(this.oldSubscribeToPresenceGroup),e.subscribePresenceGroup(this.newSubscribeToPresenceGroup)),this.myWebRTC_Event.createChannelEvent("onChannelOpened")},this.onChannelMessage=function(t,n){var i,r=null,a=null;try{r=JSON.parse(t)}catch(e){return}(i="checkCallStatus"===r.type||"apiRTCDataMessage"===r.type&&r.data&&["activeSpeaker","stopSpeaking"].indexOf(r.data.type)>=0)||c.info("onChannelMessage S->C: "+t),"IMMessage"===r.type&&(c.log("IMMessage convId :"+r.IMId),a=r.IMId),void 0!==n&&(c.trace("ack on message reception"),c.trace("convId :"+a),n({reason:"ack",convId:a})),e.processSignalingMessage(r,{quiet:i})},this.onChannelConnectError=function(e){c.error("onChannelConnectError :",e.message),this.myWebRTC_Event.createChannelEvent("onChannelConnectError",e),this.checkIfConnectionAttemptNeedToBeStopped(e)},this.onChannelReconnectError=function(e){c.log("onChannelReconnectError :",e.message),this.myWebRTC_Event.createChannelEvent("onChannelReconnectError",e),this.checkIfConnectionAttemptNeedToBeStopped(e)},this.onChannelReconnectAttempt=function(e){c.log("onChannelReconnectAttempt :",e),this.myWebRTC_Event.createChannelEvent("onChannelReconnectAttempt",e),this.onChannelReconnecting(e)},this.onChannelError=function(e){c.error("Channel error :",e.message),this.checkIfConnectionAttemptNeedToBeStopped(e),this.myWebRTC_Event.createChannelEvent("onChannelError",e)},this.checkIfConnectionAttemptNeedToBeStopped=function(e){c.debug("checkIfConnectionAttemptNeedToBeStopped"),("not authorized"===e.message||e.message.includes("access token failure:")||e.message.includes("DISABLED_ENTERPRISE")||e.message.includes("An account is needed")||e.message.includes("ApiRTC update is needed")||e.message.includes("applicationUUID is not authorized"))&&(c.error("Stopping connection attempts"),this.socket.disconnect())},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.callbackWithParams=function(e,t){return this.closureHandler=function(n,i,r){return e[t](n,i,r)},this.closureHandler}},d=n(4708),f=n(940);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),o=new E(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function g(){}var m={};s(m,r,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(M([])));b&&b!==t&&n.call(b,r)&&(m=b);var y=g.prototype=d.prototype=Object.create(m);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,n){function a(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:R}}function R(){return{value:void 0,done:!0}}return f.prototype=g,s(y,"constructor",g),s(g,"constructor",f),f.displayName=s(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},C(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new w(l(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(y),s(y,o,"Generator"),s(y,r,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function g(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}var m=i.Y.get("ApiCCSession"),v=apiCC.myWebRTC_Event,b=function(e){var t=this;this.apiCCId=null,this.apiCCSessionId=apiCC.randomString(22),this.apiKey=null,this.nickname=null,this.photoURL=null,this.apiCCWebRTCClient=null,this.apiCCIMClient=null,this.apiCCDataClient=null,this.apiCCIDSessionStorage=null,this.apiKeySessionStorage=null,this.apiCCIdPersistenceTimeout=5e3,this.channel=null,this.recordActivated=e.recordActivated,this.sessionId=null,this.apiCCPointerSharingClient=null,this.apiCCWhiteBoardClient=null,this.ccsServer=e.ccsServer,this.userData=e.userData,this.apiDBActivated=!0,e.ApiDBActivated=!0,this.webRTCPluginActivated=e.webRTCPluginActivated,this.token=e.token,this.JWTApzToken=null,this.JWTApzTokenRefreshTimer=396e5,this.JWTApzTokentimeOutId=-1,this.conversationSpace=e.conversationSpace,this.tryAudioOnlyAfterUserMediaError=e.tryAudioOnlyAfterUserMediaError,this.deactivateReloadOnCancel=e.deactivateReloadOnCancel,this.connectedUsersList=[],this.messageTimeOutTable=[],this.ccsConnectionRetryNb=e.ccsConnectionRetryNb,this.ccsConnectionRetryDelay=e.ccsConnectionRetryDelay,this.sequentialMessagesStorage={},this.cloudIsSecured=e.cloudIsSecured,void 0!==e.messageTimeOutTimer?this.messageTimeOutTimer=e.messageTimeOutTimer:this.messageTimeOutTimer=1e4,m.log("messageTimeOutTimer set to : "+this.messageTimeOutTimer),void 0!==e.presenceGroup?this.presenceGroup=e.presenceGroup:this.presenceGroup=["default"],void 0!==e.subscribeToPresenceGroup?this.subscribeToPresenceGroup=e.subscribeToPresenceGroup:this.subscribeToPresenceGroup=["default"],this.presenceGroupAddedByApiRTC=[],this.subscribeToPresenceGroupAddedByApiRTC=[],this.remoteAccessInvitation=null,this.isDeviceWebRTCCompliant=function(){return apiCC.isWebRTCCompliant()},this.isDeviceDTLSCompliant=function(){var e=s.E2.getBrowser(),t=parseInt(e.version,10);return!("Chrome"===e.name&&t<44&&(m.log("isDeviceDTLSCompliant FALSE : Chrome V < 44"),1))},void 0===this.userData||null===this.userData?(this.userData={},this.userData.webRtcCompliant=apiCC.webRTCCompliant,this.userData.dtlsCompliant=this.isDeviceDTLSCompliant()):void 0===this.userData.webRtcCompliant||null===this.userData.webRtcCompliant?(this.userData.webRtcCompliant=apiCC.webRTCCompliant,this.userData.dtlsCompliant=this.isDeviceDTLSCompliant()):m.log("userData webRtcCompliant set to :",this.userData.webRtcCompliant),this.userData.osName=s.BF,this.userData.browser=s.Xh,this.userData.deviceType=s.vO,this.userData.deviceVendor=s.Cm,this.userData.browser_version=s.dc,this.userData.browser_major_version=s.PR,this.userData.apiRTCVersion=apiCC.version,this.userData.cpuArchitecture=s.Ne,this.userData.engineName=s.AA,this.userData.engineVersion=s.TI,void 0!==apiRTC.userAgentInstance&&(this.userData.remoteAccessUserSupport=apiRTC.userAgentInstance.getCapabilities().remoteAccessUser),"Android"===s.BF&&"undefined"!=typeof cordova&&(this.userData.platform="Android"),"undefined"!=typeof apiRTC_React&&(this.userData.react=!0);var n=function(){var n,i=(n=p().mark((function n(){var i,r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.Ak)();case 2:return i=n.sent,t.userData.deviceModel=i,n.next=6,(0,s.RX)();case 6:r=n.sent,t.userData.osVersion=r,apiCC.osVersion=r,t.startApiCCSession(e);case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function o(e){g(a,i,r,o,s,"next",e)}function s(e){g(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();function i(e){return e instanceof Array?(m.log("data instanceof Array"),!0):(m.log("data not instanceof Array"),!1)}n(),this.roomManagerEventHandler=function(e){if(m.debug("roomManagerEventHandler, roomId :"+e.roomId+", type :"+e.type+", roomType :"+e.roomType),"whiteBoard"===e.roomType){if(null===apiCC.myApiCCWhiteBoardClient||void 0===apiCC.myApiCCWhiteBoardClient)return void m.log("No whiteBoard created, leaving msg processing");"roomCreation"===e.type&&(m.log("whiteBoard : roomCreation"),apiCC.myApiCCWhiteBoardClient.roomId=e.roomId,apiCC.myApiCCWhiteBoardClient.paperSheetId++,apiCC.myApiCCWhiteBoardClient.drawingId=0,apiCC.myApiCCWhiteBoardClient.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})),"roomInvitation"===e.type&&(m.log("whiteBoard : roomInvitation"),apiCC.myApiCCWhiteBoardClient.roomId=e.roomId),"roomMessage"===e.type&&apiCC.myApiCCWhiteBoardClient.messageProcessing(e.data),"roomJoin"===e.type&&(m.log("whiteBoard : roomJoin"),apiCC.myApiCCWhiteBoardClient.roomJoined=!0,apiCC.myApiCCWhiteBoardClient.roomId=e.roomId)}else"pointerSharing"===e.roomType?apiCC.session.apiCCPointerSharingClient&&"roomJoin"===e.type&&apiCC.session.apiCCPointerSharingClient.processMessageRoomJoin(e):"coBrowsing"===e.roomType?"roomMessage"===e.type&&m.log("coBrowsing : roomMessage :"+e):m.log("roomManagerEventHandler for msg.roomType :"+e.roomType)},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.getSessionStorage=function(e){var t=sessionStorage.getItem(e);if(null===t)return null;try{var n=JSON.parse(t),i=new Date(n.expiresAt);return new Date>=i?(sessionStorage.removeItem(e),null):n.value}catch(e){m.error("Something went wrong when parsing JSON from session storage values")}},this.generateApiCCID=function(){m.debug("apiCCId is not defined by user, checking if apiCCId exist in sessionStorage"),"undefined"==typeof apiRTC_React&&(this.apiCCIDSessionStorage=this.getSessionStorage("apiCCId"),this.apiKeySessionStorage=this.getSessionStorage("apiKey")),null!==this.apiCCIDSessionStorage?(m.log("apiCCId exist in sessionStorage : "+this.apiCCIDSessionStorage),null!==this.apiKeySessionStorage?(m.log("apiKey exist in sessionStorage : "+this.apiKeySessionStorage),this.apiKeySessionStorage===this.apiKey?(m.log("apiKey is the same, keeping apiCCId"),this.apiCCId=this.apiCCIDSessionStorage):(m.log("apiKey is not the same, generating an  apiCCId"),this.apiCCId=Math.floor(1000001*Math.random()).toString(),m.log("Creation of new ApiRTC session with Id : "+this.apiCCId))):this.apiCCId=this.apiCCIDSessionStorage):(m.log(" No apiCCId found on sessionStorage : generating an apiCCId"),this.apiCCId=String(1e5+Math.floor(9e5*Math.random())),m.log("Creation of new ApiRTC session with Id : "+this.apiCCId))},this.getNumericIdFromAlpha=function(e){m.log("getNumericIdFromAlpha new : "+e);var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return m.log("getNumericIdFromAlpha returned value: "+(n>>>0)),n>>>0},this.startApiCCSession=function(e){if(m.debug("startApiCCSession"),this.roomMgr=new a(this,this.callback(this,"roomManagerEventHandler")),!0===e.xhrPolling?this.xhrPolling=!0:this.xhrPolling=!1,void 0!==e.appId&&(this.appId=e.appId),void 0!==e.siteId&&(this.siteId=e.siteId),void 0===e.apiKey)return m.error('Error : Initialisation parameters: "apikey" for session creation is not defined'),null;if(m.log("Session creation with apiKey : "+e.apiKey),m.log("Session creation with apiCCId : "+e.apiCCId),this.apiKey=e.apiKey,void 0===e.onReady&&"undefined"==typeof apiRTC_React)return m.error('Error : Initialisation parameters: "onReady" for session creation is not defined'),null;if(apiCC.addEventListener("sessionReady",e.onReady),"undefined"==typeof apiRTC_React&&(this.sessionId=this.getSessionStorage("sessionId")),void 0===e.apiCCId||""===e.apiCCId||null===e.apiCCId)this.generateApiCCID();else if(m.log("Session creation with apiCCId defined by user : "+e.apiCCId),m.debug("params.idConversionActivated : "+e.idConversionActivated),void 0===e.idConversionActivated||!0===e.idConversionActivated)if((0,d._C)(e.apiCCId))this.apiCCId=e.apiCCId.toString();else{m.log("Converting this Id in a numeric one");var t=this.getNumericIdFromAlpha(e.apiCCId);t+="",m.log("Numeric Id is : "+t),(0,d._C)(t)?(m.warn("Id has been converted to a numeric one"),this.apiCCId=t.toString()):(m.warn("Error : Defined apiCCId :"+e.apiCCId+" is not numeric. ApiCCID is generated"),this.generateApiCCID())}else m.log("String id convertion is deactivated"),this.apiCCId=e.apiCCId.toString();null!==e.apiCCIdPersistenceTimeout&&"number"==typeof e.apiCCIdPersistenceTimeout&&e.apiCCIdPersistenceTimeout>=0&&(this.apiCCIdPersistenceTimeout=e.apiCCIdPersistenceTimeout),null!==this.channel&&(m.log("this.channel is defined"),delete this.channel),this.channel=new u(this),this.channel.initialize(),null!==e.nickname&&void 0!==e.nickname?(m.log("Nickname is defined :"+e.nickname),this.nickname=e.nickname):(m.log("Nickname is not defined, setting to apiCCId value :"+this.apiCCId),this.nickname=this.apiCCId),null!==e.photoURL&&void 0!==e.photoURL?(m.log("photoURL is defined :"+e.photoURL),this.photoURL=e.photoURL):(m.log("photoURL is not defined"),this.photoURL=null)},this.reOpenChannel=function(e,t){m.info("reOpenChannel"),this.apiCCId=e.toString(),this.apiKey=t,void 0!==this.channel.socket&&null!==this.channel.socket&&this.channel.socket.disconnect(),this.channel.channelReady=!1,this.channel.socket=null,this.channel.channelId=this.apiCCId,this.channel.initialize(),null!==this.apiCCWebRTCClient&&null!==this.apiCCWebRTCClient.webRTCClient&&(this.apiCCWebRTCClient.webRTCClient.socket=this.channel.socket)},this.onChannelOpened=function(){m.debug("ApiCCSession onChannelOpened"),!1!==e.ApiDBActivated&&void 0!==e.ApiDBActivated&&null!==e.ApiDBActivated&&(m.log("apiDB initialisation"),apiDB.init(this.channel.socket)),v.createSessionReadyEvent(apiCC.session.apiCCId)},this.createWebRTCClient=function(e){m.debug("createWebRTCClient");var t={};this.apiCCWebRTCClient=new apiCC.ApiCCWebRTCClient(this),apiCC.session.apiCCWebRTCClient.webRTCClient.setGumConfigWithDevicePresent(),t.audioDevicePresent=apiCC.mediaDeviceMgr.audioDevicePresent,t.videoDevicePresent=apiCC.mediaDeviceMgr.videoDevicePresent,apiCC.session.setUserData(t),setTimeout((function(){v.createWebRTCClientCreatedEvent()}));var n=apiCC.getUserMediaStreamIds(),i=n.length;for(m.debug("listing accessToLocalMedia "+i);--i>=0;)if(apiCC.getUserMediaStream(n[i]).accessToLocalMedia()){m.debug("setting accessToLocalMedia to true"),this.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0;break}return this.apiCCWebRTCClient},this.createPointerSharingClient=function(){return null===this.apiCCPointerSharingClient&&(this.apiCCPointerSharingClient=new apiCC.ApiCCPointerSharingClient(this)),this.apiCCPointerSharingClient},this.closePointerSharingClient=function(){null!==this.apiCCPointerSharingClient&&this.apiCCPointerSharingClient instanceof apiCC.ApiCCPointerSharingClient&&(this.apiCCPointerSharingClient.stop(),this.apiCCPointerSharingClient=null)},this.createWhiteBoard=function(e,t,n,i){return m.info("createWhiteBoard"),this.apiCCWhiteBoardClient=apiCC.createWhiteBoard(e,t,n,i),this.apiCCWhiteBoardClient},this.closeWhiteBoardClient=function(e){m.info("closeWhiteBoardClient"),apiCC.closeWhiteBoardClient(e)},this.createIMClient=function(e){return m.debug("createIMClient"),this.apiCCIMClient=new apiCC.ApiCCIMClient(this,e),this.apiCCIMClient},this.createDataClient=function(){return m.info("createDataClient"),this.apiCCDataClient=new apiCC.ApiCCDataClient(this),this.apiCCDataClient},this.updatingQuery=function(e){m.debug("updatingQuery");var t=null,n=null,i=null;return t=(0,d.dD)(e),void 0!==this.userData?(n=JSON.stringify(this.userData),i=encodeURIComponent(n),t.userData=i,(0,d.Wc)(t)):e},this.setUserData=function(e,t){m.debug("setUserData in session :",e);var n,i,r,a=[],o=this.userData;if(void 0!==this.userData){if(this.userData=(0,d.S6)(this.userData,e),m.debug("this.userData :",this.userData),m.debug("actualUserData :",o),m.debug("forceSendData :",t),!0!==t&&JSON.stringify(this.userData)===JSON.stringify(o))return void m.debug("userData is not changed, leaving userData processing")}else this.userData=e;for(n={type:"setUserData",userData:e},i=JSON.stringify(n),m.log("C->S: "+i),this.channel.socket.emit("setUserData",i),m.log("socket.io 1.X : socket.io.opts.query :"+this.channel.socket.io.opts.query),this.channel.socket.io.opts.query=this.updatingQuery(this.channel.socket.io.opts.query),m.log("socket.io 1.X : after update : socket.io.opts.query :"+this.channel.socket.io.opts.query),r=0;r<this.connectedUsersList.length;r+=1)this.apiCCId===this.connectedUsersList[r].userId&&(this.connectedUsersList[r].userData=this.userData,a[0]=this.apiCCId,v.createConnectedUsersListUpdateEvent(this.connectedUsersList[r].group,a,"userDataUpdate","userDataUpdate"))},this.sendPresenceGroupManagementCommand=function(e,t){if(m.debug("sendPresenceGroupManagementCommand :"+e+" for group : "+t),!0===i(t)){var n,r,a,o=t.length;if("unsubscribe"===e)for(a=0;a<o;a+=1)this.removeGroupDataFromConnectedUsersList(t[a]);1!==o||"deactivated"!==t[0]?(n={type:"presenceGroupManagement",command:e,group:t},r=JSON.stringify(n),m.log("C->S: "+r),this.channel.socket.emit("presenceGroupManagement",r)):m.debug("leaving sendPresenceGroupManagementCommand for group deactivated")}else m.error("group parameter value is not correct, need to be a JSON array")},this.sendConversationSpaceCommand=function(e,t){var n,i;m.debug("sendConversationSpaceCommand :"+e+" for conversationSpace : "+t),n={type:"conversationSpaceManagement",command:e,conversationSpace:t},i=JSON.stringify(n),m.log("C->S: "+i),this.channel.socket.emit("conversationSpaceManagement",i)},this.joinPresenceGroup=function(e,t){var n=this;t||((t={}).doneByApiRTC=!1),m.debug("joinPresenceGroup :"+e),!0===i(e)?(this.sendPresenceGroupManagementCommand("join",e),e.forEach((function(e){var i=n.presenceGroupAddedByApiRTC.indexOf(e);-1===n.presenceGroup.indexOf(e)&&(n.presenceGroup.push(e),t.doneByApiRTC&&-1===i&&n.presenceGroupAddedByApiRTC.push(e)),!1===t.doneByApiRTC&&-1!==i&&n.presenceGroupAddedByApiRTC.splice(i,1)}))):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.presenceGroup :"+this.presenceGroup)},this.leavePresenceGroup=function(e,t){var n=this;t||((t={}).doneByApiRTC=!1),m.debug("leavePresenceGroup :"+e),!0===i(e)?e.forEach((function(e){var i=n.presenceGroupAddedByApiRTC.indexOf(e);if(!1===t.doneByApiRTC||!0===t.doneByApiRTC&&-1!==i){var r=n.presenceGroup.indexOf(e);-1!==r&&n.presenceGroup.splice(r,1),n.sendPresenceGroupManagementCommand("leave",[e])}-1!==i&&n.presenceGroupAddedByApiRTC.splice(i,1)})):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.presenceGroup :"+this.presenceGroup)},this.subscribePresenceGroup=function(e,t){var n=this;t||((t={}).doneByApiRTC=!1),m.debug("subscribePresenceGroup :"+e),!0===i(e)?(this.sendPresenceGroupManagementCommand("subscribe",e),e.forEach((function(e){var i=n.subscribeToPresenceGroupAddedByApiRTC.indexOf(e);-1===n.subscribeToPresenceGroup.indexOf(e)&&(n.subscribeToPresenceGroup.push(e),t.doneByApiRTC&&-1===n.subscribeToPresenceGroupAddedByApiRTC.indexOf(e)&&n.subscribeToPresenceGroupAddedByApiRTC.push(e)),!1===t.doneByApiRTC&&-1!==i&&n.subscribeToPresenceGroupAddedByApiRTC.splice(i,1)}))):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.subscribeToPresenceGroup :"+this.subscribeToPresenceGroup)},this.unsubscribePresenceGroup=function(e,t){var n=this;t||((t={}).doneByApiRTC=!1),m.debug("unsubscribePresenceGroup :"+e),!0===i(e)?e.forEach((function(e){var i=n.subscribeToPresenceGroupAddedByApiRTC.indexOf(e);if(!1===t.doneByApiRTC||!0===t.doneByApiRTC&&-1!==i){var r=n.subscribeToPresenceGroup.indexOf(e);-1!==r&&n.subscribeToPresenceGroup.splice(r,1),n.sendPresenceGroupManagementCommand("unsubscribe",[e])}-1!==i&&n.subscribeToPresenceGroupAddedByApiRTC.splice(i,1)})):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.subscribeToPresenceGroup :"+this.subscribeToPresenceGroup)},this.joinConversationSpace=function(e){m.info("joinConversationSpace :"+e),this.sendConversationSpaceCommand("join",e),this.conversationSpace=e},this.leaveConversationSpace=function(e){m.info("leaveConversationSpace :"+e),null!=e&&this.conversationSpace===e?(this.sendConversationSpaceCommand("leave",e),this.conversationSpace=null):m.debug("socket is not in the conversationSpace, we request to leave")},this.subscribeToCloudEvent=function(e,t){this.sendCloudEventsCommand("subscribe",e,t)},this.unsubscribeToCloudEvent=function(e,t){this.sendCloudEventsCommand("unsubscribe",e,t)},this.sendCloudEventsCommand=function(e,t,n){if(["subscribe","unsubscribe"].includes(e))if(t&&"string"==typeof t){if(n){if("object"!==h(n))return void m.error("wrong headers format");for(var i=0,r=Object.values(n);i<r.length;i++){var a=r[i];if(!a||"string"!=typeof a)return void m.error("wrong headers format")}}var o={type:"cloudEvents",command:e,topic:t};n&&(o.headers=n);var s=JSON.stringify(o);m.log("C->S:",s),this.channel.socket.emit("cloudEvents",s)}else m.error("wrong topic format");else m.error("wrong command")},this.getConversationList=function(e){var t,n;m.info("getConversationList request"),n=void 0!==e?{type:"getConversationList",lastConversationNb:e}:{type:"getConversationList",lastConversationNb:50},t=JSON.stringify(n),m.log("C->S: "+t),this.channel.socket.emit("getConversationList",t)},this.receiveConversationListAnswer=function(e){m.info("receiveConversationListAnswer"),m.log("msg.convList.length :"+e.convList.length);var t,n=e.convList.length,i=[],r=null;for(t=0;t<n;t+=1)m.log("i ="+t),r=JSON.parse(e.convList[t]),i.push(r);v.createReceiveConversationListAnswerEvent(i)},this.getContactOccurrencesFromConversationList=function(e){var t,n;m.info("getContactOccurrencesFromConversationList request"),n=void 0!==e?{type:"getContactOccurrencesFromConversationList",lastConversationNb:e}:{type:"getContactOccurrencesFromConversationList",lastConversationNb:50},t=JSON.stringify(n),m.log("C->S: "+t),this.channel.socket.emit("getContactOccurrencesFromConversationList",t)},this.receiveContactOccurrencesFromConversationListAnswer=function(e){m.info("receiveContactOccurrencesFromConversationListAnswer"),m.log("msg.contactOccurrencesTable.length :"+e.contactOccurrencesTable.length),v.createReceiveContactOccurrencesFromConversationListAnswerEvent(e.contactOccurrencesTable)},this.getConversationDetailReport=function(e){var t,n;m.info("getConversationDetailReport for convId :"+e),t={type:"getConversationDetailReport",convId:e},n=JSON.stringify(t),m.log("C->S: "+n),this.channel.socket.emit("getConversationDetailReport",n)},this.receiveConversationDetailReportAnswer=function(e){m.info("receiveConversationDetailReportAnswer"),m.log("msg.CDR :"+e.CDR),v.createReceiveConversationDetailReportAnswerEvent(e.CDR)},this.manageConnectedUsersList=function(e,t,n,i){m.debug("manageConnectedUsersList");var r,a,o,s=!1,l=0,c=!1,u="unset";for(m.trace("manageConnectedUsersList.length :"+e.length),m.trace("this.connectedUsersList.length :"+this.connectedUsersList.length),m.log("state :"+t),m.log("group :"+n),o=0;o<e.length;o+=1)e[o].group=n;if("online"===t)for(m.log("state : online"),r=0;r<e.length;r+=1){if(m.log("msgConnectedUsersListWithStatus  :"+r),s=!1,0===this.connectedUsersList.length){m.log("this.connectedUsersList is empty"),this.connectedUsersList=e,m.log("this.connectedUsersList[0].group :"+this.connectedUsersList[0].group),v.createConnectedUsersListUpdateEvent(n,i,t,"newConnectionState");break}for(a=0;a<this.connectedUsersList.length;a+=1)if(c=!1,e[r].userId===this.connectedUsersList[a].userId&&e[r].group===this.connectedUsersList[a].group){s=!0,JSON.stringify(this.connectedUsersList[a].userData)!==JSON.stringify(e[r].userData)&&(m.log("userData is updated"),this.connectedUsersList[a].userData=e[r].userData,c=!0,u="userDataUpdate"),this.connectedUsersList[a].callState!==e[r].callState&&(m.log("callState is updated"),this.connectedUsersList[a].callState=e[r].callState,c=!0,u="callState"),!0===c&&v.createConnectedUsersListUpdateEvent(n,i,t,u);break}if(!1===s){m.log("Adding user in connectedUsersList :"+e[r].userId),this.connectedUsersList.push(e[r]);var d=[];d[0]=e[r].userId,v.createConnectedUsersListUpdateEvent(n,d,t,"newConnectionState")}}else for(m.log("state : offline"),r=0;r<e.length;r+=1)for(m.log("msgConnectedUsersListWithStatus  :"+r),l=this.connectedUsersList.length,a=0;a<l;a+=1)if(e[r].userId===this.connectedUsersList[a].userId&&e[r].group===this.connectedUsersList[a].group){m.log("Removing user in connectedUsersList :"+e[r].userId),m.log("... in group :"+e[r].group),this.connectedUsersList.splice(a,1),v.createConnectedUsersListUpdateEvent(n,i,t,"newConnectionState");break}},this.removeGroupDataFromConnectedUsersList=function(e){m.debug("removeGroupDataFromConnectedUsersList for group :",e);var t,n=this.connectedUsersList.length,i=[],r=0;for(m.debug("this.connectedUsersList.length :",this.connectedUsersList.length),t=0;t<n;t+=1)m.debug("this.connectedUsersList[j].group :",this.connectedUsersList[t-r].group),m.debug("group :",e),this.connectedUsersList[t-r].group===e&&(m.log("Removing user in connectedUsersList :"+this.connectedUsersList[t-r].userId),i[0]=this.connectedUsersList[t-r].userId,this.connectedUsersList.splice(t-r,1),r+=1,v.createConnectedUsersListUpdateEvent(e,i,"offline","newConnectionState"))},this.getConnectedUsersList=function(e){void 0!==e?m.log("getConnectedUsersList for group : "+e):m.log("getConnectedUsersList : complete users list");var t,n=[];if(null==e)return this.connectedUsersList;for(m.log("filtering list for group : "+e),t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].group===e&&n.push(this.connectedUsersList[t]);return n},this.isClientWebRtcCompliant=function(e){var t,n,i=null,r=null;if(void 0!==e)for(t=this.getConnectedUsersList(),n=0;n<t.length;n++)t[n].userId===e&&null!=(r=t[n].userData)&&void 0!==r.webRtcCompliant&&(i=r.webRtcCompliant);return i},this.isClientDTLSCompliant=function(e){var t,n,i=!0,r=null;if(void 0!==e)for(t=this.getConnectedUsersList(),n=0;n<t.length;n++)t[n].userId===e&&(r=t[n].userData,m.log("userData :",r),null!=r&&void 0!==r.dtlsCompliant&&(i=r.dtlsCompliant));return i},this.getConnectedUserIdsList=function(e){m.info("getConnectedUserIdsList, group :",e);var t,n,i=[],r=!1,a={},o=[];if(void 0!==e?m.log("getConnectedUserIdsList for group : "+e):m.log("getConnectedUserIdsList : complete users list"),null==e)o=JSON.parse(JSON.stringify(this.connectedUsersList));else for(t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].group===e&&o.push(this.connectedUsersList[t]);for(t=0;t<o.length;t+=1){for(r=!1,n=0;n<i.length;n++)if(i[n].userId===o[t].userId){r=!0;break}!1===r&&((a={}).userId=o[t].userId,a.callState=o[t].callState,a.userData=o[t].userData,i.push(a))}return i},this.getGroupsFromConnectedUsersList=function(e){m.info("getGroupsFroConnectedUsersList");var t,n=[],i=!1;for(t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].userId===e&&(m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[t].group)),i=!0,n.push(this.connectedUsersList[t].group));return!0===i?JSON.stringify(n):"User_Not_Found"},this.getConnectedUserInfo=function(e,t){m.info("getConnectedUserInfo"),m.log("getConnectedUserInfo userId :",e),m.log("getConnectedUserInfo infoType :",t);var n,i=null,r=null;switch(t){case"all":for(m.log("all"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n])),i=this.getGroupsFromConnectedUsersList(e),(r=JSON.parse(JSON.stringify(this.connectedUsersList[n]))).groups=i,delete r.group,JSON.stringify(r);break;case"callState":for(m.log("callState"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n].callState)),this.connectedUsersList[n].callState;break;case"userData":for(m.log("userData"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n].userData)),JSON.stringify(this.connectedUsersList[n].userData);break;case"groups":return m.log("groups"),this.getGroupsFromConnectedUsersList(e);default:m.log("infoType not defined switch case : "+t)}return"User_Not_Found"},this.isConnectedUser=function(e){m.info("isConnectedUser");var t,n=!1;for(t=0;t<this.connectedUsersList.length;t+=1)if(m.log(JSON.stringify(this.connectedUsersList[t])),this.connectedUsersList[t].userId===e)return n=!0,m.log("isConnected :"+n),n;return m.log("isConnected :"+n),n},this.displayConnectedUsersList=function(){var e;for(m.debug("displayConnectedUsersList"),e=0;e<this.connectedUsersList.length;e+=1)m.log("User :"+this.connectedUsersList[e].userId+" on group :"+this.connectedUsersList[e].group)},this.updatePresence=function(e){try{m.debug("updatePresence : ",JSON.stringify(e))}catch(e){m.debug(e)}m.log("updatePresence for group :"+e.group),this.manageConnectedUsersList(e.connectedUsersListWithStatus,e.state,e.group,e.connectedUsersList),v.createUpdatePresenceEvent(e.connectedUsersList,e.state,e.connectedUsersListWithStatus)},this.processCloudEventOccurred=function(e){m.debug("processCloudEventOccurred",e),v.createCloudEventOccurredEvent(e.event.type,e.event.target)},this.updateUserStatus=function(e){m.info("updateUserStatus"+e),v.createUpdateUserStatusEvent(e)},this.sendDebugCommand=function(e,t,n){m.info("sendDebugCommand :"+e),new f.S(this.channel.socket).sendDebugCommand("getClientSocketsInfo",t,n)},this.processSignalingMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,r=!1,a=null,o=!1,l=null;if("invite"===e.type)this.apiCCWebRTCClient?(m.log("this.webRTCPluginActivated =",this.webRTCPluginActivated),("IE"===s.Xh||"Safari"===s.Xh&&s.PR<11)&&!0===this.webRTCPluginActivated?(m.log("managing call with WebRTC Plugin"),apiCC.manageWebRTCPlugin((function(){m.log("manageWebRTCPlugin cb on Invite"),apiCC.session.apiCCWebRTCClient.webRTCClient.processInvite(e)}),(function(){m.log("actionOnInstallationNeeded"),m.log("sending bye to be done"),new f.S(apiCC.session.channel.socket).sendBye(e.callId,e.calleeId,e.roomId,e.callerId,"WebRTC_Plugin_Installation_needed",e.data)}))):(m.log("managing call with browser"),this.apiCCWebRTCClient.webRTCClient.processInvite(e))):m.warn("WebRTCClient is not created");else if("200OK"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.process200OK(e):m.warn("WebRTCClient is not created");else if("candidate"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processCandidate(e):m.warn("WebRTCClient is not created");else if("bye"===e.type)this.apiCCWebRTCClient?(m.log("bye message from:"+e.clientId+" for callId : "+e.callId),this.apiCCWebRTCClient.webRTCClient.onRemoteHangup(e.callId,e.clientId,e.roomId,e.reason,e.confId,e.data)):m.warn("WebRTCClient is not created");else if("update"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processUpdate(e):m.warn("WebRTCClient is not created");else if("200update"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.process200Update(e):m.warn("WebRTCClient is not created");else if("newConversationCreated"===e.type)this.apiCCIMClient?this.apiCCIMClient.newConversationCreated(e):m.warn("IMClient is not created");else if("IMMessage"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveMessage(e):m.warn("IMClient is not created");else if("groupChatCreation"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatCreation(e):m.warn("IMClient is not created");else if("groupChatInvitation"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatInvitation(e):m.warn("IMClient is not created");else if("groupChatMemberUpdate"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatMemberUpdate(e):m.warn("IMClient is not created");else if("addUserInGroupChatAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.addUserInGroupChatAnswer(e):m.warn("IMClient is not created");else if("groupChatMessage"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveGroupChatMessage(e):m.warn("IMClient is not created");else if("conversationHistoryAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveConversationHistory(e):m.warn("IMClient is not created");else if("getUserDataAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveUserDataAnswer(e):m.warn("IMClient is not created");else if("fetchUserDataAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveFetchUserDataAnswer(e):m.warn("IMClient is not created");else if("dataMessage"===e.type)this.apiCCDataClient?this.apiCCDataClient.receiveData(e):m.warn("DataClient is not created");else if("dataAck"===e.type)this.apiCCWebRTCClient.webRTCClient.processDataAck(e);else if("dataEndAck"===e.type)this.apiCCWebRTCClient.webRTCClient.processDataEndAck(e);else if("updateVideoQuality"===e.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processUpdateVideoQuality(e.callId,e.profile);else if("apiRTCDataMessage"===e.type)if(t.quiet||m.debug("apiRTCDataMessage:",e),(0,d.Ym)(e.data,"object"))if("joinSessionAnswer"===e.data.type)if(this.apiCCWebRTCClient){var c={roomName:e.data.roomId};(0,d.ki)(e.data,"convId","string")&&(c.convId=e.data.convId),(0,d.ki)(e.data,["data","mode"],"string")&&(c.data={mode:e.data.data.mode}),(0,d.ki)(e.data,["data","transition"],"string")&&"mesh2janus"===e.data.data.transition?this.apiCCWebRTCClient.webRTCClient.MCUClient.changeSessionMode(c,"mesh2janus"):this.apiCCWebRTCClient.webRTCClient.MCUClient.updateSessionAnswer(c,{createSession:!0})}else m.warn("WebRTCClient is not created");else if("slowLink"===e.data.type){if(this.apiCCWebRTCClient){var u={};e.data.advice&&(u.advice=e.data.advice),this.apiCCWebRTCClient.webRTCClient.processSlowLink(e.data.callId,u)}}else if("videoQualityChanged"===e.data.type)v.createVideoQualityChangedEvent(e.data.callId,e.data.roomId,e.data.hint,e.data.profile);else if("distantIceError"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processDistantIceError(e.data);else if("streamTrackChanged"===e.data.type)this.apiCCWebRTCClient&&e.data.hasOwnProperty("mline")&&e.data.hasOwnProperty("muted")&&this.apiCCWebRTCClient.webRTCClient.processStreamTrackMuteChanged(e.data.callId,e.data.mline,e.data.muted);else if("streamTrackStatusChanged"===e.data.type)this.apiCCWebRTCClient&&e.data.hasOwnProperty("mline")&&e.data.hasOwnProperty("change")&&e.data.hasOwnProperty(e.data.change)&&this.apiCCWebRTCClient.webRTCClient.processStreamTrackStatusChanged(e.data.callId,e.data.mline,e.data[e.data.change]);else if("configureEncodings"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processConfigureEncodings(e.data);else if("activeSpeaker"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processAudioAmplitude(e.data,!0);else if("stopSpeaking"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processAudioAmplitude(e.data,!1);else if("updateStream"===e.data.type)this.apiCCWebRTCClient&&e.data.callId&&e.data.mline&&e.data.direction&&this.apiCCWebRTCClient.webRTCClient.processUpdateStream(e.data.callId,e.data.mline,e.data.direction);else if("startRecording"===e.data.type){if(this.apiCCWebRTCClient)if("COMPOSITE"===e.data.callId)this.apiCCWebRTCClient.webRTCClient.MCUClient.startCompositeRecording(e.data.mediaType,e.data.customIdInFilename,e.data.convId,e.data.data);else{for(l=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--l>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[l].callId===e.data.callId){o=!0;break}o?this.apiCCWebRTCClient.webRTCClient.MCUClient.startRecording(e.data.mediaType,e.data.customIdInFilename,e.data.convId,e.data.callId,e.data.data):m.info("cannot start recording (call not found)")}}else if("startStreaming"===e.data.type){if(this.apiCCWebRTCClient){for(l=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--l>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[l].callId===e.data.callId){o=!0;break}o?this.apiCCWebRTCClient.webRTCClient.MCUClient.startStreaming(e.data.service,e.data.server,e.data.streamKey,e.data.callId):m.info("cannot start streaming (call not found)")}}else if("startCallStatsMonitoring"===e.data.type){if(this.apiCCWebRTCClient){for(m.debug("startCallStatsMonitoring",e.data.callId),l=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--l>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[l].callId===e.data.callId){i=this.apiCCWebRTCClient.webRTCClient.callsTable[l];break}i?["chrome","firefox"].indexOf(d.wL.type)>=0?i.csmIntervalId?m.debug("call stats monitoring already started"):i.csmIntervalId=setInterval(i.callback(i,"csmHandler"),i.csmIntervalMs):m.debug("call stats are only supported on chrome and firefox"):m.debug("no such call")}}else"callOrder"===e.data.type?(m.log("callOrder received"),this.apiCCWebRTCClient?(this.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector=e.senderId,n=this.apiCCWebRTCClient.webRTCClient.callWithNumber(e.data.caller,!0,{MCUType:"MCU-Callee",confId:e.data.confId,convId:e.data.convId,remoteMediaStreamId:e.data.mediaStreamId},null),this.apiCCWebRTCClient.webRTCClient.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.data.caller,e.data.caller,n,!1,1,!1,"video",!0,"web","media")):m.warn("WebRTCClient is not created")):"subscribeOrder"===e.data.type?(m.log("subscribeOrder received :",e.data),this.apiCCWebRTCClient?(this.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector=e.senderId,e.data.data.subscribeOrder=!0,(a=[]).push(e.data.stream),this.apiCCWebRTCClient.webRTCClient.MCUClient.subscribeToStreams(a,"VIDEO",e.data.data,null,{noStreamCheck:!0})):m.warn("WebRTCClient is not created")):"distantCallEstablished"===e.data.type?this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processDistantCallEstablished(e.data):"simulcastFeedChanged"===e.data.type?this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processSimulcastFeedChanged(e.data):m.log("msg.data.type is not managed :"+e.data.type);else m.log("msg.data === undefined");else if("conversationListAnswer"===e.type)this.receiveConversationListAnswer(e);else if("contactOccurrencesFromConversationListAnswer"===e.type)this.receiveContactOccurrencesFromConversationListAnswer(e);else if("conversationDetailReport"===e.type)this.receiveConversationDetailReportAnswer(e);else if("updatePresence"===e.type)m.log("updatePresence"),this.updatePresence(e);else if("updateUserStatus"===e.type)m.log("updateUserStatus"),this.updateUserStatus(e);else if("receiveMCUSessionId"===e.type)m.log("receiveMCUSessionId"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionId(e):m.warn("WebRTCClient is not created");else if("joinSessionAnswer"===e.type)m.log("joinSessionAnswer"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionAnswer(e):m.warn("WebRTCClient is not created");else if("updateSessionAnswer"===e.type)m.log("updateSessionAnswer"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.updateSessionAnswer(e,{updateCalls:!0}):m.warn("WebRTCClient is not created");else if("availableStreams"===e.type)this.apiCCWebRTCClient?(m.log("message availableStreams received"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableStream(e.msg,"regular",(function(e,t,n){v.createMCUAvailableStreamEvent([t],e)})):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableReplay"===e.type)this.apiCCWebRTCClient?(m.log("message availableReplay received"),this.apiCCWebRTCClient?(r=this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableReplay(e.msg),v.createMCUAvailableReplayEvent(e.msg,r)):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableComposite"===e.type)this.apiCCWebRTCClient?(m.log("message availableComposite received"),this.apiCCWebRTCClient?(r=this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableStream(e.msg,"composite"),v.createMCUAvailableCompositeEvent(e.msg,r)):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("onRemoveStream"===e.type)this.apiCCWebRTCClient?(m.log("message onRemoveStream received:",e),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.removeMCUStream(e.callId,e.msg.id,e.msg.reason):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableStreamsUpdate"===e.type)this.apiCCWebRTCClient?(m.log("message availableStreamsUpdate received"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.updateAvailableStream(e.msg,"regular",(function(e,t,n,i){v.createMCUAvailableStreamUpdateEvent([t],e)})):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("checkCallStatus"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processCheckCallStatus(e):m.warn("WebRTCClient is not created");else if("MCUSessionInvitation"===e.type)m.log("MCUSessionInvitation"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionInvitation(e):m.warn("WebRTCClient is not created");else if("MCUSessionInvitationToGroupChat"===e.type)m.log("MCUSessionInvitationToGroupChat"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionInvitation(e):m.warn("WebRTCClient is not created");else if("participantEjected"===e.type)m.log("participantEjected"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.participantEjected(e):m.warn("WebRTCClient is not created");else if("recordingStarted"===e.type)m.log("recordingStarted"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStarted(e):m.warn("WebRTCClient is not created");else if("recordingStopped"===e.type)m.log("recordingStopped"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStopped(e):m.warn("WebRTCClient is not created");else if("recordingStreamAvailable"===e.type)m.log("recordingStreamAvailable"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStreamAvailable(e):m.warn("WebRTCClient is not created");else if("streamingStarted"===e.type)m.log("streamingStarted"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.streamingStarted(e):m.warn("WebRTCClient is not created");else if("streamingStopped"===e.type)m.log("streamingStopped"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.streamingStopped(e):m.warn("WebRTCClient is not created");else if("sessionId"===e.type)m.log("sessionId :"+e.sessionId),this.sessionId=e.sessionId,void 0!==e.JWTApzToken&&this.handleJWTApzToken(e.JWTApzToken);else if("JWTTokenRefreshAnswer"===e.type)m.log("JWTTokenRefreshAnswer"),void 0!==e.JWTApzToken&&this.handleJWTApzToken(e.JWTApzToken);else if("roomCreation"===e.type)m.log("roomCreation"),this.roomMgr.roomCreation(e);else if("roomJoin"===e.type)m.log("roomJoined"),this.roomMgr.roomJoin(e);else if("inviteInRoomStatus"===e.type)m.log("inviteInRoomStatus"),this.roomMgr.inviteInRoomStatus(e);else if("contactListInRoom"===e.type)m.log("contactListInRoom"),this.roomMgr.onContactListInRoom(e);else if("roomInvitation"===e.type)m.log("roomInvitation"),this.roomMgr.roomInvitation(e);else if("roomMessage"===e.type)m.log("roomMessage"),this.roomMgr.receiveRoomMessage(e);else if("roomMemberUpdate"===e.type)m.log("roomMemberUpdate"),this.roomMgr.roomMemberUpdate(e);else if("agentReconnect"===e.type){var h=this.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e.callId);null!=h&&h.getUserMediaOnCall()}else"sequence"===e.type?(m.log("Sequential message"),this.handleSequentialMessage(e)):"Ack"===e.type?m.log("Ack received"):"receipt"===e.type?this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processReceipt(e):"error"===e.type?(m.log("error received"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processError(e):v.createErrorEvent(e.errorInfo,e.errorCode,e.callId,e.roomId,null,null,e.convId)):"enterpriseConfig"===e.type?(m.log("enterpriseConfig received"),this.handleEnterpriseConfigMessage(e)):"AIEMessage"===e.type?(m.log("AIEMessage received"),this.handleAIEMessage(e)):"cloudEventOccurred"===e.type?this.processCloudEventOccurred(e):m.log("Error : No type for this message")},this.handleSequentialMessage=function(e){if(void 0!==e.id&&void 0!==e.packetNum&&void 0!==e.totalPacketsNum&&void 0!==e.data){m.debug("Handle sequential message packet "+e.packetNum+"/"+e.totalPacketsNum,e);var n=[];if(void 0!==t.sequentialMessagesStorage[e.id]&&(n=t.sequentialMessagesStorage[e.id]),n.push(e),t.sequentialMessagesStorage[e.id]=n,n.length===e.totalPacketsNum){n.sort((function(e,t){return e.packetNum-t.packetNum}));var i="";n.forEach((function(e){i+=e.data})),delete t.sequentialMessagesStorage[e.id];var r=null;try{r=JSON.parse(i)}catch(e){return void m.error("Error : can't parse sequential message JSON :",e)}if(!r)return void m.error("Error : can't restore sequential message, it's null");m.debug("Restored sequential message :",i),t.processSignalingMessage(r)}}else m.error("Error : sequential message is inconsistent :",e)},this.handleEnterpriseConfigMessage=function(e){var n;if(m.debug("handleEnterpriseConfigMessage :",e),(0,d.ki)(e,"sentry","boolean")&&!0===e.sentry&&(n=void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol&&"https:"!==window.location.protocol?"http":"https",apiCC.loadSentry(apiCC.initApiKey,n)),(0,d.ki)(e,"customJson","string")&&""!==e.customJson)try{m.debug("customJson :",e.customJson),e.customJson=JSON.parse(e.customJson)}catch(e){m.error(e)}if((0,d.ki)(e,"iceServers","string")&&""!==e.iceServers)try{m.debug("iceServers :",e.iceServers),e.iceServers=JSON.parse(e.iceServers),t.apiCCWebRTCClient.setPcConfig(e.iceServers)}catch(e){m.error(e)}(0,d.ki)(e,"logLevel","string")&&""!==e.logLevel&&!isNaN(parseInt(e.logLevel))&&apiRTC.setLogLevel(parseInt(e.logLevel)),(0,d.ki)(e,"ccs","object")&&(t.ccsInfo=Object.assign({},e.ccs))},this.handleAIEMessage=function(e){switch(m.debug("handleAIEMessage :",e),e.detail){case"modelLoaded":if(void 0!==apiCC&&void 0!==e.userMediaStreamId){var t=apiCC.getUserMediaStream(e.userMediaStreamId).mediaFilterManager;for(var n in t.filters)void 0!==t.filters[n]&&null!==t.filters[n].streamAIE&&t.filters[n].streamAIE.modelLoaded(e)}break;case"unknownModelName":m.error("Unknown model name :",e.modelName);break;case"loadModelError":m.error("Error while loading model :",e.info);break;default:m.debug("Unknown detail :",e.detail)}},this.handleJWTApzToken=function(e){m.debug("handleJWTApzToken :",e),t.JWTApzToken=e,!0===t.cloudIsSecured?(m.debug("Setting JWTApzToken on cloudAPI"),apiCC.CloudApi.setJWTApzToken(t.JWTApzToken)):m.debug("JWTApzToken is not set on cloudAPI"),-1!==t.JWTApzTokentimeOutId&&clearTimeout(t.JWTApzTokentimeOutId),t.JWTApzTokentimeOutId=setTimeout((function(){var e=JSON.stringify({type:"JWTTokenRefreshRequest"});m.log("C->S: "+e),apiCC.session.channel.socket.emit("JWTTokenRefreshRequest",e)}),t.JWTApzTokenRefreshTimer)},this.fetchUserData=function(e){var t,n;m.debug("fetchUserData"),t={type:"fetchUserData",id:e.id,apiKey:e.apiKey,timeout:e.timeout},n=JSON.stringify(t),m.log("C->S: "+n),this.channel.socket.emit("fetchUserData",n)}}},7323:(e,t,n)=>{"use strict";n.d(t,{q:()=>X}),n(4363),n(9653),n(3710),n(1539),n(9714),n(561),n(2564),n(4812),n(8309),n(9753),n(9554),n(4747),n(8674),n(7042),n(1038),n(8783),n(4916),n(2526),n(1817),n(2165),n(6992),n(3948);var i=n(1549),r=n(5945),a=n(4708);n(2479),n(9070),n(8304),n(489),n(2419),n(8011);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"applyFilter",value:function(e,t){}},{key:"release",value:function(){}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){var n;return n=(e/=255)<.09804?.001857/.09804*e:e<.2?.05807/.10196*(e-.09804)+.001857:e<.298?.1267/.09804*(e-.2)+.05993:e<.4?.1564/.10196*(e-.298)+.1866:e<.498?.1539/.09804*(e-.4)+.343:e<.6?.1601/.10196*(e-.498)+.4969:e<.698?.1506/.09804*(e-.6)+.657:e<.8?.1325/.10196*(e-.698)+.8076:e<.898?.05753/.09804*(e-.8)+.9401:.002403/.10196*(e-.898)+.9976,255*Math.pow(n,t)}function u(e,t){return 255*Math.pow(e/255,t)}n(9575),n(9743),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(7327);var d=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.width=n,this.height=i,this.length=this.width*this.height}var t,n;return t=e,n=[{key:"mean",value:function(){var e=0,t=0,n=0;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])for(var i=0;i<this.length;i++)e+=Math.pow(this.image.data[4*i+0],2)/(255*this.length),t+=Math.pow(this.image.data[4*i+1],2)/(255*this.length),n+=Math.pow(this.image.data[4*i+2],2)/(255*this.length);else for(var r=0;r<this.length;r++)e+=this.image.data[4*r+0]/this.length,t+=this.image.data[4*r+1]/this.length,n+=this.image.data[4*r+2]/this.length;return[e,t,n]}},{key:"mad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s(this.mean(e),3),n=t[0],i=t[1],r=t[2],a=0,o=0,l=0;if(e)for(var c=0;c<this.length;c++)a+=Math.abs(Math.pow(this.image.data[4*c+0],2)/255-n)/this.length,o+=Math.abs(Math.pow(this.image.data[4*c+1],2)/255-i)/this.length,l+=Math.abs(Math.pow(this.image.data[4*c+2],2)/255-r)/this.length;else for(var u=0;u<this.length;u++)a+=Math.abs(this.image.data[4*u+0]-n)/this.length,o+=Math.abs(this.image.data[4*u+1]-i)/this.length,l+=Math.abs(this.image.data[4*u+2]-r)/this.length;return[a,o,l]}},{key:"std",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s(this.mean(e),3),n=t[0],i=t[1],r=t[2],a=0,o=0,l=0;if(e)for(var c=0;c<this.length;c++)a+=Math.pow(Math.pow(this.image.data[4*c+0],2)/255-n,2)/this.length,o+=Math.pow(Math.pow(this.image.data[4*c+1],2)/255-i,2)/this.length,l+=Math.pow(Math.pow(this.image.data[4*c+2],2)/255-r,2)/this.length;else for(var u=0;u<this.length;u++)a+=Math.pow(this.image.data[4*u+0]-n,2)/this.length,o+=Math.pow(this.image.data[4*u+1]-i,2)/this.length,l+=Math.pow(this.image.data[4*u+2]-r,2)/this.length;return[a=Math.sqrt(a),o=Math.sqrt(o),l=Math.sqrt(l)]}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new OffscreenCanvas(this.width,this.height),n=t.getContext("2d");return t.width=this.width,t.height=this.height,n.putImageData(this.image,0,0),n.filter="blur("+e+"px)",n.drawImage(t,0,0),n.getImageData(0,0,this.width,this.height)}},{key:"threshold",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new ImageData(this.image.data,this.width,this.height),o=0;if(r){var s=o;o=i,i=s}for(var l=0;l<this.length;l++)this.image.data[4*l+0]<e?a.data[4*l+0]=o:a.data[4*l+0]=i,this.image.data[4*l+1]<t?a.data[4*l+1]=o:a.data[4*l+1]=i,this.image.data[4*l+2]<n?a.data[4*l+2]=o:a.data[4*l+2]=i;return a}},{key:"powerFilter",value:function(e){var t=new Uint8ClampedArray(4*this.length);if(1===e)return this.image;for(var n=0;n<this.length;n++)t[4*n+0]=u(this.image.data[4*n+0],e),t[4*n+1]=u(this.image.data[4*n+1],e),t[4*n+2]=u(this.image.data[4*n+2],e),t[4*n+3]=255;return new ImageData(t,this.width,this.height)}},{key:"sigmoidFilter",value:function(e){for(var t=new Uint8ClampedArray(4*this.length),n=0;n<this.length;n++)t[4*n+0]=c(this.image.data[4*n+0],e),t[4*n+1]=c(this.image.data[4*n+1],e),t[4*n+2]=c(this.image.data[4*n+2],e),t[4*n+3]=255;return new ImageData(t,this.width,this.height)}},{key:"weightedSum",value:function(e,t){for(var n=new Uint8ClampedArray(4*this.length),i=0;i<this.length;i++)n[4*i+0]=t*this.image.data[4*i+0]+(1-t)*e.data[4*i+0],n[4*i+1]=t*this.image.data[4*i+1]+(1-t)*e.data[4*i+1],n[4*i+2]=t*this.image.data[4*i+2]+(1-t)*e.data[4*i+2],n[4*i+3]=255;return new ImageData(n,this.width,this.height)}},{key:"weightedSumMask",value:function(e,t){for(var n=new Uint8ClampedArray(4*this.length),i=0;i<this.length;i++){var r=t.data[4*i]/255;n[4*i+0]=r*this.image.data[4*i+0]+(1-r)*e.data[4*i+0],n[4*i+1]=r*this.image.data[4*i+1]+(1-r)*e.data[4*i+1],n[4*i+2]=r*this.image.data[4*i+2]+(1-r)*e.data[4*i+2],n[4*i+3]=255}return new ImageData(n,this.width,this.height)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.blurMask=t,this.smoothBorder=n,this.blurFactor=i,this.smoothingFactor=r,this.maskImage=null,this.net=null}var t,n;return t=e,n=[{key:"loadModel",value:function(){var e=this;return new Promise((function(t,n){bodyPix.load({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:2}).then((function(n){e.net=n,t()}))}))}},{key:"computeMask",value:function(e){var t=this;return new Promise((function(n,i){t.net.segmentPerson(e).then((function(e){t.width=e.width,t.height=e.height,t.length=t.width*t.height;for(var i=new Uint8ClampedArray(4*t.length),r=0;r<t.length;r++){var a=255*e.data[r];i[4*r+0]=a,i[4*r+1]=a,i[4*r+2]=a,i[4*r+3]=255}var o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.width,o.height=t.height;var l=new ImageData(i,t.width,t.height);if(s.putImageData(l,0,0),t.blurMask&&(s.filter="blur("+t.blurFactor+"px)"),s.drawImage(o,0,0,t.width,t.height),t.maskImage=s.getImageData(0,0,t.width,t.height),t.blurMask)if(t.smoothBorder){if(-1!==t.smoothingFactor){var c=new d(t.maskImage,t.width,t.height);t.maskImage=c.sigmoidFilter(t.smoothingFactor)}}else{var u=new d(t.maskImage,t.width,t.height);t.maskImage=u.threshold(40,40,40,255,!1)}n(t.maskImage)}))}))}},{key:"applyTransparency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=this.maskImage);for(var n=new Uint8ClampedArray(e.width*e.height*4),i=0;i<e.width*e.height;i++)n[4*i+0]=e.data[4*i+0],n[4*i+1]=e.data[4*i+1],n[4*i+2]=e.data[4*i+2],n[4*i+3]=t.data[4*i];return new ImageData(n,e.width,e.height)}},{key:"superposeImages",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return null===i&&(i=this.maskImage),new d(t,e.width,e.height).weightedSumMask(n,i)}},{key:"setBackground",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.superposeImages(e,e,t,n)}},{key:"blurBackground",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=new d(e,e.width,e.height).blur(t);return this.setBackground(e,i,n)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),h=i.Y.get("StreamSegmentation"),p=apiCC.myWebRTC_Event,g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.mediaStream=t,this.backgroundMode="none",this.backgroundBlurFactor=10,this.canvasWidth=n,this.canvasHeight=i,this.length=this.canvasWidth*this.canvasHeight,this.userMediaStreamId=r;for(var a=new Uint8ClampedArray(4*this.length),o=0;o<4*this.length;o++)a[o]=255;this.backgroundImage=new ImageData(a,this.canvasWidth,this.canvasHeight),this.backSub=new f(!0,!0,5,-1),this.modelLoaded=!1,this.maskStreamLaunched=!1,this.backgroundSubtractionActivated=!1}var t,n;return t=e,n=[{key:"setBackgroundMode",value:function(e){this.backgroundMode=e}},{key:"setBackgroundImage",value:function(e){this.backgroundImage=e}},{key:"setBackgroundBlurFactor",value:function(e){this.backgroundBlurFactor=e}},{key:"loadModel",value:function(){h.debug("Loading model");var e=this;return new Promise((function(t,n){e.backSub.loadModel().then((function(n){e.modelLoaded=!0,h.debug("Model loaded"),t()}))}))}},{key:"getMaskStream",value:function(){var e=document.createElement("video");e.srcObject=this.mediaStream;var t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.canvasWidth,t.height=this.canvasHeight;var i=document.createElement("canvas"),r=i.getContext("2d");i.width=this.canvasWidth,i.height=this.canvasHeight;var a=this;e.addEventListener("loadeddata",(function(){e.play(),requestAnimationFrame(g),a.modelLoaded?u=!0:a.loadModel().then((function(e){u=!0}))}));for(var o=!0,s=new Uint8ClampedArray(4*this.length),l=0;l<4*this.length;l++)s[l]=255;var c=new ImageData(s,this.canvasWidth,this.canvasHeight);r.putImageData(c,0,0);var u=!1,d=0,f=!0;function g(){n.drawImage(e,0,0,t.width,t.height);var i=n.getImageData(0,0,t.width,t.height);if(a.modelLoaded&&o&&u&&(f||"none"!==a.backgroundMode)){f&&(f=!1);var s=new Date;o=!1,a.backSub.computeMask(i).then((function(e){o=!0,1/((new Date-s)/1e3)<1&&++d>=10&&(u=!1,h.error("The segmentation process cannot be handled"),p.createBackgroundSubstractionStopComputeTimeEvent(a.userMediaStreamId))}))}a.modelLoaded&&null!==a.backSub.maskImage&&u?r.putImageData(a.backSub.maskImage,0,0):r.putImageData(c,0,0),a.continueMaskComputation?requestAnimationFrame(g):(h.debug("Mask computation stoped"),a.continueMaskComputation=!0)}return this.continueMaskComputation=!0,this.maskMediaStream=i.captureStream(),this.maskStreamLaunched=!0,this.maskMediaStream}},{key:"activateBackgroundSubtraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e&&this.setBackgroundMode(e),this.backgroundSubtractionActivated)return this.processedMediaStream;this.maskStreamLaunched||this.getMaskStream();var t=document.createElement("video");t.srcObject=this.mediaStream;var n=document.createElement("video");n.srcObject=this.maskMediaStream;var i=document.createElement("canvas"),r=i.getContext("2d");i.width=this.canvasWidth,i.height=this.canvasHeight;var a=document.createElement("canvas"),o=a.getContext("2d");a.width=this.canvasWidth,a.height=this.canvasHeight,this.continueBackgroundSubtraction=!0;var s=this;function l(){r.drawImage(t,0,0,i.width,i.height);var e=r.getImageData(0,0,i.width,i.height);if("none"===s.backgroundMode)o.putImageData(e,0,0);else{r.drawImage(n,0,0,i.width,i.height);var a=r.getImageData(0,0,i.width,i.height),c=null;switch(s.backgroundMode){case"image":c=s.backSub.setBackground(e,s.backgroundImage,a);break;case"blur":default:c=s.backSub.blurBackground(e,s.backgroundBlurFactor,a);break;case"transparent":c=s.backSub.applyTransparency(e,a)}o.putImageData(c,0,0)}s.continueBackgroundSubtraction?requestAnimationFrame(l):(h.debug("Mask application stoped"),s.continueBackgroundSubtraction=!0)}return t.addEventListener("loadeddata",(function(){t.play(),n.play(),requestAnimationFrame(l)})),this.processedMediaStream=a.captureStream(30),this.backgroundSubtractionActivated=!0,this.processedMediaStream}},{key:"deactivateBackgroundSubtraction",value:function(){this.setBackgroundMode("none"),this.processedMediaStream=this.mediaStream,this.backgroundSubtractionActivated=!1,this.continueBackgroundSubtraction=!1,this.maskMediaStream=null,this.maskStreamLaunched=!1,this.continueMaskComputation=!1}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var y=i.Y.get("OldMediaFilterBackgroundSubtraction"),C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(i);if(r){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).streamSegmentation=null,e.userMediaStreamId=null,e}return t=o,(n=[{key:"applyFilter",value:function(e,t){var n=this;y.debug("Apply filter with descriptor:",t);var i=e.getAudioTracks();i.length>0&&i.forEach((function(t){e.removeTrack(t)}));var r=e.getVideoTracks();if(0===r.length)return Promise.reject("MediaStream has no video tracks");var a=r[0].getSettings();return void 0!==t.options&&void 0!==t.options.userMediaStreamId&&(this.userMediaStreamId=t.options.userMediaStreamId),this.streamSegmentation=new g(e,a.width,a.height,this.userMediaStreamId),this.loadTensorflow().then((function(e){return n.loadTensorflowModel()})).then((function(e){return new Promise((function(e,r){y.debug("Model loading..."),n.streamSegmentation.loadModel().then((function(r){y.debug("Model loaded");var a=null;void 0!==t.options&&void 0!==t.options.backgroundMode&&("image"===t.options.backgroundMode&&t.options.image instanceof ImageData&&n.streamSegmentation.setBackgroundImage(t.options.image),a=t.options.backgroundMode);var o=n.streamSegmentation.activateBackgroundSubtraction(a);i.forEach((function(e){o.addTrack(e)})),e(o)}))}))})).catch((function(e){return Promise.reject(e)}))}},{key:"release",value:function(){this.streamSegmentation.deactivateBackgroundSubtraction(),this.streamSegmentation=null}},{key:"loadTensorflow",value:function(){return y.debug("Tensorflow script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){y.debug("Tensorflow script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){y.warn("Tensorflow loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.2"],"tensorflow",n)}))}},{key:"loadTensorflowModel",value:function(){return y.debug("Tensorflow model script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){y.debug("Tensorflow model script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){y.warn("Tensorflow model loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0"],"tensorflow-model",n)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(o);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function I(e){return(e[2]-e[0])*(e[3]-e[1])}function T(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],o=t[0],s=t[1],l=t[2],c=t[3],u=I([Math.max(n,o),Math.max(i,s),Math.min(r,l),Math.min(a,c)]);return u/(I(e)+I(t)-u)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(3123),n(4723),n(2472),n(6699),n(2023),n(9720),n(9600),n(2707),n(1058);var R=i.Y.get("StreamAIE"),A=apiCC.myWebRTC_Event,k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaStream=t,this.descriptorOptions=n,this.modelName=n.modelName,this.maxBoxes=n.maxBoxes||null,this.scoreThresh=n.scoreThresh||null,this.forceReload=n.forceReload||!1,this.classFilter=this.descriptorOptions.classFilter||"all",this.drawingConfig=this.descriptorOptions.drawingConfig||{},this.userMediaStreamId=n.userMediaStreamId,this.clientId=n.clientId;var i=this.mediaStream.getVideoTracks();0===i.length&&(this.mediaSettings=null),this.mediaSettings=i[0].getSettings(),this.canvasWidth=this.mediaSettings.width||480,this.canvasHeight=this.mediaSettings.height||480,this.length=this.canvasWidth*this.canvasHeight,this.snapshot=!1,this.log=!1,this.minSnapshotPeriod=0,this.memoryTime=0,this.lastAnnotations={yolo:[]},this.lastRawAnnotations={yolo:[]},this.objectDetectionActivated=!1,this.drawAnnotationsBool=!1,this.aieUrl=null,this.token=null,this.loadedModel=null,this.promises=[],this.isReleased=!1,this.resinzingSize=416,this.callId=null}var t,n;return t=e,n=[{key:"activateLogs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.memoryTime=e,this.log=!0}},{key:"stopLogs",value:function(){this.log=!1,this.memoryTime=0}},{key:"activateSnapshots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.snapshot=!0,this.minSnapshotPeriod=e}},{key:"stopSnapshots",value:function(){this.snapshot=!1,this.minSnapshotPeriod=0}},{key:"activateAnnotations",value:function(){this.lastAnnotations={yolo:[]},this.drawAnnotationsBool=!0,this.getAnnotations()}},{key:"stopAnnotations",value:function(){this.drawAnnotationsBool=!1}},{key:"getAnnotations",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.createElement("video");t.srcObject=this.mediaStream;var n=document.createElement("canvas"),i=n.getContext("2d");n.width=this.canvasWidth,n.height=this.canvasHeight;var r=document.createElement("canvas"),a=r.getContext("2d");r.width=this.canvasWidth,r.height=this.canvasHeight;var o=this;t.addEventListener("loadeddata",(function(){t.play(),requestAnimationFrame((function(){g(o.aieUrl,o.token,o.loadedModel)}))}));var s=!0,l={},c=null,u=new Date;function d(e,t,i){var r=function(e,t){for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),a=r.length,o=new Uint8Array(a);a--;)o[a]=r.charCodeAt(a);return new File([o],t,{type:i})}(n.toDataURL("image/jpeg")),a={pipelineCallId:o.getOrCreatePipeline(),file:r,transferType:"plugin",pluginName:"httpPost",pluginData:{url:e,headers:{Authorization:"Token "+t},formData:{file:"$DATA",angled:1,model:i,size:o.resinzingSize}}};apiCC.session.apiCCWebRTCClient.webRTCClient.pushData(null,a,null,{success:function(n){var r=(new Date-c)/1e3,a=1/r;return R.debug("Computation time:",r,"s ,FPS:",a),g(e,t,i),void 0!==n.data.error?R.error("http post error :",n.data.error):void 0===n.data.result?R.error("An error occured when trying to annotate a snapshot"):void function(e){var t=e.result;o.isReleased||(o.lastRawAnnotations=t,void 0!==t.yolo&&f(t),void 0===t.ocr&&void 0===t.codes||function(e){o.lastAnnotations={ocr:e.ocr,codes:e.codes};var t="";if(e.ocr.length>1){t+="Words found : ";for(var n=0;n<e.ocr.length;n++)t=t+e.ocr[n].text+", "}if(e.codes.length>1){t+="Codes found : ";for(var i=0;i<e.codes.length;i++)t=t+e.codes[i].code+", "}h(t),p()}(t))}(n.data)},failure:function(e,t,n){R.error("## pushData:failure",t,n,e)}})}function f(t){t.yolo.length>0&&(e&&(t=function(e,t){var n,i=e.yolo,r={yolo:[]},a=w(t.yolo);try{for(a.s();!(n=a.n()).done;){var o,s=n.value,l=s.class,c=s.bounding_box,u=s.objectness,d=u,f=w(i);try{for(f.s();!(o=f.n()).done;){var h=o.value;if(h.class===l){var p=T(h.bounding_box,c);p>0&&(d=u+.75*(1-u)*p*h.objectness)}}}catch(e){f.e(e)}finally{f.f()}var g={class:l,objectness:d,bounding_box:c};r.yolo.push(g)}}catch(e){a.e(e)}finally{a.f()}return r}(o.lastRawAnnotations,t)),null!==o.scoreThresh&&(t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.yolo,a={yolo:[]},o=w(r);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.objectness>n)if(null!==i){var l,c=s.bounding_box,u=I(c),d=0,f=null,h=0,p=w(r);try{for(p.s();!(l=p.n()).done;){var g=l.value,m=T(c,g.bounding_box);1!==m&&m>d&&(d=m,f=g,h=I(g.bounding_box))}}catch(e){p.e(e)}finally{p.f()}(null===f||d<i||h<u)&&a.yolo.push(s)}else a.yolo.push(s)}}catch(e){o.e(e)}finally{o.f()}return a}(t,o.scoreThresh)));for(var n={yolo:[]},i={},r=o.classFilter.split(", "),a=0;a<t.yolo.length;a++){var s=t.yolo[a];("all"===o.classFilter||r.includes(s.class))&&(s.class in i||(i[s.class]=0),i[s.class]+=1,n.yolo.push(s))}if(t=n,o.lastAnnotations=t,o.log||o.snapshot){for(var c=new Date,u=[],d=0,f=Object.entries(i);d<f.length;d++){var g=E(f[d],2),m=g[0],v=g[1];u.push(v+" "+m+"(s) detected."),(!(m in l)||c-l[m]>1e3*o.memoryTime)&&(l[m]=c)}var b=u.sort().join(" ");""!==b&&(h(b),p())}}function h(e){o.log&&A.createAIELogEvent(o.userMediaStreamId,e)}function p(){if(o.snapshot){var e=new Date,t=i.getImageData(0,0,n.width,n.height);if(e-u>1e3*o.minSnapshotPeriod){a.putImageData(t,0,0),o.drawAnnotations(o.lastAnnotations,a,o.drawingConfig);var s=r.toDataURL("image/png"),l=new Image;l.src=s,A.createAIESnapshotEvent(o.userMediaStreamId,l),u=e}}}function g(e,r,a){i.drawImage(t,0,0,n.width,n.height),(s||o.drawAnnotationsBool)&&(s&&(s=!1),c=new Date,d(e,r,a))}}},{key:"getOrCreatePipeline",value:function(){if(null!==this.callId)return this.callId;var e=this;return this.callId=apiCC.session.apiCCWebRTCClient.webRTCClient.pushData(null,{transferType:"pipeline"},null,{failure:function(t){"dataChannelClosed"===t?(R.debug("dataChannelClosed : no activity on dataChannel timeout"),e.callId=null):R.error("dataChannel failure",t)}}),this.callId}},{key:"drawAnnotations",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.color||"#ED5131",r=n.textColor||"#FFFFFF",a=n.colorMap||null,o=Object.prototype.hasOwnProperty.call(n,o)?n.lineWidth:3,s=n.font||"15px Arial";if(void 0!==e.yolo&&e.yolo.length>0)for(var l=0;l<e.yolo.length;l++){var c=e.yolo[l],u=c.bounding_box,d=u[0],f=u[1],h=u[2],p=u[3];"mask_augmented_refined"===this.modelName&&(h-=d,p-=f);var g=i;null!==a&&c.class in a&&(g=a[c.class]),t.lineWidth=o,t.strokeStyle=g,t.strokeRect(d,f,h,p),t.font=s;var m=parseInt(s,10),v=c.class,b=t.measureText(v).width;t.fillStyle=g,t.fillRect(d-o/2,f-Math.round(4*m/3),b+m+o,Math.round(4*m/3)),t.fillStyle=r,t.fillText(v,d+Math.round(m/2)-o/2,f-Math.round(m/2))}if(void 0!==e.ocr&&e.ocr.length>0){s=n.font||"25px Arial";for(var y=0;y<e.ocr.length;y++){var C=e.ocr[y],w=C.bounding_box,S=w[0],I=w[1],T=w[2],E=w[3];"mask_augmented_refined"===this.modelName&&(T-=S,E-=I),t.lineWidth=o,t.strokeStyle=i,t.strokeRect(S,I,T,E),t.font=s;var M=parseInt(s,10),R=C.text,A=t.measureText(R).width;t.fillStyle=i,t.fillRect(S-o/2,I-Math.round(4*M/3),A+M+o,Math.round(4*M/3)),t.fillStyle=r,t.fillText(R,S+Math.round(M/2)-o/2,I-Math.round(M/2))}}if(void 0!==e.codes&&e.codes.length>0){s=n.font||"25px Arial";for(var k=0;k<e.codes.length;k++){var x=e.codes[k],D=x.bounding_box,O=D[0],L=D[1],_=D[2],N=D[3];"mask_augmented_refined"===this.modelName&&(_-=O,N-=L),t.lineWidth=o,t.strokeStyle=i,t.strokeRect(O,L,_,N),t.font=s;var j=parseInt(s,10),P=x.code,U=t.measureText(P).width;t.fillStyle=i,t.fillRect(O-o/2,L-Math.round(4*j/3),U+j+o,Math.round(4*j/3)),t.fillStyle=r,t.fillText(P,O+Math.round(j/2)-o/2,L-Math.round(j/2))}}}},{key:"activateObjectDetection",value:function(){if(this.objectDetectionActivated)return this.processedMediaStream;var e=document.createElement("video");e.srcObject=this.mediaStream;var t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.canvasWidth,t.height=this.canvasHeight;var i=document.createElement("canvas"),r=i.getContext("2d");i.width=this.canvasWidth,i.height=this.canvasHeight;var a=this;function o(){n.drawImage(e,0,0,t.width,t.height);var i=n.getImageData(0,0,t.width,t.height);r.putImageData(i,0,0),a.drawAnnotationsBool&&a.drawAnnotations(a.lastAnnotations,r,a.drawingConfig),requestAnimationFrame(o)}return e.addEventListener("loadeddata",(function(){e.play(),requestAnimationFrame(o)})),this.processedMediaStream=i.captureStream(),this.objectDetectionActivated=!0,this.processedMediaStream}},{key:"loadModel",value:function(){var e=this;return new Promise((function(t,n){R.debug("loading model");var i={modelName:e.modelName,maxBoxes:e.maxBoxes,scoreThresh:e.scoreThresh,forceReload:e.forceReload};e.sendMessage(i,"AIELoadModel",t,n)}))}},{key:"sendMessage",value:function(e,t,n,i){var r=setTimeout(i,5e3);this.promises.push({timeout:r,resolve:n}),e.timeout=r,this.sendMessageToCCS(e,t)}},{key:"sendMessageToCCS",value:function(e,t){if(e.userMediaStreamId=this.userMediaStreamId,e.clientId=this.clientId,e.data={pubSub:"AieConnector"},e.type=t,void 0!==apiCC){var n=apiCC.session.apiCCWebRTCClient.webRTCClient.socket;try{var i=JSON.stringify(e);n.emit(t,i)}catch(e){R.error("JSON Stringify error : ",e)}}}},{key:"modelLoaded",value:function(e){R.debug("Loaded model name :",e.modelName),this.aieUrl=e.url,this.loadedModel=e.modelName,this.token=e.token;var t=this.activateObjectDetection();this.promises.forEach((function(n){e.timeout===n.timeout&&(clearTimeout(n.timeout),n.resolve(t))}))}},{key:"release",value:function(){this.isReleased=!0,this.stopLogs(),this.stopSnapshots(),this.stopAnnotations(),this.sendMessageToCCS({},"AIELogout")}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var L=i.Y.get("MediaFilterAIE"),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(i);if(r){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).userMediaStreamId=null,e.streamAIE=null,e}return t=o,(n=[{key:"applyFilter",value:function(e,t){var n=this;return new Promise((function(i,r){if(L.debug("Apply filter with descriptor :",t),void 0===t.options&&r("Filter options object required"),void 0===t.options.modelName)r("modelName options required");else{var a=e.getAudioTracks();a.length>0&&a.forEach((function(t){e.removeTrack(t)})),n.streamAIE=new k(e,t.options),n.streamAIE.loadModel().then((function(e){a.forEach((function(t){e.addTrack(t)})),i(e)})).catch((function(e){r(e)}))}}))}},{key:"release",value:function(){this.streamAIE.release()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(o);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var U=i.Y.get("MediaFilterBackgroundSubstraction"),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(i);if(r){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).mediaStream=null,e.mediaStreamSettings=null,e.processedMediaStream=null,e.net=null,e.lossRatio=null,e.processBackground=!1,e.bgImageData=null,e.videoElement=document.createElement("video"),e.canvas=document.createElement("canvas"),e.canvasContext=e.canvas.getContext("2d"),e}return t=o,(n=[{key:"applyFilter",value:function(e,t){var n=this;return new Promise((function(i,r){var a=e.getAudioTracks();a.length>0&&a.forEach((function(t){e.removeTrack(t)})),n.loadTensorflow().then((function(){n.loadTensorflowModel().then((function(){n.videoElement.srcObject=e;var r=n;n.videoElement.addEventListener("loadeddata",(function(){r.videoElement.play(),r.mediaStream=e,r.descriptors=t,r.processedMediaStream=r.canvas.captureStream(),r.mediaStreamSettings=r.mediaStream.getVideoTracks()[0].getSettings(),r.videoElement.height=240,r.lossRatio=r.mediaStreamSettings.height/r.videoElement.height,r.videoElement.width=r.videoElement.height*r.mediaStreamSettings.aspectRatio,r.videoElement.onplaying=function(){r.canvas.height=r.videoElement.videoHeight,r.canvas.width=r.videoElement.videoWidth},r.loadBodyPix().then((function(){a.forEach((function(e){r.processedMediaStream.addTrack(e)})),i(r.processedMediaStream)})).catch((function(e){U.error(e)}))}))})).catch((function(e){U.error(e)}))})).catch((function(e){U.error(e)}))}))}},{key:"loadTensorflow",value:function(){return U.debug("Tensorflow script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){U.debug("Tensorflow script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){U.warn("Tensorflow loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.2"],"tensorflow",n)}))}},{key:"loadTensorflowModel",value:function(){return U.debug("Tensorflow model script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){U.debug("Tensorflow model script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){U.warn("Tensorflow model loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0"],"tensorflow-model",n)}))}},{key:"loadBodyPix",value:function(){var e=this;return new Promise((function(t,n){bodyPix.load({multiplier:.75,stride:32,quantBytes:4}).then((function(n){e.net=n,e.perform(),t()})).catch((function(e){return n(e)}))}))}},{key:"perform",value:function(){if(void 0!==this.descriptors.options&&void 0!==this.descriptors.options.backgroundMode)switch(this.processBackground=!0,this.descriptors.options.backgroundMode){case"blur":U.warn("This method is deprecated, please use Stream#blur method now."),this.videoElement.height=this.mediaStreamSettings.height,this.videoElement.width=this.mediaStreamSettings.width,this.canvas.height=this.videoElement.height,this.canvas.width=this.videoElement.width,this.blurBackground();break;case"transparent":this.noBackground();break;case"image":void 0!==this.descriptors.options.image?(this.resizeImageData(this.descriptors.options.image),this.imageBackground()):U.error("image option is required when creating the filter");break;default:U.debug("The backgroundMode : ",this.descriptors.options.backgroundMode," is not implemented. Refer to documentation for accepted values."),this.blurBackground()}else U.error("backgroundMode option is required")}},{key:"blurBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.blurBackground(),bodyPix.drawBokehEffect(e.canvas,e.videoElement,t,9,2,!1)}))}},{key:"noBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.drawImage(e.videoElement,0,0,e.videoElement.width,e.videoElement.height);for(var n=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height),i=n.data,r=0;r<i.length;r+=4)0===t.data[r/4]&&(i[r+3]=0);var a=e.scaleImageData(n,e.lossRatio);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(a,0,0),e.processBackground&&e.noBackground()}))}},{key:"imageBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.putImageData(e.bgImageData,0,0,0,0,e.videoElement.width,e.videoElement.height);var n=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height);e.canvasContext.drawImage(e.videoElement,0,0,e.videoElement.width,e.videoElement.height);for(var i=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height),r=i.data,a=0;a<r.length;a+=4)0===t.data[a/4]&&(r[a]=n.data[a],r[a+1]=n.data[a+1],r[a+2]=n.data[a+2],r[a+3]=n.data[a+3]);var o=e.scaleImageData(i,e.lossRatio);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(o,0,0),e.processBackground&&e.imageBackground()}))}},{key:"resizeImageData",value:function(e){var t=this.videoElement.width/e.width,n=this.videoElement.height/e.height;this.bgImageData=t>=n?this.scaleImageData(e,t):this.scaleImageData(e,n)}},{key:"noBackgroundWithFullResolution",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.drawImage(e.videoElement,0,0,e.canvas.width,e.canvas.height);for(var n=e.canvasContext.getImageData(0,0,e.canvas.width,e.canvas.height),i=new Uint8ClampedArray(4*t.width*t.height),r=0;r<i.length;r+=4)0!==t.data[r/4]&&(i[r+3]=255);var a=new ImageData(i,t.width,t.height);a=e.scaleImageData(a,e.lossRatio);for(var o=0;o<n.data.length;o+=4)0===a.data[o+3]&&(n.data[o+3]=0);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(n,0,0),e.processBackground&&e.noBackgroundWithFullResolution()}))}},{key:"scaleImageData",value:function(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0);var i=document.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height;var r=i.getContext("2d");return r.scale(t,t),r.drawImage(n,0,0),r.getImageData(0,0,i.width,i.height)}},{key:"release",value:function(){this.processedMediaStream=this.mediaStream,this.processBackground=!1}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(o),B=i.Y.get("MediaFilterManager"),z=apiCC.myWebRTC_Event,W={oldBackgroundSubtraction:C,AIEFilter:_,backgroundSubtraction:F},V=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaStream=t,this.descriptors=n,this.userMediaStreamId=i,this.filters={}}var t,n;return t=e,(n=[{key:"getOrCreateFilter",value:function(e){if(void 0!==this.filters[e.type])return this.filters[e.type];var t=W[e.type];if(void 0===t)return B.error("Unknown filter type: "+e.type),null;var n=new t;return this.filters[n]=n,n}},{key:"applyFilters",value:function(){var e=this;if(B.info("Apply filters",this.descriptors),!Array.isArray(this.descriptors)||0===this.descriptors.length)return B.error("No filter can be applied, filter descriptors have wrong format, it should be an array and contain at least one element",this.descriptors),Promise.reject(this.mediaStream);var t=Promise.resolve(this.mediaStream);return this.descriptors.forEach((function(n){var i=e.getOrCreateFilter(n);null!==i?(void 0!==n.options&&(n.options.userMediaStreamId=e.userMediaStreamId,n.options.clientId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId),t=t.then((function(e){return i.applyFilter(e,n)}))):B.error("Filter "+n.type+" will be skipped. No implemented filter has this type")})),B.info("Filters attached"),document.addEventListener("visibilitychange",(function(){e.createBackgroundSubstractionStopVisibilityChangeEvent(e.userMediaStreamId)})),t.catch((function(e){return B.error(e)})),t}},{key:"createBackgroundSubstractionStopVisibilityChangeEvent",value:function(e){document.hidden&&z.createBackgroundSubstractionStopVisibilityChangeEvent(e)}},{key:"release",value:function(){Object.values(this.filters).forEach((function(e){e.release()})),document.removeEventListener("visibilitychange",this.createBackgroundSubstractionStopVisibilityChangeEvent),this.filters=null,this.mediaStream=null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J=i.Y.get("ApiCCUserMediaStream"),Q=apiCC.myWebRTC_Event,q="getUserMediaAccessAllowed",X=function(){void 0!==Number.MAX_SAFE_INTEGER?this.userMediaStreamId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():this.userMediaStreamId=Math.floor(1000001*Math.random()).toString(),"Edge"===r.Xh&&r.PR>=15&&"chrome"!==apiRTC.browserDetails.type?this.gum_config={audio:!0,video:!0}:"Chrome"===r.Xh&&r.PR<49||"Firefox"===r.Xh&&r.PR<50?this.gum_config={audio:{mandatory:{},optional:[]},video:{mandatory:{},optional:[]}}:this.gum_config={audio:{},video:{}},this.inputs={},this.callbacks={},this.callType=null,this.audio=!1,this.audioDeviceLabel=null,this.audioMuted=!1,this.audioSilent=!1,this.video=!1,this.videoDeviceLabel=null,this.videoMuted=!1,this.videoSilent=!1,this.stream=null,this.streamStolen=!1,this.notifyUserMediaSuccess=!0,this.notifyUserMediaStop=!0,null!==apiCC.session&&void 0!==apiCC.session?this.tryAudioOnlyAfterUserMediaError=apiCC.session.tryAudioOnlyAfterUserMediaError:this.tryAudioOnlyAfterUserMediaError=!1,this.callInfoList=[],this.iOSMediaSelectionWorkAroundApplied=!1,this.getUserMediaTimeoutId=null,"chrome"===a.wL.type&&a.wL.version>=72&&a.wL.version<=73?this.displayMediaStreamConstraints={video:!0,audio:!1}:this.displayMediaStreamConstraints={video:!0,audio:!0},this.forceExtensionOnChrome=!1,this.filters=null,this.mediaFilterManager=null,this.videoSettings=!1,this.getVideoTrack=function(){if(!this.stream||"function"!=typeof this.stream.getVideoTracks)return null;var e=this.stream.getVideoTracks();return e&&1===e.length?e[0]:null},this.release=function(){var e=0,t=null,n=null,i=null;if(J.debug("[ApiCCUserMediaStream] release; userMediaStreamId: "+this.userMediaStreamId),null!==this.mediaFilterManager&&(this.mediaFilterManager.release(),this.mediaFilterManager=null),apiCC.audioProcessor.stopAudioNodeCtx(this.nodeCtx),void 0!==apiRTC.userAgentInstance&&null!==apiRTC.userAgentInstance&&void 0!==apiRTC.userAgentInstance.apiRTCStreamsList&&null!==apiRTC.userAgentInstance.apiRTCStreamsList&&apiRTC.userAgentInstance.apiRTCStreamsList.delete(Number(this.userMediaStreamId)),null!==this.stream){if(!0!==this.streamStolen)if("undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)void 0!==cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc&&(J.debug("[ApiCCUserMediaStream] release on iosrtc cordova"),this.stream.onended=null);else if("Chrome"===r.Xh&&r.PR<45||"Firefox"===r.Xh&&r.PR<44||"Opera"===r.Xh&&r.PR<34||"Chromium"===r.Xh&&r.PR<44||"Chrome WebView"===r.Xh&&r.PR<45)this.stream.onended=null,this.stream.stop();else for(this.stream.onended=null,e=(t=this.stream.getTracks()).length;--e>=0;)t[e].onended=null,t[e].stop();this.stream=null,this.streamStolen=!1,!0===this.notifyUserMediaStop&&(null!==(i=this.getOwnerCallInfo())&&(n=i.callId),Q.createUserMediaStopEvent(n,this.callType,this.userMediaStreamId)),this.callbacks.release(this)}},this.getUserMedia=function(){var e=this;if(J.debug("[ApiCCUserMediaStream] getUserMedia; userMediaStreamId: "+this.userMediaStreamId),null===this.stream)try{if("media"===this.callType)this.gum_config=apiCC.setAudioSourceIdInConstraint(this.inputs.audioSourceId,this.gum_config),this.gum_config=apiCC.setVideoSourceIdInConstraint(this.inputs.videoSourceId,this.gum_config),this.gum_config=apiCC.setVideoFacingModeInConstraint(this.inputs.facingMode,this.gum_config);else if("audio"===this.callType)this.gum_config=apiCC.setAudioSourceIdInConstraint(this.inputs.audioSourceId,this.gum_config),this.gum_config.video=!1;else{if("videoOnly"!==this.callType)return function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),void setTimeout(this.callbacks.failure.bind(this,this,"wrong type"));this.gum_config.audio=!1,this.gum_config=apiCC.setVideoSourceIdInConstraint(this.inputs.videoSourceId,this.gum_config),this.gum_config=apiCC.setVideoFacingModeInConstraint(this.inputs.facingMode,this.gum_config)}apiCC.checkConstraintDependingOnDevice(this.gum_config),"IE"===r.Xh&&r.dc>8?apiCC.getUserMediaWithCB(this.gum_config,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):("Chrome"!==r.Xh&&"Mobile Chrome"!==r.Xh||!0===this.isUserMediaAccessAllowed()&&(this.getUserMediaTimeoutId=setTimeout((function(){e.onUserMediaError("timeout")}),1e4)),apiCC.getUserMedia(this.gum_config).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError")))}catch(e){J.error("getUserMedia() failed. Is this a WebRTC capable browser?"),J.log("getUserMedia failed with exception: "+e.message)}},this.listenForMuteEvents=function(){var e,t=this,n=function(e){var n=null,i=null;e.onmute=function(r){J.debug("mute event :",e),"audio"===e.kind&&null===n?n=setTimeout((function(){t.audioSilent=!0,n=null,t.notifyMLineMuted(e.kind,!0,"muted")}),2520):"video"===e.kind&&null===i&&(i=setTimeout((function(){t.videoSilent=!0,i=null,t.notifyMLineMuted(e.kind,!0,"muted")}),2520))},e.onunmute=function(r){J.debug(e.kind+" unmute event"),"audio"===e.kind&&null!==n?(clearTimeout(n),n=null):"video"===e.kind&&null!==i?(clearTimeout(i),i=null):("audio"===e.kind?t.audioSilent=!1:"video"===e.kind&&(t.videoSilent=!1),t.notifyMLineMuted(e.kind,!1,"muted"))},e.onended=function(r){J.debug(e.kind+" ended event"),"audio"===e.kind&&null!==n?(clearTimeout(n),n=null):"video"===e.kind&&(null!==i&&(clearTimeout(i),i=null),"screenSharing"!==t.callType&&"screenSharingWithAudio"!==t.callType||t.stopScreenSharing())}},i=G(this.stream.getVideoTracks());try{for(i.s();!(e=i.n()).done;)n(e.value)}catch(e){i.e(e)}finally{i.f()}var r,a=G(this.stream.getAudioTracks());try{for(a.s();!(r=a.n()).done;)n(r.value)}catch(e){a.e(e)}finally{a.f()}"screenSharing"!==this.callType&&"screenSharingWithAudio"!==this.callType||(this.stream.onended=this.callback(this,"stopScreenSharing"))},this.onUserMediaSuccess=function(e){var t=this;this.applyFiltersIfNeeded(e).then((function(e){var n=null,i=null,a=!1,o=t.getOwnerCallInfo(),s=t.getCall(o);J.info("[ApiCCUserMediaStream] onUserMediaSuccess; userMediaStreamId: "+t.userMediaStreamId),null!==t.getUserMediaTimeoutId&&(clearTimeout(t.getUserMediaTimeoutId),t.getUserMediaTimeoutId=null),s&&(J.debug("call exist"),i=s.callee?s.callerId:s.calleeId,a=s.restarted),t.updateMediaProperties(e),t.stream=e,"Chrome"!==r.Xh&&"Mobile Safari"!==r.Xh||t.setUserMediaAccessAllowed(!0),!0===t.notifyUserMediaSuccess&&(o&&(n=o.callId),Q.createUserMediaSuccessEvent(null!==n,t.audio,t.audioDeviceLabel,t.video,t.videoDeviceLabel,t.callType,n,e,i,a,t.userMediaStreamId)),t.listenForMuteEvents(),J.debug("Starting a new getMediaDevices after userMediaSuccess"),apiCC.mediaDeviceMgr.getMediaDevices("updatedAfterGetUserMediaSuccess"),t.callbacks.success(t)}))},this.updateMediaProperties=function(e){var t=!1,n="Unknown",i="Unknown",r=!1,a="Unknown";e.getAudioTracks().length>0&&(t=!0,e.getAudioTracks()[0].label&&(n=e.getAudioTracks()[0].label,i=e.getAudioTracks()[0].id,apiCC.audioProcessor.listenToAudio(e,this)),!1===e.getAudioTracks()[0].enabled&&(this.audioMuted=!0),!0===e.getAudioTracks()[0].muted&&(this.audioSilent=!0)),e.getVideoTracks().length>0&&(r=!0,e.getVideoTracks()[0].label&&(a=e.getVideoTracks()[0].label),!1===e.getVideoTracks()[0].enabled&&(this.videoMuted=!0),!0===e.getVideoTracks()[0].muted&&(this.videoSilent=!0)),this.audio=t,this.audioDeviceLabel=n,this.audioDeviceId=i,this.video=r,this.videoDeviceLabel=a},this.manageFailure=function(e){var t={};"object"===H(e)?(t.message=e.message,t.code=e.code,t.name=e.name):t=e,this.callbacks.failure(this,t)},this.onUserMediaError=function(e){var t=function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}},n=null,i=this.getOwnerCallInfo();if(J.info("[ApiCCUserMediaStream] onUserMediaError; userMediaStreamId: "+this.userMediaStreamId+", error: "+e),null!==this.getUserMediaTimeoutId&&("timeout"!==e&&clearTimeout(this.getUserMediaTimeoutId),this.getUserMediaTimeoutId=null),"electron"!==r.$6&&("Chrome"===r.Xh||"Mobile Chrome"===r.Xh)&&r.PR>47&&"https:"!==window.location.protocol&&J.error("HTTPS is now mandatory to use getUserMedia()"),null!==i&&(n=i.callId),"media"===this.callType&&"iOS"===r.ag.name&&"Mobile Safari"===r.Xh&&!1===this.iOSMediaSelectionWorkAroundApplied||Q.createUserMediaErrorEvent(null!==n,this.callType,e,this.userMediaStreamId,n,this.tryAudioOnlyAfterUserMediaError,this.gum_config),"timeout"!==e&&"media"===this.callType)if("iOS"===r.ag.name&&"Mobile Safari"===r.Xh&&!1===this.iOSMediaSelectionWorkAroundApplied){J.warn("try mediaDevice selection workaround on iOS / Mobile Safari - after MediaError"),this.iOSMediaSelectionWorkAroundApplied=!0,this.gum_config.video={};var a=apiCC.getMediaDeviceLabelFromDeviceid(this.inputs.videoSourceId);J.log("getMediaDeviceLabelFromDeviceid :",a),"Cam\xe9ra arri\xe8re"===a||"Back Camera"===a?(J.log("Setting FacingMode to environment :",a),this.gum_config=apiCC.setVideoFacingModeInConstraint("environment",this.gum_config)):(J.log("Setting FacingMode to user :",a),this.gum_config=apiCC.setVideoFacingModeInConstraint("user",this.gum_config)),this.inputs.videoSourceId=null,this.getUserMedia()}else!0===this.tryAudioOnlyAfterUserMediaError?(J.warn("try AudioCall after UserMediaError is activated"),this.tryAudioOnlyAfterUserMediaError=!1,!1!==this.gum_config.video?(J.debug("[ApiCCUserMediaStream] Trying to getUserMedia with audioOnly"),this.inputs.videoSourceId=null,this.gum_config.video=!1,this.getUserMedia()):(t(this.userMediaStreamId),this.manageFailure(e))):(t(this.userMediaStreamId),this.manageFailure(e));else t(this.userMediaStreamId),this.manageFailure(e)},this.getDisplayMediaProcess=function(){var e=this;J.debug("using getDisplayMedia with browser :",r.Xh),J.debug("displayMediaStreamConstraints :",this.displayMediaStreamConstraints),"object"===H(this.displayMediaStreamConstraints)&&!0!==Array.isArray(this.displayMediaStreamConstraints)||(J.warn("Defined displayMediaStreamConstraints format is not correct, reinitialization ..."),"chrome"===a.wL.type&&a.wL.version>=72&&a.wL.version<=73?this.displayMediaStreamConstraints={video:!0,audio:!1}:this.displayMediaStreamConstraints={video:!0,audio:!0},J.debug("displayMediaStreamConstraints :",this.displayMediaStreamConstraints)),"undefined"!=typeof apiRTC_React?(J.debug("getDisplayMedia - React version"),mediaDevices.getDisplayMedia(this.displayMediaStreamConstraints).then((function(t){J.info("getDisplayMedia React stream available"),e.onUserMediaSuccess(t)})).catch((function(t){J.debug("getDisplayMedia - React version error : ",t),e.onUserMediaError(t)}))):navigator.getDisplayMedia?(J.debug("navigator.getDisplayMedia defined"),navigator.getDisplayMedia(this.displayMediaStreamConstraints).then((function(t){J.debug("getDisplayMedia stream available"),e.onUserMediaSuccess(t)})).catch((function(t){J.debug("getDisplayMedia error :",t),e.onUserMediaError(t)}))):navigator.mediaDevices.getDisplayMedia?(J.debug("navigator.mediaDevices.getDisplayMedia defined"),navigator.mediaDevices.getDisplayMedia(this.displayMediaStreamConstraints).then((function(t){J.debug("getDisplayMedia stream available"),e.onUserMediaSuccess(t)})).catch((function(t){J.debug("getDisplayMedia error :",t),e.onUserMediaError(t)}))):(J.debug("getDisplayMedia not available"),Q.createDesktopCaptureEvent("Browser_Not_Compatible"))},this.getScreenMedia=function(){if(J.debug("[ApiCCUserMediaStream] getScreenMedia; userMediaStreamId: "+this.userMediaStreamId),null===this.stream)if("Chrome"===r.Xh||"Firefox"===r.Xh&&r.PR>=52)if("Chrome"===r.Xh)if(J.log("shareScreen on Chrome"),r.PR>=72&&!1===this.forceExtensionOnChrome)this.getDisplayMediaProcess();else{if(J.debug("this.captureSourceType :",this.captureSourceType),!1===apiCC.apiRTCExtensionInstalled)return apiCC.waitingShareScreenUserMediaStreamId=this.userMediaStreamId,function(e){J.debug("[ApiCCUserMediaStream] moveUserMediaEntryInWaitingScreen: "+e);for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.waitingShareScreenUserMediaStream=apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),void apiCC.manageNotInstalledExtension("getScreenMedia","getScreenMedia",this.captureSourceType);void 0!==this.captureSourceType&&null!==this.captureSourceType||(this.captureSourceType=["screen","window","tab"]),!1===Array.isArray(this.captureSourceType)&&(J.warn("Defined captureSourceType format is not correct, reinitialization ..."),this.captureSourceType=["screen","window","tab"],J.debug("this.captureSourceType :",this.captureSourceType)),window.postMessage({command:"getDesktopId",callNumber:this.userMediaStreamId,remoteId:"getScreenMedia",captureSourceType:this.captureSourceType,browser_major_version:r.PR},"*")}else J.log("shareScreen on Firefox"),r.PR>=67?this.getDisplayMediaProcess():(void 0!==this.captureSourceType&&null!==this.captureSourceType||(this.captureSourceType="screen"),"string"==typeof this.captureSourceType&&(J.warn("Defined captureSourceType format is not correct, reinitialization ..."),this.captureSourceType="screen",J.debug("this.captureSourceType :",this.captureSourceType)),this.registerScreenMedia(this.captureSourceType));else this.getDisplayMediaProcess()},this.registerScreenMedia=function(e,t){var n=null,i=this.getOwnerCallInfo(),a=this.getCall(i),o=null;if(J.debug("[ApiCCUserMediaStream] registerScreenMedia; userMediaStreamId: "+this.userMediaStreamId),"mediaError"===t)null!==a?(o=!0===a.callee?a.callerId:a.calleeId,"screenSharing"===a.callType||"screenSharingWithAudio"===a.callType?apiCC.session.apiCCWebRTCClient.webRTCClient.removeCallFromTableWithCallIdandRemoteId(a.callId,o,"Media_Error"):J.log("switch video / screen : call is not removed"),"https:"!==window.location.protocol&&J.log("Please connect to your web page using 'HTTPS'. This is mandatory for desktop capture"),Q.createDesktopCaptureEvent("UserMediaError",a.callId,o)):(J.log("Call not found on message EventListener"),Q.createDesktopCaptureEvent("UserMediaError")),function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),this.callbacks.failure(this,"UserMediaError");else try{if("Chrome"===r.Xh)J.log("desktopId: "+t),n={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t}}};else{if(J.log("captureSourceType: "+e),"screen"!==e&&"window"!==e&&"application"!==e)return void J.error("captureSourceType value is not correct");n={video:{mediaSource:e}}}"IE"===r.Xh&&r.dc>8?apiCC.getUserMediaWithCB(n,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):apiCC.getUserMedia(n).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError"))}catch(e){J.error("getUserMedia() failed. Is this a WebRTC capable browser?"),J.log("getUserMedia failed with exception: "+e.message)}},this.stopScreenSharing=function(){J.debug("[ApiCCUserMediaStream] stopScreenSharing; userMediaStreamId: "+this.userMediaStreamId);var e=!0;if(null!==apiRTC.session.remoteAccessInvitation&&this.userMediaStreamId===apiRTC.session.remoteAccessInvitation.screenSharingStreamId&&(J.debug("this is a remote access screenSharing, need to stop remote access"),apiRTC.session.remoteAccessInvitation.stop(!0,{code:"SCREEN_SHARING_STOP"})),apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var t=this.callInfoList.length;--t>=0;)!0===this.callInfoList[t].owner&&(e=!1),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(this.callInfoList[t].callId);!0===e&&this.release()},this.getCall=function(e){var t=null;return e&&apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient&&("call"===e.flavor?t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e.callId):"userMedia"===e.flavor&&(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(e.callId))),t},this.getOwnerCallInfo=function(){for(var e=this.callInfoList.length;--e>=0;)if(!0===this.callInfoList[e].owner)return this.callInfoList[e];return null},this.getCallInfo=function(e){for(var t=this.callInfoList.length;--t>=0;)if(this.callInfoList[t].callId===e)return this.callInfoList[t];return null},this.containsCallInfo=function(e){for(var t=!1,n=this.callInfoList.length;--n>=0;)if(this.callInfoList[n].callId===e){t=!0;break}return t},this.addCallInfo=function(e,t,n){return null!==e&&"string"==typeof e&&("call"!==t&&"userMedia"!==t&&(t="call"),null!==n&&"boolean"==typeof n||(n=!1),!this.containsCallInfo(e))&&(this.callInfoList.push({callId:e,flavor:t,owner:n}),!0)},this.removeCallInfo=function(e){for(var t=!1,n=this.callInfoList.length;--n>=0;)if(this.callInfoList[n].callId===e){this.callInfoList.splice(n,1),t=!0;break}return t},this.accessToLocalMedia=function(){return"screenSharing"!==this.callType&&"screenSharingWithAudio"!==this.callType&&"data"!==this.callType&&null!==this.stream},this.muteAudioOnStreams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enabled";return J.debug("[ApiCCUserMediaStream] muteAudioOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getAudioTracks().forEach((function(e){e.enabled=!1})),"enabled"===e?this.audioMuted=!0:"muted"===e&&(this.audioSilent=!0),this.notifyMLineMuted("audio",!0,e),{type:"audio",muted:!0}},this.unMuteAudioOnStreams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enabled";return J.debug("[ApiCCUserMediaStream] unMuteAudioOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getAudioTracks().forEach((function(e){e.enabled=!0})),"enabled"===e?this.audioMuted=!1:"muted"===e&&(this.audioSilent=!1),this.notifyMLineMuted("audio",!1,e),{type:"audio",muted:!1}},this.muteVideoOnStreams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enabled";return J.debug("[ApiCCUserMediaStream] muteVideoOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getVideoTracks().forEach((function(e){e.enabled=!1})),"enabled"===e?this.videoMuted=!0:"muted"===e&&(this.videoSilent=!0),this.notifyMLineMuted("video",!0,e),{type:"video",muted:!0}},this.unMuteVideoOnStreams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enabled";return J.debug("[ApiCCUserMediaStream] unMuteVideoOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getVideoTracks().forEach((function(e){e.enabled=!0})),"enabled"===e?this.videoMuted=!1:"muted"===e&&(this.videoSilent=!1),this.notifyMLineMuted("video",!1,e),{type:"video",muted:!1}},this.removeVideoTrackOnStreams=function(){var e;return J.debug("[ApiCCUserMediaStream] removeVideoTrackOnStreams; userMediaStreamId: "+this.userMediaStreamId),(e=this.stream.getVideoTracks()).length>0&&this.stream.removeTrack(e[0]),this.video=!1,{type:"video",present:!1}},this.notifyMLineMuted=function(e,t,n){var i,r,a=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var o=this.callInfoList.length;--o>=0;)"call"===this.callInfoList[o].flavor?(i=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[o].callId),this.notifyMLineMutedCall(e,t,n,i,null)):"userMedia"===this.callInfoList[o].flavor&&(r=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[o].callId),this.notifyMLineMutedCall(e,t,n,null,r)),!0===this.callInfoList[o].owner&&(a=!1);!0===a&&this.notifyMLineMutedCall(e,t,n,null,null)},this.notifyMLineMutedCall=function(e,t,n,i,r){J.debug("notifyMLineMutedCall; mline: "+e+", muted: "+t);var a=[];"enabled"===n?a=[e+"IsMuted"]:"muted"===n&&(a=[e+"IsSilent"]);var o={available:this.audio,deviceLabel:this.audioDeviceLabel,active:!0,muted:this.audioMuted,silent:this.audioSilent},s={available:this.video,deviceLabel:this.videoDeviceLabel,active:!0,muted:this.videoMuted,silent:this.videoSilent},l=null;i?("audio"===e?i.isLocalAudioMuted=t:"video"===e&&(i.isLocalVideoMuted=t),i.belongsToRoom()?(l={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:i.callId,roomId:i.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,mline:e},i.data.mesh&&(l.mesh=i.data.mesh),"muted"===n?(l.change="silent",l.silent=t,i.myWebRTC_Stack.sendInfo("streamTrackStatusChanged",l)):"enabled"===n&&(l.muted=t,i.myWebRTC_Stack.sendInfo("streamTrackChanged",l))):(l={callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:i.callee?i.callerId:i.calleeId,callId:i.callId,mline:e},"muted"===n?(l.type="streamTrackStatusChanged",l.change="silent",l.silent=t):"enabled"===n&&(l.type="streamTrackChanged",l.muted=t),i.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,l)),o.active=i.localCallProfile.audioActive,s.active=i.localCallProfile.videoActive,Q.createLocalStreamUpdatedEvent(a,o,s,!0,i.callType,i.callId,this.stream,this.userMediaStreamId,"userAction")):r?(l={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:r.userMediaId,roomId:r.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,mline:e},"muted"===n?(l.change="silent",l.silent=t,r.myWebRTC_Stack.sendInfo("streamTrackStatusChanged",l)):"enabled"===n&&(l.muted=t,r.myWebRTC_Stack.sendInfo("streamTrackChanged",l)),"inactive"===r.audioSdpDirection&&(o.active=!1),"inactive"===r.videoSdpDirection&&(s.active=!1),Q.createLocalStreamUpdatedEvent(a,o,s,!0,r.callType,r.userMediaId,this.stream,this.userMediaStreamId,"userAction")):Q.createLocalStreamUpdatedEvent(a,o,s,!1,null,null,this.stream,this.userMediaStreamId,"userAction")},this.notifyActiveSpeaker=function(e){var t,n,i=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var r=this.callInfoList.length;--r>=0;)"call"===this.callInfoList[r].flavor?(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[r].callId),this.notifyActiveSpeakerCall(e,t,null)):"userMedia"===this.callInfoList[r].flavor&&(n=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[r].callId),this.notifyActiveSpeakerCall(e,null,n)),!0===this.callInfoList[r].owner&&(i=!1);!0===i&&this.notifyActiveSpeakerCall(e,null,null)},this.notifyActiveSpeakerCall=function(e,t,n){var i=null;t?(t.belongsToRoom()?(i={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:t.callId,roomId:t.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.data.mesh&&(i.mesh=t.data.mesh),t.myWebRTC_Stack.sendInfo("activeSpeaker",i)):(i={type:"activeSpeaker",callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:t.callee?t.callerId:t.calleeId,callId:t.callId,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,i)),Q.createAudioAmplitudeEvent(e,!0,t.callId,this.userMediaStreamId)):n?(i={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:n.userMediaId,roomId:n.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},n.myWebRTC_Stack.sendInfo("activeSpeaker",i),Q.createAudioAmplitudeEvent(e,!0,n.userMediaId,this.userMediaStreamId)):Q.createAudioAmplitudeEvent(e,!0,null,this.userMediaStreamId)},this.notifyNotActiveSpeaker=function(e){var t,n,i=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var r=this.callInfoList.length;--r>=0;)"call"===this.callInfoList[r].flavor?(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[r].callId),this.notifyNotActiveSpeakerCall(e,t,null)):"userMedia"===this.callInfoList[r].flavor&&(n=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[r].callId),this.notifyNotActiveSpeakerCall(e,null,n)),!0===this.callInfoList[r].owner&&(i=!1);!0===i&&this.notifyNotActiveSpeakerCall(e,null,null)},this.notifyNotActiveSpeakerCall=function(e,t,n){var i=null;t?(t.belongsToRoom()?(i={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:t.callId,roomId:t.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.data.mesh&&(i.mesh=t.data.mesh),t.myWebRTC_Stack.sendInfo("stopSpeaking",i)):(i={type:"stopSpeaking",callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:t.callee?t.callerId:t.calleeId,callId:t.callId,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,i)),Q.createAudioAmplitudeEvent(e,!1,t.callId,this.userMediaStreamId)):n?(i={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:n.userMediaId,roomId:n.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},n.myWebRTC_Stack.sendInfo("stopSpeaking",i),Q.createAudioAmplitudeEvent(e,!1,n.userMediaId,this.userMediaStreamId)):Q.createAudioAmplitudeEvent(e,!1,null,this.userMediaStreamId)},this.callback=function(e,t){return this.closureHandler=function(n,i){return e[t](n,i)},this.closureHandler},this.isUserMediaAccessAllowed=function(){return null!==localStorage&&"object"===("undefined"==typeof localStorage?"undefined":H(localStorage))&&"function"==typeof localStorage.getItem?"true"===localStorage.getItem(q):null},this.setUserMediaAccessAllowed=function(e){return null!==localStorage&&"object"===("undefined"==typeof localStorage?"undefined":H(localStorage))&&"function"==typeof localStorage.setItem?(localStorage.setItem(q,e?"true":"false"),!!e):null},this.applyFiltersIfNeeded=function(e){return null===this.filters?Promise.resolve(e):(this.mediaFilterManager=new V(e,this.filters,this.userMediaStreamId),this.mediaFilterManager.applyFilters())},this.getVideoSettings=function(){if(!1!==this.videoSettings)return this.videoSettings;var e=this.getVideoTrack();if(!e||"function"!=typeof e.getSettings)return this.videoSettings=null,this.videoSettings;var t=e.getSettings();return t?(this.videoSettings={},Object.prototype.hasOwnProperty.call(t,"width")&&(this.videoSettings.width=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.videoSettings.height=t.height),Object.prototype.hasOwnProperty.call(t,"frameRate")&&(this.videoSettings.frameRate=t.frameRate),this.videoSettings):(this.videoSettings=null,this.videoSettings)},this.isSimulcastCompliant=function(){return!!this.getVideoSettings()},this.getSimulcastProfile=function(){var e=this.getVideoSettings();if(!e)return null;var t={substream:{high:{active:!0,selectable:!0},medium:{active:!0,selectable:!0},low:{active:!0,selectable:!0}},temporal:{high:{active:!0,selectable:!0},medium:{active:!0,selectable:!0},low:{active:!0,selectable:!0}}};return"chrome"===a.wL.type&&((e.width<1280||e.height<720)&&(t.substream.low.selectable=!1),t.temporal.high.active=!1,t.temporal.high.selectable=!1),t}}},1192:(e,t,n)=>{"use strict";n.d(t,{D:()=>te}),n(3710),n(1539),n(9714),n(2772),n(8674);var i=n(1549),r=(n(4916),n(5306),n(2564),n(4812),n(561),n(5735),n(3753),n(4603),n(6755),n(9554),n(4747),n(6992),n(8783),n(3948),n(9601),n(8309),n(8264),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(7042),n(7941),n(2526),n(1817),n(2165),n(5945)),a=n(4708),o=n(940);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){this.sdp={original:null,global:[],mlines:[]},this.mlines=[]}function c(e){var t=new l,n=e.split("\r\n"),i=0,r=null,a=null,o=null,s=null;for(t.sdp.original=e;i<n.length;)if(0!==(r=n[i]).length)if(null!==o)if(r.match(/^m=/))a=null,o=null;else if(r.match(/^a=/)){if(a.push(r),!(s=r.match(/^a=([\w-]+):(\d+) (.+)$/))||"rtpmap"!==s[1]&&"rtcp-fb"!==s[1]&&"fmtp"!==s[1]){if(s=r.match(/^a=mid:(\w+)$/))o.mid=s[1];else if("a=sendrecv"===r)o.direction="sendrecv";else if("a=recvonly"===r)o.direction="recvonly";else if("a=sendonly"===r)o.direction="sendonly";else if("a=inactive"===r)o.direction="inactive";else if(s=r.match(/^a=ssrc-group:SIM (.+)$/)){var c=s[1].split(" ");o.ssrc_groups.sim.push(c.slice())}else if(s=r.match(/^a=ssrc-group:FID (.+)$/)){var d=s[1].split(" ");o.ssrc_groups.fid.push(d.slice())}else if(s=r.match(/^a=ssrc:(\d+) (.+)$/)){var f=o.ssrcs.find((function(e){return e.original===s[1]}));f||(f={original:s[1],ssrc:s[1],content:{}},o.ssrcs.push(f));var h=s[2].match(/^(\w+):(.+)$/);if(!h)throw new Error("cannot parse ssrc parameters (regex failure): "+s[2]);if("cname"===h[1])f.content.cname=h[2];else if("msid"===h[1])f.content.msid=h[2];else if("mslabel"===h[1])f.content.mslabel=h[2];else{if("label"!==h[1])throw new Error("cannot parse ssrc parameters (wrong attribute): "+h[1]);f.content.label=h[2]}}}else if("rtpmap"===s[1])o.codecs[s[2]].codec=s[3].split("/")[0].toLowerCase(),o.codecs[s[2]].rtpmap=s[3];else if("rtcp-fb"===s[1])o.codecs[s[2]]["rtcp-fb"]||(o.codecs[s[2]]["rtcp-fb"]=[]),o.codecs[s[2]]["rtcp-fb"].push(s[3]);else if("fmtp"===s[1]){o.codecs[s[2]].fmtp=[];for(var p=s[3].split(";"),g=0;g<p.length;g+=1){var m=p[g].split("=");2===m.length&&o.codecs[s[2]].fmtp.push(m)}}i+=1}else if(r.match(/^b=/)){if(a.push(r),s=r.match(/^b=AS:(\d+)$/)){o.bandwidth=parseInt(s[1],10),i+=1;continue}i+=1}else a.push(r),i+=1;else{if(s=r.match(/^m=([a-z]+) (\d+) ([A-Z/]+) ([0-9 ]+)$/)){a=[],t.sdp.mlines.push(a),a.push(r),o={type:s[1],port:parseInt(s[2],10),proto:s[3],payload_types:[],direction:"sendrecv",mid:s[1],bandwidth:0,codecs:{},ssrc_groups:{sim:[],fid:[]},ssrcs:[]};for(var v=s[4].split(" "),b=0;b<v.length;b+=1)o.payload_types.push(v[b]),o.codecs[v[b]]={};t.mlines.push(o),i+=1;continue}t.sdp.global.push(r),i+=1}else i+=1;for(t.unifiedPlan=!0,i=t.mlines.length;--i>=0;)"audio"!==t.mlines[i].type||t.audio?"video"!==t.mlines[i].type||t.video||(t.video=t.mlines[i]):t.audio=t.mlines[i],!0===t.unifiedPlan&&t.mlines[i].mid!==String(i)&&(t.unifiedPlan=!1);return t.isAudioActive=u.bind(null,t,"audio"),t.isVideoActive=u.bind(null,t,"video"),t}function u(e,t){return!("audio"!==t&&"video"!==t||null===e||"object"!==s(e)||!Object.prototype.hasOwnProperty.call(e,t)||null===e[t]||"object"!==s(e[t])||"sendrecv"!==e[t].direction&&"sendonly"!==e[t].direction&&"recvonly"!==e[t].direction)}n(3123),n(4765),n(4723),n(9600),n(1058),n(9826),l.prototype.mungeForSimulcasting=function(){if(!0!==this.simulcasting){this.simulcasting=!0;for(var e=0;e<this.mlines.length;e+=1){var t=this.mlines[e];if("video"===t.type){var n=t.ssrcs[0].content.cname,i=t.ssrcs[0].content.msid,r=t.ssrcs[0].content.mslabel,a=t.ssrcs[0].content.label,o=[];o.push(t.ssrcs[0].ssrc);for(var s=2;--s>=0;){var l=Math.floor(4294967295*Math.random());t.ssrcs.push({original:l,ssrc:l,content:{cname:n,msid:i,mslabel:r,label:a}});var c=Math.floor(4294967295*Math.random());t.ssrcs.push({original:c,ssrc:c,content:{cname:n,msid:i,mslabel:r,label:a}}),t.ssrc_groups.fid.push([l,c]),o.push(l)}t.ssrc_groups.sim.push(o)}}}},l.prototype.generate=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=0;n<this.sdp.global.length;n+=1){var i=this.sdp.global[n];if(i.match(/^a=group:BUNDLE([\w ]+)$/)){t.push("a=group:BUNDLE");for(var r=0;r<this.mlines.length;r+=1)"inactive"===this.mlines[r].direction&&!0===e.stripInactiveMLines||(t.push(" "),t.push(this.mlines[r].mid));t.push("\r\n")}else t.push(i),t.push("\r\n")}for(var a=0;a<this.sdp.mlines.length;a+=1){var o=this.mlines[a];if("inactive"!==o.direction||!0!==e.stripInactiveMLines)for(var s=!1,l=this.sdp.mlines[a],c=0;c<l.length;c+=1){var u=l[c];if(u.match(/^m=/))t.push("m="),t.push(o.type),t.push(" "),t.push(o.port),t.push(" "),t.push(o.proto),t.push(" "),t.push(o.payload_types.join(" ")),t.push("\r\n");else if(u.match(/^a=/)){var d=u.match(/^a=([\w-]+):(\d+) (.+)$/);if(d&&("rtpmap"===d[1]||"rtcp-fb"===d[1]||"fmtp"===d[1])){if("rtpmap"===d[1]){var f=d[2];if(o.codecs[f]){t.push("a=rtpmap:"),t.push(f),t.push(" "),t.push(o.codecs[f].rtpmap),t.push("\r\n");var h=o.codecs[f]["rtcp-fb"];if(h)for(var p=0;p<h.length;p+=1)t.push("a=rtcp-fb:"),t.push(f),t.push(" "),t.push(h[p]),t.push("\r\n");var g=o.codecs[f].fmtp;if(g){for(var m=[],v=0;v<g.length;v+=1)m.push(g[v].join("="));m.length>0&&(t.push("a=fmtp:"),t.push(f),t.push(" "),t.push(m.join(";")),t.push("\r\n"))}continue}continue}if("rtcp-fb"===d[1]||"fmtp"===d[1])continue;throw new Error("internal error")}if(u.match(/^a=mid:(\w+)$/))t.push("a=mid:"),t.push(o.mid),t.push("\r\n"),o.bandwidth>0&&(t.push("b=AS:"),t.push(o.bandwidth),t.push("\r\n"),t.push("b=TIAS:"),t.push(o.bandwidth),t.push("000"),t.push("\r\n"));else if("a=sendrecv"!==u&&"a=recvonly"!==u&&"a=sendonly"!==u&&"a=inactive"!==u){if(u.match(/^a=ssrc-group:SIM (.+)$/));else if(!u.match(/^a=ssrc-group:FID (.+)$/)){if(u.match(/^a=ssrc:(\d+) (.+)$/)){if(s)continue;s=!0;for(var b=0;b<o.ssrc_groups.sim.length;b+=1)t.push("a=ssrc-group:SIM "),t.push(o.ssrc_groups.sim[b].join(" ")),t.push("\r\n");for(var y=0;y<o.ssrc_groups.fid.length;y+=1)t.push("a=ssrc-group:FID "),t.push(o.ssrc_groups.fid[y].join(" ")),t.push("\r\n");for(var C=function(e){var n=o.ssrcs[e];["cname","msid","mslabel","label"].forEach((function(e){Object.prototype.hasOwnProperty.call(n.content,e)&&(t.push("a=ssrc:"),t.push(n.ssrc),t.push(" "),t.push(e),t.push(":"),t.push(n.content[e]),t.push("\r\n"))}))},w=0;w<o.ssrcs.length;w+=1)C(w);continue}t.push(u),t.push("\r\n");continue}}else t.push("a="),t.push(o.direction),t.push("\r\n")}else{if(u.match(/^b=/))continue;t.push(u),t.push("\r\n")}}}return t.join("")};var d=i.Y.get("SDPManager"),f=function(){d.debug("SDPManager"),this.getSDPLines=function(e){d.debug("SDPManager::getSDPLines");var t,n=e.split("\r\n");for(t=0;t<n.length;t+=1)d.log("sdpLines[i] : "+n[t]);return n},this.getAudioMediaDescriptionPart=function(e){d.debug("SDPManager::getAudioMediaDescriptionPart");var t=e.split("m=audio"),n=null;return void 0!==t[1]&&null!==t[1]?(n=t[1].split("m=video"),d.log("SDP audio part : "+n[0]),n[0]):null},this.getVideoMediaDescriptionPart=function(e){d.debug("SDPManager::getVideoMediaDescriptionPart");var t,n=e.split("m=video");for(t=0;t<n.length;t+=1)d.log("sdpMediaPart[i] : "+n[t]);return n[1]},this.searchMediaDescriptionForRecvOnly=function(e){return d.debug("searchMediaDescriptionForRecvOnly"),-1!==e.search("a=recvonly")?(d.log("recvonly found in media description"),!0):(d.log("recvonly not found in media description"),!1)},this.searchSDPForRecvOnly=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForRecvOnly(e)):(d.log("recvonly not found in SDP"),!1)},this.searchMediaDescriptionForSendOnly=function(e){return d.debug("searchMediaDescriptionForSendOnly"),-1!==e.search("a=sendonly")?(d.log("sendonly found in media description"),!0):(d.log("sendonly not found in media description"),!1)},this.searchSDPForSendOnly=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForSendOnly(e)):(d.log("sendonly not found in SDP"),!1)},this.searchMediaDescriptionForInactive=function(e){return d.debug("searchMediaDescriptionForInactive"),-1!==e.search("a=inactive")?(d.log("inactive found in media description"),!0):(d.log("inactive not found in media description"),!1)},this.searchSDPForInactive=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForInactive(e)):(d.log("inactive not found in SDP"),!1)},this.stripAudioMediaDescriptionFromSDP=function(e){d.debug("SDPManager::stripAudioMediaDescriptionFromSDP");var t=this.createGuideline(e);return t.audio?(t.audio.direction="inactive",t.generate({stripInactiveMLines:!0})):e},this.stripVideoMediaDescriptionFromSDP=function(e){d.debug("SDPManager::stripVideoMediaDescriptionFromSDP");var t=this.createGuideline(e);return t.video?(t.video.direction="inactive",t.generate({stripInactiveMLines:!0})):e},this.setAudioBandwidth=function(e,t){return d.info("SDPManager::setAudioBandwidth",t),t?e=e.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+t+"\r\n"):(d.warn("No maxAudioBW !"),e)},this.setVideoBandwidth=function(e,t){if(d.info("SDPManager::setVideoBandwidth",t),!t)return d.warn("No maxVideoBW !"),e;for(var n=[],i=e.split("\r\n"),r=0,a=null,o=null;r<i.length;)if(0!==(a=i[r]).length)if(null!==o)a.match(/^m=/)?o=null:a.match(/^a=mid:(\w+)$/)?(n.push(a),n.push("\r\n"),n.push("b=AS:"),n.push(t),n.push("\r\n"),n.push("b=TIAS:"),n.push(t),n.push("000"),n.push("\r\n"),r+=1):(a.match(/^b=([A-Z]+):(\w+)$/)||(n.push(a),n.push("\r\n")),r+=1);else{var s=a.match(/^m=([a-z]+)(.+)$/);if(s&&"video"===s[1]){o="video",n.push(a),n.push("\r\n"),r+=1;continue}n.push(a),n.push("\r\n"),r+=1}else r+=1;return n.join("")},this.setDataBandwidth=function(e,t){return d.info("SDPManager::setDataBandwidth",t),t?e=e.replace(/a=mid:data\r\n/g,"a=mid:data\r\nb=AS:"+t+"\r\n"):(d.warn("No maxDataBW !"),e)},this.setSendOnlyForAudio=function(e){d.debug("SDPManager::setSendOnlyForAudio");var t=this.createGuideline(e);return(0,a.ki)(t,"audio","object")&&(t.audio.direction="sendonly"),t.generate()},this.setSendOnlyForVideo=function(e){d.debug("SDPManager::setSendOnlyForVideo");var t=this.createGuideline(e);return(0,a.ki)(t,"video","object")&&(t.video.direction="sendonly"),t.generate()},this.setSendOnly=function(e){d.debug("SDPManager::setSendOnly : global");var t=this.createGuideline(e);return(0,a.ki)(t,"audio","object")&&(t.audio.direction="sendonly"),(0,a.ki)(t,"video","object")&&(t.video.direction="sendonly"),t.generate()},this.setRecvOnlyForAudio=function(e){d.debug("SDPManager::setRecvOnlyForAudio");var t=this.createGuideline(e);return t.audio&&"inactive"!==t.audio.direction&&(t.audio.direction="recvonly"),t.generate()},this.setRecvOnlyForVideo=function(e){d.debug("SDPManager::setRecvOnlyForVideo");var t=this.createGuideline(e);return t.video&&"inactive"!==t.video.direction&&(t.video.direction="recvonly"),t.generate()},this.setRecvOnly=function(e){d.debug("SDPManager::setRecvOnly : global");var t=this.createGuideline(e);return t.audio&&"inactive"!==t.audio.direction&&(t.audio.direction="recvonly"),t.video&&"inactive"!==t.video.direction&&(t.video.direction="recvonly"),t.generate()},this.updateSDPcodecs=function(e,t,n,i){var r,a,o,s,l,c,u,f,h=!1,p=new RegExp("\r\n$"),g=!1,m=null,v="",b="",y="",C="",w="",S="",I="",T="";if(d.log("updateSDPcodecs():\n\tsdpType = "+t+"\n\tmediaType = "+n+"\n\tavailableCodecSet = "+i+"\n"),""==i)return e;for(o=(o=RTCSessionDescription&&e instanceof RTCSessionDescription?e.sdp:window.SessionDescription&&e instanceof SessionDescription?e.toSdp():e).split("\r\nm="),!1===p.test(o[o.length-2])&&(o[o.length-2]=o[o.length-2]+"\r\n",g=!0),r=0;r<o.length;r++)if(0===o[r].indexOf(n)){for(m=o[r].split("\r\n")[0].split(" "),a=3;a<m.length;a++)if(s=!0,!1===isNaN(m[a])){switch(b="a=rtpmap:"+m[a]+" ",-1!==(l=o[r].indexOf(b))&&(c=o[r].indexOf("\r\n",l)),m[a]){case 0:v="PCMU/8000";break;case 8:v="PCMA/8000";break;case 9:v="G722/8000";break;case 13:v="CN/8000";break;case 18:v="G729/8000";break;default:-1!==l&&(v=o[r].substring(l+b.length,c))}""!=v&&-1!==i.indexOf(v)?d.log("PT("+m[a]+"): "+v+" FOUND in availableCodecSet.\n"):(s=!1,d.log("PT("+m[a]+"): "+v+" NOT FOUND in availableCodecSet.\n")),s||(y=b+".*\r\n",C="a=fmtp:"+m[a]+" .*\r\n",I="a=rtcp-fb:"+m[a]+" .*\r\n",w=" "+m[a]+" ",S=" "+m[a]+"\r",o[r]=o[r].replace(new RegExp(y,"g"),""),o[r]=o[r].replace(new RegExp(C,"g"),""),o[r]=o[r].replace(new RegExp(I,"g"),""),(f=(u=o[r].split("\n"))[0].split("RTP"))[1]=f[1].replace(w," "),f[1]=f[1].replace(S,"\r"),u[0]=f.join("RTP"),o[r]=u.join("\n"),"video"===n&&(I="a=rtcp-fb:"+m[a]+" .*\r\n",o[r]=o[r].replace(new RegExp(I,"g"),""),""!=v&&"rtx/"===v.substr(0,4)&&(T="a=ssrc-group:FID .*\r\n",o[r]=o[r].replace(new RegExp(T,"g"),""),(u=o[r].split("\r\na=")).splice(u.length-8,4),o[r]=u.join("\r\na="))),h=!0)}break}return g&&(o[o.length-2]=o[o.length-2].substr(0,o[o.length-2].length-2)),o=o.join("\r\nm="),!0===h?(d.log("updateSDPcodecs(), SDP has been updated."),RTCSessionDescription&&e instanceof RTCSessionDescription?new RTCSessionDescription({type:t,sdp:o}):window.SessionDescription&&e instanceof SessionDescription?new SessionDescription(o):o):(d.log("updateSDPcodecs(), SDP has not been updated."),e)},this.preferOpus=function(e){var t,n=e.split("\r\n"),i=0,r=null;for(t=0;t<n.length;t+=1)if(-1!==n[t].search("m=audio")){i=t;break}if(0===i)return e;for(t=0;t<n.length;t+=1)if(-1!==n[t].search("opus/48000")){(r=this.extractSdp(n[t],/:(\d+) opus\/48000/i))&&(n[i]=this.setDefaultCodec(n[i],r));break}return(n=this.removeCN(n,i)).join("\r\n")},this.removeCN=function(e,t){var n=0,i=e[t].split(" "),r=null,a=0;for(n=e.length-1;n>=0;n--)(r=this.extractSdp(e[n],/a=rtpmap:(\d+) CN\/\d+/i))&&(-1!==(a=i.indexOf(r))&&i.splice(a,1),e.splice(n,1));return e[t]=i.join(" "),e},this.extractSdp=function(e,t){var n=e.match(t);return n&&2==n.length?n[1]:null},this.setDefaultCodec=function(e,t){var n=0,i=e.split(" "),r=i.slice(0,3);for(r.push(t),n=3;n<i.length;n++)i[n]!==t&&r.push(i[n]);return r.join(" ")},this.findLineInRange=function(e,t,n,i,r){var a,o=-1!==n?n:e.length;for(a=t;a<o;++a)if(0===e[a].indexOf(i)&&(!r||-1!==e[a].toLowerCase().indexOf(r.toLowerCase())))return a;return null},this.findLine=function(e,t,n){return this.findLineInRange(e,0,-1,t,n)},this.getCodecPayloadType=function(e,t){var n=this.findLine(e,"a=rtpmap",t);return n?this.getCodecPayloadTypeFromLine(e[n]):null},this.getCodecPayloadTypeFromLine=function(e){var t=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),n=e.match(t);return n&&2===n.length?n[1]:null},this.findFmtpLine=function(e,t){var n=this.getCodecPayloadType(e,t);return n?this.findLine(e,"a=fmtp:"+n.toString()):null},this.writeFmtpLine=function(e){if(!e.hasOwnProperty("pt")||!e.hasOwnProperty("params"))return null;var t=e.pt,n=e.params,i=[],r=0,a=null;for(a in n)i[r]=a+"="+n[a],++r;return 0===r?null:"a=fmtp:"+t.toString()+" "+i.join("; ")},this.setCodecParam=function(e,t,n,i){var r=e.split("\r\n"),a=this.findFmtpLine(r,t),o={},s=null,l=null;if(null===a){if(null===(l=this.findLine(r,"a=rtpmap",t)))return e;s=this.getCodecPayloadTypeFromLine(r[l]),o.pt=s.toString(),o.params={},o.params[n]=i,r.splice(l+1,0,this.writeFmtpLine(o))}else(o=function(e){var t,n={},i=e.indexOf(" "),r=e.substring(i+1).split("; "),a=new RegExp("a=fmtp:(\\d+)"),o=e.match(a),s={},l=null;if(!o||2!==o.length)return null;for(n.pt=o[1],t=0;t<r.length;++t)2===(l=r[t].split("=")).length&&(s[l[0]]=l[1]);return n.params=s,n}(r[a])).params[n]=i,r[a]=this.writeFmtpLine(o);return r.join("\r\n")},this.maybePreferCodec=function(e,t,n){var i,r,a=t+" codec",o=null;return n?(d.log("Prefer "+a+": "+n),o=e.split("\r\n"),null===(i=this.findLine(o,"m=",t))?(d.log("mLineIndex === null"),e):((r=this.getCodecPayloadType(o,n))&&(o[i]=this.setDefaultCodec(o[i],r)),e=o.join("\r\n"))):(d.log("No preference on "+a+"."),e)},this.createGuideline=c};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(){return!0}function g(e){return null===e}function m(e){return null!==e}n(9753),n(1038),n(4553),n(9070);var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=[],this._timeout=null,this._err=null,this._data=null,this._interrupted=null,this._fulfilled=!1}var t,n;return t=e,n=[{key:"err",get:function(){if(!this._fulfilled)throw new Error("not fulfilled yet");return this._err}},{key:"data",get:function(){if(!this._fulfilled)throw new Error("not fulfilled yet");return this._data}},{key:"interrupted",get:function(){if(!this._fulfilled)throw new Error("not fulfilled yet");return this._interrupted}},{key:"fulfilled",get:function(){return this._fulfilled}},{key:"_fulfill",value:function(e,t,n){this._err=e,this._data=t,this._interrupted=n,this._fulfilled=!0;var i=this._callbacks.slice();this.clear();var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(i);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.match,l=o.callback;s(this._err)&&l(this._err,this._data,this._interrupted)}}catch(e){a.e(e)}finally{a.f()}}},{key:"clear",value:function(){this.clearTimeout(),this.removeCallback()}},{key:"setTimeout",value:function(e){function t(t,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var i=this;this.clearTimeout(),this._timeout=null===t?setTimeout((function(){i._fulfill(null,n,!0)}),e):setTimeout((function(){i._fulfill("string"==typeof t?new Error(t):t,void 0,!0)}),e)}))},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}))},{key:"onFulfillment",value:function(e){this._callbacks.push({match:p,callback:e})}},{key:"onSuccess",value:function(e){this._callbacks.push({match:g,callback:e})}},{key:"onFailure",value:function(e){this._callbacks.push({match:m,callback:e})}},{key:"removeCallback",value:function(e){if("function"==typeof e){var t=this._callbacks.findIndex((function(t){return t.callback===e}));t>=0&&this._callbacks.splice(t,1)}else this._callbacks.splice(0,this._callbacks.length)}},{key:"fulfill",value:function(e,t){null===e?this._fulfill(null,t,!1):this._fulfill("string"==typeof e?new Error(e):e,void 0,!1)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),b=(n(1249),n(7327),n(3843),function(e,t,n,i,r,a,o,s){this.rawStats={},this.rawStats.connectedPair=[],this.rawStats.audio_send=[],this.rawStats.audio_recv=[],this.rawStats.video_send=[],this.rawStats.video_recv=[],this.instantRTT=0,this.moyRttCP=[0,0,0,0,0,0,0,0,0,0],this.moyRttAS=[0,0,0,0,0,0,0,0,0,0],this.moyRttVS=[0,0,0,0,0,0,0,0,0,0],this.tauxPacketLossAS=[0],this.oldLostAS=this.oldSentAS=0,this.oldLostVS=this.oldLostVS=0,this.cptTaux=0,this.tauxPacketLossVS=[0],this.oldBandwidthAS=0,this.oldBandwidthVS=0,this.oldBandwidthAR=0,this.oldBandwidthVR=0,this.bandwidthAS=[0,0,0,0,0,0,0,0,0,0],this.bandwidthAR=[0,0,0,0,0,0,0,0,0,0],this.bandwidthVS=[0,0,0,0,0,0,0,0,0,0],this.bandwidthVR=[0,0,0,0,0,0,0,0,0,0],this.qosIn=0,this.qosInAverage=0,this.qosInAverageCount=0,this.qosAudioIn=0,this.qosAudioInAverage=0,this.qosAudioInAverageCount=0,this.qosVideoIn=0,this.qosVideoInAverage=0,this.qosVideoInAverageCount=0,this.qosOut=0,this.qosOutAverage=0,this.qosOutAverageCount=0,this.qosAudioOut=0,this.qosAudioOutAverage=0,this.qosAudioOutAverageCount=0,this.qosVideoOut=0,this.qosVideoOutAverage=0,this.qosVideoOutAverageCount=0,this.onQosChange=t,this.onQosAudioChange=n,this.onQosVideoChange=i,this.cpt=0,this.cptRes=5,this.cptDb=60,this.saveStatsFlag=!0,this.tabQosIn=[],this.tabQosAudioIn=[],this.tabQosVideoIn=[],this.tabQosOut=[],this.tabQosAudioOut=[],this.tabQosVideoOut=[],this.tabTimestamp=[],this.tabDelay=[],this.tabJitterBufferAudio=[],this.tabJitterBufferVideo=[],this.tabAudioRtt=[],this.tabVideoRtt=[],this.tabAudioBW=[],this.tabVideoBW=[],this.clientId=o,this.callId=r,this.apiKey=a,this.socket=s,this.interval=e,this.insertStats=function(e,t,n,i){var r,a,o,s=null;for(this.cpt=this.cpt+this.interval,r=0;r<e.length;++r){var l=e[r];switch(l.type){case"googCandidatePair":for(s=l.names(),o=0;o<s.length;++o)if("googActiveConnection"==s[o]&&"true"==l.stat(s[o]))for(a=0;a<s.length;++a)"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.bytesSent=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.bytesReceived=l.stat(s[a])),"googRtt"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.googRtt=l.stat(s[a]));break;case"ssrc":for(s=l.names(),o=0;o<s.length;++o){if("audioOutputLevel"==s[o])for(a=0;a<s.length;++a)"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.packetsLost=l.stat(s[a])),"googDecodingPLC"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googDecodingPLC=l.stat(s[a])),"googJitterReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googJitterReceived=l.stat(s[a])),"googJitterBufferMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googJitterBufferMs=l.stat(s[a])),"googCurrentDelayMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googCurrentDelayMs=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.bytesReceived=l.stat(s[a]));if("audioInputLevel"==s[o])for(a=0;a<s.length;++a)"googRtt"==s[a]&&void 0!==l.stat(s[a])&&-1!=l.stat(s[a])&&(this.rawStats.audio_send.googRtt=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.packetsLost=l.stat(s[a])),"packetsSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.packetsSent=l.stat(s[a])),"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.bytesSent=l.stat(s[a])),"googJitterReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.googJitterReceived=l.stat(s[a]));if("googFrameHeightReceived"==s[o])for(a=0;a<s.length;++a)"googFrameHeightReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.FrameHeight=l.stat(s[a])),"googFrameWidthReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.FrameWidth=l.stat(s[a])),"googCurrentDelayMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.delay=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.packetsLost=l.stat(s[a])),"googNacksSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googNacksSent=l.stat(s[a])),"googJitterBufferMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googJitterBufferMs=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.bytesReceived=l.stat(s[a])),"googFrameRateReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googFrameRateReceived=l.stat(s[a]));if("googFrameHeightSent"==s[o])for(a=0;a<s.length;++a)"googFrameHeightSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.FrameHeight=l.stat(s[a])),"googFrameWidthSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.FrameWidth=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.packetsLost=l.stat(s[a])),"googNacksReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googNacksReceived=l.stat(s[a])),"googRtt"==s[a]&&void 0!==l.stat(s[a])&&-1!=l.stat(s[a])&&(this.rawStats.video_send.googRtt=l.stat(s[a])),"packetsSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.packetsSent=l.stat(s[a])),"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.bytesSent=l.stat(s[a])),"googEncodeUsagePercent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googEncodeUsagePercent=l.stat(s[a])),"googCpuLimitedResolution"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googCpuLimitedResolution=l.stat(s[a])),"googBandwidthLimitedResolution"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googBandwidthLimitedResolution=l.stat(s[a]))}}}this.computeStats(t,n,i),this.cpt%this.cptRes==0&&this.saveStatsLocal(),this.cpt%this.cptDb==0&&this.saveStatsToDb(!1)},this.saveStatsLocal=function(){if(this.saveStatsFlag){var e=Date.now();this.tabTimestamp.push(e),this.tabQosIn.push(this.qosIn),this.tabQosAudioIn.push(this.qosAudioIn),0!==this.qosVideoIn&&this.tabQosVideoIn.push(this.qosVideoIn),this.tabQosOut.push(this.qosOut),this.tabQosAudioOut.push(this.qosAudioOut),0!==this.qosVideoOut&&this.tabQosVideoOut.push(this.qosVideoOut),this.tabJitterBufferAudio.push(this.rawStats.audio_recv.googJitterBufferMs),void 0!==this.rawStats.video_recv.googJitterBufferMs&&this.tabJitterBufferVideo.push(this.rawStats.video_recv.googJitterBufferMs),void 0!==this.rawStats.video_send.googRtt&&this.tabVideoRtt.push(this.rawStats.video_send.googRtt),this.tabAudioRtt.push(this.rawStats.audio_send.googRtt),void 0!==this.bandwidthAS&&this.tabVideoBW.push(8*this.Average(this.bandwidthAS)/1024),void 0!==this.bandwidthVS&&this.tabVideoBW.push(8*this.Average(this.bandwidthVS)/1024),void 0!==this.bandwidthAR&&this.tabVideoBW.push(8*this.Average(this.bandwidthAR)/1024),void 0!==this.bandwidthVR&&this.tabVideoBW.push(8*this.Average(this.bandwidthVR)/1024)}},this.saveStatsToDb=function(e){},this.saveStatsToDb=function(e){this.saveStatsFlag=e},this.computeStats=function(e,t,n){var i=0;-1!==this.rawStats.connectedPair.googRtt&&0!==this.rawStats.connectedPair.googRtt&&void 0!==this.rawStats.connectedPair.googRtt&&this.add(this.rawStats.connectedPair.googRtt,this.moyRttCP),-1!==this.rawStats.video_send.googRtt&&0!==this.rawStats.video_send.googRtt&&void 0!==this.rawStats.video_send.googRtt&&(this.add(this.rawStats.video_send.googRtt,this.moyRttVS),this.instantRTT=this.rawStats.video_send.googRtt),-1!==this.rawStats.audio_send.googRtt&&0!==this.rawStats.audio_send.googRtt&&void 0!==this.rawStats.audio_send.googRtt&&this.add(this.rawStats.audio_send.googRtt,this.moyRttAS),-1!==this.rawStats.audio_send.packetsLost&&void 0!==this.rawStats.audio_send.packetsLost&&-1!==this.rawStats.audio_send.packetsSent&&0!==this.rawStats.audio_send.packetsSent&&void 0!==this.rawStats.audio_send.packetsSent&&(i=100*(this.rawStats.audio_send.packetsLost-this.oldLostAS)/(this.rawStats.audio_send.packetsSent-this.oldSentAS),this.oldLostAS=this.rawStats.audio_send.packetsLost,this.oldSentAS=this.rawStats.audio_send.packetsSent,this.add(i,this.tauxPacketLossAS)),-1!==this.rawStats.video_send.packetsLost&&void 0!==this.rawStats.video_send.packetsLost&&-1!==this.rawStats.video_send.packetsSent&&0!==this.rawStats.video_send.packetsSent&&void 0!==this.rawStats.video_send.packetsSent&&(i=100*(this.rawStats.video_send.packetsLost-this.oldLostVS)/(this.rawStats.video_send.packetsSent-this.oldSentVS),this.oldLostVS=this.rawStats.video_send.packetsLost,this.oldSentVS=this.rawStats.video_send.packetsSent,this.add(i,this.tauxPacketLossVS)),-1!==this.rawStats.audio_recv.bytesReceived&&void 0!==this.rawStats.audio_recv.bytesReceived&&(void 0===this.oldBandwidthAR&&(this.oldBandwidthAR=0),this.add((this.rawStats.audio_recv.bytesReceived-this.oldBandwidthAR)/this.interval,this.bandwidthAR),this.oldBandwidthAR=this.rawStats.audio_recv.bytesReceived),-1!==this.rawStats.video_recv.bytesReceived&&void 0!==this.rawStats.video_recv.bytesReceived&&(void 0===this.oldBandwidthVR&&(this.oldBandwidthVR=0),this.add((this.rawStats.video_recv.bytesReceived-this.oldBandwidthVR)/this.interval,this.bandwidthVR),this.oldBandwidthVR=this.rawStats.video_recv.bytesReceived),-1!==this.rawStats.audio_send.bytesSent&&void 0!==this.rawStats.audio_send.bytesSent&&(void 0===this.oldBandwidthAS&&(this.oldBandwidthAS=0),this.add((this.rawStats.audio_send.bytesSent-this.oldBandwidthAS)/this.interval,this.bandwidthAS),this.oldBandwidthAS=this.rawStats.audio_send.bytesSent),-1!==this.rawStats.video_send.bytesSent&&void 0!==this.rawStats.video_send.bytesSent&&(void 0===this.oldBandwidthVS&&(this.oldBandwidthVS=0),this.add((this.rawStats.video_send.bytesSent-this.oldBandwidthVS)/this.interval,this.bandwidthVS),this.oldBandwidthVS=this.rawStats.video_send.bytesSent);var r=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,p=this.getCodecs(t),g=8*this.Average(this.bandwidthAS)/1024;if(g<5?r=1:g>=5&&g<10?r=2:g>=10&&(r=3),null!==p&&p[1]){var m=8*this.Average(this.bandwidthVS)/1024;m<240?s=1:m>=240&&m<330?s=2:m>=330&&(s=3)}this.rawStats.audio_recv.googJitterBufferMs<60?a=3:this.rawStats.audio_recv.googJitterBufferMs>=60&&this.rawStats.audio_recv.googJitterBufferMs<100?a=2:this.rawStats.audio_recv.googJitterBufferMs>=100&&(a=1),this.rawStats.audio_recv.googCurrentDelayMs<100?o=3:this.rawStats.audio_recv.googCurrentDelayMs>=100&&this.rawStats.audio_recv.googCurrentDelayMs<200?o=2:this.rawStats.audio_recv.googCurrentDelayMs>=200&&(o=1),null!==p&&p[1]&&(this.rawStats.video_recv.googJitterBufferMs<100?l=3:this.rawStats.video_recv.googJitterBufferMs>=100&&this.rawStats.video_recv.googJitterBufferMs<200?l=2:this.rawStats.video_recv.googJitterBufferMs>=200&&(l=1));var v=!1,b=!1,y=!1;null!==p&&p[1]?(Math.ceil((r+2*s+l+a+o)/6)!=this.qosIn&&(v=!0),this.qosIn=Math.ceil((r+2*s+l+a+o)/6),this.qosInAverage=(this.qosInAverage*this.qosInAverageCount+this.qosIn)/(this.qosInAverageCount+1),this.qosInAverageCount++,Math.ceil((r+a+o)/3)!=this.qosAudioIn&&(b=!0),this.qosAudioIn=Math.ceil((r+a+o)/3),this.qosAudioInAverage=(this.qosAudioInAverage*this.qosAudioInAverageCount+this.qosAudioIn)/(this.qosAudioInAverageCount+1),this.qosAudioInAverageCount++,Math.ceil((2*s+l)/3)!=this.qosVideoIn&&(y=!0),this.qosVideoIn=Math.ceil((2*s+l)/3),this.qosVideoInAverage=(this.qosVideoInAverage*this.qosVideoInAverageCount+this.qosVideoIn)/(this.qosVideoInAverageCount+1),this.qosVideoInAverageCount++):(Math.ceil((r+a+o)/3)!=this.qosOut&&(v=!0),this.qosIn=Math.ceil((r+a+o)/3),this.qosInAverage=(this.qosInAverage*this.qosInAverageCount+this.qosIn)/(this.qosInAverageCount+1),this.qosInAverageCount++,Math.ceil((r+a+o)/3)!=this.qosAudioIn&&(b=!0),this.qosAudioIn=Math.ceil((r+a+o)/3),this.qosAudioInAverage=(this.qosAudioInAverage*this.qosAudioInAverageCount+this.qosAudioIn)/(this.qosAudioInAverageCount+1),this.qosAudioInAverageCount++),this.RttAverage(this.moyRttAS)<80?u=3:this.RttAverage(this.moyRttAS)>=80&&this.RttAverage(this.moyRttAS)<150?u=2:this.RttAverage(this.moyRttAS)>=150&&(u=1),this.tauxPacketLossAS<=5?c=3:this.tauxPacketLossAS>5&&this.tauxPacketLossAS<10?c=2:this.tauxPacketLossAS>=10&&(c=1),this.rawStats.audio_recv.googJitterReceived<80?d=3:this.rawStats.audio_recv.googJitterReceived>=80&&this.rawStats.audio_recv.googJitterReceived<150?d=2:this.rawStats.audio_recv.googJitterReceived>=150&&(d=1),null!==p&&p[1]&&(this.tauxPacketLossVS<=5?f=3:this.tauxPacketLossVS>5&&this.tauxPacketLossVS<10?f=2:this.tauxPacketLossVS>=10&&(f=1),this.RttAverage(this.moyRttVS)<80?h=3:this.RttAverage(this.moyRttVS)>=80&&this.RttAverage(this.moyRttVS)<150?h=2:this.RttAverage(this.moyRttVS)>=150&&(h=1)),null!==p&&p[1]?(Math.ceil((u+2*c+d+2*f+h)/7)!=this.qosOut&&(v=!0),this.qosOut=Math.ceil((u+2*c+d+2*f+h)/7),this.qosOutAverage=(this.qosOutAverage*this.qosOutAverageCount+this.qosOut)/(this.qosOutAverageCount+1),this.qosOutAverageCount++,Math.ceil((u+2*c+d)/4)!=this.qosAudioOut&&(b=!0),this.qosAudioOut=Math.ceil((u+2*c+d)/4),this.qosAudioOutAverage=(this.qosAudioOutAverage*this.qosAudioOutAverageCount+this.qosAudioOut)/(this.qosAudioOutAverageCount+1),this.qosAudioOutAverageCount++,Math.ceil((2*f+h)/3)!=this.qosVideoOut&&(y=!0),this.qosVideoOut=Math.ceil((2*f+h)/3),this.qosVideoOutAverage=(this.qosVideoOutAverage*this.qosVideoOutAverageCount+this.qosVideoOut)/(this.qosVideoOutAverageCount+1),this.qosVideoOutAverageCount++):(Math.ceil((u+2*c+d)/4)!=this.qosOut&&(v=!0),this.qosOut=Math.ceil((u+2*c+d)/4),this.qosOutAverage=(this.qosOutAverage*this.qosOutAverageCount+this.qosOut)/(this.qosOutAverageCount+1),this.qosOutAverageCount++,Math.ceil((u+2*c+d)/4)!=this.qosAudioOut&&(b=!0),this.qosAudioOut=Math.ceil((u+2*c+d)/4),this.qosAudioOutAverage=(this.qosAudioOutAverage*this.qosAudioOutAverageCount+this.qosAudioOut)/(this.qosAudioOutAverageCount+1),this.qosAudioOutAverageCount++),v&&this.onQosChange(this.qosIn,this.qosOut),b&&this.onQosAudioChange(this.qosAudioIn,this.qosAudioOut),y&&this.onQosVideoChange(this.qosVideoIn,this.qosVideoOut)},this.getCodecs=function(e){var t=!1,n=!1,i=null,r=null;if(null!=e&&void 0!==e.sdp){for(var a=e.sdp.split("\n"),o=0;o<a.length;o++)-1!=a[o].indexOf("a=mid:audio")&&(t=!0),-1!=a[o].indexOf("a=mid:video")&&(n=!0),t&&-1!=a[o].indexOf("a=rtpmap:")&&(i=a[o],t=!1),n&&-1!=a[o].indexOf("a=rtpmap:")&&(r=a[o],n=!1);return[i,r]}return null},this.getQosScore=function(){return[this.qosIn,this.qosOut,this.qosAudioIn,this.qosAudioOut,this.qosVideoIn,this.qosVideoOut]},this.getStat=function(e){switch(e){case"AudioOutBandwidth":return 8*this.Average(this.bandwidthAS)/1024;case"VideoOutBandwidth":return 8*this.Average(this.bandwidthVS)/1024;case"AudioInBandwidth":return 8*this.Average(this.bandwidthAR)/1024;case"VideoInBandwidth":return 8*this.Average(this.bandwidthVR)/1024;case"AudioInJitterReceived":return this.rawStats.audio_recv.googJitterReceived;case"AudioInJitterBufferMs":return this.rawStats.audio_recv.googJitterBufferMs;case"AudioInDelay":return this.rawStats.audio_recv.googCurrentDelayMs;case"AudioOutLossRate":return this.tauxPacketLossAS;case"AudioOutRtt":return this.RttAverage(this.moyRttAS);case"AudioOutJitterReceived":return this.rawStats.audio_send.googJitterReceived;case"VideoInJitterBufferMs":return this.rawStats.video_recv.googJitterBufferMs;case"VideoOutLossRate":return this.tauxPacketLossVS;case"VideoOutRtt":return this.RttAverage(this.moyRttVS)}},this.getAllStats=function(){for(var e={AudioRecv:{},AudioSend:{},VideoRecv:{},VideoSend:{}},t={AudioRecv:"audio_recv",VideoRecv:"video_recv",AudioSend:"audio_send",VideoSend:"video_send"},n=Object.keys(t),i=0;i<n.length;i++)for(var r=Object.keys(this.rawStats[t[n[i]]]),a=0;a<r.length;a++)e[n[i]][r[a]]=this.rawStats[t[n[i]]][r[a]];return e.AudioRecv.bandwidth=8*this.Average(this.bandwidthAR)/1024,e.VideoRecv.bandwidth=8*this.Average(this.bandwidthVR)/1024,e.AudioSend.bandwidth=8*this.Average(this.bandwidthAS)/1024,e.VideoSend.bandwidth=8*this.Average(this.bandwidthVS)/1024,e.AudioRecv.jitterReceived=this.rawStats.audio_recv.googJitterReceived,e.AudioRecv.jitterBufferMs=this.rawStats.audio_recv.googJitterBufferMs,e.VideoRecv.jitterBufferMs=this.rawStats.video_recv.googJitterBufferMs,e.AudioRecv.delay=this.rawStats.audio_recv.googCurrentDelayMs,e.AudioSend.rtt=this.RttAverage(this.moyRttAS),e.VideoSend.moyRtt=this.RttAverage(this.moyRttVS),e.VideoSend.rtt=this.instantRTT,e.VideoSend.FrameHeight=this.rawStats.video_send.FrameHeight,e.VideoSend.FrameWidth=this.rawStats.video_send.FrameWidth,e.AudioSend.packetLostRatio=this.tauxPacketLossAS[this.tauxPacketLossAS.length-1],e.VideoSend.packetLostRatio=this.tauxPacketLossVS[this.tauxPacketLossVS.length-1],e.VideoSend.googEncodeUsagePercent=this.rawStats.video_send.googEncodeUsagePercent,e.VideoSend.googCpuLimitedResolution=this.rawStats.video_send.googCpuLimitedResolution,e.VideoSend.googBandwidthLimitedResolution=this.rawStats.video_send.googBandwidthLimitedResolution,delete e.AudioRecv.googCurrentDelayMs,delete e.AudioRecv.googJitterReceived,delete e.AudioRecv.googJitterBufferMs,delete e.VideoRecv.googJitterBufferMs,delete e.AudioSend.googRtt,delete e.VideoSend.googRtt,e},this.displayComputedStats=function(){console.log("Audio IN JitterReceived:"+this.rawStats.audio_recv.googJitterReceived+" jitterbufferMs:"+this.rawStats.audio_recv.googJitterBufferMs+" delay:"+this.rawStats.audio_recv.googCurrentDelayMs+" bandwidth :"+8*this.Average(this.bandwidthAS)/1024+" kBits/s"),console.log("Audio OUT  lossRate:"+this.tauxPacketLossAS+" rtt:"+this.RttAverage(this.moyRttAS)+" googJitterReceived:"+this.rawStats.audio_recv.googJitterReceived),console.log("Video IN jitter buffer ms:"+this.rawStats.video_recv.googJitterBufferMs+" bandwidth:"+8*this.Average(this.bandwidthVS)/1024+" kBits/s"),console.log("Video OUT loss rate:"+this.tauxPacketLossVS+" rtt:"+this.RttAverage(this.moyRttVS))},this.RttAverage=function(e){for(var t=0,n=0,i=0;i<e.length;++i)0!==e[i]&&-1!==e[i]&&void 0!==e[i]&&(t+=parseInt(e[i],10),n++);return parseInt(t/n,10)},this.Average=function(e){for(var t=0,n=0,i=0;i<e.length;++i)-1!=e[i]&&void 0!==e[i]&&(t+=parseInt(e[i],10),n++);return parseInt(t/n,10)},this.add=function(e,t){t.pop(),t.unshift(e)},this.displayTab=function(e){for(var t in e)console.log(t+" = "+e[t])}}),y=i.Y.get("DataChannelFileSender"),C=apiCC.myWebRTC_Event,w=1<<17,S=function(e){this.call=e,this.sendChunkNb=0,this.send=function(t,n,i){var r=12e3,o={},s=null,l={},c=!1,u={};if(y.info("DataChannelFileSender send"),y.log("data.name :"+t.name),t.file instanceof Blob?(y.log("Blob"),this.blob=t.file,this.contentType=t.file.type,this.size=t.file.size,this.originalDataType="Blob"):t.file instanceof ArrayBuffer?(y.log("ArrayBuffer"),this.blob=t.file,this.contentType="application/octet-stream",this.size=t.file.byteLength,this.originalDataType="ArrayBuffer"):t.file instanceof String||"string"==typeof t.file?(y.log("string"),this.blob=t.file,this.size=t.file.length,this.contentType="application/octet-stream",this.originalDataType="String"):(y.log("unknown type"),this.blob=t.file,this.contentType="application/octet-stream",this.size=t.file.length||t.file.byteLength||t.file.size,this.originalDataType="Unknown"),this.contentType||(this.contentType="application/octet-stream"),0===this.size)return y.log("sending done"),void 0!==i&&(y.log("onProgress"),this.transferDuration=new Date-this.startingDate,i({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:c,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!0})),C.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:c,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!0}),void C.createEvent({eventType:"onFileSended",callId:e.callId,remoteId:e.remoteId,name:t.name,uuid:t.uuid});if(n)if("open"===n.readyState){if(0===this.sendChunkNb&&y.log("first packet"),0===this.sendChunkNb){t.uuid=(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"-"),l={name:t.name,type:t.type,size:this.size,contentType:this.contentType,uuid:t.uuid},y.log("first packet",l),this.fileSize=this.size,void 0!==i&&(y.log("onProgress"),this.startingDate=new Date,this.transferDuration=0,i({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:c,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}),C.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:c,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}));try{n.send(JSON.stringify(l))}catch(e){y.warn("error detected when sending on datachannel :",n),y.warn("error is :",e)}C.createEvent({eventType:"onFileSending",callId:e.callId,remoteId:e.remoteId,name:t.name,uuid:t.uuid})}else{r<this.size?(y.log("sending chunk"),o=this.blob.slice(0,r)):(y.log("sending last chunk"),o=this.blob.slice(0),c=!0),y.log("dataToSend.byteLength ="+o.byteLength),"ArrayBuffer"===this.originalDataType?u.message=a.cw.encode(o):u.message=o,u.messageSize=o.byteLength,u.uuid=t.uuid,u.originalDataType=this.originalDataType,void 0!==i&&(y.log("onProgress"),this.transferDuration=new Date-this.startingDate,i({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,startingDate:this.startingDate,lastPacket:c,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}),C.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,startingDate:this.startingDate,lastPacket:c,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}));try{n.send(JSON.stringify(u))}catch(e){y.warn("error detected when sending on datachannel :",n),y.warn("error is :",e)}}s=0===this.sendChunkNb?this.blob:this.blob.slice(r),!1===c?this.sendChunkNb++:this.sendChunkNb=0,t.file=s,setTimeout(function(){this.send(t,n,i)}.bind(this))}else y.log("Trying to send on a closed channel");else y.log("No data channel to send data")},this.terminateTransfer=function(){var e=this;y.debug("terminateTransfer; terminated: "+this.terminated),null!==this.channel?!0===this.useBufferedAmount&&this.channel.bufferedAmount>0&&!0!==this.canceled?setTimeout(this.terminateTransfer.bind(this)):!0!==this.terminated&&(this.terminated=!0,this.recvDataEndAckTimeoutId&&(clearTimeout(this.recvDataEndAckTimeoutId),delete this.recvDataEndAckTimeoutId),delete this.call.dcfs,y.debug("terminateTransfer; terminating"),this.call.pipelineCallId?(this.call.pipelineCall&&(delete this.call.pipelineCall.clientCall,delete this.call.pipelineCall,this.call.sendDataChannel=null),this.channel=null):setTimeout((function(){e.channel.close(),e.channel=null})),setTimeout((function(){if(!0===e.canceled)C.createEvent({eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename,error:"canceled"}),e.call.callbacks.failure("canceled");else if(e.call.failure)C.createEvent({eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename,error:e.call.failure}),e.call.callbacks.failure(e.call.failure);else{var t={eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename};e.call.success.data&&(t.data=e.call.success.data),C.createEvent(t),e.call.callbacks.success(e.call.success)}apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e.call.callId)}))):y.warn("No data channel to send data, leaving terminateTransfer")},this.recvDataEndAckTimeout=function(){y.error("recvDataEndAckTimeout"),this.call.failure="ackNotReceived",setTimeout(this.terminateTransfer.bind(this))},this.subsequentTransfer=function(){var e,t=!1;if(y.debug("subsequentTransfer; remByteCount: "+this.remByteCount),!0!==this.canceled)if(null!==this.channel)if(!0===this.useBufferedAmount&&this.channel.bufferedAmount>w)setTimeout(this.subsequentTransfer.bind(this));else try{for(;;){if(!(this.remByteCount>=this.chunkLength)){e=this.data.slice(this.offset,this.offset+this.remByteCount),this.channel.send(e),this.packetsSent+=1,y.debug("packetSent "+this.packetsSent+" "+this.remByteCount),this.offset+=this.remByteCount,this.remByteCount-=this.remByteCount,t=!0;break}if(e=this.data.slice(this.offset,this.offset+this.chunkLength),this.channel.send(e),this.packetsSent+=1,y.debug("packetSent "+this.packetsSent+" "+this.chunkLength),this.offset+=this.chunkLength,this.remByteCount-=this.chunkLength,this.remByteCount<=0){t=!0;break}if(!0!==this.useBufferedAmount||this.channel.bufferedAmount>w)break}!0===t?(C.createEvent({eventType:"onFileProgress",name:this.call.data.filename,sendChunkNb:this.packetsSent,fileSize:this.call.data.size,remainingSize:this.remByteCount,callId:this.call.callId,remoteId:this.call.remoteId,percentage:100}),this.call.callbacks.progress({state:"complete",filename:this.call.data.filename,size:this.call.data.size,remBytes:0,progress:100}),this.call.success={state:"complete",filename:this.call.data.filename,size:this.call.data.size,mediaURL:this.call.mediaURL,mediaId:this.call.mediaId},this.recvDataEndAckTimeoutId=setTimeout(this.recvDataEndAckTimeout.bind(this),3e4)):(C.createEvent({eventType:"onFileProgress",name:this.call.data.filename,sendChunkNb:this.packetsSent,fileSize:this.call.data.size,remainingSize:this.remByteCount,callId:this.call.callId,remoteId:this.call.remoteId,percentage:Math.floor(100*this.offset/this.call.data.size)}),this.call.callbacks.progress({state:"incomplete",filename:this.call.data.filename,size:this.call.data.size,remBytes:this.remByteCount,progress:Math.floor(100*this.offset/this.call.data.size)}),setTimeout(this.subsequentTransfer.bind(this)))}catch(e){return y.error("transfer: "+e),this.call.failure="dataChannelFailed",void setTimeout(this.terminateTransfer.bind(this))}else y.warn("No data channel to send data, leaving subsequentTransfer");else setTimeout(this.terminateTransfer.bind(this))},this.transfer=function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.hasOwnProperty("delay")?r.delay:100;if(y.info("transfer",n,o),this.call.beginTimeoutId&&(clearTimeout(this.call.beginTimeoutId),delete this.call.beginTimeoutId),this.data=t,this.channel=i,null!==this.channel){"number"==typeof this.channel.bufferedAmount&&this.channel.bufferedAmount>=0&&(y.debug("browserDetails",a.wL),"chrome"===a.wL.type?a.wL.version>=37&&(this.useBufferedAmount=!0,y.debug("useBufferedAmount enabled")):(this.useBufferedAmount=!0,y.debug("useBufferedAmount enabled"))),this.chunkLength=8192,n>0?(this.offset=Math.floor(n/this.chunkLength)*this.chunkLength,this.remByteCount=this.data.byteLength-this.offset):(this.offset=0,this.remByteCount=this.data.byteLength),this.packetsSent=0;try{var s={chunkLength:this.chunkLength,offset:this.offset,remBytes:this.remByteCount};this.call.pipelineCallId&&(s.pluginName=e.data.pluginName,s.pluginData=e.data.pluginData,e.data.context&&(s.context=e.data.context)),this.channel.send(JSON.stringify(s))}catch(e){return y.error("transfer:",e),this.call.failure="dataChannelFailed",void setTimeout(this.terminateTransfer.bind(this))}C.createEvent({eventType:"onFileSending",callId:this.call.callId,remoteId:this.call.remoteId,name:this.call.data.filename}),setTimeout(this.subsequentTransfer.bind(this),o)}else y.warn("No data channel to send data, leaving transfer")}},I=(i.Y.get("CallStatsMonitor"),function(e,t,n,i){this.interval=e,this.browserType=t,this.browserVersion=n,this.flavor=i,this.prevData={},this.prevDataThreshold=10/e,this.prevDataThreshold<2&&(this.prevDataThreshold=2),this.STANDARD_STAT_KEYS={audioReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},videoReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteAudioSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteVideoSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},audioSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},videoSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteAudioReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteVideoReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1}},this.refineStats_chrome_proprietary=function(e,t){var n,i;for(n=0;n<t.length;n+=1){var r=t[n],a=null,o=null;if("ssrc"===r.type)if(r.id.indexOf("recv")>=0){if("audio"===r.stat("mediaType"))for(e.audioReceived={timestamp:Math.floor(Date.parse(r.timestamp))/1e3,type:"inbound-rtp",isRemote:!1,mediaType:"audio",packetsReceived:0,bytesReceived:0},a=r.names(),i=0;i<a.length;i+=1)"packetsReceived"===(o=a[i])?e.audioReceived.packetsReceived=parseInt(r.stat("packetsReceived"),10):"bytesReceived"===o&&(e.audioReceived.bytesReceived=parseInt(r.stat("bytesReceived"),10));else if("video"===r.stat("mediaType"))for(e.videoReceived={timestamp:Math.floor(Date.parse(r.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"video",framesDecoded:0,packetsReceived:0,bytesReceived:0},a=r.names(),i=0;i<a.length;i+=1)"framesDecoded"===(o=a[i])?e.videoReceived.framesDecoded=parseInt(r.stat("framesDecoded"),10):"packetsReceived"===o?e.videoReceived.packetsReceived=parseInt(r.stat("packetsReceived"),10):"bytesReceived"===o&&(e.videoReceived.bytesReceived=parseInt(r.stat("bytesReceived"),10))}else if(r.id.indexOf("send")>=0)if("audio"===r.stat("mediaType"))for(e.audioSent={timestamp:Math.floor(Date.parse(r.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"audio",packetsSent:0,bytesSent:0},a=r.names(),i=0;i<a.length;i+=1)"packetsSent"===(o=a[i])?e.audioSent.packetsSent=parseInt(r.stat("packetsSent"),10):"bytesSent"===o&&(e.audioSent.bytesSent=parseInt(r.stat("bytesSent"),10));else if("video"===r.stat("mediaType"))for(e.videoSent={timestamp:Math.floor(Date.parse(r.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"video",framesEncoded:0,packetsSent:0,bytesSent:0},a=r.names(),i=0;i<a.length;i+=1)"framesEncoded"===(o=a[i])?e.videoSent.framesEncoded=parseInt(r.stat("framesEncoded"),10):"packetsSent"===o?e.videoSent.packetsSent=parseInt(r.stat("packetsSent"),10):"bytesSent"===o&&(e.videoSent.bytesSent=parseInt(r.stat("bytesSent"),10))}return!1},this.refineStats_chrome_legacy=function(e,t){var n=!1;return t.forEach((function(t){var i=null,r=null;if("ssrc"===t.type&&t.id.indexOf("recv")>=0){if("audio"===t.mediaType){for(r in e.audioReceived={},i=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===r?e.audioReceived.timestamp=i:e.audioReceived[r]=t[r];n=!0}else if("video"===t.mediaType){for(r in e.videoReceived={},i=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===r?e.videoReceived.timestamp=i:e.videoReceived[r]=t[r];n=!0}}else if("ssrc"===t.type&&t.id.indexOf("send")>=0)if("audio"===t.mediaType){for(r in e.audioSent={},i=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===r?e.audioSent.timestamp=i:e.audioSent[r]=t[r];n=!0}else if("video"===t.mediaType){for(r in e.videoSent={},i=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===r?e.videoSent.timestamp=i:e.videoSent[r]=t[r];n=!0}})),n},this.refineStats_chrome_58=function(e,t){var n=this,i=!1;return t.forEach((function(t){if("inbound-rtp"!==t.type||t.isRemote){if("outbound-rtp"===t.type&&!t.isRemote)if("audio"===t.mediaType){e.audioSent={};var r=Math.floor(t.timestamp/1e3);for(var a in t)!1!==n.STANDARD_STAT_KEYS.audioSent[a]&&("timestamp"===a?e.audioSent.timestamp=r:e.audioSent[a]=t[a]);i=!0}else if("video"===t.mediaType){e.videoSent={};var o=Math.floor(t.timestamp/1e3);for(var s in t)!1!==n.STANDARD_STAT_KEYS.videoSent[s]&&("timestamp"===s?e.videoSent.timestamp=o:e.videoSent[s]=t[s]);i=!0}}else if("audio"===t.mediaType||t.id.indexOf("Audio")>=0){e.audioReceived={};var l=Math.floor(t.timestamp/1e3);for(var c in t)!1!==n.STANDARD_STAT_KEYS.audioReceived[c]&&("timestamp"===c?e.audioReceived.timestamp=l:e.audioReceived[c]=t[c]);i=!0}else if("video"===t.mediaType||t.id.indexOf("Video")>=0){e.videoReceived={};var u=Math.floor(t.timestamp/1e3);for(var d in t)!1!==n.STANDARD_STAT_KEYS.videoReceived[d]&&("timestamp"===d?e.videoReceived.timestamp=u:e.videoReceived[d]=t[d]);i=!0}})),i},this.refineStats_firefox_legacy=function(e,t){var n=!1,i=this;return t.forEach((function(t){var r=null,a=null;if("inbound-rtp"===t.type&&!1===t.isRemote){if("audio"===t.mediaType){for(r in e.audioReceived={packetsReceived:0,bytesReceived:0},a=Math.floor(t.timestamp/1e3),t)!1!==i.STANDARD_STAT_KEYS.audioReceived[r]&&("timestamp"===r?e.audioReceived.timestamp=a:e.audioReceived[r]=t[r]);n=!0}else if("video"===t.mediaType){for(r in e.videoReceived={packetsReceived:0,bytesReceived:0,framesDecoded:0},a=Math.floor(t.timestamp/1e3),t)!1!==i.STANDARD_STAT_KEYS.videoReceived[r]&&("timestamp"===r?e.videoReceived.timestamp=a:e.videoReceived[r]=t[r]);n=!0}}else if("outbound-rtp"===t.type&&!1===t.isRemote)if("audio"===t.mediaType){for(r in e.audioSent={packetsSent:0,bytesSent:0},a=Math.floor(t.timestamp/1e3),t)!1!==i.STANDARD_STAT_KEYS.audioSent[r]&&("timestamp"===r?e.audioSent.timestamp=a:e.audioSent[r]=t[r]);n=!0}else if("video"===t.mediaType){for(r in e.videoSent={packetsSent:0,bytesSent:0,framesEncoded:0},a=Math.floor(t.timestamp/1e3),t)!1!==i.STANDARD_STAT_KEYS.videoSent[r]&&("timestamp"===r?e.videoSent.timestamp=a:e.videoSent[r]=t[r]);n=!0}})),n},this.refineStats_firefox_63=function(e,t){var n=!1,i=this;return t.forEach((function(t){if("inbound-rtp"!==t.type||t.isRemote){if("outbound-rtp"===t.type&&!t.isRemote)if("audio"===t.kind){e.audioSent={packetsSent:0,bytesSent:0};var r=Math.floor(t.timestamp/1e3);for(var a in t)!1!==i.STANDARD_STAT_KEYS.audioSent[a]&&("timestamp"===a?e.audioSent.timestamp=r:e.audioSent[a]=t[a]);n=!0}else if("video"===t.kind){e.videoSent={packetsSent:0,bytesSent:0,framesEncoded:0};var o=Math.floor(t.timestamp/1e3);for(var s in t)!1!==i.STANDARD_STAT_KEYS.videoSent[s]&&("timestamp"===s?e.videoSent.timestamp=o:e.videoSent[s]=t[s]);n=!0}}else if("audio"===t.kind){e.audioReceived={packetsReceived:0,bytesReceived:0};var l=Math.floor(t.timestamp/1e3);for(var c in t)!1!==i.STANDARD_STAT_KEYS.audioReceived[c]&&("timestamp"===c?e.audioReceived.timestamp=l:e.audioReceived[c]=t[c]);n=!0}else if("video"===t.kind){e.videoReceived={packetsReceived:0,bytesReceived:0,framesDecoded:0};var u=Math.floor(t.timestamp/1e3);for(var d in t)!1!==i.STANDARD_STAT_KEYS.videoReceived[d]&&("timestamp"===d?e.videoReceived.timestamp=u:e.videoReceived[d]=t[d]);n=!0}})),n},this.addCallStats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if(void 0!==this.refineStats){if(this.refineStats(n,e),void 0!==n.audioReceived){if(void 0!==this.prevData.audioReceived){var i=n.audioReceived.timestamp-this.prevData.audioReceived[0].timestamp;i>0?(void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=Math.floor((n.audioReceived.packetsReceived-this.prevData.audioReceived[0].packetsReceived)/i)),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=Math.floor(8*(n.audioReceived.bytesReceived-this.prevData.audioReceived[0].bytesReceived)/i)),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=Math.floor((n.audioReceived.packetsLost-this.prevData.audioReceived[0].packetsLost)/i)),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=100*(n.audioReceived.packetsLost-this.prevData.audioReceived[0].packetsLost)/(n.audioReceived.packetsReceived-this.prevData.audioReceived[0].packetsReceived)),n.audioReceived.samplingInterval=i):(void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=0),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=0),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=0),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=0),n.audioReceived.samplingInterval=0)}else void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=0),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=0),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=0),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=0),n.audioReceived.samplingInterval=0,this.prevData.audioReceived=[];for(this.prevData.audioReceived.push(n.audioReceived);this.prevData.audioReceived.length>this.prevDataThreshold;)this.prevData.audioReceived.shift()}if(void 0!==n.videoReceived){if(void 0!==this.prevData.videoReceived){var r=n.videoReceived.timestamp-this.prevData.videoReceived[0].timestamp;r>0?(void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=Math.floor((n.videoReceived.packetsReceived-this.prevData.videoReceived[0].packetsReceived)/r)),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=Math.floor(8*(n.videoReceived.bytesReceived-this.prevData.videoReceived[0].bytesReceived)/r)),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=Math.floor((n.videoReceived.packetsLost-this.prevData.videoReceived[0].packetsLost)/r)),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=Math.floor((n.videoReceived.framesDecoded-this.prevData.videoReceived[0].framesDecoded)/r)),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=100*(n.videoReceived.packetsLost-this.prevData.videoReceived[0].packetsLost)/(n.videoReceived.packetsReceived-this.prevData.videoReceived[0].packetsReceived)),n.videoReceived.samplingInterval=r):(void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=0),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=0),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=0),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=0),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=0),n.videoReceived.samplingInterval=0)}else void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=0),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=0),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=0),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=0),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=0),n.videoReceived.samplingInterval=0,this.prevData.videoReceived=[];for(this.prevData.videoReceived.push(n.videoReceived);this.prevData.videoReceived.length>this.prevDataThreshold;)this.prevData.videoReceived.shift()}if(void 0!==n.audioSent){if(void 0!==this.prevData.audioSent){var a=n.audioSent.timestamp-this.prevData.audioSent[0].timestamp;a>0?(void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=Math.floor((n.audioSent.packetsSent-this.prevData.audioSent[0].packetsSent)/a)),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=Math.floor(8*(n.audioSent.bytesSent-this.prevData.audioSent[0].bytesSent)/a)),n.audioSent.samplingInterval=a):(void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=0),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=0),n.audioSent.samplingInterval=0)}else void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=0),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=0),n.audioSent.samplingInterval=0,this.prevData.audioSent=[];for(this.prevData.audioSent.push(n.audioSent);this.prevData.audioSent.length>this.prevDataThreshold;)this.prevData.audioSent.shift()}if(void 0!==n.videoSent){if(void 0!==this.prevData.videoSent){var o=n.videoSent.timestamp-this.prevData.videoSent[0].timestamp;o>0?(void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=Math.floor((n.videoSent.packetsSent-this.prevData.videoSent[0].packetsSent)/o)),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=Math.floor(8*(n.videoSent.bytesSent-this.prevData.videoSent[0].bytesSent)/o)),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=Math.floor((n.videoSent.framesEncoded-this.prevData.videoSent[0].framesEncoded)/o)),n.videoSent.samplingInterval=o):(void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=0),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=0),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=0),n.videoSent.samplingInterval=0)}else void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=0),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=0),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=0),n.videoSent.samplingInterval=0,this.prevData.videoSent=[];for(this.prevData.videoSent.push(n.videoSent);this.prevData.videoSent.length>this.prevDataThreshold;)this.prevData.videoSent.shift()}}return Object.keys(n).length>0&&"function"==typeof t.post&&t.post(n),n},"chrome"===this.browserType?"proprietary"===i?this.refineStats=this.refineStats_chrome_proprietary:this.browserVersion>=58?this.refineStats=this.refineStats_chrome_58:this.refineStats=this.refineStats_chrome_legacy:"firefox"===this.browserType?this.browserVersion>=63?this.refineStats=this.refineStats_firefox_63:this.refineStats=this.refineStats_firefox_legacy:"safari"===this.browserType&&(this.refineStats=this.refineStats_chrome_58)}),T=(n(658),function(){this.NarrowBandSpeechQuality=function(e,t){var n,i,r=1,a=1+e/10,o=1+e/150,s=(94.769-(n=80+2.5*(65-40*Math.log10(a/o)+6*Math.exp(e*e*-.3)-14)))*(94.769-n)/4+100;return(i=93.193-((94.769-n)/2+Math.sqrt(s)-1)*(1-Math.exp(-e))-(0+t/(t+4.3)*95))<0&&(r=1),i<100&i>0&&(r=1+.035*i+i*(i-60)*(100-i)*7*1e-6),i>100&&(r=4.5),r},this.WideBandspeechQuality=function(e,t){var n,i,r,a=0,o=1;e<100&&(a=.08-e+10),e>=100&&(a=18);var s=1+e/10,l=1+e/150,c=(129-(n=80+3*(65+a-40*Math.log10(s/l)+6*Math.exp(e*e*-.3)-14)))*(129-n)/4+100;return(r=(i=129-((129-n)/2+Math.sqrt(c)-1)*(1-Math.exp(-e))-(0+t/(t+4.3)*95))/1.29)<=0&&(o=1),r<100&r>0&&(o=1+.035*i+i*(i-60)*(100-i)*7*1e-6),r>=100&&(o=4.5),o},this.videoQuality=function(e,t,n,i,r){var a,o,s,l,c,u,d,f,h;return h=t>720?[0,2.77,.009,3.95,460,1.28,2.12,32e-5,1.28,262,1.98,22.84,7.999]:t>576?[0,6.31,.008,3.68,262,1.28,1.97,33e-5,1.24,343,2.76,6.25,6.013]:t>480?[0,6.96,.007,3.58,214,1.2,1.75,63e-5,1.13,171,4.25,7.98,12.001]:t>288?[0,5.61,.01,3.38,182,1.31,2.23,75e-5,1.51,136,4.05,20.16,22.332]:[0,3.988,.013,3.625,89.25,1.125,.713,0,1.542,245.5,3.011,39.31,16.67],u=1+Math.pow(i/h[4],h[5]),a=h[3]-h[3]/u,o=h[1]+h[2]*i,s=h[6]+h[7]*i,d=Math.pow(Math.log(r)-Math.log(o),2),f=2*Math.pow(s,2),l=a*Math.exp(-d/f),c=h[10]+h[11]*Math.exp(-r/h[8])+h[12]*Math.exp(-i/h[9]),1+l*Math.exp(-n/c)},this.audiovisualQuality=function(e,t,n,i){var r,a,o,s,l;return e>0&&t>0?(r=(l=[0,-.6966,-.8127,.4562,3.003,-.1638,.3626,.1291,.5457,-1251e-7,3.763,-.001065,.01465,-.001002,0])[9]*(n+i)+l[10],n>=i&&(a=Math.min(l[11]*(n-i)+l[12],0)),n<i&&(a=Math.min(l[13]*(i-n)+l[14],0)),o=Math.max(r+a,1),l[1]*(s=l[5]*e+l[6]*t+l[7]*e*t+l[8])+l[2]*o+l[3]*s*o+l[4]):"NoAudiovisualStream"}});function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var R=i.Y.get("WebRTC_Call"),A=apiCC.myWebRTC_Event,k=function(e){this.dest_roomId="",this.pc=null,this.callId=0,this.callee=!1,this.callerId=0,this.calleeId=0,this.started=!1,this.localDescriptionSetted=!1,this.remoteDescriptionSetted=!1,this.sendedSdpOfferMessage=null,this.receivedSdpOfferMessage=null,this.myWebRTC_Stack=new o.S(e.socket),this.remoteMediaStreams=[],this.rtpSenders={audio:[],video:[]},this.addingUserMedia=!1,this.myWebRTC_Event=apiCC.myWebRTC_Event,this.dtmfSender=null,this.incomingcandidatesQueue=[],"Firefox"===r.Xh||"Mobile Firefox"===r.Xh?r.PR>43?(this.mediaConstraintsAudioOnly={offerToReceiveAudio:!0,offerToReceiveVideo:!1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):(this.mediaConstraintsAudioOnly={mandatory:{offerToReceiveAudio:!0,offerToReceiveVideo:!1}},this.mediaConstraints={mandatory:{offerToReceiveAudio:!0,offerToReceiveVideo:!0}}):"Chrome"===r.Xh?r.PR<55?(this.mediaConstraintsAudioOnly={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this.mediaConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):(this.mediaConstraintsAudioOnly={offerToReceiveAudio:1,offerToReceiveVideo:1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):"Edge"===r.Xh&&"chrome"!==apiRTC.browserDetails.type?(this.mediaConstraintsAudioOnly={offerToReceiveAudio:!0,offerToReceiveVideo:!1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):(this.mediaConstraintsAudioOnly={offerToReceiveAudio:1,offerToReceiveVideo:1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}),"iOS"===r.ag.name&&(R.log("Defining mediaConstraints for iOS "),this.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0}),this.trickleIce=e.trickleIce,this.callLocalStream=null,this.generatedLocalStream=!1,this.audioOnly=!1,this.inviteSended=!1,this.sendInviteTrickleIceFalseTimeOutId=0,this.sendInviteTrickleIceFalseTimer=5e3,this.message200OKSended=!1,this.send200OKTrickleIceFalseTimeOutId=0,this.send200OKTrickleIceFalseTimer=5e3,this.message200OKReceived=!1,this.callCancelled=!1,this.screenSharing=!1,this.desktopId=0,this.pc_config=e.pc_config,this.pc_constraints=e.pc_constraints,this.audioFileMediaElement=null,this.videoReceivedWidth=640,this.videoReceivedHeight=480,this.videoSendWidth=640,this.videoSendHeight=480,this.videoReceivedDelay=0,this.audioReceivedDelay=0,this.audioSendDelay=0,this.videoSendDelay=0,this.videoSendPacketLossRatio=0,this.audioSendPacketLossRatio=0,this.getStatsInterval=e.qosInterval,this.qm=null,this.statisticId=null,this.csmIntervalMs=e.csmIntervalMs,this.csmIntervalId=null,this.remoteId=0,this.callType="media",this.localCallProfile={audio:!1,audioActive:!1,video:!1,videoActive:!1},this.remoteCallProfile={audio:!1,audioActive:!1,video:!1,videoActive:!1},this.disconnectionTimeoutId=0,this.disconnectionTimer=4e4,this.disconnectionWarningDelay=9e3,this.disconnectionWarningInterval=0,this.disconnectionWarningTimeout=0,this.disconnectionWarningCount=0,this.checkCandidateTypesTimer=1e4,this.checkCandidateTypesTimeoutId=0,this.checkCandidateTypesTimeoutTable=[],this.data={},this.screenStream=null,this.screenIsDisplayed=!1,this.addingDataChannelOnCallOngoing=!1,this.sendDataChannel=null,this.receiveDataChannel=null,this.receiveChunkNb={},this.firstDataPacket={},this.receivedSize={},this.receiveArrayToStoreChunks={},this.destCallType="media",this.mcuRemoteStream=null,this.userMediaAccessRequired=!0,this.settingUpMode="normal",this.remoteType="web",this.mediaTypeForIncomingCall=e.mediaTypeForIncomingCall,this.mediaTypeForOutgoingCall=e.mediaTypeForOutgoingCall,this.mediaRoutingMode=e.mediaRoutingMode,this.stripAudioSDPActivated=!1,this.stripVideoSDPActivated=!1,this.iceState="notdefined",this.restarted=!1,this.audioSdpDirection=null,this.videoSdpDirection=null,this.isLocalAudioMuted=!1,this.isLocalVideoMuted=!1,this.isRemoteAudioMuted=!1,this.isRemoteVideoMuted=!1,this.isRemoteAudioSilent=!1,this.isRemoteVideoSilent=!1,this.isAccepted=!1,this.accessToMedia=!1,this.callConfiguration=null,this.captureSourceType=null,this.preferH264Codec=!1,this.preferVP8Codec=!1,this.preferVP9Codec=!1,this.candidateNb=0,this.sessionMCU=null,this.instanceId=0,this.retryUpdateMedia=!1,this.updateMediaOngoing=!1,this.setCallTurnServer=function(e){R.info("setCallTurnServer :",e);var t=JSON.stringify(this.pc_config);t=t.replace(/mp1.apizee.com/g,e),this.pc_config=JSON.parse(t)},this.setCallMediaRoutingMode=function(t){R.info("setCallMediaRoutingMode :",t),"hostOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.hostOnly:"stun"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.stun:"stunOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.stunOnly:"turn"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.turn:"turnOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.turnOnly:(R.log("parameter error when calling function : setCallMediaRoutingMode()"),this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setCallMediaRoutingMode()","PARAMETER_ERROR_SETCALLMEDIAROUTINGMODE"))},this.checkDTLSCompliancy=function(){if(R.debug("checkDTLSCompliancy"),!1===apiCC.session.isDeviceDTLSCompliant())R.log("Device not DTLS compliant, setting DtlsSrtpKeyAgreement: false"),this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:!1}]};else{var e=apiCC.session.isClientDTLSCompliant(this.remoteId);!1!==e&&"false"!==e||(R.log("Remote Device not DTLS compliant, setting DtlsSrtpKeyAgreement: false"),this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:!1}]})}},this.sendData=function(e,t){R.info("datachannel - sendData");var n=null,i=null;if(e.file instanceof File)return R.log("File"),this.contentType=e.file.type,this.originalDataType="File",n=new FileReader,i=this,n.onload=function(r){var a=r.target.result||n.result;i.sendData({file:a,name:e.name,type:e.type},t)},void n.readAsArrayBuffer(e.file);new S(this).send(e,this.sendDataChannel,t)},R.log("New Call for client with Id :"+e.clientId),this.generateCallId=function(){this.callId=apiCC.generateCallId(),R.info("new call with callId :"+this.callId)},this.sendInviteTrickleIceFalse=function(){R.log("sendInviteTrickleIceFalse"),R.log("sendInvite on candidate timer reached"),this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,this.callType,{offer:this.pc.localDescription,data:this.data,stream:this.mcuRemoteStream,volatile:!!this.restarted}),this.inviteSended=!0},this.send200OkTrickleIceFalse=function(){R.log("send200OkTrickleIceFalse"),this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,this.pc.localDescription,this.data),this.message200OKSended=!0},this.onSetLocalDescriptionSuccess=function(){R.info("onSetLocalDescriptionSuccess"),this.localDescriptionSetted=!0,this.asyncCallbacks&&"subscribe"===this.asyncCallbacks.type&&delete this.asyncCallbacks,!1===this.trickleIce&&(!0===this.callee?(R.info("starting send200OKTrickleIceFalseTimeOutId"),this.send200OKTrickleIceFalseTimeOutId=setTimeout(this.callback(this,"send200OkTrickleIceFalse"),this.send200OKTrickleIceFalseTimer)):(R.info("starting sendInviteTrickleIceFalseTimeOutId"),this.sendInviteTrickleIceFalseTimeOutId=setTimeout(this.callback(this,"sendInviteTrickleIceFalse"),this.sendInviteTrickleIceFalseTimer))),e.rtpSenderSetParamatersCapable&&e.evaluateVideoCap(this)},this.onSetLocalDescriptionFailure=function(t){R.warn("onSetLocalDescriptionFailure",t);var n=null,i=null;this.callControl&&(n=this.callControl.roomName,i=this.callControl.type),A.createErrorEvent("Set local Description Failure","SET_LOCAL_DESCRIPTION_FAILURE",this.callId,n,i),e.onHangup(this.callId,"Local_Description_Failure")},this.onSetRemoteDescriptionSuccess=function(){R.info("onSetRemoteDescriptionSuccess");var t=null;for(this.remoteDescriptionSetted=!0,!0===this.restarting&&delete this.restarting,this.data&&(this.data.mesh||this.data.subscribeOrder)||A.createCallEstablishedEvent(this.calleeId,this.callType,this.callId,this.destCallType);this.incomingcandidatesQueue.length;)t=this.incomingcandidatesQueue.shift(),this.processCandidateMsg(t);if(void 0!==e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId]){for(R.debug("Restoring candidate from client, this.callId :"+this.callId+" , instanceId :"+this.instanceId);e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId].length;)t=e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId].shift(),this.processCandidateMsg(t);delete e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId]}if(this.asyncCallbacks&&("addingUserMedia"===this.asyncCallbacks.type?(this.asyncCallbacks.resolve(this.callConfiguration.userMediaStreamId),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks):"updateCallConfiguration"===this.asyncCallbacks.type&&(this.asyncCallbacks.resolve(),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks)),this.updateMediaOngoing=!1,!0===this.retryUpdateMedia){R.debug("an updateMedia was waiting for sig stable state or an other updateMedia end, updating Media now ..."),this.retryUpdateMedia=!1;var n=this.updateMedia(!1);R.debug("Retried updateMediaResult :",n)}},this.processCandidateMsg=function(e){R.info("processCandidateMsg :",e);var t=null;null!==this.pc?(void 0!==e.completeCandidate?(R.trace("new behavior of 2.13.8"),t=new apiCC.myWebRTC_Adapter.RTCIceCandidate(e.completeCandidate)):(R.log("old behavior < 2.13.8"),t=new apiCC.myWebRTC_Adapter.RTCIceCandidate({sdpMLineIndex:e.label,candidate:e.candidate})),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("addIceCandidate"),this.pc.addIceCandidate(t,(function(){R.trace("addIceCandidate success")}),(function(e){R.warn("addIceCandidate failure: "+e),e=null}))):(R.log("addIceCandidate - Promise version"),this.pc.addIceCandidate(t).then((function(){R.trace("addIceCandidate success")})).catch((function(e){R.warn("addIceCandidate failure: "+e),e=null})))):R.error("Error, call is not null but pc is null")},this.onSetRemoteDescriptionFailure=function(t){R.warn("onSetRemoteDescriptionFailure :",t);var n=null,i=null;this.callControl&&(n=this.callControl.roomName,i=this.callControl.type),A.createErrorEvent("Set remote Description Failure","SET_REMOTE_DESCRIPTION_FAILURE",this.callId,n,i),e.onHangup(this.callId,"Remote_Description_Failure")},this.getUserMediaOnCall=function(){var t=this,n=!1;if(R.info("getUserMediaOnCall, audio Only :"+this.audioOnly),R.info("getUserMediaOnCall, screenSharing activated :"+this.screenSharing),R.log("webRTCClient.gum_config :",e.gum_config),this.callerId===e.clientId){if(R.log("outgoing call"),"VIDEO"===this.mediaTypeForOutgoingCall||"VIDEOONLY"===this.mediaTypeForOutgoingCall)if(R.log("mediaTypeForOutgoingCall :"+this.mediaTypeForOutgoingCall),"VIDEOONLY"===this.mediaTypeForOutgoingCall&&(n=!0),!0!==this.screenSharing){if(!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return R.log("getUserMediaOnCall without any device, calling without device"),void this.onUserMediaSuccessOnCall();R.log("video is not present :"+this.callType),"media"===this.callType&&(R.log("callType is media, but no webcam present, forcing callType to audio"),this.callType="audio",this.audioOnly=!0)}}else R.log("screenSharing, no device checking");else if("AUDIO"===this.mediaTypeForOutgoingCall)R.log("mediaTypeForOutgoingCall is AUDIO, setting call to audioOnly"),this.callType="audio",this.audioOnly=!0;else if("NONE"===this.mediaTypeForOutgoingCall||"DATA"===this.mediaTypeForOutgoingCall)return R.log("mediaTypeForOutgoingCall is NONE, call will be recvOnly"),void this.onUserMediaSuccessOnCall()}else if(R.log("incoming call"),"VIDEO"===this.mediaTypeForIncomingCall||"VIDEOONLY"===this.mediaTypeForIncomingCall){if(R.log("mediaTypeForIncomingCall :"+this.mediaTypeForIncomingCall),"VIDEOONLY"===this.mediaTypeForIncomingCall&&(n=!0),!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return R.log("getUserMediaOnCall without any device, calling without device"),void this.onUserMediaSuccessOnCall();R.log("video is not present :"+this.callType),"media"===this.callType&&(R.log("callType is media, but no webcam present, forcing callType to audio"),this.callType="audio",this.audioOnly=!0)}}else if("AUDIO"===this.mediaTypeForIncomingCall)R.log("mediaTypeForIncomingCall is AUDIO, setting call to audioOnly"),this.callType="audio",this.audioOnly=!0;else if("NONE"===this.mediaTypeForIncomingCall||"DATA"===this.mediaTypeForIncomingCall)return R.log("mediaTypeForIncomingCall is NONE, call will be recvOnly"),void this.onUserMediaSuccessOnCall();e.getUserMediaOnGoing=!0;var i=null,o=null;if(R.log("this.screenSharing :"+this.screenSharing),R.log("this.audioOnly :"+this.audioOnly),!0===this.screenSharing)if(R.log("getScreenMedia"),"Chrome"===r.Xh)R.log("this.desktopId :"+this.desktopId),i={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:this.desktopId}}};else{if(R.log("this.captureSourceType :"+this.captureSourceType),"screen"!==this.captureSourceType&&"window"!==this.captureSourceType&&"application"!==this.captureSourceType)return void R.error("captureSourceType value is not correct");i={video:{mediaSource:this.captureSourceType}}}else!0===this.audioOnly?(R.log("this.audioOnly = true"),e.gum_config=apiCC.setAudioSourceIdInConstraint(e.audioSourceId,e.gum_config),o=JSON.parse(JSON.stringify(e.gum_config)),!1===e.allowAsymetricMediaCalls?o.video=!1:R.log("allow AsymetricMediaCalls is activated"),i=o):(R.log("audio and video call"),i=(0,a.ws)({},e.gum_config),n?i.audio=!1:i=apiCC.setAudioSourceIdInConstraint(e.audioSourceId,i),i=apiCC.setVideoSourceIdInConstraint(e.videoSourceId,i),i=apiCC.setVideoFacingModeInConstraint(e.facingMode,i),"undefined"!=typeof apiRTC_React&&(i={audio:!0,video:{mandatory:{minWidth:500,minHeight:300,minFrameRate:30},facingMode:"user"}}));apiCC.createUserMediaStream({callId:this.callId,type:this.callType,gum_config:i,success:function(e){R.debug("[getUserMediaOnCall] success; userMediaStreamId: "+e.userMediaStreamId),void 0!==t.callConfiguration&&null!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.userMediaStreamId=e.userMediaStreamId,t.onUserMediaSuccessOnCall(e.stream)},failure:function(e,n){R.debug("[getUserMediaOnCall] failure; userMediaStreamId: "+e.userMediaStreamId),t.onUserMediaErrorOnCall(n)}})},this.handleToneChangeEvent=function(e){R.debug("handleToneChangeEvent :",e.tone),""!==e.tone?R.debug("Tone played: "+e.tone):R.debug("All tones have played.")},this.sendTones=function(e,t,n){R.debug("sendTones :"),this.dtmfSender&&(R.debug("sendTones : Tones, duration, gap: ",e,t,n),this.dtmfSender.insertDTMF(e,t,n))},this.addStream=function(e){var t,n=null,i=null,o=0,s=!1,l=null,c=[];if("Firefox"===r.Xh&&r.PR<51||"Chrome"===r.Xh&&r.PR<65||"Safari"===r.Xh&&r.dc<12.1||"Mobile Safari"===r.Xh&&r.dc<12.1||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)R.info("using addStream method"),this.pc.addStream(e),R.debug("end addStream method");else{if(!("Firefox"===r.Xh&&r.PR<59||"Edge"===r.Xh&&"chrome"!==apiRTC.browserDetails.type||"undefined"!=typeof apiRTC_React)){for(R.info("using addTrack/replaceTrack method"),n=e.getTracks(),t=0;t<n.length;t+=1){for(s=!1,i=this.rtpSenders[n[t].kind],o=0;o<i.length;o+=1)if(null===i[o].track){s=!0;break}if(!0===s)c.push(i[o].replaceTrack(n[t])),R.debug("addStream -> replaceTrack",i[o]);else{if("RID"===this.simulcast&&"video"===n[t].kind&&"chrome"===a.wL.type){var u=[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}];this.callControl.callConfiguration.simulcast&&this.callControl.callConfiguration.simulcast.sendEncodings&&(u=this.callControl.callConfiguration.simulcast.sendEncodings.slice()),l=this.pc.addTransceiver(n[t],{direction:"sendonly",streams:[e],sendEncodings:u}).sender}else if(l=this.pc.addTrack(n[t],e),"RID"===this.simulcast&&"video"===n[t].kind&&"firefox"===a.wL.type){var d=l.getParameters();d||(d={}),this.callControl.callConfiguration.simulcast&&this.callControl.callConfiguration.simulcast.sendEncodings?d.encodings=this.callControl.callConfiguration.simulcast.sendEncodings.slice():d.encodings=[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}],c.push(l.setParameters(d))}R.debug("addStream -> addTrack",l),this.rtpSenders[n[t].kind].push(l)}}return R.debug("end addTrack/replaceTrack method"),this.rtpSenders.audio.length>0&&(this.dtmfSender=this.rtpSenders.audio[0].dtmf,this.dtmfSender&&(this.dtmfSender.ontonechange=this.handleToneChangeEvent)),new Promise((function(e,t){Promise.all(c).then((function(t){e()})).catch(t)}))}for(R.info("using addTrack method"),n=e.getTracks(),t=0;t<n.length;t+=1)this.pc.addTrack(n[t],e);R.debug("end addTrack method")}return Promise.resolve()},this.removeStream=function(e){var t,n=null,i=[];if(R.info("removeStream in call",e.id),"Firefox"===r.Xh&&r.PR<51||"Chrome"===r.Xh&&r.PR<65||"Safari"===r.Xh&&r.dc<12.1||"Mobile Safari"===r.Xh&&r.dc<12.1||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)R.info("using removeStream method"),this.pc.removeStream(e),R.debug("end removeStream method");else{if(!("Firefox"===r.Xh&&r.PR<59||"Edge"===r.Xh&&"chrome"!==apiRTC.browserDetails.type)){for(R.info("using replaceTrack method"),t=0;t<this.rtpSenders.audio.length;t+=1)i.push(this.rtpSenders.audio[t].replaceTrack(null));for(t=0;t<this.rtpSenders.video.length;t+=1)i.push(this.rtpSenders.video[t].replaceTrack(null));return R.debug("end replaceTrack method"),new Promise((function(e,t){Promise.all(i).then((function(t){e()})).catch(t)}))}for(R.info("using removeTrack method"),n=this.pc.getSenders(),R.debug("senders :",n),t=0;t<n.length;t+=1)this.pc.removeTrack(n[t]);R.debug("end removeTrack method")}return Promise.resolve()},this.stopStream=function(e){R.info("stopStream in call");var t,n=null;if("Chrome"===r.Xh&&r.PR<45||"Firefox"===r.Xh&&r.PR<44||"Opera"===r.Xh&&r.PR<34||"Chromium"===r.Xh&&r.PR<44||"Chrome WebView"===r.Xh&&r.PR<45)R.log("... using MediaStream.stop"),e.stop();else{for(R.log("... using MediaStreamTrack.stop"),n=e.getTracks(),t=0;t<n.length;t+=1)n[t].stop();R.log("... tracks stopped")}e=null},this.addVideoMedia=function(){var t=this;R.info("addVideoMedia");var n=e.gum_config;apiCC.createUserMediaStream({callId:this.callId,type:"media",gum_config:n,success:function(n){R.debug("[addVideoMedia] success; userMediaStreamId: "+n.userMediaStreamId);var i=apiCC.getUserMediaStream(t.callConfiguration.userMediaStreamId),r=Promise.resolve();i&&(r=t.removeStream(i.stream).then((function(){e.myWebRTC_Event.createLocalStreamRemovedEvent(t.callType,t.callId,i.stream,t.remoteId,t.destCallType),apiCC.releaseUserMediaStream(i.userMediaStreamId,t.callId)}))),r.then((function(){t.callConfiguration.userMediaStreamId=n.userMediaStreamId,t.callLocalStream=n.stream,t.addStream(n.stream),t.updateMediaWithRetryManagement(!1)})).catch((function(n){R.error("Failed to addVideoMedia",n);var i=null,r=null;t.callControl&&(i=t.callControl.roomName,r=t.callControl.type),e.myWebRTC_Event.createErrorEvent("Failed to addVideoMedia","MEDIA_UPDATE_ERROR",t.callId,i,r)}))},failure:function(e,n){R.debug("[addVideoMedia] failure; userMediaStreamId: "+e.userMediaStreamId),t.onUserMediaErrorOnCall(n)}})},this.stopScreenSharing=function(){R.debug("stopScreenSharing detected"),e.removeCallFromTableWithCallIdAndSendBye(this.callId,"stop_ScreenSharing")},this.checkingMutingState=function(){var t=this,n=null;R.debug("checkingMutingState");var i=function(){(0,a.ki)(t,"mcuRemoteStream","object")||(t.mcuRemoteStream={}),t.mcuRemoteStream.videoMuted=!0},r=function(){(0,a.ki)(t,"mcuRemoteStream","object")||(t.mcuRemoteStream={}),t.mcuRemoteStream.audioMuted=!0};(0,a.ki)(this.callConfiguration,"userMediaStreamId","string")&&(n=apiCC.getUserMediaStream(this.callConfiguration.userMediaStreamId))&&(n.videoMuted?(i(),this.isLocalVideoMuted=!0):this.isLocalVideoMuted=!1,n.audioMuted?(r(),this.isLocalAudioMuted=!0):this.isLocalAudioMuted=!1);var o=function(){t.isLocalVideoMuted||(n?n.video&&!n.videoMuted&&n.muteVideoOnStreams("enabled"):t.callLocalStream&&(e.muteTracks(t.callLocalStream.getVideoTracks()),t.isLocalVideoMuted=!0),i())},s=function(){t.isLocalAudioMuted||(n?n.audio&&!n.audioMuted&&n.muteAudioOnStreams("enabled"):t.callLocalStream&&(e.muteTracks(t.callLocalStream.getAudioTracks()),t.isLocalAudioMuted=!0),r())};!0===e.isVideoMuted&&(R.log("Client is video muted, applying to call"),o()),!0===e.isAudioMuted&&(R.log("Client is audio muted, applying to call"),s()),(0,a.ki)(this.callConfiguration,"muted","string")&&(R.log("callConfiguration muted is set :",this.callConfiguration.muted),"VIDEO"===this.callConfiguration.muted&&(o(),s()),"AUDIOONLY"===this.callConfiguration.muted&&s(),"VIDEOONLY"===this.callConfiguration.muted&&o(),delete this.callConfiguration.muted)},this.onUserMediaSuccessOnCall=function(t){R.info("onUserMediaSuccessOnCall");var n=(0,a.Pj)(),i={};!0===e.userMediaErrorDetected&&(e.userMediaErrorDetected=!1,i.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(i)),R.log("isHTTPS()"+n),e.getUserMediaOnGoing=!1,R.log("User has granted access to local media."),e.accessToLocalMedia=!0,this.accessToMedia=!0,!0===this.screenSharing?(this.callType="screenSharing",null!=t&&(t.onended=this.callback(this,"stopScreenSharing"),t.getVideoTracks().length>0&&(t.getVideoTracks()[0].onended=this.callback(this,"stopScreenSharing")))):!0===this.audioOnly&&(this.callType="audio"),void 0!==t&&(this.callLocalStream=t),(0,a.yJ)()?(R.log("isHTTP true"),this.establishCall()):(R.log("webRTCClient.userAcceptOnIncomingCall :"+e.userAcceptOnIncomingCall),R.log("this.callee :"+this.callee),void 0!==this.data&&R.log("this.data.MCUType :"+this.data.MCUType),!0!==e.userAcceptOnIncomingCall||!0!==this.callee&&"MCU-Callee"!==this.data.MCUType||!1!==this.isAccepted?"LOCAL"!==this.calleeId?this.establishCall():R.log("call is not established as this is a LOCAL stream request"):R.log("Stand-by :: wait for establishCall"))},this.establishCall=function(){var t=this;R.debug("establishCall()"),!0!==this.started||!0!==this.addingUserMedia||!this.belongsToRoom()||"publish"!==this.settingUpType||this.data&&this.data.hasOwnProperty("MCUType")||!this.sessionMCU||this.sessionMCU.hasOwnProperty("roomMode")||(this.restarting=!0,this.pc.close(),this.pc=null,this.started=!1,this.localDescriptionSetted=!1,this.remoteDescriptionSetted=!1,this.sendedSdpOfferMessage=null,this.receivedSdpOfferMessage=null,this.rtpSenders={audio:[],video:[]},this.addingUserMedia=!1,this.updateUserMedia=!1,this.updateCause=null,this.incomingcandidatesQueue=[],this.message200OKReceived=!1,this.statisticId&&(clearInterval(this.statisticId),this.statisticId=null),this.csmIntervalId&&(clearInterval(this.csmIntervalId),this.csmIntervalId=null),this.instanceId=apiCC.generateInstanceId(),this.data.instanceId=this.instanceId),!0!==this.dataCall&&this.checkingMutingState(),this.maybeStart();var n=null;this.callee&&!0!==this.addingUserMedia&&!0!==this.updateUserMedia?(n=new apiCC.myWebRTC_Adapter.RTCSessionDescription(this.receivedSdpOfferMessage),R.log("Avant setRemote pour le callee :",n),null!==this.pc?(e.preferSendingH264Codec&&(R.log("Modification of SDP to set H264 as prefered sending codec"),n.sdp=e.mySDPManager.maybePreferCodec(n.sdp,"video","H264")),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("establishCall : before setRemoteDescription for callee"),this.pc.setRemoteDescription(n,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(R.log("establishCall : before setRemoteDescription for callee - Promise version"),this.pc.setRemoteDescription(n).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure")))):R.log("Error : PC is null"),this.doAnswer()):!0===this.addingUserMedia?(R.log("Adding local stream 1."),null!==this.pc?(null===this.callLocalStream&&null!==e.localStream&&(this.callLocalStream=e.localStream),null!==this.callLocalStream?(R.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream).then((function(){t.updateMediaWithRetryManagement(!1)})).catch((function(e){R.error("failed to add stream",e)}))):(R.log("No Stream to addStream"),this.updateMediaWithRetryManagement(!1))):R.error("Error : PC is null")):!0===this.updateUserMedia&&this.updateMediaWithRetryManagement(!1),R.log("End of establishCall()")},this.onUserMediaSuccessTestUni=function(){e.getUserMediaOnGoing=!1,R.info("onUserMediaSuccessTestUni : User has not granted access to local media.");var t=null,n={};!0===e.userMediaErrorDetected&&(e.userMediaErrorDetected=!1,n.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(n)),e.accessToLocalMedia=!0,this.maybeStart(),this.callee&&(t=new apiCC.myWebRTC_Adapter.RTCSessionDescription(this.receivedSdpOfferMessage),e.preferSendingH264Codec&&(R.log("Modification of SDP to set H264 as prefered sending codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("onUserMediaSuccessTestUni : before setRemoteDescription for callee"),this.pc.setRemoteDescription(t,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(R.log("onUserMediaSuccessTestUni : before setRemoteDescription for callee - Promise version"),this.pc.setRemoteDescription(t).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure"))),this.doAnswer())},this.onUserMediaErrorOnCall=function(t){var n=this;R.log("onUserMediaErrorOnCall");var i={};e.getUserMediaOnGoing=!1,setTimeout((function(){A.createErrorEvent(t,"USER_MEDIA_ERROR",n.callId)})),R.error("Failed to get access to local media. Error code was "+t.code),R.error(t),t=null,"electron"!==r.$6&&("Chrome"===r.Xh||"Mobile Chrome"===r.Xh)&&r.PR>47&&(R.log("browser_version > 47"),"https:"!==window.location.protocol&&R.error("HTTPS is now mandatory to use getUserMedia()")),!0===this.screenSharing&&(this.callType="screenSharing","https:"!==window.location.protocol?(R.log("You need to be connected using HTTPS for screenSharing"),A.createDesktopCaptureEvent("UserMediaError_HTTPS_needed",this.callId,this.remoteId)):(R.log("screenSharing UserMediaError"),A.createDesktopCaptureEvent("UserMediaError",this.callId,this.remoteId))),!0===this.callee?(this.myWebRTC_Stack.sendBye(this.callId,this.calleeId,this.dest_roomId,this.callerId,"User_Media_Error",this.data),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.callerId,"User_Media_Error")):(void 0!==this.data&&null!==this.data&&"MCU-Callee"===this.data.MCUType&&this.myWebRTC_Stack.sendBye(this.callId,this.callerId,this.dest_roomId,this.calleeId,"User_Media_Error",this.data),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.calleeId,"User_Media_Error")),!1===this.screenSharing&&(e.userMediaErrorDetected=!0,i.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(i))},this.maybeStart=function(){R.debug("maybeStart"),!this.started&&e.channelReady&&(e.accessToLocalMedia||this.dataCall)&&(R.log("Creating PeerConnection."),this.createPeerConnection(),e.unidirectionelCallOnly||!0===this.screenSharing?!1===this.callee&&(R.log("Adding local stream 2."),null!==this.callLocalStream?(R.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream)):null!==e.localStream?(R.log("Add Stream of client.localStream"),this.addStream(e.localStream),this.callLocalStream=e.localStream):R.log("No Stream to add")):this.dataCall||(R.log("Adding local stream 3."),null!==this.callLocalStream?(R.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream)):null!==e.localStream?(R.log("Add Stream of client.localStream"),this.addStream(e.localStream),this.callLocalStream=e.localStream):(R.log("No Stream to add"),this.belongsToRoom()||"safari"!==a.wL.type||"function"!=typeof this.pc.addTransceiver||(R.debug("add transceivers"),this.pc.addTransceiver("audio",{direction:"recvonly"}),this.pc.addTransceiver("video",{direction:"recvonly"})))),this.started=!0,!1===this.callee&&(R.log("Before doCall()"),this.doCall())),R.log("End of maybeStart")},this.createDataChannel=function(){if(R.info("createDataChannel"),"Edge"===r.Xh&&r.PR<79&&"chrome"!==apiRTC.browserDetails.type)R.warn("Cannot create DataChannel as it is not supported on Edge");else if(null===this.sendDataChannel)try{this.sendDataChannel=this.pc.createDataChannel("apiRTCDataChannel",{}),this.sendDataChannel.binaryType="arraybuffer",R.log("Created data channel"),R.log("Subscribing to dc events"),this.sendDataChannel.onopen=this.callback(this,"onSendDataChannelOpen"),this.sendDataChannel.onclose=this.callback(this,"onSendDataChannelClose"),this.sendDataChannel.onmessage=this.callback(this,"onSendDataChannelMessage"),this.sendDataChannel.onerror=this.callback(this,"onSendDataChannelError")}catch(e){R.log("createDataChannel() failed with exception: "+e.message)}else R.log("Datachannel already exist")},this.createPeerConnection=function(){R.info("createPeerConnection");try{R.log("createPeerConnection with pc_config:",JSON.stringify(this.pc_config)),R.log("and pc_constraints:",JSON.stringify(this.pc_constraints)),"chrome"===a.wL.type&&a.wL.version>=72&&a.wL.version<78?(R.debug("Chrome 72=+ and 78-, force sdpSemantics plan-b"),this.pc_config.sdpSemantics="plan-b"):"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc?(R.debug("Cordova, force sdpSemantics plan-b"),this.pc_config.sdpSemantics="plan-b"):R.debug("sdpSemantics unified-plan is being used"),this.pc=new apiCC.myWebRTC_Adapter.RTCPeerConnection(this.pc_config,this.pc_constraints),this.dataCall&&this.createDataChannel(),this.pc.onicecandidate=this.callback(this,"onIceCandidate")}catch(e){return R.log("Failed to create PeerConnection, exception: "+e.message),void R.error("Cannot create RTCPeerConnection object; WebRTC is not supported by this browser.")}("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>=53||"Edge"===r.Xh||"chrome"===a.wL.type&&a.wL.version>=64?(this.pc.ontrack=this.callback(this,"onRemoteTrackAdded"),this.pc.onaddstream=this.callback(this,"onRemoteStreamAdded")):"Safari"===r.Xh&&r.PR>=12||"Mobile Safari"===r.Xh&&r.PR>=12||"undefined"!=typeof apiRTC_React?this.pc.ontrack=this.callback(this,"onRemoteTrackAdded"):this.pc.onaddstream=this.callback(this,"onRemoteStreamAdded"),this.pc.onremovestream=this.callback(this,"onRemoteStreamRemoved"),this.pc.onnegotiationneeded=this.callback(this,"onNegotiationNeeded"),this.pc.onsignalingstatechange=this.callback(this,"onSignalingStateChange"),this.pc.oniceconnectionstatechange=this.callback(this,"onIceConnectionStateChange"),this.pc.ondatachannel=this.callback(this,"onDataChannel"),this.pc.onicegatheringstatechange=this.callback(this,"onIceGatheringStateChange"),this.pc.onconnectionstatechange=this.callback(this,"onConnectionStateChange"),e.qosEnable&&(this.statisticId=setInterval(this.callback(this,"getStatistics"),this.getStatsInterval)),e.csmEnable&&(this.csmLastResults={},this.csmIntervalId=setInterval(this.callback(this,"csmHandler"),this.csmIntervalMs))},this.onIceGatheringStateChange=function(e){R.log("onIceGatheringStateChange"),null!==this.pc&&(R.info("onIceGatheringStateChange, Ice Gathering State is now : "+this.pc.iceGatheringState),"complete"===this.pc.iceGatheringState&&0===this.candidateNb&&R.warn("Warning, no candidate where retrieved for this call on client"))},this.onConnectionStateChange=function(e){R.log("onConnectionStateChange event :",e)},this.onDataChannel=function(e){R.info("onDataChannel event"),this.receiveDataChannel=e.channel,this.receiveDataChannel.binaryType="arraybuffer",null===this.sendDataChannel&&(R.log("Setting this.sendDataChannel with receivedDataChannel"),this.sendDataChannel=e.channel,this.sendDataChannel.onopen=this.callback(this,"onSendDataChannelOpen"),this.sendDataChannel.onclose=this.callback(this,"onSendDataChannelClose"),this.sendDataChannel.onmessage=this.callback(this,"onSendDataChannelMessage"),this.sendDataChannel.onerror=this.callback(this,"onSendDataChannelError")),R.log("got dataChannel",e.channel.label),R.log("Subscribing to dc events"),this.receiveDataChannel.onopen=this.callback(this,"onReceiveDataChannelOpen"),this.receiveDataChannel.onclose=this.callback(this,"onReceiveDataChannelClose"),this.receiveDataChannel.onmessage=this.callback(this,"onReceiveDataChannelMessage"),this.receiveDataChannel.onerror=this.callback(this,"onReceiveDataChannelError")},this.onSendDataChannelOpen=function(t){R.info("onSendDataChannelOpen"),"data"===this.callType&&"dataChannelConnector"===this.calleeId&&(this.pushDataStatus&&"pipeline"===this.pushDataStatus.type?(this.pushDataStatus.state="ready",setTimeout((function(){e.startNextPushData()}))):!0!==this.transferStarted&&this.startTransfer()),A.createEvent({eventType:"sendDataChannelOpen",callId:this.callId,remoteId:this.remoteId,details:t})},this.onSendDataChannelClose=function(e){R.info("onSendDataChannelClose"),this.sendDataChannel=null,null!==A&&A.createEvent({eventType:"sendDataChannelClose",callId:this.callId,remoteId:this.remoteId,details:e})},this.processOnDataChannelMessage=function(e){var t,n,i=null,r=null,o="",s=0;if(R.info("processOnDataChannelMessage"),i=JSON.parse(e.data),R.log("data.uuid :"+i.uuid),R.log("data.messageSize :"+i.messageSize),R.log("data.originalDataType :"+i.originalDataType),t=i.uuid,"ArrayBuffer"===i.originalDataType&&(R.log("ArrayBuffer conversion"),i.message=a.cw.decode(i.message)),R.log("data :"+i),R.log("data.uuid :"+t),R.log("receiveChunkNb[uuid] :"+this.receiveChunkNb[t]),void 0===this.receiveChunkNb[t])R.log("receiving first packet for uuid :"+t),R.log("evt.data.message :"+e.data),this.firstDataPacket[t]=i,this.receiveChunkNb[t]=1,this.receivedSize[t]=0,this.startingDate=new Date,this.transferDuration=0,A.createEvent({eventType:"onFileReceiving",remoteId:this.remoteId,callId:this.callId,name:i.name,uuid:t}),A.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:this.firstDataPacket[t].size,callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:0,transferEnded:!1});else if(R.log("new packet for uuid :"+t),this.receiveChunkNb[t]+=1,R.log("data.messageSize :"+i.messageSize),R.log("data.message.length :"+i.message.length),s=i.messageSize||i.message.length,R.log("receivedSize :"+s),this.receiveArrayToStoreChunks[t]||(this.receiveArrayToStoreChunks[t]=[]),this.receiveArrayToStoreChunks[t].push(i.message),this.receivedSize[t]+=s,this.transferDuration=new Date-this.startingDate,this.receivedSize[t]===this.firstDataPacket[t].size){if(R.log("End of data transfert"),R.log("this.firstDataPacket.type :"+this.firstDataPacket[t].type),"image/png-dataUrl"===this.firstDataPacket[t].type){for(R.log("Photo received from a takeSnapshot"),n=0;n<this.receiveArrayToStoreChunks[t].length;n+=1)o+=this.receiveArrayToStoreChunks[t][n];r=o}else r=new window.Blob(this.receiveArrayToStoreChunks[t]);A.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:0,callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:100,transferEnded:!0}),A.createEvent({eventType:"onFileReceived",callId:this.callId,uuid:t,remoteId:this.remoteId,callerId:this.callerId,calleeId:this.calleeId,data:{file:r,name:this.firstDataPacket[t].name,type:this.firstDataPacket[t].type,uuid:t},details:e}),delete this.receiveArrayToStoreChunks[t],delete this.receivedSize[t],delete this.receiveChunkNb[t],delete this.firstDataPacket[t]}else A.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:this.firstDataPacket[t].size-this.receivedSize[t],callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*this.receivedSize[t]/this.firstDataPacket[t].size,10),transferEnded:!1})},this.onSendDataChannelMessage=function(e){R.info("onSendDataChannelMessage :",e),this.processOnDataChannelMessage(e)},this.onSendDataChannelError=function(e){R.info("onSendDataChannelError"),this.sendDataChannel=null,A.createEvent({eventType:"sendDataChannelError",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelOpen=function(e){R.info("onReceiveChannelOpen"),A.createEvent({eventType:"receiveDataChannelOpen",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelClose=function(e){R.info("onReceiveDataChannelClose"),this.receiveDataChannel=null,null!==A&&A.createEvent({eventType:"receiveDataChannelClose",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelMessage=function(e){R.info("onReceiveChannelMessage"),this.processOnDataChannelMessage(e)},this.onReceiveDataChannelError=function(e){R.info("onReceiveChannelError"),A.createEvent({eventType:"receiveDataChannelError",callId:this.callId,remoteId:this.remoteId,details:e})},this.startTransfer=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasOwnProperty("delay")?t.delay:100;!0!==this.transferStarted&&(R.info("startTransfer",n),this.transferStarted=!0,setTimeout((function(){e.dcfs||(e.dcfs=new S(e),e.data.offset>0?e.dcfs.transfer(e.fileContent.buffer,e.data.offset,e.sendDataChannel,{delay:n}):e.dcfs.transfer(e.fileContent.buffer,0,e.sendDataChannel,{delay:n}))}),n))},this.statisticsAnswer=function(t){var n=t.result(),i=null;this.qm||(this.qm=new b(this.getStatsInterval/1e3,this.callback(this,"onQosChange"),this.callback(this,"onQosAudioChange"),this.callback(this,"onQosVideoChange"),this.callId,e.apiKey,e.clientId,e.socket)),n&&(this.qm.insertStats(n,this.sendedSdpOfferMessage,this.receivedSdpOfferMessage,e.remoteVideo),i=this.qm.getAllStats(),e.qosEnable&&A.createEvent({eventType:"onQosStatsUpdate",callId:this.callId,remoteId:this.remoteId,stats:i}),this.videoReceivedWidth=i.VideoRecv.FrameWidth,this.videoReceivedHeight=i.VideoRecv.FrameHeight,this.videoSendWidth=i.VideoSend.FrameWidth,this.videoSendHeight=i.VideoSend.FrameHeight,this.videoReceivedDelay=i.VideoRecv.delay,this.audioReceivedDelay=i.AudioRecv.delay,this.audioSendDelay=i.AudioSend.rtt,this.videoSendDelay=i.VideoSend.rtt,this.videoSendMoyDelay=i.VideoSend.moyRtt,this.videoSendPacketLossRatio=i.VideoSend.packetLostRatio,this.audioSendPacketLossRatio=i.AudioSend.packetLostRatio,this.videoSendEncodeUsagePercent=i.VideoSend.googEncodeUsagePercent,this.videoSendCpuLimitedResolution=i.VideoSend.googCpuLimitedResolution,this.videoSendBandwidthLimitedResolution=i.VideoSend.googBandwidthLimitedResolution,void 0!==this.videoSendCpuLimitedResolution&&!0===JSON.parse(this.videoSendCpuLimitedResolution)&&A.createEvent({eventType:"cpuLimited",callId:this.callId,encodeUsagePercent:this.videoSendEncodeUsagePercent}),void 0!==this.videoSendBandwidthLimitedResolution&&!0===JSON.parse(this.videoSendBandwidthLimitedResolution)&&A.createEvent({eventType:"bandwidthLimited",callId:this.callId}))},this.csmGetStatsHandler=function(t){var n,i=this,o=null,s=null,l={};if(this.csm||(this.csm=new I(this.csmIntervalMs/1e3,a.wL.type,a.wL.version,"standard"),this.csm.browserInfo={browserAbout:r.Xh+" "+r.dc,browserType:a.wL.type,browserVersion:a.wL.version},(0,a.Ym)(this.mcuRemoteStream,"attributes","object")&&(!0===this.mcuRemoteStream.replay?(0,a.Ym)(this.mcuRemoteStream.attributes.callerId,"string")&&(0,a.Ym)(this.mcuRemoteStream.attributes.callId,"string")&&(0,a.Ym)(this.mcuRemoteStream.attributes.recId,"string")&&(this.csm.callFeed={clientId:this.mcuRemoteStream.attributes.callerId,callId:this.mcuRemoteStream.attributes.callId,modifier:"replay",recId:this.mcuRemoteStream.attributes.recId}):(0,a.Ym)(this.mcuRemoteStream.attributes.callerId,"string")&&(0,a.Ym)(this.mcuRemoteStream.attributes.callId,"string")&&(this.csm.callFeed={clientId:this.mcuRemoteStream.attributes.callerId,callId:this.mcuRemoteStream.attributes.callId}))),l.post=function(e){i.mos||(i.mos=new T),e.quality={},e.audioReceived?i.isRemoteAudioMuted?e.quality.mosS="Muted":0!==e.audioReceived.bitsReceivedPerSecond?(e.audioReceived.delay=parseInt(i.audioReceivedDelay,10),e.quality.mosS=i.mos.NarrowBandSpeechQuality(e.audioReceived.delay,e.audioReceived.packetLossRatio)):e.quality.mosS="NoStream":e.quality.mosS="NoStream",e.videoReceived?i.isRemoteVideoMuted?e.quality.mosV="Muted":0!==e.videoReceived.bitsReceivedPerSecond?(e.videoReceived.width=i.videoReceivedWidth,e.videoReceived.height=i.videoReceivedHeight,e.videoReceived.delay=parseInt(i.videoReceivedDelay,10),e.quality.mosV=i.mos.videoQuality(e.videoReceived.width,e.videoReceived.height,e.videoReceived.packetLossRatio,Math.floor(e.videoReceived.bitsReceivedPerSecond/1e3),e.videoReceived.framesDecodedPerSecond)):e.quality.mosV="NoStream":e.quality.mosV="NoStream",e.audioReceived&&e.videoReceived&&(e.quality.mosAV=i.mos.audiovisualQuality(e.quality.mosS,e.quality.mosV,e.audioReceived.delay,e.videoReceived.delay)),e.audioSent?i.isLocalAudioMuted?e.quality.mosSS="Muted":0!==e.audioSent.bitsSentPerSecond?(e.audioSent.delay=parseInt(i.audioSendDelay,10),e.audioSent.packetLossRatio=i.audioSendPacketLossRatio,e.quality.mosSS=i.mos.NarrowBandSpeechQuality(e.audioSent.delay,e.audioSent.packetLossRatio)):e.quality.mosSS="NoStream":e.quality.mosSS="NoStream",e.videoSent?i.isLocalVideoMuted?e.quality.mosSV="Muted":0!==e.videoSent.bitsSentPerSecond?(e.videoSent.width=i.videoSendWidth,e.videoSent.height=i.videoSendHeight,e.videoSent.delay=parseInt(i.videoSendDelay,10),e.videoSent.moyDelay=parseInt(i.videoSendMoyDelay,10),e.videoSent.packetLossRatio=i.videoSendPacketLossRatio,e.videoSent.encodeUsagePercent=i.videoSendEncodeUsagePercent,e.videoSent.cpuLimitedResolution=i.videoSendCpuLimitedResolution,e.videoSent.bandwidthLimitedResolution=i.videoSendBandwidthLimitedResolution,e.quality.mosSV=i.mos.videoQuality(e.videoSent.width,e.videoSent.height,e.videoSent.packetLossRatio,Math.floor(e.videoSent.bitsSentPerSecond/1e3),e.videoSent.framesEncodedPerSecond)):e.quality.mosSV="NoStream":e.quality.mosSV="NoStream",e.audioSent&&e.videoSent&&(e.quality.mosSAV=i.mos.audiovisualQuality(e.quality.mosSS,e.quality.mosSV,e.audioSent.delay,e.videoSent.delay))},n=this.csm.addCallStats(t,l),0!==Object.keys(n).length){!n.quality||"Muted"===n.quality.mosS&&"Muted"===n.quality.mosV&&"Muted"===n.quality.mosSS&&"Muted"===n.quality.mosSV||e.qualityScoreEnable&&A.createEvent({eventType:"onCallScoreUpdate",callId:this.callId,score:n.quality}),this.csmLastResults=n,this.callLocalStream&&"function"==typeof this.callLocalStream.getVideoTracks&&(o=this.callLocalStream.getVideoTracks())&&o[0]&&"function"==typeof o[0].getSettings&&(s=o[0].getSettings());var c={save:!0,clientId:e.clientId,callId:this.callId,instanceId:this.instanceId,browserInfo:this.csm.browserInfo,stats:n};this.sessionMCU&&(c.roomId=this.sessionMCU.roomName,c.pubSub=e.MCUClient.pubConnector),this.csm.callFeed&&(c.callFeed=this.csm.callFeed),s&&(c.videoSettings=s),this.data.mesh&&(c.mesh=this.data.mesh),this.myWebRTC_Stack.sendInfo("callStats",c),e.csmEnable&&(this.data&&this.data.mesh&&(this.data.mesh.calleeCompositeUserId?this.data.mesh.calleeCompositeUserId===e.compositeClientId:this.data.mesh.calleeId===e.clientId)?A.createEvent({eventType:"onCallStatsUpdate",callId:this.data.mesh.calleeCallId,userId:this.data.mesh.callerId,stats:n}):A.createEvent({eventType:"onCallStatsUpdate",callId:this.callId,stats:n}))}},this.onQosChange=function(e,t){A.createEvent({eventType:"onQosChange",callId:this.callId,remoteId:this.remoteId,qosIn:e,qosOut:t})},this.onQosAudioChange=function(e,t){A.createEvent({eventType:"onQosAudioChange",callId:this.callId,remoteId:this.remoteId,qosAudioIn:e,qosAudioOut:t})},this.onQosVideoChange=function(e,t){A.createEvent({eventType:"onQosVideoChange",callId:this.callId,remoteId:this.remoteId,qosVideoIn:e,qosVideoOut:t})},this.getStatistics=function(){this.pc&&(("Chrome"===r.Xh||"Mobile Chrome"===r.Xh)&&r.PR>112?R.debug("getStats with callback in now deprecated on Chrome, getStatistics() / QoSMonitor can no more be used"):!this.pc.getStats||"Chrome"!==r.Xh&&"Mobile Chrome"!==r.Xh||this.pc.getStats(this.callback(this,"statisticsAnswer")))},this.csmHandler=function(){this.statisticId||this.getStatistics(),this.pc&&"function"==typeof this.pc.getStats&&this.pc.getStats(null).then(this.callback(this,"csmGetStatsHandler")).catch((function(e){R.warn("failed to get stats",e)}))},this.doCall=function(){var e=null;R.log("Sending offer to peer"),this.audioOnly?(R.log("audioOnly call :",this.mediaConstraintsAudioOnly),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraintsAudioOnly)):(R.log("createOffer - Promise version"),this.pc.createOffer(this.mediaConstraintsAudioOnly).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):!0===this.screenSharing?(R.log("screenSharing call : one way media :",e),e={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),e)):(R.log("createOffer - Promise version"),this.pc.createOffer(e).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):!0===this.dataCall?(R.log("call is data only :",e),e=("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>43?{offerToReceiveAudio:!1,offerToReceiveVideo:!1}:{mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),e)):(R.log("createOffer - Promise version"),this.pc.createOffer(e).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):(R.log("call is audio & video :",this.mediaConstraints),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraints)):(R.log("createOffer - Promise version"),this.pc.createOffer(this.mediaConstraints).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure"))))},this.doAnswer=function(){R.info("doAnswer");var e=null;this.audioOnly?(R.log("audioOnly call"),e=this.mediaConstraintsAudioOnly):e=this.mediaConstraints,"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createAnswer"),this.pc.createAnswer(this.callback(this,"setLocalAndSendMessage"),this.callback(this,"onCreateAnswerFailure"),e)):(R.log("createAnswer - Promise version"),this.pc.createAnswer(e).then(this.callback(this,"setLocalAndSendMessage")).catch(this.callback(this,"onCreateAnswerFailure")))},this.doUpdateAnswer=function(){R.info("doUpdateAnswer");var e=null;this.audioOnly?(R.log("audioOnly call"),e=this.mediaConstraintsAudioOnly):e=this.mediaConstraints,"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createAnswer"),this.pc.createAnswer(this.callback(this,"setLocalAndSendMessageUpdate"),this.callback(this,"onCreateAnswerFailure"),e)):(R.log("createAnswer - Promise version"),this.pc.createAnswer(e).then(this.callback(this,"setLocalAndSendMessageUpdate")).catch(this.callback(this,"onCreateAnswerFailure")))},this.updateMediaWithRetryManagement=function(e){R.debug("updateMediaWithRetryManagement");var t=this.updateMedia(e);R.debug("updateMediaResult :",t),"Sig_state_not_stable"!==t.reason&&"Update_already_ongoing"!==t.reason||(R.debug("updateMedia will be retried later for reason :",t.reason),this.retryUpdateMedia=!0)},this.updateMedia=function(e){return R.debug("updateMedia, callId :",this.callId),R.log("iceRestartActivated :",e),null===this.pc?(R.log("updateMedia, pc no more exist"),{status:"Not_Done",reason:"PC_Not_Exit"}):!0===this.updateMediaOngoing?(R.log("updateMedia, already ongoing"),{status:"Not_Done",reason:"Update_already_ongoing"}):(this.updateMediaOngoing=!0,"stable"!==this.pc.signalingState?{status:"Not_Done",reason:"Sig_state_not_stable"}:(R.log("Sending Update offer to peer."),this.audioOnly?(R.log("audioOnly call :",this.mediaConstraintsAudioOnly),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),void 0!==this.mediaConstraintsAudioOnly.mandatory?this.mediaConstraintsAudioOnly.mandatory.IceRestart=!0:this.mediaConstraintsAudioOnly.iceRestart=!0,R.log("this.mediaConstraints :",this.mediaConstraintsAudioOnly),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOfferUpdate"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraintsAudioOnly)):(R.log("createOffer - Promise version"),!0===e&&(this.mediaConstraintsAudioOnly.iceRestart=!0),R.log("this.mediaConstraints :",this.mediaConstraintsAudioOnly),this.pc.createOffer(this.mediaConstraintsAudioOnly).then(this.callback(this,"setLocalAndSendMessageonOfferUpdate")).catch(this.callback(this,"onCreateOfferFailure")))):"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("createOffer"),!0===e&&(void 0!==this.mediaConstraints.mandatory?this.mediaConstraints.mandatory.IceRestart=!0:this.mediaConstraints.iceRestart=!0),R.log("this.mediaConstraints :",this.mediaConstraints),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOfferUpdate"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraints)):(R.log("createOffer - Promise version"),!0===e&&(this.mediaConstraints.iceRestart=!0),R.log("this.mediaConstraints :",this.mediaConstraints),this.pc.createOffer(this.mediaConstraints).then(this.callback(this,"setLocalAndSendMessageonOfferUpdate")).catch(this.callback(this,"onCreateOfferFailure"))),{status:"OnGoing",reason:"OK"}))},this.manipulateSDP=function(t,n){var i=null,r=!1;return R.log("manipulateSDP with type :",n),!0===e.receiveMediaDeactivated&&(R.log("setting receiveMediaDeactivated in SDP :"+e.receiveMediaDeactivated),t.sdp=e.mySDPManager.setSendOnly(t.sdp)),!0===e.RTPMedia&&(t.sdp=t.sdp.replace(/RTP\/SAVPF/g,"RTP/SF")),null!==e.audioBandwidth&&(R.log("setting audioBandwidth in SDP :"+e.audioBandwidth),t.sdp=e.mySDPManager.setAudioBandwidth(t.sdp,e.audioBandwidth)),null!==e.videoBandwidth&&(R.log("setting videoBandwidth in SDP :"+e.videoBandwidth),t.sdp=e.mySDPManager.setVideoBandwidth(t.sdp,e.videoBandwidth)),null!==e.dataBandwidth&&(R.log("setting dataBandwidth in SDP :"+e.dataBandwidth),t.sdp=e.mySDPManager.setDataBandwidth(t.sdp,e.dataBandwidth)),!0===e.preferOpusCodec&&(R.log("setting preferOpusCodec"),t.sdp=e.mySDPManager.preferOpus(t.sdp)),!0!==e.preferVP9Codec&&!0!==this.preferVP9Codec||(R.log("Call prefer VP9 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","VP9")),!0!==e.preferH264Codec&&!0!==this.preferH264Codec||(R.log("Call prefer H264 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),!0===this.preferVP8Codec&&(R.log("Call prefer VP8 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","VP8")),!0===e.setStereo&&(R.log("Set Stereo"),t.sdp=e.mySDPManager.setCodecParam(t.sdp,"opus/48000","stereo","1")),t=e.mySDPManager.updateSDPcodecs(t,t.type,"audio",e.allowedAudioCodecs),t=e.mySDPManager.updateSDPcodecs(t,t.type,"video",e.allowedVideoCodecs),"OFFER"===n?"publish"===this.settingUpType&&"NONE"===this.mediaTypeForIncomingCall?(i=e.mySDPManager.createGuideline(t.sdp),"VIDEO"===this.mediaTypeForOutgoingCall?((0,a.ki)(i,"audio","object")&&"sendonly"!==i.audio.direction&&(i.audio.direction="sendonly",r=!0),(0,a.ki)(i,"video","object")&&"sendonly"!==i.video.direction&&(i.video.direction="sendonly",r=!0)):"AUDIO"===this.mediaTypeForOutgoingCall?((0,a.ki)(i,"audio","object")&&"sendonly"!==i.audio.direction&&(i.audio.direction="sendonly",r=!0),(0,a.ki)(i,"video","object")&&"inactive"!==i.video.direction&&(i.video.direction="inactive",r=!0)):"VIDEOONLY"===this.mediaTypeForOutgoingCall&&((0,a.ki)(i,"audio","object")&&"inactive"!==i.audio.direction&&(i.audio.direction="inactive",r=!0),(0,a.ki)(i,"video","object")&&"sendonly"!==i.video.direction&&(i.video.direction="sendonly",r=!0)),!0===r&&(t.sdp=i.generate())):"VIDEO"===this.mediaTypeForOutgoingCall?R.log("mediaTypeForOutgoingCall is VIDEO"):"AUDIO"===this.mediaTypeForOutgoingCall||!0===this.audioOnly?(R.log("mediaTypeForOutgoingCall is AUDIO"),t.sdp=e.mySDPManager.setRecvOnlyForVideo(t.sdp)):"VIDEOONLY"===this.mediaTypeForOutgoingCall?(R.log("mediaTypeForOutgoingCall is VIDEOONLY"),t.sdp=e.mySDPManager.setRecvOnlyForAudio(t.sdp)):"NONE"===this.mediaTypeForOutgoingCall&&(R.log("mediaTypeForOutgoingCall is NONE"),t.sdp=e.mySDPManager.setRecvOnly(t.sdp)):"ANSWER"===n&&("VIDEO"===this.mediaTypeForIncomingCall?R.log("mediaTypeForIncomingCall is VIDEO"):"AUDIO"===this.mediaTypeForIncomingCall||!0===this.audioOnly?(R.log("mediaTypeForIncomingCall is AUDIO"),t.sdp=e.mySDPManager.setRecvOnlyForVideo(t.sdp)):"VIDEOONLY"===this.mediaTypeForIncomingCall?(R.log("mediaTypeForIncomingCall is VIDEOONLY"),t.sdp=e.mySDPManager.setRecvOnlyForAudio(t.sdp)):"NONE"===this.mediaTypeForIncomingCall&&(R.log("mediaTypeForIncomingCall is NONE"),t.sdp=e.mySDPManager.setRecvOnly(t.sdp))),"SDP"===this.simulcast&&"OFFER"===n&&"publish"===this.settingUpType&&((i=e.mySDPManager.createGuideline(t.sdp)).mungeForSimulcasting(),t.sdp=i.generate()),t},this.setLocalAndSendMessageonOffer=function(t){R.info("setLocalAndSendMessageonOffer"),R.log("sessionDescription = ",t),R.log("sessionDescription.sdp = ",t.sdp);var n=null;t.sdp=this.manipulateSDP(t,"OFFER").sdp,R.log("manipulated sessionDescription.sdp = ",t.sdp),!0===this.stripAudioSDPActivated&&(t.sdp=e.mySDPManager.stripAudioMediaDescriptionFromSDP(t.sdp)),!0===this.stripVideoSDPActivated&&(t.sdp=e.mySDPManager.stripVideoMediaDescriptionFromSDP(t.sdp)),this.setLocalCallProfile(e.evalCallProfileWithSdp(t.sdp,"local","send")),this.sendedSdpOfferMessage=t,!0===this.dataCall&&(R.log("setLocalAndSendMessageonOffer : data Call"),this.callType="data"),!1===this.callCancelled?!1===e.NtoNConf?(R.log("Conf N to 1"),!0===this.screenSharing&&(n=e.mySDPManager.getAudioMediaDescriptionPart(this.sendedSdpOfferMessage.sdp),this.callType=null!=n?"screenSharingWithAudio":"screenSharing"),this.data&&"MCU-Caller"===this.data.MCUType&&(this.data.mediaStreamId=this.callLocalStream.id),!0===this.trickleIce&&(this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,this.callType,{offer:t,data:this.data,stream:this.mcuRemoteStream,volatile:!!this.restarted}),this.inviteSended=!0),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessageonOffer : before setLocalDescription"),this.pc.setLocalDescription(this.sendedSdpOfferMessage,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(R.log("setLocalAndSendMessageonOffer : before setLocalDescription - Promise version"),this.pc.setLocalDescription(this.sendedSdpOfferMessage).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure")))):(R.log("Conf N to N"),this.myWebRTC_Stack.sendInviteBroadcast(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,t),this.inviteSended=!0):(R.warn("Invite is not sent has call has been canceled"),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.calleeId,"Call_Cancelled"),0===e.callsTable.length&&R.log("No more established calls for client"))},this.setLocalAndSendMessageonOfferUpdate=function(t){var n,i=null;R.info("setLocalAndSendMessageonOfferUpdate, sessionDescription :"+t),this.sendedSdpOfferMessage=t,R.log("sessionDescription.sdp = ",t.sdp),((0,a.Ym)(this.audioSdpDirection,"string")||(0,a.Ym)(this.videoSdpDirection,"string"))&&(i=e.mySDPManager.createGuideline(t.sdp),(0,a.ki)(i,"audio","object")&&(0,a.Ym)(this.audioSdpDirection,"string")&&(i.audio.direction=this.audioSdpDirection),(0,a.ki)(i,"video","object")&&(0,a.Ym)(this.videoSdpDirection,"string")&&(i.video.direction=this.videoSdpDirection),t.sdp=i.generate()),this.setLocalCallProfile(e.evalCallProfileWithSdp(t.sdp,"local","send"),!0),n=this.callee?this.callerId:this.calleeId,!0===this.trickleIce?(this.myWebRTC_Stack.sendUpdate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t,this.callType,this.data),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(R.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure")))):(R.log("Updating PC offer and answer after switch Stream"),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(R.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure"))),e.preferSendingH264Codec&&(R.log("Modification of SDP to set H264 as prefered sending codec"),this.pc.remoteDescription.sdp=e.mySDPManager.maybePreferCodec(this.pc.remoteDescription.sdp,"video","H264")),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessageonOfferUpdate : before setRemoteDescription"),this.pc.setRemoteDescription(this.pc.remoteDescription,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(R.log("setLocalAndSendMessageonOfferUpdate : before setRemoteDescription - Promise version"),this.pc.setRemoteDescription(this.pc.remoteDescription).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure"))))},this.onCreateOfferFailure=function(e){R.info("onCreateOfferFailure"+e),e=null},this.onCreateAnswerFailure=function(e){R.info("onCreateAnswerFailure"+e),e=null},this.setLocalAndSendMessage=function(t){var n;R.info("setLocalAndSendMessage"),R.log("sessionDescription.sdp = ",t.sdp),null!==this.pc?(t=this.manipulateSDP(t,"ANSWER"),n=e.mySDPManager.createGuideline(t.sdp),this.setLocalCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","send")),this.setRemoteCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","receive")),R.log("manipulated sessionDescription.sdp = ",t.sdp),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessage : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(R.log("setLocalAndSendMessage : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure"))),this.sendedSdpOfferMessage=t,!0===this.trickleIce&&this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,t,this.data)):R.log("setLocalAndSendMessage, pc no more exist")},this.setLocalAndSendMessageUpdate=function(t){var n,i;null!==this.pc?("safari"===a.wL.type&&(t.sdp=this.manipulateSDP(t,"OFFER").sdp),n=e.mySDPManager.createGuideline(t.sdp),"AUDIOONLY"===this.mediaType?n.hasOwnProperty("video")&&"inactive"!==n.video.direction&&(R.debug("Only audio was requested at call setup: deactivating video"),n.video.direction="inactive",t.sdp=n.generate()):"VIDEOONLY"===this.mediaType&&n.hasOwnProperty("audio")&&"inactive"!==n.audio.direction&&(R.debug("Only video was requested at call setup: deactivating audio"),n.audio.direction="inactive",t.sdp=n.generate()),this.setLocalCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","send"),!0),this.setRemoteCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","receive"),!0),this.updateOngoingTimeoutId&&(clearTimeout(this.updateOngoingTimeoutId),delete this.updateOngoingTimeoutId),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?(R.log("setLocalAndSendMessageUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(R.log("setLocalAndSendMessageUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure"))),i=this.callee?this.callerId:this.calleeId,this.myWebRTC_Stack.send200Update(this.callId,this.callerId,this.calleeId,this.dest_roomId,i,t,this.data),this.asyncCallbacks&&"updateMediaType"===this.asyncCallbacks.type&&(R.debug("asyncCallbacks resolve"),this.asyncCallbacks.resolve(),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks)):R.log("setLocalAndSendMessageUpdate, pc no more exist")},this.onIceCandidate=function(t){try{R.debug("onIceCandidate :",JSON.stringify(t.candidate))}catch(e){R.error(e)}var n,i=0,r=0;n=this.callee?this.callerId:this.calleeId,null!==this.pc&&(R.debug("Ice Connection State is now : "+this.pc.iceConnectionState),R.debug("Ice Gathering State is now : "+this.pc.iceGatheringState)),t.candidate?(this.candidateNb+=1,!0===this.trickleIce?this.mediaRoutingMode===e.mediaRoutingModeEnum.hostOnly?-1!==(i=t.candidate.candidate.search("host"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate,{volatile:!!this.restarted}):R.log("Media routing mode is hostOnly and not a HOST Candidate : ignoring message"):this.mediaRoutingMode===e.mediaRoutingModeEnum.stun?(i=t.candidate.candidate.search("host"),r=t.candidate.candidate.search("srflx"),-1!==i||-1!==r?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate,{volatile:!!this.restarted}):R.log("Media routing mode is stun and not a HOST or SRFLX Candidate : ignoring message")):this.mediaRoutingMode===e.mediaRoutingModeEnum.stunOnly?-1!==(i=t.candidate.candidate.search("srflx"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate,{volatile:!!this.restarted}):R.log("Media routing mode is stunOnly and not a SRFLX Candidate : ignoring message"):this.mediaRoutingMode===e.mediaRoutingModeEnum.turn?(R.log("Media routing mode is turn : all candidates are considered"),this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate,{volatile:!!this.restarted})):this.mediaRoutingMode===e.mediaRoutingModeEnum.turnOnly&&(-1!==(i=t.candidate.candidate.search("relay"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate,{volatile:!!this.restarted}):R.log("Media routing mode is TurnOnly and not a RELAY Candidate : ignoring message")):R.log("trickleIce is deactivated : candidates are not sended")):(R.info("End of candidates."),!1===this.trickleIce&&(R.log("trickleIce === false"),!0===this.callee?(0!==this.send200OKTrickleIceFalseTimeOutId&&(clearTimeout(this.send200OKTrickleIceFalseTimeOutId),this.send200OKTrickleIceFalseTimeOutId=0),!1===this.message200OKSended?this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,this.pc.localDescription,this.data):R.log("200OK already sended")):null!==this.pc&&(0!==this.sendInviteTrickleIceFalseTimeOutId&&(clearTimeout(this.sendInviteTrickleIceFalseTimeOutId),this.sendInviteTrickleIceFalseTimeOutId=0),!1===this.inviteSended?(R.log("sendInvite on end of candidate"),this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,this.callType,{offer:this.pc.localDescription,data:this.data,stream:this.mcuRemoteStream,volatile:!!this.restarted}),this.inviteSended=!0):R.log("Invite already sended"))))},this.combineRemoteStreams=function(e,t,n,i){var r=e.getTracks(),a=n.getTracks();if(1===r.length&&1===a.length&&("audio"===r[0].kind&&"video"===a[0].kind||"video"===r[0].kind&&"audio"===a[0].kind)){R.debug("combineRemoteStreams");var o=new MediaStream;return o.addTrack(r[0]),o.addTrack(a[0]),"internal"===i&&(n.removeTrack(a[0]),this.onRemoteStreamRemoved({stream:n})),"internal"===t&&(e.removeTrack(r[0]),this.onRemoteStreamRemoved({stream:e})),this.onRemoteStreamAdded({stream:o}),!0}return!1},this.checkRemoteStreamExists=function(e,t){var n=!1,i=null,r=null,a=null,o=null,s=null;for(t&&Array.isArray(t)&&(o=t.slice(0)),i=this.remoteMediaStreams.length;--i>=0;){if(this.remoteMediaStreams[i].id===e){n=!0;break}if(o)for(a=(r=this.remoteMediaStreams[i].getTracks()).length;--a>=0;)(s=t.indexOf(r[a].id))>=0&&(o[s]=!0)}if(!n&&o){for(s=0,a=o.length;--a>=0;)!0===o[a]&&(s+=1);s===o.length&&(n=!0)}return n},this.onRemoteStreamAdded=function(t){var n,i,r=this;if(R.info("onRemoteStreamAdded",t),this.checkRemoteStreamExists(t.stream.id,t.stream.getTracks().map((function(e){return e.id}))))R.debug("onRemoteStreamAdded: ignoring event; stream/track already known");else if(1!==this.remoteMediaStreams.length||!this.combineRemoteStreams(this.remoteMediaStreams[0],"internal",t.stream,"event")){R.debug("onRemoteStreamAdded adding",t.stream.id),"janus"===t.stream.id&&this.data.remoteMediaStreamId&&(R.debug("onRemoteStreamAdded adding remoteMediaStreamId on stream :",this.data.remoteMediaStreamId),t.stream.remoteMediaStreamId=this.data.remoteMediaStreamId),this.remoteMediaStreams.push(t.stream),R.log("CallId is :"+this.callId),R.log("ClientId is :"+e.clientId),this.sessionMCU&&"new"===this.sessionMCU.modeChangeKind&&e.processRemoteStreamAdded(this,t.stream),!0===this.screenSharing?this.callType="screenSharing":!0===this.audioOnly&&(this.callType="audio");var a,o=function(e){var t=null,n=null;e.onmute=function(i){R.debug(e.kind+" mute event");var a="";"audio"===e.kind&&null===t?t=setTimeout((function(){r.isRemoteAudioSilent=!0,a="audioIsSilentLocally";var e={},n={},i=[];i.push(a),e.available=r.remoteCallProfile.audio,e.active=r.remoteCallProfile.audioActive,e.muted=r.isRemoteAudioMuted,e.silent=r.isRemoteAudioSilent,n.available=r.remoteCallProfile.video,n.active=r.remoteCallProfile.videoActive,n.muted=r.isRemoteVideoMuted,n.silent=r.isRemoteVideoSilent,r.myWebRTC_Event.createRemoteStreamUpdatedEvent(i,e,n,r.destCallType,r.callId,"browserAction"),t=null}),2520):"video"===e.kind&&null===n&&(n=setTimeout((function(){r.isRemoteVideoSilent=!0,a="videoIsSilentLocally";var e={},t={},i=[];i.push(a),e.available=r.remoteCallProfile.audio,e.active=r.remoteCallProfile.audioActive,e.muted=r.isRemoteAudioMuted,e.silent=r.isRemoteAudioSilent,t.available=r.remoteCallProfile.video,t.active=r.remoteCallProfile.videoActive,t.muted=r.isRemoteVideoMuted,t.silent=r.isRemoteVideoSilent,r.myWebRTC_Event.createRemoteStreamUpdatedEvent(i,e,t,r.destCallType,r.callId,"browserAction"),n=null}),2520))},e.onunmute=function(i){if(R.debug(e.kind+" unmute event"),"audio"===e.kind&&null!==t)clearTimeout(t),t=null;else if("video"===e.kind&&null!==n)clearTimeout(n),n=null;else{var a="";"audio"===e.kind?(r.isRemoteAudioSilent=!1,a="audioIsSilentLocally"):"video"===e.kind&&(r.isRemoteVideoSilent=!1,a="videoIsSilentLocally");var o={},s={},l=[];l.push(a),o.available=r.remoteCallProfile.audio,o.active=r.remoteCallProfile.audioActive,o.muted=r.isRemoteAudioMuted,o.silent=r.isRemoteAudioSilent,s.available=r.remoteCallProfile.video,s.active=r.remoteCallProfile.videoActive,s.muted=r.isRemoteVideoMuted,s.silent=r.isRemoteVideoSilent,r.myWebRTC_Event.createRemoteStreamUpdatedEvent(l,o,s,r.destCallType,r.callId,"browserAction")}},e.onended=function(i){R.debug(e.kind+" ended event"),"audio"===e.kind&&null!==t?(clearTimeout(t),t=null):"video"===e.kind&&null!==n&&(clearTimeout(n),n=null)}},s=E(t.stream.getVideoTracks());try{for(s.s();!(a=s.n()).done;){var l=a.value;o(l),this.isRemoteVideoSilent=l.muted}}catch(e){s.e(e)}finally{s.f()}var c,u=E(t.stream.getAudioTracks());try{for(u.s();!(c=u.n()).done;){var d=c.value;o(d),this.isRemoteAudioSilent=d.muted}}catch(e){u.e(e)}finally{u.f()}n={available:this.remoteCallProfile.audio,active:this.remoteCallProfile.audioActive,muted:this.isRemoteAudioMuted,silent:this.isRemoteAudioSilent},i={available:this.remoteCallProfile.video,active:this.remoteCallProfile.videoActive,muted:this.isRemoteVideoMuted,silent:this.isRemoteVideoSilent},null!==this.data?void 0!==this.data.mesh?e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,i):"publish"===this.data.type&&"passive"!==this.data.mode?R.warn("Filtering Remote stream added event (behavior on Chrome 44), no remote stream on publish calls"):!0===this.data.subscribeOrder&&void 0!==this.data.pubCallId?(R.debug("substitute callId: "+this.callId+" -> "+this.data.pubCallId),e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.data.pubCallId,t.stream,this.remoteId,this.destCallType,n,i)):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,i):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,i)}},this.onRemoteTrackAdded=function(t){var n,i;if(R.info("onRemoteTrackAdded",t),void 0!==t.streams[0]&&void 0!==t.track){if(this.checkRemoteStreamExists(t.streams[0].id,[t.track.id]))R.debug("onRemoteTrackAdded: ignoring event; stream/track already known");else if(1!==this.remoteMediaStreams.length||!this.combineRemoteStreams(this.remoteMediaStreams[0],"internal",t.streams[0],"event")){if(this.belongsToRoom()){if("audio"===this.callType&&"audio"!==t.track.kind||"videoOnly"===this.callType&&"video"!==t.track.kind||"media"===this.callType&&"video"!==t.track.kind||"screenSharing"===this.callType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.callType&&"video"!==t.track.kind)return void R.debug("onRemoteTrackAdded: ignoring event; callType: "+this.callType+", event.track.kind: "+t.track.kind)}else if("audio"===this.destCallType&&"audio"!==t.track.kind||"videoOnly"===this.destCallType&&"video"!==t.track.kind||"media"===this.destCallType&&"video"!==t.track.kind||"screenSharing"===this.destCallType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"!==t.track.kind)return R.debug("onRemoteTrackAdded: ignoring event; destCallType: "+this.destCallType+", event.track.kind: "+t.track.kind),void(2===this.remoteMediaStreams.length&&this.combineRemoveStreams(this.remoteMediaStreams[0],"internal",this.remoteMediaStreams[1],"internal"));R.debug("onRemoteTrackAdded adding; stream.id: "+t.streams[0].id),this.remoteMediaStreams.push(t.streams[0]),R.log("CallId is :"+this.callId),R.log("ClientId is :"+e.clientId),R.log("this.callType :"+this.callType),!0===this.screenSharing?this.callType="screenSharing":!0===this.audioOnly&&(this.callType="audio"),this.sessionMCU&&"new"===this.sessionMCU.modeChangeKind&&e.processRemoteStreamAdded(this,t.streams[0]),t.streams[0].onaddtrack=function(e){R.debug("onRemoteTrackAdded ontrack.onaddtrack",e)},t.streams[0].onremovetrack=function(t){var n=null;if(R.debug("onRemoteTrackAdded ontrack.onremovetrack",t),this.updateOngoingTimeoutId)return R.debug("onRemoteTrackAdded onremovetrack: update ongoing"),void R.debug("onRemoteTrackAdded onremovetrack: ignoring event",t.track.kind);if("audio"===this.callType&&"audio"!==t.track.kind||"videoOnly"===this.callType&&"video"!==t.track.kind||"media"===this.callType&&"video"!==t.track.kind||"screenSharing"===this.callType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.callType&&"video"!==t.track.kind)R.debug("onRemoteTrackAdded onremovetrack: ignoring event",t.track.kind);else if(t.target instanceof MediaStream){for(n=this.remoteMediaStreams.length;--n>=0;)if(this.remoteMediaStreams[n].id===t.target.id){R.debug("onRemoteTrackAdded onremovetrack removing",t.target.id),this.remoteMediaStreams.splice(n,1);break}e.myWebRTC_Event.createRemoteStreamRemovedEvent(this.callType,this.callId,t.target,this.remoteId,this.destCallType)}else R.debug("onRemoteTrackAdded onremovetrack: ignoring event target not MediaStream")}.bind(this),n={available:this.remoteCallProfile.audio,active:this.remoteCallProfile.audioActive,muted:this.isRemoteAudioMuted,silent:this.isRemoteAudioSilent},i={available:this.remoteCallProfile.video,active:this.remoteCallProfile.videoActive,muted:this.isRemoteVideoMuted,silent:this.isRemoteVideoSilent},null!==this.data?void 0!==this.data.mesh?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,i):"publish"===this.data.type&&"passive"!==this.data.mode?R.warn("Filtering Remote stream added event (behavior on Chrome 44), no remote stream on publish calls"):this.belongsToRoom()?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&(!0===this.data.subscribeOrder&&void 0!==this.data.pubCallId?(R.debug("substitute callId: "+this.callId+" -> "+this.data.pubCallId),e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.data.pubCallId,t.streams[0],this.remoteId,this.destCallType,n,i)):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,i)):("audio"===this.destCallType&&"audio"===t.track.kind||"videoOnly"===this.destCallType&&"video"===t.track.kind||"media"===this.destCallType&&"video"===t.track.kind||"screenSharing"===this.destCallType&&"video"===t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,i):this.belongsToRoom()?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,i):("audio"===this.destCallType&&"audio"===t.track.kind||"videoOnly"===this.destCallType&&"video"===t.track.kind||"media"===this.destCallType&&"video"===t.track.kind||"screenSharing"===this.destCallType&&"video"===t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,i)}}else R.debug("onRemoteTrackAdded: ignoring event; event data are not correct")},this.onRemoteStreamRemoved=function(t){var n=null;for(R.info("onRemoteStreamRemoved",t),n=this.remoteMediaStreams.length;--n>=0;)if(this.remoteMediaStreams[n].id===t.stream.id){R.debug("onRemoteStreamRemoved removing",t.stream.id),this.remoteMediaStreams.splice(n,1);break}e.myWebRTC_Event.createRemoteStreamRemovedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType),t=null},this.onNegotiationNeeded=function(e){R.debug("onNegotiationNeeded",e),e=null,this.addingDataChannelOnCallOngoing&&(this.updateMediaWithRetryManagement(!1),this.addingDataChannelOnCallOngoing=!1)},this.onSignalingStateChange=function(e){R.debug("onSignalingStateChange",e),e=null},this.onCallDisconnection=function(){R.info("onCallDisconnection; callId: "+this.callId);var t=new Date;R.debug("date:",t),0!==this.disconnectionWarningInterval&&(R.debug("date:",t),R.debug("clearing disconnectionWarningInterval"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0),0!==this.disconnectionWarningTimeout&&(R.debug("date:",t),R.debug("clearing disconnectionWarningTimeout"),clearTimeout(this.disconnectionWarningTimeout),this.disconnectionWarningTimeout=0),this.belongsToRoom()?e.onHangup(this.callId,"disconnected"):e.onHangup(this.callId,"Ice_disconnected")},this.sendDisconnectionWarning=function(){R.log("sendDisconnectionWarning()");var e=null,t=null;if(this.callControl&&(e=this.callControl.roomName,t=this.callControl.type),this.disconnectionWarningCount++,A.createEvent({eventType:"disconnectionWarning",callId:this.callId,remoteId:this.remoteId,tries:this.disconnectionWarningCount,roomName:e,settingUpType:t}),(this.disconnectionWarningCount-1)*this.disconnectionWarningDelay>=this.disconnectionTimer&&0!==this.disconnectionWarningInterval){var n=Date();R.debug("date :"+n),R.debug("clearing disconnectionWarningInterval : no more warnings"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0}},this.createIceErrorDescriptor=function(t,n){var i={};return"disconnected"===t?i.iceState="disconnected":"failed"===t?(i.iceState="failed",!0===n&&(i.previousIceState="disconnected")):i.iceState="unknown",i.callType=this.callType,this.belongsToRoom()?(i.context="conf",this.data.mesh?(i.mode="mesh",(this.data.mesh.callerCompositeUserId?this.data.mesh.callerCompositeUserId===e.compositeClientId:this.data.mesh.callerId===e.clientId)?(i.type="subscribe",i.clientId=this.data.mesh.callerId,i.remoteId=this.data.mesh.calleeId):(this.data.mesh.calleeCompositeUserId?this.data.mesh.calleeCompositeUserId===e.compositeClientId:this.data.mesh.calleeId===e.clientId)?(i.type="publish",i.clientId=this.data.mesh.calleeId,i.remoteId=this.data.mesh.callerId):i.type="unknown",i.mesh=this.data.mesh):(i.mode="sfu","publish"===this.settingUpType||"shareScreen"===this.settingUpType?i.type="publish":"subscribe"===this.settingUpType?i.type="subscribe":i.type="unknown",this.callee?(i.clientId=this.calleeId,i.remoteId=this.callerId):(i.clientId=this.callerId,i.remoteId=this.calleeId)),this.mcuRemoteStream&&(i.stream=this.mcuRemoteStream)):(i.context="call",i.mode="p2p",this.callerId===e.clientId?(i.clientId=this.callerId,i.remoteId=this.calleeId):this.calleeId===e.clientId&&(i.clientId=this.calleeId,i.remoteId=this.callerId)),i},this.onIceConnectionStateChange=function(t){R.debug("onIceConnectionStateChange: ",t),t=null;var n=0,i=null,r=null,o=null;null!==this.pc?(R.info("Ice Connection State is now : "+this.pc.iceConnectionState),this.iceState=this.pc.iceConnectionState,"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState||"checking"===this.pc.iceConnectionState?(R.debug("iceConnectionState === connected or completed or checking"),R.debug("this.disconnectionTimeoutId :"+this.disconnectionTimeoutId),0!==this.disconnectionTimeoutId&&(n=Date(),R.debug("date:",n),R.debug("clearing disconnectionTimeout"),clearTimeout(this.disconnectionTimeoutId),this.disconnectionTimeoutId=0),0!==this.disconnectionWarningInterval&&(n=Date(),R.debug("date:",n),R.debug("clearing disconnectionWarningInterval"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0),"checking"!==this.pc.iceConnectionState&&(this.checkCandidateTypesTimeoutId=setTimeout(this.callback(this,"checkCandidateTypes"),this.checkCandidateTypesTimer),this.checkCandidateTypesTimeoutTable.push(this.checkCandidateTypesTimeoutId))):"disconnected"===this.pc.iceConnectionState?(this.callControl&&(i=this.callControl.roomName,r=this.callControl.type),"conf"===(o=this.createIceErrorDescriptor("disconnected")).context&&this.myWebRTC_Stack.sendInfo("iceError",{clientId:e.clientId,callId:this.callId,roomId:this.sessionMCU.roomName,pubSub:e.MCUClient.pubConnector,descriptor:o}),R.warn("disconnection detected"),A.createErrorEvent("iceDisconnection detected","ICE_CONNECTION_STATE_DISCONNECTED",this.callId,i,r,o),n=new Date,R.debug("date:",n),this.disconnectionTimeoutId=setTimeout(this.callback(this,"onCallDisconnection"),this.disconnectionTimer),this.disconnectionWarningCount=0,this.disconnectionWarningTimeout=setTimeout(this.callback(this,"sendDisconnectionWarning"),2e3),this.disconnectionWarningInterval=setInterval(this.callback(this,"sendDisconnectionWarning"),this.disconnectionWarningDelay)):"failed"===this.pc.iceConnectionState&&(this.callControl&&(i=this.callControl.roomName,r=this.callControl.type),"conf"===(o=this.createIceErrorDescriptor("failed",0!==this.disconnectionTimeoutId)).context&&this.myWebRTC_Stack.sendInfo("iceError",{clientId:e.clientId,callId:this.callId,roomId:this.sessionMCU.roomName,pubSub:e.MCUClient.pubConnector,descriptor:o}),R.warn("iceConnection failed detected"),A.createErrorEvent("iceConnection failed detected","ICE_CONNECTION_STATE_FAILED",this.callId,i,r,o),0!==this.disconnectionTimeoutId?this.belongsToRoom()&&(clearTimeout(this.disconnectionTimeoutId),this.disconnectionTimeoutId=0,e.onHangup(this.callId,"disconnected")):this.belongsToRoom()&&(0,a.ki)(this.callControl,["autoRestart","counter"],"number")&&this.callControl.autoRestart.counter>0?e.onHangup(this.callId,"disconnected"):(R.warn("Removing call with callId: "+this.callId),e.removeCallFromTableWithCallIdAndSendBye(this.callId,"Ice_failed")))):R.log("Ice Connection State change with pc is null")},this.callback=function(e,t){return this.closureHandler=function(n,i){return e[t](n,i)},this.closureHandler},this.onSelectedCandidate=function(t){if(void 0===this.selectedCandidate||null===this.selectedCandidate||this.selectedCandidate.LocalCandidateType!==t.LocalCandidateType||this.selectedCandidate.RemoteCandidateType!==t.RemoteCandidateType||this.selectedCandidate.LocalAddress!==t.LocalAddress||this.selectedCandidate.RemoteAddress!==t.RemoteAddress||this.selectedCandidate.TransportType!==t.TransportType||this.selectedCandidate.LocalTransportType!==t.LocalTransportType){R.debug("WebRTC_Call::onSelectedCandidate() :",t),this.selectedCandidate=t,this.callControl&&this.callControl.autoRestart&&(R.debug("selectedCandidate, this.callControl.autoRestart.counter:",this.callControl.autoRestart.counter),R.debug("selectedCandidate, this.callControl.autoRestart.callIdWhenStartingTimer:",this.callControl.autoRestart.callIdWhenStartingTimer),this.callControl.autoRestart.counter&&(R.debug("Reinit of autoRestart.counter"),this.callControl.autoRestart.counter=0,void 0!==this.callControl.autoRestart.callIdWhenStartingTimer&&e.stopMaxCallRetriesTimer(this.callControl.autoRestart.callIdWhenStartingTimer))),this.myWebRTC_Event.createSelectedICECandidateEvent(this.callId,t.LocalCandidateType,t.RemoteCandidateType,t.LocalAddress,t.RemoteAddress,t.TransportType,t.LocalTransportType);var n=t;n.callId=this.callId,n.clientId=e.clientId,n.roomId=this.dest_roomId,void 0!==this.data.pubSub&&(n.pubSub=this.data.pubSub),void 0!==this.data.confId&&(n.confId=this.data.confId),void 0!==this.data.mesh&&(n.mesh=this.data.mesh),void 0!==this.data.instanceId&&(n.instanceId=this.data.instanceId),this.myWebRTC_Stack.sendInfo("callSelectedCandidate",n)}else R.debug("filtering duplicate candidate")},this.checkCandidateTypes=function(){R.debug("WebRTC_Call::checkCandidatesTypes()");var e=this,t={LocalCandidateType:"unknow",RemoteCandidateType:"unknow",LocalAddress:"unknow",RemoteAddress:"unknow",TransportType:"unknow",LocalTransportType:"unknow",relayTransportType:"unknow"},n=["googLocalAddress","googLocalCandidateType","googRemoteAddress","googRemoteCandidateType","googTransportType"];null===this.pc?(R.warn("Peer connection is null : no candidates"),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)):"undefined"!=typeof apiRTC_React?(R.debug("apiRTC_React : WebRTC_Call::checkCandidatesTypes()"),this.pc.getStats().then((function(n){var i=null;if(n.forEach((function(e){!0===e.nominated&&(i=e)})),null!==i){var r=n.get(i.localCandidateId),a=n.get(i.remoteCandidateId);t.LocalCandidateType=r.candidateType,t.RemoteCandidateType=a.candidateType,r.address&&r.port&&(t.LocalAddress=r.address+":"+r.port),a.address&&a.port&&(t.RemoteAddress=a.address+":"+a.port),t.TransportType=r.protocol,"relay"===r.candidateType&&void 0!==r.relayProtocol&&(t.relayTransportType=r.relayProtocol),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)}})).catch((function(e){R.error(e)}))):"chrome"===a.wL.type&&r.PR<=112?(R.debug("WebRTC_Call::checkCandidatesTypes() chrome <= 112"),this.pc.getStats((function(i){var r=i.result().filter((function(e){return 0===e.id.indexOf("Conn-")&&"true"===e.stat("googActiveConnection")}))[0];r?(n.forEach((function(e){t[e.replace("goog","")]=r.stat(e)})),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)):(e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t))}))):"chrome"===a.wL.type||"firefox"===a.wL.type||"safari"===a.wL.type?(R.debug("WebRTC_Call::checkCandidatesTypes()"),this.pc.getStats(null).then((function(n){var i=null;if(n.forEach((function(e){!0===e.selected&&"firefox"===a.wL.type?(null!==i&&R.warn("multiple selected candidate-pairs"),i=e):!0===e.nominated&&(i=e)})),null!==i){var r=n.get(i.localCandidateId),o=n.get(i.remoteCandidateId);t.LocalCandidateType=r.candidateType,t.RemoteCandidateType=o.candidateType,r.address&&r.port?t.LocalAddress=r.address+":"+r.port:r.ipAddress&&r.portNumber&&(t.LocalAddress=r.ipAddress+":"+r.portNumber),o.address&&o.port?t.RemoteAddress=o.address+":"+o.port:o.ipAddress&&o.portNumber&&(t.RemoteAddress=o.ipAddress+":"+o.portNumber),t.TransportType=r.protocol,"relay"===r.candidateType&&void 0!==r.relayProtocol&&(t.relayTransportType=r.relayProtocol),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)}})).catch((function(e){R.warn("failed to get stats",e)}))):(R.debug("checkCandidateTypes not Chrome or Firefox"),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t))},this.belongsToRoom=function(){return!!(0,a.ki)(this.sessionMCU,"roomName","string")&&((0,a.ki)(this.data,"MCUType","string")&&("MCU-Caller"===this.data.MCUType||"MCU-Callee"===this.data.MCUType)&&(0,a.ki)(this.data,"confId","string")?this.data.confId===this.sessionMCU.roomName:this.dest_roomId===this.sessionMCU.roomName)},this.setLocalCallProfile=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i={},r={},a=null,o=null,s="adaptation";!0!==this.dataCall&&"subscribe"!==this.settingUpType&&(this.localCallProfile.audioActive!==e.audioActive&&n.push("audioIsActive"),this.localCallProfile.videoActive!==e.videoActive&&n.push("videoIsActive"),this.localCallProfile=e,!0===this.screenSharing?!0===this.localCallProfile.audioActive&&!0===this.localCallProfile.videoActive?"screenSharingWithAudio"!==this.callType&&(this.callType="screenSharingWithAudio",n.push("callType")):!0===this.localCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.localCallProfile.videoActive?"screenSharing"!==this.callType&&(this.callType="screenSharing",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")):!0===this.localCallProfile.audioActive&&!0===this.localCallProfile.videoActive?"media"!==this.callType&&(this.callType="media",n.push("callType")):!0===this.localCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.localCallProfile.videoActive?"videoOnly"!==this.callType&&(this.callType="videoOnly",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")),!0===t&&n.length>0&&(i.available=this.localCallProfile.audio,i.active=this.localCallProfile.audioActive,i.muted=this.isLocalAudioMuted,i.silent=this.isRemoteAudioSilent,r.available=this.localCallProfile.video,r.active=this.localCallProfile.videoActive,r.muted=this.isLocalVideoMuted,r.silent=this.isRemoteVideoSilent,this.callConfiguration&&this.callConfiguration.userMediaStreamId&&(a=this.callConfiguration.userMediaStreamId,(o=apiCC.getUserMediaStream(a))&&(i.deviceLabel=o.audioDeviceLabel,r.deviceLabel=o.videoDeviceLabel)),this.updateCause&&(s=this.updateCause),this.myWebRTC_Event.createLocalStreamUpdatedEvent(n,i,r,!0,this.callType,this.callId,this.callLocalStream,a,s)))},this.setRemoteCallProfile=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i={},r={},a="adaptation";!0!==this.dataCall&&(this.remoteCallProfile.audioActive!==e.audioActive&&n.push("audioIsActive"),this.remoteCallProfile.videoActive!==e.videoActive&&n.push("videoIsActive"),this.remoteCallProfile=e,"subscribe"===this.settingUpType?(!0===this.screenSharing?!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"screenSharingWithAudio"!==this.callType&&(this.callType="screenSharingWithAudio",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"screenSharing"!==this.callType&&(this.callType="screenSharing",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")):!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"media"!==this.callType&&(this.callType="media",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"videoOnly"!==this.callType&&(this.callType="videoOnly",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")),!0===t&&n.length>0&&(i.available=this.remoteCallProfile.audio,i.active=this.remoteCallProfile.audioActive,i.muted=this.isRemoteAudioMuted,i.silent=this.isRemoteAudioSilent,r.available=this.remoteCallProfile.video,r.active=this.remoteCallProfile.videoActive,r.muted=this.isRemoteVideoMuted,r.silent=this.isRemoteVideoSilent,this.updateCause&&(a=this.updateCause),this.myWebRTC_Event.createRemoteStreamUpdatedEvent(n,i,r,this.callType,this.callId,a))):(!0===this.screenSharing?!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"screenSharingWithAudio"!==this.destCallType&&(this.destCallType="screenSharingWithAudio",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.destCallType&&(this.destCallType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"screenSharing"!==this.destCallType&&(this.destCallType="screenSharing",n.push("callType")):"inactive"!==this.destCallType&&(this.destCallType="inactive",n.push("callType")):"publish"!==this.settingUpType&&"shareScreen"!==this.settingUpType||(!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"media"!==this.destCallType&&(this.destCallType="media",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.destCallType&&(this.destCallType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"videoOnly"!==this.destCallType&&(this.destCallType="videoOnly",n.push("callType")):"inactive"!==this.destCallType&&(this.destCallType="inactive",n.push("callType"))),!0===t&&n.length>0&&(i.available=this.remoteCallProfile.audio,i.active=this.remoteCallProfile.audioActive,i.muted=this.isRemoteAudioMuted,i.silent=this.isRemoteAudioSilent,r.available=this.remoteCallProfile.video,r.active=this.remoteCallProfile.videoActive,r.muted=this.isRemoteVideoMuted,r.silent=this.isRemoteVideoSilent,this.updateCause&&(a=this.updateCause),this.myWebRTC_Event.createRemoteStreamUpdatedEvent(n,i,r,this.destCallType,this.callId,a))))},this.setMediaConstraintsToSendOnlyOffer=function(){"firefox"===a.wL.type?r.PR>43?this.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1}:this.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}}:"edge"===a.wL.type?this.mediaConstraints={offerToReceiveAudio:0,offerToReceiveVideo:0}:"chrome"===a.wL.type&&a.wL.version<55?this.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}}:this.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1,mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},this.mediaConstraintsAudioOnly=this.mediaConstraints},this.applyOutgoingBitrate=function(e){var t=this;R.debug("applyOutgoingBitrate",this.callId,e);for(var n=null,i=0;i<this.rtpSenders.video.length;i+=1)if(this.rtpSenders.video[i].track){n=this.rtpSenders.video[i];break}if(n)if("function"==typeof n.getParameters&&"function"==typeof n.setParameters){var r=n.getParameters();if(Object.prototype.hasOwnProperty.call(r,"encodings")){if(1!==r.encodings.length)return void R.debug("encodings cannot be changed",this.callId,r.encodings.length)}else r.encodings=[{}];if(null!==e&&"number"==typeof e){e<50&&(e=50);var a=1e3*e;if(r.encodings[0].maxBitrate===a)return;r.encodings[0].maxBitrate=a}else{if(!Object.prototype.hasOwnProperty.call(r.encodings[0],"maxBitrate"))return;delete r.encodings[0].maxBitrate}n.setParameters(r).catch((function(e){R.error("applyOutgoingBitrate - setParameters",t.callId,e)}))}else R.warn("no such functions: getParameters/setParameters",this.callId);else R.warn("no such video rtpSender",this.callId)},this.configureSimulcastEncodings=function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(R.debug("configureSimulcastEncodings",this.callId,t,i.maxBitrate),"RID"===this.simulcast){for(var r=null,o=0;o<this.rtpSenders.video.length;o+=1)if(this.rtpSenders.video[o].track){r=this.rtpSenders.video[o];break}if(r)if("function"==typeof r.getParameters&&"function"==typeof r.setParameters){var s=r.getParameters();if(Object.prototype.hasOwnProperty.call(s,"encodings"))if(3===s.encodings.length){for(var l=null,c=null,u=null,d=s.encodings.length;--d>=0;){var f=s.encodings[d];l||"h"!==f.rid?c||"m"!==f.rid?u||"l"!==f.rid||(u=f):c=f:l=f}if(l&&Object.prototype.hasOwnProperty.call(l,"maxBitrate")&&c&&Object.prototype.hasOwnProperty.call(c,"maxBitrate")&&u&&Object.prototype.hasOwnProperty.call(u,"maxBitrate")){var h=!1,p=Math.floor(u.maxBitrate/1e3),g=!1,m=!1;if(l.active&&l.maxBitrate>1&&(p+=Math.floor(l.maxBitrate/1e3),g=!0),c.active&&c.maxBitrate>1&&(p+=Math.floor(c.maxBitrate/1e3),m=!0),R.debug("currentStatus",p,g,m),"changeMaxBitrate"===t){if(!(0,a.ki)(i,"maxBitrate","number"))return;var v=i.maxBitrate;p<=v?(m||p+this.callConfiguration.simulcast.encodings.medium.maxBitrate<=v&&("chrome"===a.wL.type?c.active=!0:"firefox"===a.wL.type&&(c.maxBitrate=1e3*this.callConfiguration.simulcast.encodings.medium.maxBitrate),this.callConfiguration.simulcast.encodings.medium.active=!0,m=!0,p+=this.callConfiguration.simulcast.encodings.medium.maxBitrate,h=!0),g||p+this.callConfiguration.simulcast.encodings.high.maxBitrate<=v&&("chrome"===a.wL.type?l.active=!0:"firefox"===a.wL.type&&(l.maxBitrate=1e3*this.callConfiguration.simulcast.encodings.high.maxBitrate),this.callConfiguration.simulcast.encodings.high.active=!0,g=!0,p+=this.callConfiguration.simulcast.encodings.high.maxBitrate,h=!0)):(g&&(g=!1,this.callConfiguration.simulcast.encodings.high.active=!1,p-=Math.floor(l.maxBitrate/1e3),"chrome"===a.wL.type?l.active=!1:"firefox"===a.wL.type&&(l.maxBitrate=1),h=!0),p>v&&m&&(m=!1,this.callConfiguration.simulcast.encodings.medium.active=!1,p-=Math.floor(c.maxBitrate/1e3),"chrome"===a.wL.type?c.active=!1:"firefox"===a.wL.type&&(c.maxBitrate=1),h=!0))}else"disableEncoding"===t&&(g?(g=!1,this.callConfiguration.simulcast.encodings.high.active=!1,p-=Math.floor(l.maxBitrate/1e3),"chrome"===a.wL.type?l.active=!1:"firefox"===a.wL.type&&(l.maxBitrate=1),h=!0):m&&(m=!1,this.callConfiguration.simulcast.encodings.medium.active=!1,p-=Math.floor(c.maxBitrate/1e3),"chrome"===a.wL.type?c.active=!1:"firefox"===a.wL.type&&(c.maxBitrate=1),h=!0));R.debug("applyChanges",p,g,m,h),h&&(r.setParameters(s).catch((function(e){R.error("configureEncodings - setParameters",n.callId,e)})),this.myWebRTC_Stack.sendInfo("configureEncodings",{pubSub:e.MCUClient.pubConnector,clientId:e.clientId,roomId:this.sessionMCU.roomName,callId:this.callId,instanceId:this.instanceId,hint:"simulcast",encodings:this.callConfiguration.simulcast.encodings}))}else R.warn("cannot find h/m/l encodings",this.callId)}else R.warn("wrong encodings",this.callId,s.encodings.length);else R.warn("no encodings configured",this.callId)}else R.warn("no such functions: getParameters/setParameters",this.callId);else R.warn("no such video rtpSender",this.callId)}}},x=(n(4363),n(9653),function(e){this.disconnectionTimer=15e3,void 0!==Number.MAX_SAFE_INTEGER?this.userMediaId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():this.userMediaId=Math.floor(1000001*Math.random()).toString(),this.callType="media",this.audio=!1,this.video=!1,this.audioSdpDirection=null,this.videoSdpDirection=null,this.callConfiguration={},this.sessionMCU=null,this.myWebRTC_Stack=new o.S(e.socket),this.getUserMediaStream=function(){return this.callConfiguration&&this.callConfiguration.userMediaStreamId?apiCC.getUserMediaStream(this.callConfiguration.userMediaStreamId):null},this.releaseUserMediaStream=function(){if(this.callConfiguration&&this.callConfiguration.userMediaStreamId){var e=this.callConfiguration.userMediaStreamId;return delete this.callConfiguration.userMediaStreamId,apiCC.releaseUserMediaStream(e,this.userMediaId)}return!1},this.close=function(){(this.addAck||this.addTimeoutId)&&(delete this.addAck,clearTimeout(this.addTimeoutId),delete this.addTimeoutId)}});function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var L=i.Y.get("ApiCCMCUClient"),_=apiCC.myWebRTC_Event,N=function(e,t){L.debug("ApiCCMCUClient creation"),this.pubConnector="janusConnector",this.meshModeEnabled=!1,this.sessionMCUs=[],this.distantCalls=[],this.streamList=[],this.disputableStreamList=[],this.publishCallId=null,this.joinSessionReqs=[],this.transitionCount=0,this.browserCapabilities={updateStream:!0,mesh2janusTransition:!0,checkCallStatus:!0},this.receiveSessionId=function(e){L.debug("receiveSessionId()"),_.createMCUSessionCreationEvent(e.sessionId,e.token),this.publish(e.sessionId,e.token)},this.sendSessionInvitation=function(e,n,i){var r,a;L.debug("sendSessionInvitation()"),null!=n?(void 0===i&&(i=0),r={type:"MCUSessionInvitation",srcId:t,destId:e,sessionId:n,groupChatId:i},a=JSON.stringify(r),L.log("C->S: "+a),apiCC.session.channel.socket.emit("MCUSessionInvitation",a)):L.log("Session is null or undefined, MCU Session invitation is not sended")},this.sendSessionInvitationToGroupChat=function(e,n){var i,r;L.debug("sendSessionInvitationToGroupChat()"),null!=e?null!=n?(i={type:"MCUSessionInvitationToGroupChat",srcId:t,groupChatId:e,sessionId:n},r=JSON.stringify(i),L.log("C->S: "+r),apiCC.session.channel.socket.emit("MCUSessionInvitationToGroupChat",r)):L.log("Session is null or undefined, MCU Session invitation is not sended"):L.log("groupChatId is null or undefined, MCU Session invitation is not sended")},this.receiveSessionInvitation=function(e){L.debug("receiveSessionInvitation()"),L.log("msg.sessionId :"+e.sessionId),L.log("msg.token :"+e.token),L.log("msg.groupChatId :"+e.groupChatId),_.createReceiveMCUSessionInvitationEvent(e.sessionId,e.token,e.groupChatId,e.srcId)},this.acceptSessionInvitation=function(e,t){L.debug("acceptSessionInvitation()"),L.log("sessionId :"+e),L.log("token :"+t),this.publish(e,t)},this.leaveSession=function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(L.info("leaveSession()"),!(i=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0})))return new Error("leaveSession: session not set");!0!==r.noHangup&&(apiCC.session.apiCCWebRTCClient.webRTCClient.removeAllCallsFromRoom(i.roomName,"leaveSession"),this.meshOnHangup(null,null,{roomId:i.roomName}));var a=[],o={};a.push(i.roomName),o.doneByApiRTC=!0,apiCC.session.leavePresenceGroup(a,o),apiCC.session.unsubscribePresenceGroup(a,o),t={type:"leaveSession",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("leaveSession",n),L.debug("leaveSession: distant call clean up");for(var s=this.distantCalls.length;--s>=0;)this.distantCalls[s].roomId===i.roomName&&(L.debug("leaveSession: remove distant call descriptor",this.distantCalls[s]),this.distantCalls.splice(s,1));apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({multi:!0,roomName:i.roomName});for(var l=this.streamList.length;--l>=0;)this.streamList[l].roomId===i.roomName&&this.streamList.splice(l,1);return this.removeSessionMCU(i),"OK"},this.createJoinSessionMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;e||(n=t.hasOwnProperty("sessionMCU")?t.sessionMCU:this.getSessionMCU(null,{first:!0}))&&(e=n.roomName);var i=n&&"mesh"===n.roomMode||!0===this.meshModeEnabled||!0===t.meshModeEnabled,o=n&&!0===n.meshOnly||!0===t.meshOnlyEnabled,s={type:"joinSession",roomId:e,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector,meshModeEnabled:i,meshOnlyEnabled:o,videoBandwidthSettings:apiCC.session.apiCCWebRTCClient.webRTCClient.videoBandwidthSettings,browserInfo:{browserAbout:r.Xh+" "+r.dc,browserType:a.wL.type,browserVersion:a.wL.version,osName:r.BF,osVersion:apiCC.osVersion,deviceType:r.vO}}};if(t.hasOwnProperty("transactionId")&&(s.transactionId=t.transactionId),t.hasOwnProperty("convId")?s.data.convId=t.convId:n&&n.hasOwnProperty("convId")&&(s.data.convId=n.convId),t.moderationEnabled&&(s.data.moderationEnabled=!0),t.moderator&&(s.data.moderator=!0),t.qualityAdaptationEnabled&&(s.data.qualityAdaptationEnabled=!0),Array.isArray(t.supportedVideoCodecs)){s.data.supportedVideoCodecs=[];var l,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(t.supportedVideoCodecs);try{for(c.s();!(l=c.n()).done;){var u=l.value;"h264"===u?s.data.supportedVideoCodecs.push({codec:"h264",profilelevelid:"42e01f"}):"string"==typeof u?s.data.supportedVideoCodecs.push({codec:u}):s.data.supportedVideoCodecs.push(u)}}catch(e){c.e(e)}finally{c.f()}}else"safari"===a.wL.type&&("Safari"===r.Xh&&r.dc<12.1||"Mobile Safari"===r.Xh&&r.dc<12.1)&&(s.data.supportedVideoCodecs=[{codec:"h264",profilelevelid:"42e01f"}]);return s.data.capabilities=this.browserCapabilities,s},this.createSessionDescriptor=function(e){var t={roomId:e.roomName};return e.convId&&(t.convId=e.convId),e.roomMode&&(t.roomMode=e.roomMode),e.modeChangeKind&&(t.modeChangeKind=e.modeChangeKind),t},this.joinSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.getSessionMCU(e))return L.warn("joinSession: session already set"),new Error("joinSession: session already set");if(this.getJoinSessionReq(e))return L.warn("joinSession: session already requested"),new Error("joinSession: session already requested");var n={};n.roomId=e,n.transactionId=apiCC.randomString(12),this.joinSessionReqs.push(n);var i=Object.assign({},t);i.transactionId=n.transactionId,L.info("joinSession() on ApiRTC MCU with roomId:",e);var r=this.createJoinSessionMessage(e,i),a=JSON.stringify(r);return L.log("C->S: "+a),apiCC.session.channel.socket.emit("joinSession",a),"OK"},this.joinSessionAnswer=function(e){if(L.debug("joinSessionAnswer()"),this.getSessionMCU(e.roomName))L.warn("joinSessionAnswer: session already set");else{var t=null;if(e.hasOwnProperty("transactionId")&&(t=this.getJoinSessionReq(null,{transactionId:e.transactionId})),t||(t=this.getJoinSessionReq(e.roomName)),t){this.removeJoinSessionReq(t);var n={};if(n.roomID=e.sessionId,n.roomName=e.roomName,e.hasOwnProperty("convId")&&(n.convId=e.convId),n.joinSessionAnswer={},(0,a.ki)(e,"data","object")?(!0===e.data.failed?(n.joinSessionAnswer.failed=!0,n.joinSessionAnswer.reason=e.data.reason):n.joinSessionAnswer.failed=!1,e.data.mode&&"string"==typeof e.data.mode&&(n.roomMode=e.data.mode,L.debug("session joined with mode; roomMode: "+n.roomMode)),"mesh"===n.roomMode&&!0===e.data.meshOnly&&(n.meshOnly=!0,L.debug("meshOnly"))):n.joinSessionAnswer.failed=!1,this.sessionMCUs.push(n),!n.joinSessionAnswer.failed){var i=[],r={};i.push(e.roomName),r.doneByApiRTC=!0,apiCC.session.joinPresenceGroup(i,r),apiCC.session.subscribePresenceGroup(i,r)}_.createJoinMCUSessionAnswerEvent(e.sessionId,e.token,e.groupChatId,e.initiator,n)}else L.debug("joinSessionAnswer: no joinSession requested")}},this.changeSessionMode=function(t,n){var i=this.getSessionMCU(t.roomName);if(i)if("mesh"===i.roomMode){for(var r=0,a=e.userMediaTable.length;--a>=0;)if(e.userMediaTable[a].sessionMCU===i){L.debug("changeSessionMode: userMedia",e.userMediaTable[a]),e.userMediaTable[a].distantCalls=[],r+=1;for(var o=this.distantCalls.length;--o>=0;)L.debug("changeSessionMode: distantCall",this.distantCalls[o]),"mesh"===this.distantCalls[o].callMode&&this.distantCalls[o].callFeed.callId===e.userMediaTable[a].userMediaId&&(L.debug("changeSessionMode: match"),e.userMediaTable[a].distantCalls.push(this.distantCalls[o]))}for(var s=0,l=e.callControlTable.length;--l>=0;)"subscribe"===e.callControlTable[l].type&&e.callControlTable[l].roomName===i.roomName&&(s+=1,e.callControlTable[l].autoRestart.force=!0);if(_.createMCURoomModeChangedEvent(i.roomName,"mesh","sfu","ongoing"),0===r&&0===s)delete i.roomMode,_.createMCURoomModeChangedEvent(i.roomName,"mesh","sfu","complete");else{i.modeChangeKind="old";var c={};c.roomID=t.roomName,c.roomName=t.roomName,t.hasOwnProperty("convId")&&(c.convId=t.convId),c.joinSessionAnswer={failed:!1},c.modeChangeKind="new",c.transitionTimeoutId=setTimeout(function(t,n){delete n.transitionTimeoutId,e.finalizeMeshToJanusTransition(t,n,{force:!0})}.bind(this,i,c),3e4),this.sessionMCUs.push(c),this.transitionCount+=1}}else L.warn("changeSessionMode: session not using mesh mode");else L.warn("changeSessionMode: no session")},this.updateSessionAnswer=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L.debug("updateSessionAnswer");var i=this.getSessionMCU(t.roomName);if(!i){if(!n.createSession)return void L.warn("updateSessionAnswer: no such session",t.roomName);L.debug("force session creation; roomName: "+t.roomName),(i={}).roomID=t.roomName,i.roomName=t.roomName,t.hasOwnProperty("convId")&&(i.convId=t.convId),i.joinSessionAnswer={failed:!1},this.sessionMCUs.push(i);for(var r=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length;--r>=0;){var a=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[r];!a.data||"MCU-Caller"!==a.data.MCUType&&"MCU-Callee"!==a.data.MCUType||a.data.confId!==i.roomName||(a.sessionMCU=i)}}var o=!1;if(t.data&&"mesh"===t.data.mode?(i.roomMode="mesh",!0===t.data.meshOnly&&(i.meshOnly=!0)):("mesh"===i.roomMode&&(o=!0),delete i.roomMode),"new"===i.modeChangeKind){L.debug("transition already ongoing");var s=this.getSessionMCU(null,{callback:function(e){return e.roomName===i.roomName&&"old"===e.modeChangeKind}});s&&e.finalizeMeshToJanusTransition(s,i,{force:!0})}else if(o){L.debug("transition NOT ongoing but should be"),_.createMCURoomModeChangedEvent(i.roomName,"mesh","sfu","ongoing"),i.modeChangeKind="old";var l={};l.roomID=i.roomID,l.roomName=i.roomName,i.hasOwnProperty("convId")&&(l.convId=i.convId),l.joinSessionAnswer={failed:!1},l.modeChangeKind="new",this.sessionMCUs.push(l),this.transitionCount+=1,e.finalizeMeshToJanusTransition(i,l,{force:!0})}if(n.updateCalls)if(L.debug("update stream list (prune)"),this.updateStreamList(t,{prune:!0}),"mesh"===i.roomMode){L.debug("restart publish/shareScreen calls");for(var c=e.userMediaTable.slice(),u=c.length;--u>=0;){var d=c[u];d.sessionMCU===i&&e.onHangup(d.userMediaId,"disconnected")}}else{L.debug("roomMode is SFU, checking calls");for(var f=e.callsTable.slice(),h=f.length;--h>=0;){var p=f[h];p.sessionMCU===i&&("publish"!==p.settingUpType&&"shareScreen"!==p.settingUpType||p.data&&p.data.mesh||p.pc?!1===p.message200OKReceived&&(L.debug("restart call without 200OK received"),e.onHangup(p.callId,"disconnected")):(L.debug("restart publish/shareScreen calls with no PeerConnection"),e.onHangup(p.callId,"disconnected")))}}},this.processCheckCallStatus=function(e){this.updateStreamList(e)},this.updateStreamList=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.ki)(e,"availableStreams","array")?e.availableStreams.slice():null,i=(0,a.ki)(e,"availableComposite","array")?e.availableComposite.slice():null,r=(0,a.ki)(e,"availableReplay","array")?e.availableReplay.slice():null,o=this.streamList.length;--o>=0;){var s=this.streamList[o];if("regular"===s.type){if(!n)continue;for(var l=n.length;--l>=0&&n[l].id!==s.streamInfo.id;);if(l>=0){(0,a.ki)(s,"clearDisputableEntry","function")&&s.clearDisputableEntry(),n.splice(l,1);continue}!0===t.prune?((0,a.ki)(s,"clearDisputableEntry","function")&&s.clearDisputableEntry(),apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:s.streamInfo}),_.createMCURemovedStreamEvent(s.streamInfo.id),this.streamList.splice(o,1)):s.disputableTimeoutId||(s.disputableTimeoutId=setTimeout(j.bind(this,s.streamInfo.id),3e4),s.clearDisputableEntry=P.bind(this,s.streamInfo.id),this.disputableStreamList.push(s))}else if("composite"===s.type){if(!i)continue;for(var c=i.length;--c>=0&&i[c].id!==s.streamInfo.id;);if(c>=0){i.splice(c,1);continue}apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:s.streamInfo}),_.createMCURemovedStreamEvent(s.streamInfo.id),this.streamList.splice(o,1)}else if("replay"===s.type){if(!r)continue;for(var u=r.length;--u>=0&&r[u].id!==s.streamInfo.id;);u>=0&&r.splice(u,1)}}if(n)for(var d=0;d<n.length;d+=1){var f=[];f.push(n[d]);var h=this.newAvailableStream(f,"regular");_.createMCUAvailableStreamEvent(f,h)}if(i)for(var p=0;p<i.length;p+=1){var g=[];g.push(i[p]);var m=this.newAvailableStream(g,"composite");_.createMCUAvailableCompositeEvent(g,m)}if(r)for(var v=0;v<r.length;v+=1){var b=[];b.push(r[v]);var y=this.newAvailableReplay(b);_.createMCUAvailableReplayEvent(b,y)}},this.getStreamList=function(){return L.debug("getStreamList :",this.streamList),this.streamList},this.getStreamFromList=function(e){var t;for(L.debug("getStreamFromList() with Id :",e),L.log("this.streamList :",this.streamList),t=0;t<this.streamList.length;t+=1){if(this.streamList[t].streamInfo.id===e)return L.log("stream found",this.streamList[t].streamInfo),this.streamList[t].streamInfo;L.log("not the same stream",e)}return null},this.getStreamIdOfUser=function(e){var t;for(L.debug("getStreamIdOfUser() with Id :",e),L.log("this.streamList :",this.streamList),t=0;t<this.streamList.length;t+=1)if("replay"!==this.streamList[t].type){if(this.streamList[t].userId===e)return L.log("stream found",this.streamList[t].streamInfo),this.streamList[t].streamInfo.id;L.log("not the same userId",e)}return null},this.getStreamOfUserCall=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.streamList.length,r=!1;for((0,a.ki)(n,"replay","boolean")&&!0===n.replay&&(r=!0);--i>=0;){if(!0===r){if("replay"!==this.streamList[i].type)continue}else if("replay"===this.streamList[i].type)continue;if(this.streamList[i].userId===e&&this.streamList[i].streamInfo.attributes.callId===t)return this.streamList[i].streamInfo}return null},this.newAvailableStream=function(n,i,r){L.debug("newAvailableStream():",n);var o=!1,s=!1,l=this.getSessionMCU(n[0].room);if(l){n[0].attributes.callerId!==t&&(o=!0);for(var c=e.getCallControls(["publish","shareScreen"],{addUserMedia:!0}),u=0;u<n.length;u+=1){for(var d=this.streamList.length;--d>=0&&("regular"!==this.streamList[d].type||n[u].id!==this.streamList[d].streamInfo.id););d>=0?(s=!0,(0,a.ki)(this.streamList[d],"clearDisputableEntry","function")?this.streamList[d].clearDisputableEntry():L.debug("clearDisputableEntry is not set")):L.debug("streamList is empty"),o=!Object.prototype.hasOwnProperty.call(c,n[u].attributes.callId);var f={type:i,userId:n[u].attributes.callerId,roomId:l.roomName,isRemoteStream:o,streamInfo:n[u]};if(!0===s?this.streamList[d]=f:this.streamList.push(f),L.log("this.streamList :",this.streamList),!0!==o)if("mesh"===l.roomMode){var h=e.findUserMediaById(n[u].attributes.callId);h&&!0===h.addAck&&(delete h.addAck,clearTimeout(h.addTimeoutId),delete h.addTimeoutId,_.createCallEstablishedEvent(l.roomName,h.callType,h.userMediaId,"none"))}else{var p=e.findCallWithCallId(n[u].attributes.callId),g=apiCC.getUserMediaStream(p.callConfiguration.userMediaStreamId);if(p&&g)for(var m=0,v=["audioMuted","videoMuted"];m<v.length;m++){var b=v[m],y="audioMuted"===b?"audio":"video";g[b]!==n[u][b]&&g.notifyMLineMutedCall(y,g[b],"enabled",p,null)}}var C=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:n[u]});if(C&&!C.autoRestart.pending){L.info("[newAvailableStream] auto subscribing to stream");var w=!!C.autoRestart.force;delete C.autoRestart.force;var S=C.callId,I=e.findCallWithCallId(S);null!==I&&null!==I.sessionMCU&&"old"===I.sessionMCU.modeChangeKind&&(L.debug("Re-init of autoRestart.counter"),delete C.autoRestart.counter);var T=this.subscribeToStreams([n[u]],C.mediaType,C.data,C.callConfiguration,{noStreamCheck:!0,force:w});S&&T[0]&&_.createCallRestartingEvent(C.callType,C.audioOnly,S,T[0],"subscribe",apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,C.roomName,C.roomName,n[u].id)}if(!0!==s&&(0,a.Ym)(r,"function")&&r(o,n[u],i),void 0!==n[u].context&&void 0!==n[u].context.remoteAccessCtx){var E=n[u].context.remoteAccessCtx.invitationId;L.debug("remoteAccess stream for invitationId : ",E),null!==apiRTC.session.remoteAccessInvitation&&E===apiRTC.session.remoteAccessInvitation.id&&!0===o?(L.debug("Setting screenSharingStreamId for remote"),apiRTC.session.remoteAccessInvitation.screenSharingStreamId=n[u].id,L.debug("apiRTC.session.remoteAccessInvitation.screenSharingStreamId :",apiRTC.session.remoteAccessInvitation.screenSharingStreamId),apiRTC.session.remoteAccessInvitation.screenWidth=n[u].context.remoteAccessCtx.screenWidth,apiRTC.session.remoteAccessInvitation.screenHeight=n[u].context.remoteAccessCtx.screenHeight):L.debug("Stream not linked to remoteAccessInvitation or this is localStream")}}return o}L.debug("newAvailableStream() but client is not in session")},this.updateAvailableStream=function(e,n,i){L.info("updateAvailableStream():",e);var r=!1;if(this.getSessionMCU(e[0].room)){e[0].attributes.callerId!==t&&(r=!0);for(var o=0;o<e.length;o+=1)for(var s=this.streamList.length;--s>=0;)if(this.streamList[s].streamInfo.id===e[o].id){for(var l=[],c=0,u=["audio","audioMuted","video","videoMuted"];c<u.length;c++){var d=u[c];this.streamList[s].streamInfo[d]!==e[o][d]&&(this.streamList[s].streamInfo[d]=e[o][d],l.push(d))}this.streamList[s].streamInfo.attributes.callType!==e[o].attributes.callType&&(this.streamList[s].streamInfo.attributes.callType=e[o].attributes.callType,l.push("callType")),this.streamList[s].streamInfo.attributes.descriptor&&e[o].attributes.descriptor&&this.streamList[s].streamInfo.attributes.descriptor.priority!==e[o].attributes.descriptor.priority&&(this.streamList[s].streamInfo.attributes.descriptor.priority=e[o].attributes.descriptor.priority,l.push("priority")),l.length>0&&(0,a.Ym)(i,"function")&&i(r,e[o],n,l);break}return r}L.log("updateAvailableStream() but client is not in session")},this.newAvailableReplay=function(e){L.info("newAvailableReplay() :",e);var n=!1,i=this.getSessionMCU(e[0].room);if(i){e[0].attributes.callerId!==t&&(n=!0);for(var r=0;r<e.length;r+=1){var a={type:"replay",userId:e[r].attributes.callerId,roomId:i.roomName,isRemoteStream:n,streamInfo:e[r]};this.streamList.push(a)}return n}L.log("newAvailableReplay() but client is not in session")},this.subscribeToStreams=function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};L.info("subscribeToStreams():",t);var s,l,c=[],u=null,d=null,f=null,h=function(t){return setTimeout((function(){L.warn("invite + SDP offer not received -> restart call"),e.onHangup(t,"disconnected")}),15e3)};for(f in t){if(s=t[f],null===apiCC.session||void 0===apiCC.session)return L.debug("no session, leaving subscribeToStreams()"),c;if(null!==(u=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithStreamId(s.id,{ignoreModeChangeKindOld:!0}))){if(L.debug("call already exists"),!0!==o.force){c[f]=u.callId;continue}L.debug("Force is true")}else L.debug("call does not exist");for(l=this.streamList.length;--l>=0&&this.streamList[l].streamInfo.id!==s.id;);if(l>=0){if(L.debug("stream exists"),this.streamList[l].disputableTimeoutId){L.debug("stream temporarily not available"),c[f]=null,!0===o.autoSub&&((d=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:s}))||apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"subscribe",roomName:s.room,mediaType:n,callConfiguration:r,data:i,stream:s}));continue}}else if(L.debug("stream does not exist"),!0!==o.noStreamCheck){c[f]=null,_.createErrorEvent("stream not available","STREAM_NOT_AVAILABLE",null,s.room,null,{stream:s});continue}L.info("stream:",s);var p=this.getSessionMCU(s.room);p&&((d=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:s}))||(d=apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"subscribe",roomName:p.roomName,mediaType:n,callConfiguration:r,data:i,stream:s})),"COMPOSITE"!==s.attributes.callType&&"janusConnector"===this.pubConnector?(void 0===i&&(i={}),i.mesh&&delete i.mesh,(0,a.Ym)(r,"qos","object")?(i.qos={},!1===r.qos.videoForbidInactive?i.qos.videoForbidInactive=!1:i.qos.videoForbidInactive=!0):(i.qos={},i.qos.videoForbidInactive=!0),(0,a.Ym)(r,"simulcast","object")&&(i.simulcast={},r.simulcast.streamQuality&&("high"===r.simulcast.streamQuality?i.simulcast.substream=2:"medium"===r.simulcast.streamQuality?i.simulcast.substream=1:"low"===r.simulcast.streamQuality&&(i.simulcast.substream=0)),r.simulcast.streamFrameRate&&("high"===r.simulcast.streamFrameRate?i.simulcast.temporal=2:"medium"===r.simulcast.streamFrameRate?i.simulcast.temporal=1:"low"===r.simulcast.streamFrameRate&&(i.simulcast.temporal=0))),(u=new k(apiCC.session.apiCCWebRTCClient.webRTCClient)).instanceId=apiCC.generateInstanceId(),u.callControl=d,(0,a.ki)(u.callControl.autoRestart,"counter","number")?(u.callControl.autoRestart.counter+=1,u.restarted=!0):u.callControl.autoRestart.counter=0,u.settingUpType="subscribe",null!=r&&void 0!==r.turnServerAddress&&null!==r.turnServerAddress&&u.setCallTurnServer(r.turnServerAddress),u.generateCallId(),d.callId=u.callId,u.setupTimeoutId=h(u.callId),u.callerId=p.roomName,u.calleeId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,u.callee=!0,u.mcuRemoteStream=s,u.dest_roomId=p.roomName,u.callType=s.attributes.callType,u.callControl.callType=s.attributes.callType,"audio"!==s.attributes.callType&&"AUDIOONLY"!==n||(u.audioOnly=!0,u.callControl.audioOnly=!0),u.remoteId=s.attributes.callerId,u.remoteMailAddress=s.attributes.mailAddress,u.streamId=s.id,u.mediaType=n,u.sessionMCU=p,L.log("call.streamId: "+u.streamId),(0,a.Ym)(i,"object")?u.data=(0,a.ws)({},i):u.data={},u.data.pubSub="janusConnector",u.data.type="subscribe",u.data.mode="passive",u.data.mediaType=n,u.data.capabilities=this.browserCapabilities,u.data.cloudConvId=p.convId,u.data.instanceId=u.instanceId,apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(u),c[f]=u.callId,u.myWebRTC_Stack.sendInvite(u.callId,apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,p.roomName,p.roomName,s.attributes.callType,{mode:"passive",data:u.data,stream:s,volatile:!!u.restarted})):((u=new k(apiCC.session.apiCCWebRTCClient.webRTCClient)).instanceId=apiCC.generateInstanceId(),u.callControl=d,(0,a.ki)(u.callControl.autoRestart,"counter","number")?(u.callControl.autoRestart.counter+=1,u.restarted=!0):u.callControl.autoRestart.counter=0,u.settingUpType="subscribe",null!=r&&void 0!==r.turnServerAddress&&null!==r.turnServerAddress&&u.setCallTurnServer(r.turnServerAddress),void 0===i&&(i={}),u.data=i,u.data.pubSub=this.pubConnector,u.data.type="subscribe",u.data.capabilities=this.browserCapabilities,u.data.cloudConvId=p.convId,u.data.instanceId=u.instanceId,L.log("mediaType: ",n),L.log("stream.attributes.callType: ",s.attributes.callType),u.callType=s.attributes.callType,u.callControl.callType=s.attributes.callType,"COMPOSITE"===s.attributes.callType&&"janusConnector"===this.pubConnector||"audio"===s.attributes.callType||"AUDIOONLY"===n?(L.log("Setting call as audioOnly"),u.audioOnly=!0,u.callControl.audioOnly=!0,u.stripVideoSDPActivated=!0):"VIDEOONLY"===n&&(u.stripAudioSDPActivated=!0,u.callType="videoOnly",u.callControl.callType="videoOnly"),u.mcuRemoteStream=s,u.dest_roomId=p.roomName,u.calleeId=p.roomName,u.generateCallId(),d.callId=u.callId,u.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,u.sessionMCU=p,apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(u),u.createPeerConnection(),u.doCall(),u.started=!0,u.callType=s.attributes.callType,u.remoteId=s.attributes.callerId,u.remoteMailAddress=s.attributes.mailAddress,!0===s.audio?!0===s.video?u.destCallType="media":u.destCallType="audio":!0===s.video&&(u.destCallType="videoOnly"),void 0===s.id&&L.log("stream.id is undefined :",s),u.streamId=s.id,u.mediaType=n,L.log("stream.attributes.callType: ",s.attributes.callType),c[f]=u.callId),u.asyncCallbacks={},u.asyncCallbacks.type="subscribe")}return c},this.unsubscribe=function(e){L.info("unsubscribe() :",e);var t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithStreamId(e);null===t?L.log("error call not found on unsubscribe"):void 0!==t.callId&&apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId)},this.publish=function(t,n,i,r,o,s){L.info("publish roomName :",t),L.log("publish sessionId :",n),L.log("publish token :",i),L.log("publish callConfiguration :",r);var l=null,c=!1,u=!1,d=null,f=null,h=this.getSessionMCU(t);if(!h)return L.error("roomName does not match any sessionMCU"),null;if(null!==o&&"object"===D(o)||(o={}),"janusConnector"===this.pubConnector&&!o.mesh&&s&&s.callControl&&s.callControl.callId&&apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(s.callControl.callId))return L.debug("call already exists",s.callControl.callId),s.callControl.callId;if(!0===r||"true"===r?(L.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),c=!0,r={}):!1===r||"false"===r?(L.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),r={}):null!==r&&"object"===D(r)||(r={}),!0===r.audioOnly&&!0===r.videoOnly)return _.createErrorEvent("Cannot publish without audio nor video","PUBLISH_FAILURE",null,t),null;if(!0===r.audioOnly&&(c=!0),!0===r.videoOnly&&(u=!0),["audioOnly","videoOnly","record","private"].forEach((function(e){r.hasOwnProperty(e)&&((0,a.ki)(o,"callConfiguration","object")||(o.callConfiguration={}),o.callConfiguration[e]=r[e])})),h.convId&&(o.cloudConvId=h.convId),(0,a.Ym)(r,"qos","object")?(o.qos={},r.qos.videoMinBitrate?o.qos.videoMinBitrate=r.qos.videoMinBitrate:r.qos.videoMinQuality&&["excellent","good","medium","bad"].indexOf(r.qos.videoMinQuality)>=0?o.qos.videoMinQuality=r.qos.videoMinQuality:o.qos.videoMinQuality="bad",r.qos.videoStartBitrate?o.qos.videoStartBitrate=r.qos.videoStartBitrate:r.qos.videoStartQuality&&["upper","excellent","good","medium","bad"].indexOf(r.qos.videoStartQuality)>=0&&(o.qos.videoStartQuality=r.qos.videoStartQuality),!1===r.qos.videoForbidInactive?o.qos.videoForbidInactive=!1:o.qos.videoForbidInactive=!0):o.qos={videoMinQuality:"bad",videoForbidInactive:!0},r.simulcast&&(r.userMediaStreamId&&(f=apiCC.getUserMediaStream(r.userMediaStreamId))&&f.isSimulcastCompliant()||delete r.simulcast),function(e){(0,a.ki)(e,"simulcast","object")?"safari"===a.wL.type&&"SDP"!==e.simulcast.mode?delete e.simulcast:(delete e.simulcast.sendEncodings,(0,a.ki)(e.simulcast,"maxBitrate","number")?"chrome"===a.wL.type&&a.wL.version>=78&&"SDP"!==e.simulcast.mode?(L.debug("configure simulcast RID chrome maxBitrate"),B(e.simulcast,e.simulcast.maxBitrate)||(L.warn("cannot configure simulcast"),delete e.simulcast)):"firefox"===a.wL.type?(L.debug("configure simulcast RID firefox maxBitrate"),B(e.simulcast,e.simulcast.maxBitrate)||(L.warn("cannot configure simulcast"),delete e.simulcast)):delete e.simulcast.encodings:(0,a.ki)(e.simulcast,"encodings","object")?"chrome"===a.wL.type&&a.wL.version>=78&&"SDP"!==e.simulcast.mode?(L.debug("configure simulcast RID chrome encodings"),F(e.simulcast)||(L.warn("cannot configure simulcast"),delete e.simulcast)):"firefox"===a.wL.type?(L.debug("configure simulcast RID firefox encodings"),F(e.simulcast)||(L.warn("cannot configure simulcast"),delete e.simulcast)):delete e.simulcast.encodings:"chrome"===a.wL.type&&a.wL.version>=78&&"SDP"!==e.simulcast.mode?(L.debug("configure simulcast RID chrome default"),e.simulcast.encodings={high:{maxBitrate:900},medium:{maxBitrate:300,scaleResolutionDownBy:2},low:{maxBitrate:100,scaleResolutionDownBy:4}},F(e.simulcast)||delete e.simulcast):"firefox"!==a.wL.type||(L.debug("configure simulcast RID firefox default"),e.simulcast.encodings={high:{maxBitrate:900},medium:{maxBitrate:300,scaleResolutionDownBy:2},low:{maxBitrate:100,scaleResolutionDownBy:4}},F(e.simulcast))||delete e.simulcast):delete e.simulcast}(r),r.distributedBroadcastEnabled&&!r.simulcast&&(o.distributedBroadcastEnabled=!0),["audioLabels","videoLabels"].forEach((function(e){(0,a.Ym)(r[e],"array")&&(o[e]=[],r[e].forEach((function(t){(0,a.Ym)(t,"string")&&o[e].push(t)})))})),(0,a.Ym)(r,"context","object"))try{JSON.stringify(r.context),o.context=r.context}catch(e){}if((0,a.Ym)(r,"profileType","string")&&(o.profileType=r.profileType),(0,a.Ym)(r,"priority","number")&&r.priority>=0&&(o.priority=r.priority),(0,a.Ym)(r,"downgradeProfileList","array")&&(o.downgradeProfileList=r.downgradeProfileList),L.debug("callConfiguration; audioOnly: "+c+", videoOnly: "+u),s&&!0===s.forceScreenSharingCallType)L.debug("publish screenSharing");else if(!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return L.debug("publish without any device, leaving publish ..."),o.publishWithoutMediaDeviceDetected=!0,apiCC.session.setUserData(o),_.createErrorEvent("Cannot publish without audio nor video","PUBLISH_FAILURE",null,t),null;!0!==c&&(L.debug("publish video, but no webcam present, forcing callType to audio"),c=!0)}else!1===apiCC.mediaDeviceMgr.audioDevicePresent&&!0!==u&&(L.debug("publish video, but no microphone present, forcing callType to videoOnly"),u=!0);if(l=new k(apiCC.session.apiCCWebRTCClient.webRTCClient),void 0!==o.mesh&&void 0!==o.instanceId?(L.debug("keeping instanceId "),l.instanceId=o.instanceId):l.instanceId=apiCC.generateInstanceId(),"janusConnector"!==this.pubConnector||o.mesh?(l.settingUpType="publish",l.generateCallId()):(l.settingUpType="publish",s&&s.callControl?(l.callControl=s.callControl,l.callControl.autoRestart.counter+=1,l.callId=l.callControl.callId,l.restarted=!0):(l.callControl=apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"publish",roomName:t,callConfiguration:r,data:o}),l.callControl.sessionId=n,l.callControl.token=i,l.callControl.autoRestart.counter=0,l.generateCallId(),l.callControl.callId=l.callId)),null!=r&&void 0!==r.turnServerAddress&&null!==r.turnServerAddress&&l.setCallTurnServer(r.turnServerAddress),r.userMediaStreamId&&((f=apiCC.getUserMediaStream(r.userMediaStreamId))?(l.callType=f.callType,L.debug("Setting callType to "+l.callType),"screenSharing"===l.callType&&(l.screenSharing=!0)):(L.debug("callConfiguration.userMediaStreamId is setted but stream is not present"),delete r.userMediaStreamId)),l.data=o,l.data.instanceId=l.instanceId,"restarted"===n&&(l.restarted=!0),l.mediaTypeForIncomingCall="NONE",!0===c?(L.log("Setting call as audioOnly"),l.audioOnly=!0,l.callType="audio",l.mediaTypeForOutgoingCall="AUDIO"):!0===u?(L.log("Setting call as videoOnly"),l.callType="videoOnly",l.mediaTypeForOutgoingCall="VIDEOONLY"):L.log("Not Setting call as audioOnly nor videoOnly"),l.dest_roomId=h.roomName,l.calleeId=h.roomName,l.data.pubSub=this.pubConnector,l.data.type="publish",l.data.capabilities=this.browserCapabilities,l.data.cloudConvId=h.convId,l.callConfiguration=r,l.sessionMCU=h,l.setMediaConstraintsToSendOnlyOffer(),l.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,(0,a.Ym)(r,"simulcast","object")){var p=null;f&&(p=f.getSimulcastProfile()),"chrome"===a.wL.type&&a.wL.version>=78&&"SDP"!==r.simulcast.mode?(L.debug("simulcast chrome 78+ -> RID",r.simulcast),l.simulcast="RID",l.data.simulcast={enabled:!0,mode:"RID"},l.data.simulcast.encodings=Object.assign({},r.simulcast.encodings),p&&(l.data.simulcast.profile=p)):"chrome"===a.wL.type?(L.debug("simulcast chrome -> SDP",r.simulcast),l.simulcast="SDP",l.data.simulcast={enabled:!0,mode:"SDP"}):"firefox"===a.wL.type?(L.debug("simulcast firefox -> RID",r.simulcast),l.simulcast="RID",l.data.simulcast={enabled:!0,mode:"RID"},l.data.simulcast.encodings=Object.assign({},r.simulcast.encodings),p&&(l.data.simulcast.profile=p)):"safari"===a.wL.type&&(L.debug("simulcast safari -> SDP",r.simulcast),l.simulcast="SDP",l.data.simulcast={enabled:!0,mode:"SDP"})}return L.log("webRTCClient.accessToLocalMedia :",e.accessToLocalMedia),apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(l),this.publishCallId=l.callId,l.callControl&&l.callControl.autoRestart.stream&&L.debug("call.callControl.autoRestart.stream.active :",l.callControl.autoRestart.stream.active),"janusConnector"===this.pubConnector&&l.callControl&&l.callControl.autoRestart.stream&&l.callControl.autoRestart.stream.active?(apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,l.callLocalStream=l.callControl.autoRestart.stream,l.establishCall(),l.callId):(void 0!==o.mesh&&null!==(d=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(o.mesh.calleeCallId))&&d.callConfiguration&&d.callConfiguration.userMediaStreamId&&(l.callType=d.callType,r.userMediaStreamId=d.callConfiguration.userMediaStreamId),r.userMediaStreamId?((f=apiCC.getUserMediaStream(r.userMediaStreamId)).addCallInfo(l.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===this.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=f.stream),l.callConfiguration.userMediaStreamId=f.userMediaStreamId,l.callLocalStream=f.stream,l.establishCall(),l.callId):apiCC.userMediaStreamTable.length>0?((f=apiCC.userMediaStreamTable[0]).addCallInfo(l.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===this.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=f.stream),l.callConfiguration.userMediaStreamId=f.userMediaStreamId,l.callLocalStream=f.stream,l.establishCall(),l.callId):(apiCC.createUserMediaStream({callId:l.callId,type:l.callType,audioSourceId:e.audioSourceId,videoSourceId:e.videoSourceId,success:function(e){L.debug("[publish] success; userMediaStreamId: "+e.userMediaStreamId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=e.stream),l.callConfiguration.userMediaStreamId=e.userMediaStreamId,l.callLocalStream=e.stream,l.establishCall()}}),l.callId))},this.publishScreen=function(e,t,n,i){L.info("publishScreen()");var r=this.getSessionMCU(e);return r?(null==t&&(t={}),null==n&&(n={}),void 0!==n.record&&(void 0!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.record=n.record),void 0!==n.private&&(void 0!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.private=n.private),t.pubSub=this.pubConnector,t.type="publish",apiCC.session.apiCCWebRTCClient.webRTCClient.shareScreen(r.roomName,t,i,n)):(L.error("roomId does not match any sessionMCU"),null)},this.unpublish=function(e){L.info("unpublish call with callId :",e),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e),this.publishCallId=null},this.removeMCUStream=function(e,t,n){var i,r=!1;for("Broken_by_MCU"!==n&&"disconnected"!==n||(r=!0),L.debug("streamId:",t),L.debug("reason:",n),L.debug("quiet:",r),i=0;i<this.streamList.length;i+=1)if(L.log("this.streamList[i].streamInfo.id :",this.streamList[i].streamInfo.id),this.streamList[i].streamInfo.id===t){!0===r?(L.debug("add stream into disputableStreamList: ",t),this.streamList[i].disputableTimeoutId=setTimeout(j.bind(this,this.streamList[i].streamInfo.id),3e4),this.streamList[i].clearDisputableEntry=P.bind(this,this.streamList[i].streamInfo.id),this.disputableStreamList.push(this.streamList[i])):(L.debug("remove stream from streamList:",t),apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:this.streamList[i].streamInfo}),this.streamList.splice(i,1));break}void 0!==e&&apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e),!0!==r&&_.createMCURemovedStreamEvent(t)},this.startStreaming=function(e,t,n,i){L.info("startStreaming");var r,a,o=null!=e&&e.length>0,s=null!=t&&t.length>0,l={};if(!o&&!s)return!1;if(null==n||0===n.length)return!1;if(void 0===i){if(null===this.publishCallId)return L.log("Cannot start streaming as no stream is published"),!1;i=this.publishCallId}var c=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(i);return c||(c=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(i))?c.sessionMCU?(o||(e="custom"),l.pubSub=this.pubConnector,l.service=e,s&&(l.server=t),l.streamKey=n,L.log("startStreaming() on ApiRTC MCU with roomId:",c.sessionMCU.roomName),r={type:"startStreaming",roomId:c.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:i,data:l},a=JSON.stringify(r),L.log("C->S: "+a),apiCC.session.channel.socket.emit("startStreaming",a),!0):(L.error("no such sessionMCU"),!1):(L.error("callIdToStream does not match any call"),!1)},this.stopStreaming=function(e){var t,n;if(L.info("stopStreaming"),void 0===e){if(null===this.publishCallId)return L.log("Cannot stop streaming as no stream is published"),!1;e=this.publishCallId}var i=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e);if(!i)return L.error("callIdToStream does not match any call"),!1;var r=this.getSessionMCU(i.dest_roomId);return r?(L.log("stopStreaming() on ApiRTC MCU with roomId:",r.roomName),t={type:"stopStreaming",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("stopStreaming",n),!0):(L.error("dest_roomId does not match any sessionMCU"),!1)},this.startRecording=function(e,t,n,i,r){var a,o;if(L.info("startRecording"),null==i){if(null===this.publishCallId)return void L.log("Call recording can not start as stream is not published");i=this.publishCallId}var s=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(i);return s||(s=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(i))?s.sessionMCU?("AUDIO-ONLY"!==e&&"VIDEO-ONLY"!==e&&(e="AUDIO-VIDEO"),null==r&&(r={}),r.pubSub=this.pubConnector,L.log("startRecording() on ApiRTC MCU with roomId :",s.sessionMCU.roomName),a={type:"startRecording",roomId:s.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:i,data:r,customIdInFilename:t,mediaType:e,convId:n},o=JSON.stringify(a),L.log("C->S: "+o),void apiCC.session.channel.socket.emit("startRecording",o)):(L.error("no such sessionMCU"),!1):(L.error("callIdToRecord does not match any call"),!1)},this.stopRecording=function(e){var t,n;if(L.info("stopRecording"),void 0===e){if(null===this.publishCallId)return void L.log("Call recording can not stop as stream is not published");e=this.publishCallId}var i=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e);if(!i)return L.error("callIdToRecord does not match any call"),!1;var r=this.getSessionMCU(i.dest_roomId);if(!r)return L.error("dest_roomId does not match any sessionMCU"),!1;L.log("stopRecording() on ApiRTC MCU with roomId :",r.roomName),t={type:"stopRecording",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("stopRecording",n)},this.recordingStarted=function(e){L.info("recordingStarted:",e),_.createMCURecordingStartedEvent(e.roomName,e.callId,e.clientId,e.recordType,e.time,e.convId,e.mediaId,e.mediaURL,e.remoteId,e.recordedFileName,e.mediaType,e.descriptor)},this.recordingStopped=function(e){L.info("recordingStopped:",e),_.createMCURecordingStoppedEvent(e.roomName,e.callId,e.clientId,e.recordType,e.time,e.convId,e.mediaId,e.mediaURL,e.remoteId,e.recordedFileName,e.mediaType,e.descriptor)},this.recordingStreamAvailable=function(e){L.info("recordingStreamAvailable :",e),_.createMCURecordedStreamsAvailableEvent(e.roomName,e.callId,e.clientId,e.recordedFileName,e.convId,e.mediaId,e.mediaURL,e.recordType,e.remoteId,e.mediaType,e.descriptor),"janusConnector"===this.pubConnector&&e.hasOwnProperty("confId")&&e.hasOwnProperty("remoteId")&&_.createRecordedStreamsAvailableEvent(e.confId,e.clientId,e.remoteId,e.callId,e.convId,e.mediaId,e.mediaURL)},this.streamingStarted=function(e){L.info("streamingStarted: ",e),_.createMCUStreamingStartedEvent(e.roomName,e.callId,e.clientId,e.time)},this.streamingStopped=function(e){L.info("streamingStopped: ",e),_.createMCUStreamingStoppedEvent(e.roomName,e.callId,e.clientId,e.time)},this.startComposite=function(e){var t,n,i;(i=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(L.log("startComposite() on ApiRTC MCU with roomId :",i.roomName),t={type:"startComposite",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("startComposite",n)):L.log("startComposite() but client is not in session")},this.stopComposite=function(e){var t,n,i;(i=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(L.log("stopComposite() on ApiRTC MCU with roomId :",i.roomName),t={type:"stopComposite",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("stopComposite",n)):L.log("stopComposite() but client is not in session")},this.startCompositeRecording=function(e,t,n,i,r){var o,s,l;L.info("startCompositeRecording with convId :",n),(l=r?this.getSessionMCU(r):this.getSessionMCU(null,{first:!0}))?("AUDIO-ONLY"!==e&&"VIDEO-ONLY"!==e&&(e="AUDIO-VIDEO"),(i=(0,a.Ym)(i,"object")?(0,a.ws)({},i):{}).pubSub=this.pubConnector,["complete","efficient","audioOnly"].indexOf(i.mode)<0&&(i.mode="complete"),i.labelEnabled=!0===i.labelEnabled,(0,a.Ym)(i,"labels","array")||(i.labels=["microphone","camera","screenSharing","sip"]),L.log("startRecording() on ApiRTC MCU with roomId :",l.roomName),o={type:"startRecording",roomId:l.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:"COMPOSITE",data:i,customIdInFilename:t,mediaType:e,convId:n},s=JSON.stringify(o),L.log("C->S: "+s),apiCC.session.channel.socket.emit("startRecording",s)):L.log("startCompositeRecording() but client is not in session")},this.stopCompositeRecording=function(e){var t,n,i;L.info("stopCompositeRecording"),(i=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(L.log("stopRecording() on ApiRTC MCU with roomId :",i.roomName),t={type:"stopRecording",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:"COMPOSITE",data:{pubSub:this.pubConnector}},n=JSON.stringify(t),L.log("C->S: "+n),apiCC.session.channel.socket.emit("stopRecording",n)):L.log("stopCompositeRecording() but client is not in session")},this.inviteVoIP=function(t,n,i){var r=this;return new Promise((function(a,o){if(!t||"string"!=typeof t)return o(new Error("wrong roomId"));if(!r.getSessionMCU(t))return o(new Error("no such session"));if(!n||"string"!=typeof n)return o(new Error("wrong convId"));if(!i||"string"!=typeof i)return o(new Error("wrong phoneNumber"));var s="inviteVoIP-"+i;try{if(e.hasReceiptHook(s))return o(new Error("busy"));var l=new v;l.onSuccess((function(){return a()})),l.onFailure((function(e){return o(e)})),l.setTimeout(1e4,"timeout"),e.createReceiptHook(s,l)}catch(e){return L.debug("inviteVoIP: createReceiptHook",e),o(new Error("internal error"))}var c={type:"inviteVoIP",clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,roomId:t,convId:n,phoneNumber:i,receiptId:s,data:{pubSub:"sipConnector"}},u=JSON.stringify(c);L.debug("C->S:",u),apiCC.session.channel.socket.emit("inviteVoIP",u)}))},this.enforceMCU=function(e){var t;if(t=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0})){var n={type:"info",infoType:"enforceMCU",data:{clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,roomId:t.roomName,pubSub:this.pubConnector}},i=JSON.stringify(n);L.log("C->S: "+i),apiCC.session.channel.socket.emit("info",i)}else L.log("enforceMCU() but client is not in session")},this.meshPublish=function(e,t,n,i,r,o){var s=!1,l=null,c=null,u=this.getSessionMCU(e);if(!u)return L.error("meshPublish() - missing sessionMCU"),null;if(!0===i||!1===i||"true"===i||"false"===i?(L.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),s=i,i={}):null!==i&&"object"===D(i)||(i={}),null!==r&&"object"===D(r)||(r={}),(0,a.Ym)(i,"profileType","string")&&(r.profileType=i.profileType),(0,a.Ym)(i,"priority","number")&&i.priority>=0&&(r.priority=i.priority),(0,a.Ym)(i,"downgradeProfileList","array")&&(r.downgradeProfileList=i.downgradeProfileList),void 0!==i.audioOnly&&(s=i.audioOnly,void 0!==r.callConfiguration||(r.callConfiguration={}),r.callConfiguration.audioOnly=i.audioOnly),(0,a.Ym)(i,"context","object"))try{JSON.stringify(i.context),r.context=i.context}catch(e){}return l=new x(apiCC.session.apiCCWebRTCClient.webRTCClient),!0!==s&&"true"!==s||(L.log("Setting call as audioOnly"),l.callType="audio"),l.roomId=e,l.sessionId=t,l.token=n,l.callConfiguration=i,l.data=r,l.options=o,l.sessionMCU=u,apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.push(l),i.userMediaStreamId?((c=apiCC.getUserMediaStream(i.userMediaStreamId)).addCallInfo(l.userMediaId,"userMedia"),l.callConfiguration.userMediaStreamId=c.userMediaStreamId,l.callType=c.callType,l.audio=c.audio,l.video=c.video,l.audioMuted=c.audioMuted,l.videoMuted=c.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(l),apiCC.checkMutingStateForUserMedia(i,c)):apiCC.createUserMediaStream({callId:l.userMediaId,callFlavor:"userMedia",type:l.callType,audioSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.audioSourceId,videoSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.videoSourceId,success:function(e){L.debug("[meshPublish] success; userMediaStreamId: "+e.userMediaStreamId),l.callConfiguration.userMediaStreamId=e.userMediaStreamId,l.callType=e.callType,l.audio=e.audio,l.video=e.video,l.audioMuted=e.audioMuted,l.videoMuted=e.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(l),apiCC.checkMutingStateForUserMedia(i,e)}}),l.userMediaId},this.meshOnUserMediaSuccess=function(t){var n=null,i=null;!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?((n={}).type="streamStatusChanged",n.callerId=e.clientId,n.roomId=t.roomId,n.streams={},n.streams[t.userMediaId]={eventType:"modify",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video,audioMuted:t.audioMuted,videoMuted:t.videoMuted},n.data={},n.data.meshPublish=!0,n.data.pubSub=this.pubConnector,i=JSON.stringify(n),L.log("C->S: "+i),apiCC.session.channel.socket.emit("streamStatusChanged",i)):(this.publishCallId=t.userMediaId,t.addAck=!0,t.addTimeoutId=setTimeout((function(){e.onRemoteHangup(t.userMediaId,e.clientId,t.roomId,"Unable_to_establish",null,null)}),t.disconnectionTimer),(n={}).type="streamStatusChanged",n.callerId=e.clientId,n.roomId=t.roomId,n.streams={},n.streams[t.userMediaId]={eventType:"add",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video,audioMuted:t.audioMuted,videoMuted:t.videoMuted},n.data=t.data,n.data.meshPublish=!0,n.data.pubSub=this.pubConnector,i=JSON.stringify(n),L.log("C->S: "+i),apiCC.session.channel.socket.emit("streamStatusChanged",i))},this.meshPublishScreen=function(e,t,n,i,r){var a=null,o=null,s=this.getSessionMCU(e);return s?(null!==n&&"object"===D(n)||(n={}),(a=new x(apiCC.session.apiCCWebRTCClient.webRTCClient)).roomId=e,a.data=t,a.callConfiguration=n,a.captureSourceType=i,a.sessionMCU=s,apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.push(a),n.userMediaStreamId?((o=apiCC.getUserMediaStream(n.userMediaStreamId)).addCallInfo(a.userMediaId,"userMedia"),a.callConfiguration.userMediaStreamId=o.userMediaStreamId,a.callType=o.callType,a.audio=o.audio,a.video=o.video,a.audioMuted=o.audioMuted,a.videoMuted=o.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(a)):apiCC.createUserMediaStream({callId:a.userMediaId,callFlavor:"userMedia",type:"screenSharing",captureSourceType:i,success:function(e){L.debug("[meshPublishScreen] success; userMediaStreamId: "+e.userMediaStreamId),a.callConfiguration.userMediaStreamId=e.userMediaStreamId,a.callType=e.callType,a.audio=e.audio,a.video=e.video,a.audioMuted=e.audioMuted,a.videoMuted=e.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnScreenMediaSuccess(a)}}),a.userMediaId):(L.error("meshPublishScreen() - missing sessionMCU"),null)},this.meshOnScreenMediaSuccess=function(t){var n,i=null;t.addAck=!0,t.addTimeoutId=setTimeout((function(){e.onRemoteHangup(t.userMediaId,e.clientId,t.roomId,"Unable_to_establish",null,null)}),t.disconnectionTimer),(i={}).type="streamStatusChanged",i.callerId=e.clientId,i.roomId=t.roomId,i.streams={},i.streams[t.userMediaId]={eventType:"add",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video,audioMuted:t.audioMuted,videoMuted:t.videoMuted},i.data={},i.data.pubSub=this.pubConnector,n=JSON.stringify(i),L.log("C->S: "+n),apiCC.session.channel.socket.emit("streamStatusChanged",n)},this.meshOnHangup=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,a=null,o=null,s=null;if(null!==n&&"object"===D(n)||(n={}),t){if(null!==(a=e.findUserMediaById(t)))for(a.close(),!0!==a.streamStolen&&(e.myWebRTC_Event.createHangupEvent("local",e.clientId,0,!0,null,a.userMediaId,a.callType),a.releaseUserMediaStream()),(o={}).type="streamStatusChanged",o.callerId=e.clientId,o.roomId=a.roomId,o.streams={},o.streams[a.userMediaId]={eventType:"remove",callId:a.userMediaId,callType:a.callType},i.restart&&(o.streams[a.userMediaId].restart=!0),o.data={},o.data.pubSub=this.pubConnector,s=JSON.stringify(o),L.log("C->S: "+s),apiCC.session.channel.socket.emit("streamStatusChanged",s),r=e.userMediaTable.length;--r>=0;)if(e.userMediaTable[r]===a){e.userMediaTable.splice(r,1);break}}else for(r=e.userMediaTable.length;--r>=0;)a=e.userMediaTable[r],i.hasOwnProperty("roomId")&&a.sessionMCU.roomName!==i.roomId||(e.myWebRTC_Event.createHangupEvent("local",e.clientId,0,!0,null,a.userMediaId,a.callType),a.close(),a.releaseUserMediaStream(),(o={}).type="streamStatusChanged",o.callerId=e.clientId,o.roomId=a.roomId,o.streams={},o.streams[a.userMediaId]={eventType:"remove",callId:a.userMediaId,callType:a.callType},o.data={},o.data.pubSub=this.pubConnector,s=JSON.stringify(o),L.log("C->S: "+s),apiCC.session.channel.socket.emit("streamStatusChanged",s),e.userMediaTable.splice(r,1))},this.participantEjected=function(t){(0,a.Ym)(t.data,"clientId","string")&&e.myWebRTC_Event.createMCUParticipantEjectedEvent(t.roomId,t.data.clientId,t.data.info)},this.ejectParticipant=function(e,t,n){var i;if(i=n?this.getSessionMCU(n):this.getSessionMCU(null,{first:!0})){var r={type:"ejectParticipant",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector,clientId:e}};t&&(r.data.info=t);var a=JSON.stringify(r);L.log("C->S: "+a),apiCC.session.channel.socket.emit("ejectParticipant",a)}else L.debug("ejectParticipant() - missing sessionMCU")},this.getJoinSessionReq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(!e){if(t.hasOwnProperty("transactionId")){for(var i=this.joinSessionReqs.length;--i>=0;)if(this.joinSessionReqs[i].transactionId===t.transactionId){n=this.joinSessionReqs[i];break}return n}return null}for(var r=this.joinSessionReqs.length;--r>=0;)if(this.joinSessionReqs[r].roomId===e){n=this.joinSessionReqs[r];break}return n},this.removeJoinSessionReq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e){if(!0===t.all)return this.joinSessionReqs.splice(0,this.joinSessionReqs.length),!0;t.hasOwnProperty("roomId")&&(e=this.getJoinSessionReq(t.roomId))}if(!e)return!1;for(var n=this.joinSessionReqs.length;--n>=0&&this.joinSessionReqs[n]!==e;);return n>=0&&(this.joinSessionReqs.splice(n,1),!0)},this.getSessionMCU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(!e){if(!0===t.first)return this.sessionMCUs[0];if((0,a.Ym)(t.callback,"function")){L.debug("getSessionMCU callback");for(var i=this.sessionMCUs.length;--i>=0;)if(t.callback(this.sessionMCUs[i])){n=this.sessionMCUs[i];break}}return n}for(var r=this.sessionMCUs.length;--r>=0;)if(this.sessionMCUs[r].roomName===e){n=this.sessionMCUs[r];break}return n},this.removeSessionMCU=function(e){if(!e&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).all)return this.sessionMCUs.splice(0,this.sessionMCUs.length),!0;if(!e)return!1;for(var t=this.sessionMCUs.length;--t>=0&&this.sessionMCUs[t]!==e;);return t>=0&&(this.sessionMCUs.splice(t,1),!0)},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler}};function j(e){L.debug("disputableEntryTimeout",e);for(var t=apiCC.session.apiCCWebRTCClient.webRTCClient,n=this.disputableStreamList.length;--n>=0;)if(this.disputableStreamList[n].streamInfo.id===e){this.disputableStreamList.splice(n,1);break}for(var i=null,r=this.streamList.length;--r>=0;)if(this.streamList[r].streamInfo.id===e){i=t.destroyCallControl({type:"subscribe",stream:this.streamList[r].streamInfo}),this.streamList.splice(r,1);break}i&&i.callId&&_.createHangupEvent("remote",t.clientId,i.roomName,!1,"Hangup_From_Callee",i.callId,i.callType),_.createMCURemovedStreamEvent(e)}function P(e){L.debug("clearDisputableEntry",e);for(var t=this.disputableStreamList.length;--t>=0;)if(this.disputableStreamList[t].streamInfo.id===e){this.disputableStreamList.splice(t,1);break}for(var n=this.streamList.length;--n>=0;)if(this.streamList[n].streamInfo.id===e){this.streamList[n].disputableTimeoutId&&(clearTimeout(this.streamList[n].disputableTimeoutId),delete this.streamList[n].disputableTimeoutId),delete this.streamList[n].clearDisputableEntry;break}}function U(e){var t={};return(0,a.ki)(e,"maxBitrate","number")&&(t.maxBitrate=e.maxBitrate),(0,a.ki)(e,"scaleResolutionDownBy","number")&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),t}function F(e){return(0,a.Ym)(e.encodings,"object")?(0,a.ki)(e.encodings.high,"maxBitrate","number")&&(0,a.ki)(e.encodings.medium,"maxBitrate","number")&&(0,a.ki)(e.encodings.low,"maxBitrate","number")?(e.encodings.high=Object.assign({active:!0},U(e.encodings.high)),e.encodings.medium=Object.assign({active:!0},U(e.encodings.medium)),e.encodings.low=Object.assign({active:!0},U(e.encodings.low)),e.sendEncodings=[{rid:"h",active:!0},{rid:"m",active:!0},{rid:"l",active:!0}],e.sendEncodings[0].maxBitrate=1e3*e.encodings.high.maxBitrate,e.sendEncodings[1].maxBitrate=1e3*e.encodings.medium.maxBitrate,e.sendEncodings[2].maxBitrate=1e3*e.encodings.low.maxBitrate,(0,a.ki)(e.encodings.medium,"scaleResolutionDownBy","number")&&(e.sendEncodings[1].scaleResolutionDownBy=e.encodings.medium.scaleResolutionDownBy),(0,a.ki)(e.encodings.low,"scaleResolutionDownBy","number")&&(e.sendEncodings[2].scaleResolutionDownBy=e.encodings.low.scaleResolutionDownBy),!0):(L.warn("no such maxBitrate"),!1):(L.warn("no such encodings"),!1)}function B(e,t){if(t<650)return!1;var n=Math.floor(9*t/13),i=Math.floor(3*t/13),r=t-n-i;return e.encodings={high:{maxBitrate:n},medium:{maxBitrate:i,scaleResolutionDownBy:2},low:{maxBitrate:r,scaleResolutionDownBy:4}},F(e)}i.Y.get("CallControl");var z=function(e){this.type=e.type,e.callId&&(this.callId=e.callId),e.callType?this.callType=e.callType:this.callType="media",Object.prototype.hasOwnProperty.call(e,"audioOnly")&&(this.audioOnly=!!e.audioOnly),e.roomName&&(this.roomName=e.roomName),e.mediaType&&(this.mediaType=e.mediaType),e.callConfiguration&&(this.callConfiguration=e.callConfiguration),e.data&&(this.data=e.data),e.stream&&(this.stream=e.stream),this.autoRestart={}},W=function(){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];this.a=1,this.b=0,this.c=7,this.d=0,this.update=function(e,t,n){var i=0;for(null==t&&(t=0),null==n&&(n=e.length);i<n;i+=1)this.a=(this.a+e[t+i])%65521,this.b=(this.b+this.a)%65521,this.c=(this.c+3)*(e[t+i]+5)%65521,this.d=(this.d+this.c)%65521},this.digest=function(t){return e[this.d>>12&15]+e[this.d>>8&15]+e[this.d>>4&15]+e[15&this.d]+e[this.c>>12&15]+e[this.c>>8&15]+e[this.c>>4&15]+e[15&this.c]+e[this.b>>12&15]+e[this.b>>8&15]+e[this.b>>4&15]+e[15&this.b]+e[this.a>>12&15]+e[this.a>>8&15]+e[this.a>>4&15]+e[15&this.a]}};function V(e,t){return null==t&&(t={}),"checksum64"===e?new W:null}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var G=i.Y.get("WebRTC_Client"),Y=apiCC.myWebRTC_Event,J=4e4,Q=function(e){this.localStream=null,this.remoteStream=null,this.channelReady=!1,this.socket=e.channel.socket,this.clientId=e.apiCCId,this.compositeClientId=e.apiCCId+"@"+e.apiCCSessionId,this.apiKey=e.apiKey,this.isVideoMuted=!1,this.isAudioMuted=!1,this.receiptHooks={},this.callControlTable=[],this.userMediaTable=[],this.callsTable=[],this.callsRetriesTable={},this.restartCallDelay=1e3,this.maxCallsRetriesDuration=15e4,this.accessToLocalMedia=!1,this.unidirectionelCallOnly=!1,this.NtoNConf=!1,this.autoAnswer=!1,this.RTPMedia=!1,this.logoAdded=!1,this.preferOpusCodec=!1,this.preferVP9Codec=!1,"undefined"!=typeof apiRTC_React&&"iOS"===r.BF?(G.log("React and iOS : Setting H264 as preferred codec"),this.preferH264Codec=!0):this.preferH264Codec=!1,this.preferSendingH264Codec=!1,this.setStereo=!1,this.allowedAudioCodecs="",this.allowedVideoCodecs="",this.mediaRoutingModeEnum={hostOnly:1,stun:2,stunOnly:3,turn:4,turnOnly:5},this.mediaRoutingMode=this.mediaRoutingModeEnum.turn,this.myWebRTC_Event=apiCC.myWebRTC_Event,this.getUserMediaOnGoing=!1,this.userAcceptOnIncomingCall=!1,this.userAcceptOnIncomingCallBeforeGetUserMedia=!1,this.userAcceptOnIncomingDataCall=!1,this.userAcceptOnIncomingScreenSharingCall=!1,this.maxWidthRemoteVideo=0,this.maxHeightRemoteVideo=0,this.nickname=e.nickname,this.allowMultipleCalls=!1,this.mySDPManager=new f,this.MCUClient=new N(this,this.clientId),this.audioSourceId=null,this.audioOutputId=null,this.videoSourceId=null,this.facingMode=null,this.apiRTCExtensionInstalled=!1,this.trickleIce=!0,this.waitingShareScreenCallId=0,this.waitingShareScreenDestNumber=0,this.waitingCaptureSourceType=null,this.qosEnable=!1,this.qosInterval=5e3,this.csmEnable=!1,this.qualityScoreEnable=!1,this.qualityScoreIntervalMs=5e3,this.csmIntervalMs=5e3,this.recordedCall=!1,this.audioBandwidth=null,this.videoBandwidth=null,this.videoRemoteBandwidth=null,this.videoBandwidthSettings={},this.dataBandwidth=null,this.pc_config="",this.clientIncomingCandidatesQueue=[],this.cleanStoredCallCandidateTimer=6e4,this.initializeGumConfig=function(){"Edge"===r.Xh&&r.PR>=15&&"chrome"!==apiRTC.browserDetails.type?this.gum_config={audio:!0,video:!0}:"Chrome"===r.Xh&&r.PR<49||"Firefox"===r.Xh&&r.PR<50?this.gum_config={audio:{mandatory:{},optional:[]},video:{mandatory:{},optional:[]}}:this.gum_config={audio:{},video:{}}},this.initializeGumConfig(),this.setGumConfigWithDevicePresent=function(){!1===apiCC.mediaDeviceMgr.audioDevicePresent&&(this.gum_config.audio=!1),!1===apiCC.mediaDeviceMgr.videoDevicePresent&&(this.gum_config.video=!1),!1===apiCC.mediaDeviceMgr.audioDevicePresent&&!1===apiCC.mediaDeviceMgr.videoDevicePresent&&(this.unidirectionelCallOnly=!0),G.log("this.gum_config:",this.gum_config)},this.userMediaErrorDetected=!1,this.lastUsedUserMediaConstraint=null,this.mediaTypeForIncomingCall="VIDEO",this.mediaTypeForOutgoingCall="VIDEO",this.allowAsymetricMediaCalls=!1,this.receiveMediaDeactivated=!1,this.configTurnServer=null,apiCC.myWebRTC_Adapter.adaptForIoSCordova(),this.pc_config={iceServers:[{urls:["turns:mp1.apizee.com:443?transport=udp","turns:mp1.apizee.com:443?transport=tcp","turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp","turns:mp2.apizee.com:443?transport=udp","turns:mp2.apizee.com:443?transport=tcp","turn:mp2.apizee.com:443?transport=udp","turn:mp2.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]},"Firefox"===r.Xh&&r.PR<53?(G.log("createPeerConnection FIREFOX"),G.log("webrtcDetectedVersion : "+apiCC.myWebRTC_Adapter.webrtcDetectedVersion),r.PR<38?this.pc_config={iceServers:[{url:"stun:mp1.apizee.com:443",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443",credential:"password",username:"anonymous"}]}:r.PR>=42?this.pc_config={iceServers:[{urls:["turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]}:this.pc_config={iceServers:[{urls:"turn:mp1.apizee.com:443?transport=tcp",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443?transport=tcp",credential:"password",username:"anonymous"}]}):"IE"===r.Xh||"Safari"===r.Xh&&r.PR<11?(G.log("Browser is :"+r.Xh+" - using Plugin"),this.pc_config={iceServers:[{url:"stun:mp1.apizee.com:443",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443",credential:"password",username:"anonymous"}]}):"Edge"===r.Xh&&r.PR<45&&"chrome"!==apiRTC.browserDetails.type?(G.log("Browser is Edge < 45 - removing Turns config"),this.pc_config={iceServers:[{urls:["turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp","turn:mp2.apizee.com:443?transport=udp","turn:mp2.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]}):G.log("default this.pc_config configuration"),this.pc_constraints={optional:[]},"edge"===a.wL.type?G.debug("not data channel capable"):"safari"===a.wL.type?a.wL.version>=11?this.dataChannelCapable=!0:G.debug("not data channel capable"):this.dataChannelCapable=!0,"chrome"===a.wL.type&&a.wL.version>=68||"firefox"===a.wL.type&&a.wL.version>=64||"safari"===a.wL.type&&a.wL.version>=12?(G.debug("RTCRtpSender#setParameters is available"),this.rtpSenderSetParamatersCapable=!0):(G.debug("RTCRtpSender#setParameters is NOT available"),this.rtpSenderSetParamatersCapable=!1),this.setClientTurnServer=function(e){G.info("setClientTurnServer :",e);var t=JSON.stringify(this.pc_config);t=t.replace(/mp1.apizee.com/g,e),this.pc_config=JSON.parse(t)},this.activateScreenSharing=function(e){apiCC.activateScreenSharing(e)},this.setGetUserMediaConfig=function(e){if(G.log("setGetUserMediaConfig :",e),null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices.getSupportedConstraints&&void 0!==navigator.mediaDevices.getSupportedConstraints){var t=navigator.mediaDevices.getSupportedConstraints();G.log("Supported Constraints :",t)}void 0!==e.video&&(void 0===e.video.height&&void 0===e.video.width||void 0!==e.optional&&(G.warn("contraints with both optional/mandatory and specific or advanced constraints usage : this may failed depending of browsers"),G.log("setGetUserMediaConfig : contraints modification to avoid both optional/mandatory and specific or advanced constraints usage"),void 0!==e.optional.sourceId&&(G.log("sourceId contraints modification to deviceId"),void 0===e.video.deviceId&&(e.video.deviceId={}),e.video.deviceId.ideal=e.optional.sourceId),delete e.optional)),G.log("this.gum_config :",this.gum_config),this.gum_config=e},this.getUserMedia=function(){try{this.gum_config=apiCC.setAudioSourceIdInConstraint(this.audioSourceId,this.gum_config),this.gum_config=apiCC.setVideoSourceIdInConstraint(this.videoSourceId,this.gum_config),this.lastUsedUserMediaConstraint=this.gum_config,"IE"===r.Xh&&r.dc>8?apiCC.getUserMediaWithCB(this.gum_config,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):apiCC.getUserMedia(this.gum_config).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError"))}catch(e){G.error("getUserMedia() failed. Is this a WebRTC capable browser?"),G.log("getUserMedia failed with exception: "+e.message)}},this.onUserMediaSuccess=function(e){G.info("onUserMediaSuccess : User has granted access to local media."),this.accessToLocalMedia=!0;var t=!1,n="Unknown",i=!1,r="Unknown";this.localStream=e,e.getAudioTracks().length>0&&(t=!0,e.getAudioTracks()[0].label&&(n=e.getAudioTracks()[0].label),G.log("Using audio device: "+n)),e.getVideoTracks().length>0&&(i=!0,e.getVideoTracks()[0].label&&(r=e.getVideoTracks()[0].label),G.log("Using video device: "+r)),this.myWebRTC_Event.createUserMediaSuccessEvent(!1,t,n,i,r,"media",null,e,null,!1)},this.onUserMediaError=function(e){G.info("onUserMediaError : Failed to get access to local media. Error : ",e),G.error(e),this.accessToLocalMedia=!1,"electron"!==r.$6&&("Chrome"===r.Xh||"Mobile Chrome"===r.Xh)&&r.PR>47&&(G.log("browser_version > 47"),"https:"!==window.location.protocol&&G.error("HTTPS is now mandatory to use getUserMedia()")),this.myWebRTC_Event.createUserMediaErrorEvent(!1,"media",e,null,null,null,this.gum_config),e=null,!0===apiCC.session.tryAudioOnlyAfterUserMediaError?(G.log("this.lastUsedUserMediaConstraint :",this.lastUsedUserMediaConstraint),G.log("this.lastUsedUserMediaConstraint.video :",this.lastUsedUserMediaConstraint.video),!1!==this.lastUsedUserMediaConstraint.video?(G.log("this.lastUsedUserMediaConstraint.audio :",this.lastUsedUserMediaConstraint.audio),G.log("UserMediaError, Trying to getUserMedia with audioOnly"),this.videoSourceId=null,this.gum_config.video=!1,this.getUserMedia()):G.log("onUserMediaError without video")):G.log("try AudioCall after UserMediaError is not activated")},this.evalCallProfileWithSdp=function(e,t,n){return this.evalCallProfileWithSdpGuideline(this.mySDPManager.createGuideline(e),e,t,n)},this.evalCallProfileWithSdpGuideline=function(e,t,n,i){var r={};return e.hasOwnProperty("audio")?(r.audio=!0,r.audioActive="local"===n&&"send"===i?"sendrecv"===e.audio.direction||"sendonly"===e.audio.direction:"local"===n&&"receive"===i||"remote"===n&&"send"===i?"sendrecv"===e.audio.direction||"recvonly"===e.audio.direction:"remote"===n&&"receive"===i&&("sendrecv"===e.audio.direction||"sendonly"===e.audio.direction)):(r.audio=!1,r.audioActive=!1),e.hasOwnProperty("video")?(r.video=!0,r.videoActive="local"===n&&"send"===i?"sendrecv"===e.video.direction||"sendonly"===e.video.direction:"local"===n&&"receive"===i||"remote"===n&&"send"===i?"sendrecv"===e.video.direction||"recvonly"===e.video.direction:"remote"===n&&"receive"===i&&("sendrecv"===e.video.direction||"sendonly"===e.video.direction)):(r.video=!1,r.videoActive=!1),r},this.checkDestCallTypeWithSDP=function(e,t){G.debug("checkDestCallTypeWithSDP");var n=this.mySDPManager.createGuideline(e),i=!1,r=!1;!n.audio||"sendrecv"!==n.audio.direction&&"sendonly"!==n.audio.direction||(i=!0),!n.video||"sendrecv"!==n.video.direction&&"sendonly"!==n.video.direction||(r=!0),t.destCallType=!0===i?!0===r?"media":"audio":!0===r?"videoOnly":"inactive",G.debug("call.destCallType: "+t.destCallType),!0!==t.callee||n.audio&&"sendonly"!==n.audio.direction||n.video&&"sendonly"!==n.video.direction||(t.userMediaAccessRequired=!1,t.mediaTypeForOutgoingCall="NONE",G.debug("access to user media not required"))},this.evaluateVideoCap=function(e){delete e.videoCap,e.belongsToRoom()?"publish"!==e.settingUpType&&"shareScreen"!==e.settingUpType||e.localCallProfile&&e.localCallProfile.video&&e.localCallProfile.videoActive&&this.evalOutgoingVideoBandwithCap(e):(this.rtpSenderSetParamatersCapable||!e.callee)&&e.localCallProfile&&e.localCallProfile.video&&e.localCallProfile.videoActive&&this.evalOutgoingVideoBandwithCap(e)},this.processInvite=function(e){G.info("processInvite() - invite received from :"+e.callerId);var t,n=0,i=null,s=null,l=null,c=null,u=!1,d=null,f=null,h=null,p={};if(void 0!==e.data&&"publish"===e.data.type&&void 0!==e.data.mesh){if(G.info("received invite publish mesh; mesh: "+JSON.stringify(e.data.mesh)),null==(i=this.findCallWithCallIdAndInstanceId(e.data.mesh.callerCallId,e.data.instanceId)))return void G.error("cannot find call; callId: "+e.data.mesh.callerCallId);i.userMediaAccessRequired=!1,i.data.mesh=e.data.mesh,i.setupTimeoutId&&(clearTimeout(i.setupTimeoutId),delete i.setupTimeoutId),u=!0}else{if(void 0!==e.data&&"subscribe"===e.data.type&&void 0!==e.data.mesh){if(G.debug("received invite subscribe mesh; mesh: ",e.data.mesh),null!==(s=this.findUserMediaById(e.data.mesh.calleeCallId)))if(this.MCUClient.distantCalls.push({early:!0,roomId:e.roomId,clientId:e.data.mesh.callerId,callId:e.data.mesh.callerCallId,callMode:"mesh",callDirection:"recvonly",callFeed:{clientId:e.data.mesh.calleeId,callId:e.data.mesh.calleeCallId}}),setTimeout(function(e,t,n){G.debug("early distant call descriptor timeout");for(var i=this.MCUClient.distantCalls.length;--i>=0;)if(this.MCUClient.distantCalls[i].early&&this.MCUClient.distantCalls[i].roomId===e&&this.MCUClient.distantCalls[i].clientId===t&&this.MCUClient.distantCalls[i].callId===n){G.debug("remove early distant call descriptor: timeout"),this.MCUClient.distantCalls.splice(i,1);break}}.bind(this,e.roomId,e.data.callerId,e.data.callerCallId),3e4),"screenSharing"===s.callType||"screenSharingWithAudio"===s.callType)p.type="publish",p.mesh=e.data.mesh,p.instanceId=e.data.instanceId,this.MCUClient.publishScreen(e.roomId,p,null,s.captureSourceType);else{var g=(0,a.ws)({},s.callConfiguration);"AUDIOONLY"===e.data.mediaType?g.audioOnly=!0:"VIDEOONLY"===e.data.mediaType&&(g.videoOnly=!0),(l=apiCC.getUserMediaStream(g.userMediaStreamId))&&(l.audioMuted&&l.videoMuted?g.muted="VIDEO":l.audioMuted?g.muted="AUDIOONLY":l.videoMuted?g.muted="VIDEOONLY":delete g.muted),delete g.distributedBroadcastEnabled,delete g.simulcast,p.type="publish",p.mesh=e.data.mesh,p.instanceId=e.data.instanceId,this.MCUClient.publish(e.roomId,null,null,g,p,null)}else G.debug("media not found: sending bye : Call_not_found"),new o.S(apiCC.session.channel.socket).sendBye(e.callId,e.calleeId,e.roomId,e.callerId,"Call_not_found",e.data);return}if(void 0!==e.data&&"publish"===e.data.type&&"passive"===e.data.mode){if(null==(i=this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))return void G.debug("cannot find call; callId: "+e.callId+", callerId: "+e.callerId+", instanceId: "+e.data.instanceId);i.userMediaAccessRequired=!1,i.setupTimeoutId&&(clearTimeout(i.setupTimeoutId),delete i.setupTimeoutId),u=!0}else(i=new k(this)).callId=e.callId,i.instanceId=e.data.instanceId,i.callerId=e.callerId,i.calleeId=this.clientId,i.callee=!0,i.remoteId=e.callerId}if(i.dest_roomId=e.roomId,void 0!==i.data&&!0===u)for(h in e.data)e.data.hasOwnProperty(h)&&(i.data[h]=e.data[h]);else i.data=e.data;if(i.data.instanceId=i.instanceId,void 0!==e.data&&"sipConnector"===e.data.pubSub&&(i.trickleIce=!1,i.remoteType="sip"),i.checkDTLSCompliancy(),"Edge"===r.Xh&&"chrome"!==apiRTC.browserDetails.type&&(d=apiCC.session.getConnectedUserInfo(e.callerId,"userData"),G.log("destUserInfo :",d),"User_Not_Found"!==d&&void 0!==d&&("Chrome"!==(f=JSON.parse(d)).browser&&"Mobile Chrome"!==f.browser||"Android"!==f.osName||(G.log("Browser is Edge and caller is Chrome on Android, setting VP8 as prefered codec for the call"),i.preferVP8Codec=!0))),void 0!==e.data&&"publish"===e.data.type&&"passive"===e.data.mode&&void 0!==e.stream&&void 0!==e.stream.id&&(i.streamId=e.stream.id,G.log("call.streamId: "+i.streamId)),n=this.callsTable.length,G.log("processInvite() - Actual call Number is :"+n),"screenSharing"===e.callType||"screenSharingWithAudio"===e.callType)i.screenSharing=!0,i.callType=e.callType;else if("data"===e.callType);else if(!1===this.allowMultipleCalls){for(G.log("processInvite() - Refusing double call checking ..."),t=0;t<n;t+=1)if("screenSharing"!==this.callsTable[t].callType&&"screenSharingWithAudio"!==this.callsTable[t].callType&&"data"!==this.callsTable[t].callType)return G.log("processInvite() - Refusing double call"),!1===u?this.callsTable.push(i):G.log("callAlreadyExist in table"),this.myWebRTC_Event.createCallAttemptEvent(this.clientId,e.callerId,e.callerNickname,i.callId),void this.refuseCall(i.callId,"User_Busy");G.log("NOT Refusing double call")}!1===u?(n=this.callsTable.push(i),G.log("processInvite() - New call Number is :"+n)):(G.log("callAlreadyExist in table"),G.log("processInvite() - call Number is :"+n)),this.checkDestCallTypeWithSDP(e.sdpoffer.sdp,i);var m=this.mySDPManager.createGuideline(e.sdpoffer.sdp);if(i.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(m,e.sdpoffer.sdp,"remote","send")),i.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(m,e.sdpoffer.sdp,"remote","receive")),this.rtpSenderSetParamatersCapable||(this.evaluateVideoCap(i),i.videoCap&&(m.video.bandwidth=i.videoCap,e.sdpoffer.sdp=m.generate())),i.receivedSdpOfferMessage=e.sdpoffer,(0,a.ki)(e,"stream","object")&&(!0===e.stream.audioMuted&&(i.isRemoteAudioMuted=!0),!0===e.stream.videoMuted&&(i.isRemoteVideoMuted=!0)),"data"===e.callType){if(G.log("Receiving DATA call"),i.callType="data",i.dataCall=!0,"Edge"===r.Xh&&r.PR<79&&"chrome"!==apiRTC.browserDetails.type)return G.warn("Cannot create DataChannel as it is not supported on Edge"),void this.refuseCall(i.callId,"DataChannel_Not_Supported");this.userAcceptOnIncomingDataCall||i.onUserMediaSuccessTestUni(),this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,i.callId,!1,n,!1,e.callType,!1,i.remoteType,i.destCallType)}else!1===i.userMediaAccessRequired||this.unidirectionelCallOnly||!0===i.screenSharing?(G.log("call.userMediaAccessRequired :",i.userMediaAccessRequired),G.log("this.unidirectionelCallOnly :",this.unidirectionelCallOnly),G.log("call.screenSharing :",i.screenSharing),!0===i.screenSharing?!1===this.userAcceptOnIncomingScreenSharingCall?i.onUserMediaSuccessTestUni():G.debug("userAcceptOnIncomingScreenSharingCall is activated : need user accept"):!0===u?(G.log("processInvite() - callAlreadyExist"),i.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCall||!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?G.log("processInvite() - Waiting for call accept or refuse from user - 1"):(G.log("processInvite() - userAcceptOnIncomingCall is not activated"),i.onUserMediaSuccessTestUni()),void 0!==e.data&&!0===e.data.subscribeOrder||!1!==u||this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,i.callId,!1,n,!1,e.callType,!1,i.remoteType,i.destCallType)):(apiCC.userMediaStreamTable.length>0&&(c=apiCC.userMediaStreamTable[0].userMediaStreamId),!0!==this.accessToLocalMedia&&!c||!0!==this.autoAnswer?(!0===i.audioOnly&&!1===apiCC.mediaDeviceMgr.audioDevicePresent?(G.log("processInvite() - audio and video media are not transmitted"),i.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?G.log("Stand-by :: wait for getUserMediaOnCall && establishCall"):(G.debug("processInvite() - call.getUserMediaOnCall()"),G.log("processInvite() - this.autoAnswer :"+this.autoAnswer),i.getUserMediaOnCall()),!1===u&&this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,i.callId,!1,n,i.audioOnly,e.callType,!1,i.remoteType,i.destCallType)):(G.log("processInvite() :: User has already granted access to local media and AutoAnswer activated : establishing call"),!0===this.userAcceptOnIncomingCall||!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?G.log("processInvite() - Waiting for call accept or refuse from user - 2"):c?(G.log("using First available stream on apiRTC"),(l=apiCC.getUserMediaStream(c)).addCallInfo(i.callId),void 0!==i.callConfiguration&&null!==i.callConfiguration||(i.callConfiguration={}),i.callConfiguration.userMediaStreamId=l.userMediaStreamId,i.onUserMediaSuccessOnCall(l.stream)):i.establishCall(),!1===u&&this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,i.callId,!0,n,i.audioOnly,e.callType,!1,i.remoteType,i.destCallType)))},this.setRemoteDescriptionProcess=function(e,t){this.preferSendingH264Codec&&(G.log("Modification of SDP to set H264 as prefered sending codec"),t.sdp=this.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),"Chrome"===r.Xh&&r.PR<55||"Firefox"===r.Xh&&r.PR<50||"IE"===r.Xh?null!==e.pc?e.pc.setRemoteDescription(t,e.callback(e,"onSetRemoteDescriptionSuccess"),e.callback(e,"onSetRemoteDescriptionFailure")):G.debug("setRemoteDescriptionProcess - pc is null"):(G.log("before setRemoteDescription - Promise version"),null!==e.pc?e.pc.setRemoteDescription(t).then(e.callback(e,"onSetRemoteDescriptionSuccess")).catch(e.callback(e,"onSetRemoteDescriptionFailure")):G.debug("setRemoteDescriptionProcess - pc is null"))},this.process200OK=function(e){var t,n=null,i=null;if(void 0!==e.data&&void 0!==e.data.instanceId?(G.info("200OK received from callId :"+e.calleeId+", intanceId is :"+e.data.instanceId),n=this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId)):(G.info("200OK received from callId :"+e.calleeId),n=this.findCallWithCallIdAndRemoteId(e.callId,e.calleeId)),null===n)return G.warn("200OK received but callId and instanceId are not matching, no process"),void this.myWebRTC_Event.createErrorEvent("200OK received but callId is not matching, no process","NOT_MATCHING_CALLID_ON_200OK");n.calleeId=e.calleeId,e.sdpanswer&&"no-answer"!==e.sdpanswer.type?!1===n.message200OKReceived?(G.debug("first 200OK for the call"),n.message200OKReceived=!0,"subscribe"!==n.data.type&&this.checkDestCallTypeWithSDP(e.sdpanswer.sdp,n),t=this.mySDPManager.createGuideline(e.sdpanswer.sdp),n.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","send")),n.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","receive")),this.evaluateVideoCap(n),!this.rtpSenderSetParamatersCapable&&n.videoCap&&(t.video.bandwidth=n.videoCap,e.sdpanswer.sdp=t.generate()),n.receivedSdpOfferMessage=e.sdpanswer,G.log("process200OK : before setRemoteDescription"),i=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpanswer),this.videoRemoteBandwidth&&(G.log("Modification of SDP to set remote video bandwidth"),i.sdp=this.mySDPManager.setVideoBandwidth(i.sdp,this.videoRemoteBandwidth)),this.setRemoteDescriptionProcess(n,i),null!==e.data&&void 0!==e.data&&(null!==n.data&&void 0!==n.data?n.data=(0,a.S6)(n.data,e.data):n.data=e.data)):G.debug("200OK has already been received for this call, leaving process200OK"):Y.createCallEstablishedEvent(n.calleeId,n.callType,n.callId,n.destCallType)},this.cleanStoredCallCandidate=function(e,t){G.debug("cleanStoredCallCandidate from callId :"+e+", instanceId is :"+t),void 0!==this.clientIncomingCandidatesQueue[e+"-"+t]&&0!==this.clientIncomingCandidatesQueue[e+"-"+t].length&&(this.clientIncomingCandidatesQueue[e+"-"+t].splice(0,this.clientIncomingCandidatesQueue[e+"-"+t].length),delete this.clientIncomingCandidatesQueue[e+"-"+t])},this.processCandidate=function(e){var t=null,n=e.data&&e.data.instanceId?e.data.instanceId:null;G.debug("Candidate received from callId :"+e.callId+", instanceId is :"+n),t=e.callerId===this.clientId?n?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,n):this.findCallWithCallIdAndRemoteId(e.callId,e.calleeId):n?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,n):this.findCallWithCallIdAndRemoteId(e.callId,e.callerId),G.trace("msg.label :"+e.label),G.log("msg.candidate :"+e.candidate),null!==t?t.started&&t.remoteDescriptionSetted?t.processCandidateMsg(e):(G.log("Call not started or remoteDescription is not yet setted"),t.incomingcandidatesQueue.push(e)):n&&(G.debug("Call not found, Candidate message is not handled, storing candidate message in client"),null!==this.clientIncomingCandidatesQueue[e.callId+"-"+n]&&void 0!==this.clientIncomingCandidatesQueue[e.callId+"-"+n]||(this.clientIncomingCandidatesQueue[e.callId+"-"+n]=[],G.debug("First candidate for this call, starting a timeout before candidate storage cleaning"),setTimeout(this.cleanStoredCallCandidate.bind(this),this.cleanStoredCallCandidateTimer,e.callId,n)),this.clientIncomingCandidatesQueue[e.callId+"-"+n].push(e))},this.processUpdate=function(e){G.info("Update message on:"+e.roomId);var t,n=null;if(null!==(n=e.callerId===this.clientId?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId):this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))if(e.hasOwnProperty("sdpoffer")&&e.sdpoffer.hasOwnProperty("sdp"))n.setRemoteCallProfile(this.evalCallProfileWithSdp(e.sdpoffer.sdp,"remote","receive"),!0),n.updateOngoingTimeoutId=setTimeout((function(){delete n.updateOngoingTimeoutId}),J),this.checkDestCallTypeWithSDP(e.sdpoffer.sdp,n),G.log("processUpdate : before setRemoteDescription"),t=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpoffer),this.setRemoteDescriptionProcess(n,t),n.doUpdateAnswer();else if((0,a.ki)(e.data,"mesh","object")&&(e.data.mesh.calleeCompositeUserId?e.data.mesh.calleeCompositeUserId===this.compositeClientId:e.data.mesh.calleeId===this.clientId)){G.debug("mesh update from subscriber");var i={};"AUDIOONLY"===e.data.mediaType?i.audioOnly=!0:"VIDEOONLY"===e.data.mediaType&&(i.videoOnly=!0),this.updateCallConfigurationOnCall(e.callId,i).then((function(){G.debug("updateCallConfigurationOnCall OK")})).catch((function(e){G.error("updateCallConfigurationOnCall failed",e)}))}else G.error("update without SDP offer");else this.myWebRTC_Event.createErrorEvent("Cannot find call to process Update","CALL_NOT_FOUND_ON_UPDATE")},this.process200Update=function(e){G.info("200 Update received from :"+e.calleeId);var t,n=null,i=null;if(null===(n=e.callerId===this.clientId?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId):this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))return G.info("Call not found on 200 Update"),void this.myWebRTC_Event.createErrorEvent("Cannot find call to process 200 Update","CALL_NOT_FOUND_ON_200UPDATE");n.calleeId=e.calleeId,t=this.mySDPManager.createGuideline(e.sdpanswer.sdp),n.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","send"),!0),n.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","receive"),!0),this.evaluateVideoCap(n),!this.rtpSenderSetParamatersCapable&&n.videoCap&&(t.video.bandwidth=n.videoCap,e.sdpanswer.sdp=t.generate()),G.log("process200Update : before setRemoteDescription"),i=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpanswer),this.videoBandwidth&&(G.log("Modification of SDP to set remote video bandwidth"),i.sdp=this.mySDPManager.setVideoBandwidth(i.sdp,this.videoBandwidth)),this.setRemoteDescriptionProcess(n,i),G.log("msg.sdpanswer.sdp :",e.sdpanswer.sdp),!0===n.addingUserMedia&&(n.addingUserMedia=!1),!0===n.updateUserMedia&&(n.updateUserMedia=!1),n.updateCause&&(n.updateCause=null)},this.processSlowLink=function(e,t){for(var n=this.callsTable.length,i=null;--n>=0;)if(this.callsTable[n].callId===e){i=this.callsTable[n];break}if(null!==i){var r=null;t&&t.advice&&(r=t.advice),this.myWebRTC_Event.createSlowLinkEvent(i.callId,r)}},this.processAudioAmplitude=function(e,t){Y.createAudioAmplitudeEvent(e.descriptor.audioAmplitude,t,e.callId,e.descriptor.streamID)},this.processDistantIceError=function(e){"disconnected"===e.descriptor.iceState?this.myWebRTC_Event.createErrorEvent("distant iceDisconnection detected","DISTANT_ICE_CONNECTION_STATE_DISCONNECTED",null,e.roomId,null,e.descriptor):"failed"===e.descriptor.iceState&&Y.createErrorEvent("distant iceConnection failed detected","DISTANT_ICE_CONNECTION_STATE_FAILED",null,e.roomId,null,e.descriptor)},this.processStreamTrackMuteChanged=function(e,t,n){for(var i=this.callsTable.length,r=null,a=[],o={},s={};--i>=0;)if(this.callsTable[i].callId===e){r=this.callsTable[i];break}null!==r&&("audio"===t?(r.isRemoteAudioMuted=n,a.push("audioIsMuted"),o.available=r.remoteCallProfile.audio,o.active=r.remoteCallProfile.audioActive,o.muted=r.isRemoteAudioMuted,o.silent=r.isRemoteAudioSilent,s.available=r.remoteCallProfile.video,s.active=r.remoteCallProfile.videoActive,s.muted=r.isRemoteVideoMuted,s.silent=r.isRemoteVideoSilent):"video"===t&&(r.isRemoteVideoMuted=n,a.push("videoIsMuted"),o.available=r.remoteCallProfile.audio,o.active=r.remoteCallProfile.audioActive,o.muted=r.isRemoteAudioMuted,o.silent=r.isRemoteAudioSilent,s.available=r.remoteCallProfile.video,s.active=r.remoteCallProfile.videoActive,s.muted=r.isRemoteVideoMuted,s.silent=r.isRemoteVideoSilent),a.length>0&&this.myWebRTC_Event.createRemoteStreamUpdatedEvent(a,o,s,r.destCallType,r.callId,"userAction"))},this.processStreamTrackStatusChanged=function(e,t,n){for(var i=this.callsTable.length,r=null,a=[],o={},s={};--i>=0;)if(this.callsTable[i].callId===e){r=this.callsTable[i];break}null!==r&&("audio"===t?(r.isRemoteAudioSilent=n,a.push("audioIsSilent"),o.available=r.remoteCallProfile.audio,o.active=r.remoteCallProfile.audioActive,o.muted=r.isRemoteAudioMuted,o.silent=r.isRemoteAudioSilent,s.available=r.remoteCallProfile.video,s.active=r.remoteCallProfile.videoActive,s.muted=r.isRemoteVideoMuted,s.silent=r.isRemoteVideoSilent):"video"===t&&(r.isRemoteVideoSilent=n,a.push("videoIsSilent"),o.available=r.remoteCallProfile.audio,o.active=r.remoteCallProfile.audioActive,o.muted=r.isRemoteAudioMuted,o.silent=r.isRemoteAudioSilent,s.available=r.remoteCallProfile.video,s.active=r.remoteCallProfile.videoActive,s.muted=r.isRemoteVideoMuted,s.silent=r.isRemoteVideoSilent),a.length>0&&this.myWebRTC_Event.createRemoteStreamUpdatedEvent(a,o,s,r.destCallType,r.callId,"userAction"))},this.processUpdateStream=function(e,t,n){for(var i=this.callsTable.length,r=null;--i>=0;)if((0,a.ki)(this.callsTable[i].data,"mesh","object")&&this.callsTable[i].data.mesh.calleeCallId===e||this.callsTable[i].callId===e){r=this.callsTable[i];break}if(!r)return!1;var o=!1;return"audio"===t?"inactive"===n?"media"===r.callType&&(r.callType="videoOnly",r.updateUserMedia=!0,r.updateCause="adaptation",r.audioSdpDirection="inactive",r.establishCall(),o=!0):"videoOnly"===r.callType&&(r.callType="media",r.updateUserMedia=!0,r.updateCause="adaptation",r.audioSdpDirection=null,r.establishCall(),o=!0):"video"===t&&("inactive"===n?"media"===r.callType&&(this.evalOutgoingVideoBandwithCap(r),r.callType="audio",r.updateUserMedia=!0,r.updateCause="adaptation",r.videoSdpDirection="inactive",r.establishCall(),o=!0):"audio"===r.callType&&(this.evalOutgoingVideoBandwithCap(r),r.callType="media",r.updateUserMedia=!0,r.updateCause="adaptation",r.videoSdpDirection=null,r.establishCall(),o=!0)),o},this.processUpdateVideoQuality=function(e,t){G.debug("processUpdateVideoQuality",e,t);var n=this.findCallWithCallId(e);if(n)if(n.sessionMCU&&"mesh"!==n.sessionMCU.roomMode){var i=apiCC.getUserMediaStream(n.callConfiguration.userMediaStreamId);if(i){var r=i.getVideoTrack();if(r){var a={};t.width&&t.height&&(a.width=t.width,a.height=t.height),t.frameRate&&(a.frameRate=t.frameRate),r.applyConstraints(a).then((function(e){G.debug("processUpdateVideoQuality - applyConstraints; OK")})).catch((function(e){G.error("processUpdateVideoQuality - applyConstraints",e)}))}else G.warn("processUpdateVideoQuality - no such video track; callId:",e)}else G.warn("processUpdateVideoQuality - no such userMediaStream; callId:",e)}else G.warn("processUpdateVideoQuality - wrong roomMode; callId:",e);else G.warn("processUpdateVideoQuality - no such call; callId:",e)},this.removeAllCallsFromRoom=function(e,t){G.info("removeAllCallsFromRoom :"+e+" with reason :"+t);var n,i,r=this.callsTable.length,a=[],o={};for(n=0;n<r;n+=1)this.callsTable[n].dest_roomId==e&&(G.log("Call is attached to the room, removing ..."),o={callId:this.callsTable[n].callId},a.push(o));for(i=0;i<a.length;i+=1)this.removeCallFromTableWithCallIdAndSendBye(a[i].callId,t);a.splice(0,a.length)},this.onHangup=function(e,t){var n=null,i=null,r=null,o=null,s=[],l=!1,c=!1,u=null,d=null;if(e?"string"!=typeof e&&(e=String(e)):e=null,t?"string"!=typeof t&&(t=null):t=null,G.info("Hanging up."),null===e)G.log("Leaving all calls that are established"),this.MCUClient&&this.MCUClient.meshOnHangup(),this.removeAllCalls(),this.callControlTable.splice(0,this.callControlTable.length);else if(null!==(i=this.findUserMediaById(e))){for("janusConnector"!==this.MCUClient.pubConnector||"RTC_Setup_Timeout"!==t&&"disconnected"!==t||(r=i.getUserMediaStream())&&r.stream&&(l=!0,u=r.stream,i.streamStolen=!0,"mesh"===i.sessionMCU.roomMode?c=!0:(d=r.getCallInfo(i.userMediaId))&&(d.flavor="call")),o=this.callsTable.length;--o>=0;)(0,a.Ym)(this.callsTable[o].data,"object")&&(0,a.Ym)(this.callsTable[o].data.mesh,"object")&&this.callsTable[o].data.mesh.calleeCallId===e&&s.push(this.callsTable[o].callId);for(o=s.length;--o>=0;)this.removeCallFromTableWithCallIdAndSendBye(s[o],t);this.MCUClient.meshOnHangup(e,null,{restart:l})}else null!==(n=this.findCallWithCallId(e))&&("janusConnector"!==this.MCUClient.pubConnector||"RTC_Setup_Timeout"!==t&&"disconnected"!==t||("publish"===n.settingUpType||"shareScreen"===n.settingUpType?n.data&&n.data.mesh||(l=!0,n.streamStolen=!0):"subscribe"===n.settingUpType&&(l=!0)),G.log("Leaving call with callId :"+e),this.removeCallFromTableWithCallIdAndSendBye(e,t));!0===l?null!==n?this.restartCall(n):i&&(!0===c?this.restartCall(i,{userMedia:!0,mesh:!0}):this.restartCall(i,{userMedia:!0,stream:u})):(n&&n.callControl&&this.destroyCallControl(n.callControl),this.stopMaxCallRetriesTimer(e),this.stopRestartCallTimer(e),delete this.callsRetriesTable[e])},this.stopStream=function(e){G.info("stopStream in client");var t,n=null;if("Chrome"===r.Xh&&r.PR<45||"Firefox"===r.Xh&&r.PR<44||"Opera"===r.Xh&&r.PR<34||"Chromium"===r.Xh&&r.PR<44||"Chrome WebView"===r.Xh&&r.PR<45)e.onended=null,e.stop();else{for(e.onended=null,G.log("MediaStream.stop is now deprecated, using MediaStreamTrack.stop"),n=e.getTracks(),t=0;t<n.length;t+=1)n[t].onended=null,n[t].stop();G.log("... tracks stopped")}e=null},this.clearCallTimeouts=function(e){var t;for(G.debug("clearCallTimeouts"),0!==e.send200OKTrickleIceFalseTimeOutId&&(G.debug("clearing send200OKTrickleIceFalseTimeOutId"),clearTimeout(e.send200OKTrickleIceFalseTimeOutId),e.send200OKTrickleIceFalseTimeOutId=0),0!==e.sendInviteTrickleIceFalseTimeOutId&&(G.debug("clearing sendInviteTrickleIceFalseTimeOutId"),clearTimeout(e.sendInviteTrickleIceFalseTimeOutId),e.sendInviteTrickleIceFalseTimeOutId=0),0!==e.disconnectionTimeoutId&&(G.debug("clearing disconnectionTimeout"),clearTimeout(e.disconnectionTimeoutId),e.disconnectionTimeoutId=0),0!==e.disconnectionWarningInterval&&(G.debug("clearing disconnectionWarningInterval"),clearInterval(e.disconnectionWarningInterval),e.disconnectionWarningInterval=0),t=0;t<e.checkCandidateTypesTimeoutTable.length;t+=1)G.debug("clearing checkCandidateTypesTimeout :",e.checkCandidateTypesTimeoutTable[t]),clearTimeout(e.checkCandidateTypesTimeoutTable[t]);e.checkCandidateTypesTimeoutTable.splice(0,e.checkCandidateTypesTimeoutTable.length)},this.removeAllCalls=function(){G.info("removeAllCalls");var e,t=this.callsTable.length,n=0,i=null,r=0,o=null;for(G.log("callsNumber = "+t),e=0;e<t;e+=1){if(n=this.callsTable[e-r].callee?this.callsTable[e-r].callerId:this.callsTable[e-r].calleeId,!0===this.callsTable[e-r].callee)i="Hangup_From_Callee",this.callsTable[e-r].myWebRTC_Stack.sendBye(this.callsTable[e-r].callId,this.clientId,this.callsTable[e-r].dest_roomId,n,i,this.callsTable[e-r].data);else{if(i="Hangup_From_Caller",!0!==this.callsTable[e-r].inviteSended){this.callsTable[e-r].callCancelled=!0,G.warn("Leaving call iteration on removeAllCalls");continue}this.callsTable[e-r].myWebRTC_Stack.sendBye(this.callsTable[e-r].callId,this.clientId,this.callsTable[e-r].dest_roomId,n,i,this.callsTable[e-r].data)}(0,a.ki)(this.callsTable[e-r].sessionMCU,"roomName","string")&&(0,a.ki)(this.callsTable[e-r].data,"MCUType","string")&&("MCU-Caller"===this.callsTable[e-r].data.MCUType||"MCU-Callee"===this.callsTable[e-r].data.MCUType)&&this.MCUClient.leaveSession(this.callsTable[e-r].sessionMCU.roomName,{noHangup:!0}),this.callsTable[e-r].callConfiguration&&this.callsTable[e-r].callConfiguration.userMediaStreamId&&(o=apiCC.getUserMediaStream(this.callsTable[e-r].callConfiguration.userMediaStreamId))&&apiCC.releaseUserMediaStream(o.userMediaStreamId,this.callsTable[e-r].callId),null!==this.callsTable[e-r].screenStream&&(G.log("stopping screenStream"),this.stopStream(this.callsTable[e-r].screenStream),Y.createUserMediaStopEvent(this.callsTable[e-r].callId,"screen")),null!==this.callsTable[e-r].pc&&(G.log("Closing PC"),this.qosEnable&&void 0!==this.callsTable[e-r].qm&&null!==this.callsTable[e-r].qm&&"function"==typeof this.callsTable[e-r].qm.saveStatsToDb&&(this.callsTable[e-r].qm.saveStatsToDb(!0),clearInterval(this.callsTable[e-r].statisticId)),this.callsTable[e-r].csmIntervalId&&clearInterval(this.callsTable[e-r].csmIntervalId),this.callsTable[e-r].pc.close(),this.callsTable[e-r].pc=null),this.myWebRTC_Event.createHangupEvent("local",this.clientId,this.callsTable[e-r].remoteId,!0,i,this.callsTable[e-r].callId,this.callsTable[e-r].callType),void 0!==this.callsTable[e-r].data&&null!==this.callsTable[e-r].data&&("janusConnector"===this.callsTable[e-r].data.pubSub||"MCU-Caller"!==this.callsTable[e-r].data.MCUType&&"MCU-Callee"!==this.callsTable[e-r].data.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(this.callsTable[e-r].data.confId,this.callsTable[e-r].callerId,this.callsTable[e-r].calleeId,this.callsTable[e-r].callId)),this.clearCallTimeouts(this.callsTable[e-r]),0!==this.callsTable[e-r].incomingcandidatesQueue.length&&this.callsTable[e-r].incomingcandidatesQueue.splice(0,this.callsTable[e-r].incomingcandidatesQueue.length),void 0!==this.clientIncomingCandidatesQueue[this.callsTable[e-r].callId+"-"+this.callsTable[e-r].instanceId]&&0!==this.clientIncomingCandidatesQueue[this.callsTable[e-r].callId+"-"+this.callsTable[e-r].instanceId].length&&this.clientIncomingCandidatesQueue[this.callsTable[e-r].callId+"-"+this.callsTable[e-r].instanceId].splice(0,this.clientIncomingCandidatesQueue[this.callsTable[e-r].callId+"-"+this.callsTable[e-r].instanceId].length),G.log("Removing call from table"),this.callsTable.splice(e-r,1),r+=1}},this.onRemoteHangup=function(t,n,i,r,o,s){var l=this;G.debug("onRemoteHangup");var c=null,u=null,d=null,f=null,h=!1,p=!1,g=!1,m=null,v=null;if(G.log("callId :"+t),G.log("confId :"+o),"janusConnector"===this.MCUClient.pubConnector)if("RTC_Setup_Timeout"===r||"Broken_by_MCU"===r||"disconnected"===r)if(null!=(u=null==s?this.findCallWithCallId(t):this.findCallWithCallIdAndInstanceId(t,s.instanceId))){if(u.setupTimeoutId&&(clearTimeout(u.setupTimeoutId),delete u.setupTimeoutId),!0===u.restarting)return void G.debug("call restarting");if("publish"===u.settingUpType||"shareScreen"===u.settingUpType?u.data&&u.data.mesh||(h=!0,u.streamStolen=!0):"subscribe"===u.settingUpType&&(h=!0),null!==u.sessionMCU&&"old"===u.sessionMCU.modeChangeKind)return void G.debug("onRemoteHangup ignore")}else null!==(d=this.findUserMediaById(t))?(d.close(),(f=d.getUserMediaStream())&&f.stream&&(null!==d.sessionMCU&&"old"===d.sessionMCU.modeChangeKind?(h=!0,m=f.stream,d.streamStolen=!0,d.distantCalls.length>0&&(g=!0),(v=f.getCallInfo(d.userMediaId))&&(v.flavor="call")):null!==d.sessionMCU&&"mesh"===d.sessionMCU.roomMode?(h=!0,p=!0,m=f.stream,d.streamStolen=!0):(h=!0,m=f.stream,d.streamStolen=!0,(v=f.getCallInfo(d.userMediaId))&&(v.flavor="call")))):G.debug("No call and no userMedia found");else(u=null==s?this.findCallWithCallId(t):this.findCallWithCallIdAndInstanceId(t,s.instanceId))?(u.setupTimeoutId&&(clearTimeout(u.setupTimeoutId),delete u.setupTimeoutId),"subscribe"===u.settingUpType&&"Ejected"!==r&&(h=!0)):(d=this.findUserMediaById(t))&&d.close();if(!g)if(null!==d){var b=null,y=[];for(b=this.callsTable.length;--b>=0;)(0,a.ki)(this.callsTable[b].data,"mesh","object")&&this.callsTable[b].data.mesh.calleeCallId===t&&"subscribe"!==this.callsTable[b].settingUpType&&y.push(this.callsTable[b].callId);for(b=y.length;--b>=0;)this.removeCallFromTableWithCallIdAndSendBye(y[b],r);if(this.MCUClient.meshOnHangup(t),"old"===d.sessionMCU.modeChangeKind){var C=this.MCUClient.getSessionMCU(null,{callback:function(e){return e.roomName===d.sessionMCU.roomName&&"new"===e.modeChangeKind}});C&&this.finalizeMeshToJanusTransition(d.sessionMCU,C)}}else void 0!==t?c=null==s?this.removeCallFromTableWithCallIdandRemoteId(t,n,r):this.removeCallFromTableWithCallIdandInstanceId(t,s.instanceId,r):void 0!==o&&(c=this.removeCallFromTableWithConfIdandRemoteId(o,n,r));G.log("Reason : "+r),u&&!0!==h?0===this.callsTable.length&&0===this.userMediaTable.length?(G.log("No more established calls for client"),this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!0,r),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!0,r,t,c),!0===this.getUserMediaOnGoing&&!0!==e.deactivateReloadOnCancel&&(G.log("Cancel from Remote"),"undefined"==typeof apiRTC_React&&location.reload(),this.getUserMediaOnGoing=!1)):(G.log("Other calls are still established"),this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!1,r),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!1,r,t,c)):u&&"subscribe"===u.settingUpType&&(this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!1,"restarted"),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!1,"restarted",t,c)),null!=s&&("janusConnector"===this.MCUClient.pubConnector||"MCU-Caller"!==s.MCUType&&"MCU-Callee"!==s.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(o,this.clientId,n,t)),!0===h?null!==u?this.restartCall(u):d&&(!0===p?this.restartCall(d,{userMedia:!0,mesh:!0}):this.randomDelayOnRestart?(G.debug("onRemoteHangup - randomDelayOnRestart"),setTimeout((function(){l.restartCall(d,{userMedia:!0,stream:m})}),5e3*Math.random())):this.restartCall(d,{userMedia:!0,stream:m})):(u&&u.callControl&&this.destroyCallControl(u.callControl),(u||d)&&(this.stopMaxCallRetriesTimer(t),this.stopRestartCallTimer(t),delete this.callsRetriesTable[t]))},this.startMaxCallRetriesTimer=function(e){var t=this;G.debug("startMaxCallRetriesTimer for callIdWhenStartingTimer :",e);var n=setTimeout((function(){G.debug("[restartCall] MaxCallRetriesTimer reached for callIdWhenStartingTimer :",e),t.callsRetriesTable[e].allowedStatus=!1,delete t.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId}),this.maxCallsRetriesDuration);this.callsRetriesTable[e]={},this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId=n},this.stopMaxCallRetriesTimer=function(e){G.debug("stopMaxCallRetriesTimer for callId :",e),void 0!==this.callsRetriesTable[e]&&void 0!==this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId&&(clearTimeout(this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId),G.debug("[restartCall] MaxCallRetriesTimer cleared for callId :",e),delete this.callsRetriesTable[e])},this.stopRestartCallTimer=function(e){G.debug("stopRestartCallTimer for callId :",e),void 0!==this.callsRetriesTable[e]&&void 0!==this.callsRetriesTable[e].restartCallTimeOutId&&(clearTimeout(this.callsRetriesTable[e].restartCallTimeOutId),G.error("[restartCall] RestartCallTimer cleared for callId :",e),delete this.callsRetriesTable[e].restartCallTimeOutId)},this.restartCall=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G.debug("[restartCall] restartCall for callId :",e.callId);var i=-1;if(!0!==n.userMedia)if(e.callControl&&e.callControl.autoRestart)if(0===(i=e.callControl.autoRestart.counter)&&(e.callControl.autoRestart.callIdWhenStartingTimer=e.callId,this.startMaxCallRetriesTimer(e.callId)),void 0!==this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&void 0===this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].allowedStatus){G.debug("[restartCall] ... for callIdWhenStartingTimer :",e.callControl.autoRestart.callIdWhenStartingTimer),G.debug("AutoRestartCounter :",i),G.debug("Calling restartCallProcess in :",this.restartCallDelay*Math.pow(2,i));var r=setTimeout((function(){G.debug("Timer reached for restartCall"),delete e.callControl.autoRestart.pending,t.restartCallProcess(e,n),void 0!==t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&void 0!==t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId&&delete t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId}),this.restartCallDelay*Math.pow(2,i));e.callControl.autoRestart.pending=!0,this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId=r}else G.warn("CALL_ABORTED, retries not allowed (maxCallsRetriesDuration reached) for callIdWhenStartingTimer :",e.callControl.autoRestart.callIdWhenStartingTimer),this.destroyCallControl(e.callControl),Y.createErrorEvent("call aborted after calls retries (maxCallsRetriesDuration reached)","CALL_ABORTED",e.callId,e.callControl.roomName),void 0!==this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&delete this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer];else G.debug("[restartCall] autoRestart options not defined");else this.restartCallProcess(e,n)},this.restartCallProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G.debug("restartCallProcess ");var n=!1,i=!1,r=null;if(!0!==e.restarting){if(e.restarting=!0,!0===t.userMedia&&(n=!0),!0===t.mesh&&(i=!0),!0===n)if(!0===i)"screenSharing"===e.callType||"screenSharingWithAudio"===e.callType?(e.restarting=!1,this.userMediaTable.push(e),this.MCUClient.meshOnScreenMediaSuccess(e)):(e.restarting=!1,this.userMediaTable.push(e),this.MCUClient.meshOnUserMediaSuccess(e));else if("screenSharing"===e.callType||"screenSharingWithAudio"===e.callType){delete e.data.meshPublish,e.data.type="publish";var o=this.createCallControl({type:"shareScreen",callId:e.userMediaId,roomName:e.roomId,callConfiguration:e.callConfiguration,data:e.data});o.captureSourceType=e.captureSourceType,o.autoRestart.counter=0,o.autoRestart.stream=t.stream,this.shareScreen(e.roomId,e.data,e.captureSourceType,e.callConfiguration,{callControl:o}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.userMediaId,e.userMediaId,"publish",this.clientId,e.roomId,e.roomId,null)}else{delete e.data.meshPublish;var s=this.createCallControl({type:"publish",callId:e.userMediaId,callType:e.callType,roomName:e.roomId,callConfiguration:e.callConfiguration,data:e.data});s.audioOnly="audio"===e.callType,s.sessionId=e.sessionId,s.token=e.token,s.autoRestart.counter=0,s.autoRestart.stream=t.stream,this.MCUClient.publish(e.roomId,e.sessionId,e.token,e.callConfiguration,e.data,{callControl:s}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,"audio"===e.callType,e.userMediaId,e.userMediaId,"publish",this.clientId,e.roomId,e.roomId,null)}else if("publish"===e.settingUpType)(0,a.Ym)(e.callControl,"object")?(G.debug("[restartCall] restarting call publish"),this.MCUClient.publish(e.callControl.roomName,e.callControl.sessionId,e.callControl.token,e.callControl.callConfiguration,e.callControl.data,{callControl:e.callControl}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.callId,e.callId,"publish",this.clientId,e.callControl.roomName,e.callControl.roomName,null)):G.warn("[restartCall] cannot auto restart; missing info");else if("shareScreen"===e.settingUpType)(0,a.Ym)(e.callControl,"object")?(G.debug("[restartCall] restarting call shareScreen"),this.shareScreen(e.callControl.roomName,e.callControl.data,e.callControl.captureSourceType,e.callControl.callConfiguration,{callControl:e.callControl}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.callId,e.callId,"publish",this.clientId,e.callControl.roomName,e.callControl.roomName,null)):G.warn("[restartCall] cannot auto restart; missing info");else if("subscribe"===e.settingUpType&&(G.debug("[restartCall] restarting call subscribe"),r=!0===e.mcuRemoteStream.replay?this.MCUClient.getStreamOfUserCall(e.mcuRemoteStream.attributes.callerId,e.mcuRemoteStream.attributes.callId,{replay:!0}):this.MCUClient.getStreamOfUserCall(e.mcuRemoteStream.attributes.callerId,e.mcuRemoteStream.attributes.callId),(0,a.Ym)(e.callControl,"object")&&r)){G.debug("[restartCall] stream exists, subscribing to it");var l=!!e.callControl.autoRestart.force;delete e.callControl.autoRestart.force;var c=e.callControl.callId,u=this.MCUClient.subscribeToStreams([r],e.callControl.mediaType,e.callControl.data,e.callControl.callConfiguration,{noStreamCheck:!0,autoSub:!0,force:l});c&&u[0]&&this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,c,u[0],"subscribe",this.clientId,e.callControl.roomName,e.callControl.roomName,r.id)}}else G.debug("[restartCall] call already restarting")},this.closingCallProcess=function(e,t){G.log("Session terminated.");var n=null;(0,a.ki)(this.callsTable[e].sessionMCU,"roomName","string")&&(0,a.ki)(this.callsTable[e].data,"MCUType","string")&&("MCU-Caller"===this.callsTable[e].data.MCUType||"MCU-Callee"===this.callsTable[e].data.MCUType)&&this.MCUClient.leaveSession(this.callsTable[e].sessionMCU.roomName),this.callsTable[e].callConfiguration&&this.callsTable[e].callConfiguration.userMediaStreamId&&!0!==this.callsTable[e].streamStolen&&(n=apiCC.getUserMediaStream(this.callsTable[e].callConfiguration.userMediaStreamId))&&apiCC.releaseUserMediaStream(n.userMediaStreamId,this.callsTable[e].callId),null!==this.callsTable[e].screenStream&&(G.log("stopping screenStream"),this.stopStream(this.callsTable[e].screenStream),Y.createUserMediaStopEvent(this.callsTable[e].callId,"screen")),null!==this.callsTable[e].pc&&(G.log("Closing PC"),this.qosEnable&&void 0!==this.callsTable[e].qm&&null!==this.callsTable[e].qm&&"function"==typeof this.callsTable[e].qm.saveStatsToDb&&(this.callsTable[e].qm.saveStatsToDb(!0),clearInterval(this.callsTable[e].statisticId)),this.callsTable[e].csmIntervalId&&clearInterval(this.callsTable[e].csmIntervalId),this.callsTable[e].beginTimeoutId&&(clearTimeout(this.callsTable[e].beginTimeoutId),delete this.callsTable[e].beginTimeoutId),this.callsTable[e].dcfs?"Ice_failed"===t?this.callsTable[e].dcfs.failure="iceFailed":this.callsTable[e].dcfs.canceled=!0:"data"===this.callsTable[e].callType&&"dataChannelConnector"===this.callsTable[e].calleeId&&(this.callsTable[e].failure||this.callsTable[e].success||setTimeout((function(e,t){Y.createEvent({eventType:"onFileSended",callId:e.callId,remoteId:e.remoteId,name:e.data.filename,error:t}),e.callbacks&&e.callbacks.failure&&e.callbacks.failure(t)}),0,this.callsTable[e],"Ice_failed"===t?"iceFailed":"canceled")),this.callsTable[e].pc.close(),this.callsTable[e].pc=null)},this.removeCallProcess=function(e){var t=this,n=this.callsTable[e];this.clearCallTimeouts(n),0!==n.incomingcandidatesQueue.length&&n.incomingcandidatesQueue.splice(0,n.incomingcandidatesQueue.length),void 0!==this.clientIncomingCandidatesQueue[n.callId+"-"+n.instanceId]&&0!==this.clientIncomingCandidatesQueue[n.callId+"-"+n.instanceId].length&&this.clientIncomingCandidatesQueue[n.callId+"-"+n.instanceId].splice(0,this.clientIncomingCandidatesQueue[n.callId+"-"+n.instanceId].length),G.log("Removing call from table"),this.callsTable.splice(e,1),G.log("this.callsTable.length :",this.callsTable.length),G.log("Call is terminated"),setTimeout((function(){t.startNextPushData()})),this.evalOutgoingVideoBandwithCap()},this.removeCallFromTableWithCallIdAndSendBye=function(e,t){G.debug("removeCallFromTableWithCallIdAndSendBye()",e);var n,i=null;if(-1!==(n=this.findCallIndexWithCallId(e))){if(this.closingCallProcess(n,t),this.callsTable[n].callId,this.callsTable[n].calleeId,this.callsTable[n].callee?(i=this.callsTable[n].callerId,null===t&&(t="Hangup_From_Callee")):(i=this.callsTable[n].calleeId,null===t&&(t="Hangup_From_Caller")),G.log("reason is :"+t),"LOCAL"!==this.callsTable[n].calleeId&&null!==apiCC.session){var r=apiCC.session.getConnectedUserInfo(this.callsTable[n].calleeId,"userData"),a=null;if("User_Not_Found"!==r)try{a=JSON.parse(r)}catch(e){G.error("userInfo parse fail",r)}null!=a&&"true"===a.isSimulated?apiCC.session.channel.socket.emit("simulatedAgentCancelCallRequest",{number:this.callsTable[n].calleeId,callId:e}):this.callsTable[n].myWebRTC_Stack.sendBye(this.callsTable[n].callId,this.clientId,this.callsTable[n].dest_roomId,i,t,this.callsTable[n].data)}"Broken_by_MCU"!==t&&this.myWebRTC_Event.createHangupEvent("local",this.clientId,this.callsTable[n].remoteId,!0,t,this.callsTable[n].callId,this.callsTable[n].callType),void 0!==this.callsTable[n].data&&null!==this.callsTable[n].data&&("janusConnector"===this.callsTable[n].data.pubSub||"MCU-Caller"!==this.callsTable[n].data.MCUType&&"MCU-Callee"!==this.callsTable[n].data.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(this.callsTable[n].data.confId,this.callsTable[n].callerId,this.callsTable[n].calleeId,this.callsTable[n].callId)),this.removeCallProcess(n)}else G.log("No call removed");this.MCUClient.publishCallId===e&&(this.publishCallId=null)},this.removeCall=function(e){G.info("removeCall");var t=null;return-1!==e?(this.closingCallProcess(e,null),0!==this.callsTable[e].disconnectionWarningTimeout&&(G.debug("clearing disconnectionWarningTimeout"),clearTimeout(this.callsTable[e].disconnectionWarningTimeout),this.callsTable[e].disconnectionWarningTimeout=0),t=this.callsTable[e].callType,this.removeCallProcess(e)):G.debug("No call removed"),t},this.removeCallFromTableWithConfIdandRemoteId=function(e,t,n){var i;return G.debug("removeCallFromTableWithConfIdandRemoteId() with reason :"+n),n=null,i=this.findCallIndexWithConfIdAndRemoteId(e,t),this.removeCall(i)},this.removeCallFromTableWithCallIdandRemoteId=function(e,t,n){var i;return G.debug("removeCallFromTableWithCallIdandRemoteId() with reason :"+n),G.log("callId :"+e),G.log("remoteId :"+t),n=null,i=this.findCallIndexWithCallIdAndRemoteId(e,t),this.removeCall(i)},this.removeCallFromTableWithCallIdandInstanceId=function(e,t,n){var i;return G.debug("removeCallFromTableWithCallIdandInstanceId() with reason :"+n),G.log("callId :"+e),G.log("instanceId :"+t),n=null,i=this.findCallIndexWithCallIdAndInstanceId(e,t),this.removeCall(i)},this.toggleVideoMute=function(e){G.debug("toggleVideoMute");var t,n,i=this.callsTable.length,r=null,a=null;if(null==e){for(G.debug("no callId defined, toggleVideoMute all local video"),this.isVideoMuted?null!==this.localStream&&(G.debug("localStream unMuteTracks"),this.unMuteTracks(this.localStream.getVideoTracks())):null!==this.localStream&&(G.debug("localStream muteTracks"),this.muteTracks(this.localStream.getVideoTracks())),this.isVideoMuted=!this.isVideoMuted,t=0;t<i;t+=1)this.callsTable[t].data&&this.callsTable[t].data.mesh||(a=null,this.callsTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[t].callConfiguration.userMediaStreamId)),a?a.videoMuted?a.unMuteVideoOnStreams("enabled"):a.muteVideoOnStreams("enabled"):null!==this.callsTable[t].callLocalStream&&(this.callsTable[t].isLocalVideoMuted?(G.debug("unmuting call :",this.callsTable[t].callId),this.unMuteTracks(this.callsTable[t].callLocalStream.getVideoTracks())):(G.debug("muting call :",this.callsTable[t].callId),this.muteTracks(this.callsTable[t].callLocalStream.getVideoTracks())),this.callsTable[t].isLocalVideoMuted=!this.callsTable[t].isLocalVideoMuted));for(i=this.userMediaTable.length,t=0;t<i;t+=1)a=null,this.userMediaTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.userMediaTable[t].callConfiguration.userMediaStreamId)),a&&(a.videoMuted?a.unMuteVideoOnStreams("enabled"):a.muteVideoOnStreams("enabled"));return{muteState:this.isVideoMuted,callId:"ALL"}}return G.debug("callId is defined :",e),(n=this.findCallIndexWithCallId(e))>=0?(this.callsTable[n].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[n].callConfiguration.userMediaStreamId)),a?(a.videoMuted?a.unMuteVideoOnStreams("enabled"):a.muteVideoOnStreams("enabled"),{muteState:a.videoMuted,callId:e}):null!==this.callsTable[n].callLocalStream?(this.callsTable[n].isLocalVideoMuted?(G.debug("unmuting call :",this.callsTable[n].callId),this.unMuteTracks(this.callsTable[n].callLocalStream.getVideoTracks())):(G.debug("muting call :",this.callsTable[n].callId),this.muteTracks(this.callsTable[n].callLocalStream.getVideoTracks())),this.callsTable[n].isLocalVideoMuted=!this.callsTable[n].isLocalVideoMuted,{muteState:this.callsTable[n].isLocalVideoMuted,callId:e}):{muteState:"STREAM_NOT_FOUND",callId:e}):(r=this.findUserMediaById(e))&&(r.callConfiguration&&(a=apiCC.getUserMediaStream(r.callConfiguration.userMediaStreamId)),a)?(a.videoMuted?a.unMuteVideoOnStreams("enabled"):a.muteVideoOnStreams("enabled"),{muteState:a.videoMuted,callId:e}):{muteState:"CALL_NOT_FOUND",callId:e}},this.unMuteTracks=function(e){var t;if(0!==e.length){for(t=0;t<e.length;t+=1)e[t].enabled=!0;G.log("tracks unMuted.")}else G.log("No tracks available.")},this.muteTracks=function(e){var t;if(0!==e.length){for(t=0;t<e.length;t+=1)e[t].enabled=!1;G.log("tracks muted.")}else G.log("No tracks available.")},this.toggleAudioMute=function(e){G.debug("toggleAudioMute");var t,n,i=this.callsTable.length,r=null,a=null;if(null==e){for(G.debug("no callId defined, toggleAudioMute all local audio"),this.isAudioMuted?null!==this.localStream&&(G.debug("localStream unMuteTracks"),this.unMuteTracks(this.localStream.getAudioTracks())):null!==this.localStream&&(G.debug("localStream muteTracks"),this.muteTracks(this.localStream.getAudioTracks())),this.isAudioMuted=!this.isAudioMuted,t=0;t<i;t+=1)this.callsTable[t].data&&this.callsTable[t].data.mesh||(a=null,this.callsTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[t].callConfiguration.userMediaStreamId)),a?a.audioMuted?a.unMuteAudioOnStreams("enabled"):a.muteAudioOnStreams("enabled"):null!==this.callsTable[t].callLocalStream&&(this.callsTable[t].isLocalAudioMuted?(G.debug("unmuting call :",this.callsTable[t].callId),this.unMuteTracks(this.callsTable[t].callLocalStream.getAudioTracks())):(G.debug("muting call :",this.callsTable[t].callId),this.muteTracks(this.callsTable[t].callLocalStream.getAudioTracks())),this.callsTable[t].isLocalAudioMuted=!this.callsTable[t].isLocalAudioMuted));for(i=this.userMediaTable.length,t=0;t<i;t+=1)a=null,this.userMediaTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.userMediaTable[t].callConfiguration.userMediaStreamId)),a&&(a.audioMuted?a.unMuteAudioOnStreams("enabled"):a.muteAudioOnStreams("enabled"));return{muteState:this.isAudioMuted,callId:"ALL"}}return G.debug("callId is defined :",e),(n=this.findCallIndexWithCallId(e))>=0?(this.callsTable[n].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[n].callConfiguration.userMediaStreamId)),a?(a.audioMuted?a.unMuteAudioOnStreams("enabled"):a.muteAudioOnStreams("enabled"),{muteState:a.audioMuted,callId:e}):null!==this.callsTable[n].callLocalStream?(this.callsTable[n].isLocalAudioMuted?(G.debug("unmuting call :",this.callsTable[n].callId),this.unMuteTracks(this.callsTable[n].callLocalStream.getAudioTracks())):(G.debug("muting call :",this.callsTable[n].callId),this.muteTracks(this.callsTable[n].callLocalStream.getAudioTracks())),this.callsTable[n].isLocalAudioMuted=!this.callsTable[n].isLocalAudioMuted,{muteState:this.callsTable[n].isLocalAudioMuted,callId:e}):{muteState:"STREAM_NOT_FOUND",callId:e}):(r=this.findUserMediaById(e))&&(r.callConfiguration&&(a=apiCC.getUserMediaStream(r.callConfiguration.userMediaStreamId)),a)?(a.audioMuted?a.unMuteAudioOnStreams("enabled"):a.muteAudioOnStreams("enabled"),{muteState:a.audioMuted,callId:e}):{muteState:"CALL_NOT_FOUND",callId:e}},this.sendDTMF=function(e,t,n,i){G.debug("sendDTMF");var r=0;null!=e?(G.debug("callId is defined :",e),r=this.findCallIndexWithCallId(e),G.debug("index :",r),r>=0&&(G.debug("index :",r),this.callsTable[r].sendTones(t,n,i))):G.debug("no callId defined, leaving sendDTMF")},this.xhr=function(e,t,n,i,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&n(a.responseText)},void 0!==i&&(a.upload.onprogress=i),a.open("POST",e),null!=r&&a.setRequestHeader("Authorization","Bearer "+r),a.send(t)},this.takeSnapshot=function(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};G.info("takeSnapshot");var l,c=null,u=null,d=document.createElement("canvas"),f=null,h=null,p=(new Date).toJSON().replace(new RegExp(":","g"),"-"),g=null,m=s.token;switch(i){case"Desactivated":l=0;break;case"Low":l=2;break;case"Medium":l=4;break;case"High":l=6;break;default:G.log("blurLevel not defined switch case : "+i),l=0}return void 0===o?(G.warn("ApiRTC DEPRECATED : Please add videoId for TakeSnapshot"),G.log("Leaving takeSnapshot"),void this.myWebRTC_Event.createErrorEvent("Deprecated - localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT")):(G.log("takeSnapshot of defined video Id :"+o),null===(g=document.getElementById(o))?(G.log("Cannot find video with Id :"+o),G.log("Leaving takeSnapshot"),void this.myWebRTC_Event.createErrorEvent("localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT")):(d.width=g.videoWidth,d.height=g.videoHeight,s.hasOwnProperty("width")&&(G.debug("options.width is set :"+s.width),d.width=s.width),s.hasOwnProperty("height")&&(G.debug("options.height is set :"+s.height),d.height=s.height),G.log("snapshot.width : "+d.width),G.log("snapshot.height :"+d.height),(c=d.getContext("2d")).drawImage(g,0,0,d.width,d.height),(u=document.createElement("img")).src=d.toDataURL("image/png"),u.style.padding=5,u.width=d.width,u.height=d.height,0!==l?(G.log("Adding Blur on Photo"),f=c.getImageData(0,0,d.width,d.height),G.log("av pixels data : "+f.data),f=function(e,t,n){var i,r=e.width,a=r<<2,o=e.height,s=null,l=0,c=0,u=0,d=0,f=0,h=0,p=0,g=0,m=0,v=0,b=0,y=0,C=0,w=0,S=0,I=0;if(t){for(s=t.data,n<0&&(n=0),g=1-((f=(2.44413*(l=n>=2.5?.98711*n-.9633:n>=.5?3.97156-4.14554*Math.sqrt(1-.26891*n):2*n*(3.97156-4.14554*Math.sqrt(.865545)))+2.85619*(c=l*l)+1.26661*(u=c*l))/(d=1.57825+2.44413*l+1.4281*c+.422205*u))+(h=-(1.4281*c+1.26661*u)/d)+(p=.422205*u/d)),i=0;i<3;i++)for(m=0;m<o;m++){for(b=m*a+(r-1<<2)+i,S=w=C=y=s[v=m*a+i],v=m*a+i;v<=b;v+=4)y=g*s[v]+f*C+h*w+p*S,s[v]=y,S=w,w=C,C=y;for(b=m*a+i,S=w=C=y=s[v=m*a+(r-1<<2)+i],v=m*a+(r-1<<2)+i;v>=b;v-=4)y=g*s[v]+f*C+h*w+p*S,s[v]=y,S=w,w=C,C=y}for(i=0;i<3;i++)for(I=0;I<r;I++){for(b=(o-1)*a+(I<<2)+i,S=w=C=y=s[v=(I<<2)+i],v=(I<<2)+i;v<=b;v+=a)y=g*s[v]+f*C+h*w+p*S,s[v]=y,S=w,w=C,C=y;for(b=(I<<2)+i,S=w=C=y=s[v=(o-1)*a+(I<<2)+i],v=(o-1)*a+(I<<2)+i;v>=b;v-=a)y=g*s[v]+f*C+h*w+p*S,s[v]=y,S=w,w=C,C=y}return t}}(u,f,l),G.log("ap pixels data : "+f.data),c.putImageData(f,0,0),u.src=d.toDataURL("image/png")):G.log("blur on photo is desactivated"),"object"===H(t)?null!==t?t.src=u.src:G.log("localPhotoIdOrDiv is null"):null!==document.getElementById(t)?document.getElementById(t).src=u.src:G.log("localPhotoId is not defined"),h=new FormData,void 0!==r?(G.log("sessionId !== undefined :"+r),h.append("destFileName",this.clientId+"-"+p+".png"),h.append("data",d.toDataURL("image/png")),h.append("sessionId",r)):(G.log("Upload on data1"),h.append("photo",d.toDataURL("image/png")),h.append("clientId",this.clientId),h.append("apiKey",apiCC.session.apiKey)),void this.xhr(e,h,(function(e){if(G.log("fileName :",e),null!==e)try{var t=JSON.parse(e);"OK"===t.resultCode&&(G.log("files loaded, filename :"+t.fileUrl),Y.createSnapShotPhotoUploaded(t.fileUrl))}catch(e){G.log("Parsing error:",e)}"Photo received"!==e&&"An error occurred."!==e&&"Photo-"!==e.substring(0,6)||Y.createSnapShotPhotoUploaded(e)}),a,m)))},this.takeSnapshotAndSendOnDataChannel=function(e,t,n,i){G.info("takeSnapshotAndSendOnDataChannel");var r,a=null,o=document.createElement("canvas"),s=null;if(void 0!==t){if(G.log("takeSnapshot of defined video Id :"+t),null===(s=document.getElementById(t)))return G.log("Cannot find video with Id :"+t),G.log("Leaving takeSnapshot"),void this.myWebRTC_Event.createErrorEvent("localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT")}else G.warn("ApiRTC DEPRECATED : Please add videoId for TakeSnapshot");null!=s&&(o.width=s.clientWidth,o.height=s.clientHeight),G.log("snapshot.width : "+o.width),G.log("snapshot.height :"+o.height),o.getContext("2d").drawImage(s,0,0,o.width,o.height),(a=document.createElement("img")).src=o.toDataURL("image/png"),a.style.padding=5,a.width=o.width,a.height=o.height,"object"===H(e)?null!==e?e.src=a.src:G.log("localPhotoIdOrDiv is null"):null!==document.getElementById(e)?document.getElementById(e).src=a.src:G.log("localPhotoId is not defined"),r=o.toDataURL("image/png"),this.sendDataWithCallId(n,{file:r,name:"nomFichier",type:"image/png-dataUrl"},i)},this.callWithNumber=function(e,t,n,i){G.info("Click on Call Button, video activated : "+t),G.log("callConfiguration : ",i);var o=null,s=0,l=null,c=null,u=null,d=null,f=null;if("number"==typeof e&&(G.log("called number type is number, converting to string"),e=e.toString()),""!==e&&e!==this.clientId){if((o=new k(this)).instanceId=apiCC.generateInstanceId(),G.log("Calling destination number :"+e),null==i||void 0===i.apzcallId||null===i.apzcallId?o.generateCallId():o.callId=i.apzcallId,!0===apiCC.isSIPNumber(e)?(G.log("Prefix 0 , + , or 'sip:' detected, calling a SIP device"),!0===e.toString().startsWith("sip:")&&(e=e.toString().replace("sip:",""),G.log("called SIP number is :",e)),null!=n?n.pubSub="sipConnector":(n={}).pubSub="sipConnector",o.trickleIce=!1):G.log("Establishing Web call"),o.callerId=this.clientId,o.calleeId=e,o.dest_roomId=e,o.audioOnly=!t,o.remoteId=e,o.callConfiguration=i,null!=i?("VIDEO"===i.mediaTypeForOutgoingCall||"AUDIO"===i.mediaTypeForOutgoingCall||"VIDEOONLY"===i.mediaTypeForOutgoingCall||"NONE"===i.mediaTypeForOutgoingCall?(G.log("Setting mediaTypeForOutgoingCall :"+i.mediaTypeForOutgoingCall),o.mediaTypeForOutgoingCall=i.mediaTypeForOutgoingCall):(G.log("mediaTypeForOutgoingCall is not set"),!1===t&&(G.log("videoActivated is false, setting mediaTypeForOutgoingCall to AUDIO"),o.mediaTypeForOutgoingCall="AUDIO")),void 0!==i.mediaRoutingMode&&null!==i.mediaRoutingMode&&o.setCallMediaRoutingMode(i.mediaRoutingMode),void 0!==i.turnServerAddress&&null!==i.turnServerAddress&&o.setCallTurnServer(i.turnServerAddress),!0!==i.preferVP9Codec&&!1!==i.preferVP9Codec||(o.preferVP9Codec=i.preferVP9Codec),i.hasOwnProperty("forceCallType")&&(o.callType=i.forceCallType,"screenSharing"!==o.callType&&"screenSharingWithAudio"!==o.callType||(o.screenSharing=!0))):G.log("callConfiguration is not set"),void 0!==n&&void 0!==n.MCUType&&("MCU-Caller"!==n.MCUType&&"MCU-Callee"!==n.MCUType||("janusConnector"===this.MCUClient.pubConnector&&("Firefox"!==r.Xh&&"Mobile Firefox"!==r.Xh||(r.PR>43?o.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1}:o.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}})),n.remoteMediaStreamId&&(o.remoteMediaStreamId=n.remoteMediaStreamId),n.pubSub=this.MCUClient.pubConnector,n.videoBandwidthSettings=this.videoBandwidthSettings,"groupKurentoConnector"===n.pubSub&&(n.pubSub="kurentoConnector"))),o.checkDTLSCompliancy(),l=o.callId,c=apiCC.session.getConnectedUserInfo(e,"userData"),G.log("userInfo :",c),"User_Not_Found"!==c&&void 0!==c&&void 0!==(u=JSON.parse(c))&&"true"===u.react&&(G.log("userInfoJson.react :",JSON.stringify(u.react)),G.log("userInfoJson.osName :",JSON.stringify(u.osName)),"iOS"===u.osName&&(G.log("Callee : React and iOS detected, setting H264 as preferred codec for the call"),o.preferH264Codec=!0)),!0===o.audioOnly&&(o.callType="audio"),void 0!==n?o.data=n:n={},n.convId&&(n.cloudConvId||(n.cloudConvId=n.convId),delete n.convId),!0===n.dataCall&&(o.dataCall=!0),o.data.instanceId=o.instanceId,s=this.callsTable.push(o),G.log("Call Number is :"+s),o.data&&"MCU-Caller"===o.data.MCUType&&"NONE"===o.mediaTypeForOutgoingCall)return o.inviteSended=!0,o.myWebRTC_Stack.sendInvite(o.callId,o.callerId,this.nickname,o.dest_roomId,o.dest_roomId,"none",{offer:{type:"no-offer"},data:o.data}),o.callId;o.data&&"MCU-Caller"===o.data.MCUType&&(o.settingUpType="publish",o.callControl=this.createCallControl({type:"publish",callId:o.callId,roomName:o.data.confId,callConfiguration:o.callConfiguration,data:o.data}),o.callControl.sessionId=o.data.confId,o.callControl.token=o.data.confId,o.callControl.autoRestart.counter=0,o.setMediaConstraintsToSendOnlyOffer()),(0,a.ki)(i,"userMediaStreamId","string")&&(f=i.userMediaStreamId),null!=u&&"true"===u.isSimulated?apiCC.session.channel.socket.emit("simulatedAgentCallRequest",{number:e,call:o,videoActivated:t,data:n,callConfiguration:{apzcallId:o.callId}}):!0===this.accessToLocalMedia&&!0===this.autoAnswer||o.dataCall||f?o.dataCall?(G.log("Datachannel call"),o.establishCall()):(G.log("callWithNumber :: User has already granted access to local media and AutoAnswer activated : establishing call"),f?((d=apiCC.getUserMediaStream(f)).addCallInfo(o.callId),void 0!==o.callConfiguration&&null!==o.callConfiguration||(o.callConfiguration={}),o.callConfiguration.userMediaStreamId=d.userMediaStreamId,o.onUserMediaSuccessOnCall(d.stream)):o.establishCall()):"MCU-Callee"===n.MCUType&&!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?G.log("Stand-by :: wait for AcceptCall on recorded 1to1 call"):o.getUserMediaOnCall()}else G.log("Call Number is incorrect");return l},this.startTestCall=function(e,t){G.info("startTestCall : video activated : "+e);var n,i,r=null,a=null,o={};return(r=new k(this)).generateCallId(),r.instanceId=apiCC.generateInstanceId(),r.callerId=this.clientId,r.calleeId=12345,r.dest_roomId=12345,r.audioOnly=!e,r.remoteId=12345,r.callConfiguration=t,null!=t?("VIDEO"===t.mediaTypeForOutgoingCall||"AUDIO"===t.mediaTypeForOutgoingCall||"VIDEOONLY"===t.mediaTypeForOutgoingCall||"NONE"===t.mediaTypeForOutgoingCall?(G.log("Setting mediaTypeForOutgoingCall :"+t.mediaTypeForOutgoingCall),r.mediaTypeForOutgoingCall=t.mediaTypeForOutgoingCall):G.log("mediaTypeForOutgoingCall is not set"),void 0!==t.mediaRoutingMode&&null!==t.mediaRoutingMode&&r.setCallMediaRoutingMode(t.mediaRoutingMode),void 0!==t.turnServerAddress&&null!==t.turnServerAddress&&r.setCallTurnServer(t.turnServerAddress),!0!==t.preferVP9Codec&&!1!==t.preferVP9Codec||(r.preferVP9Codec=t.preferVP9Codec)):(G.log("callConfiguration is not set"),t={}),r.checkDTLSCompliancy(),i=r.callId,o.pubSub="testCallKurentoConnector",r.data=o,r.data.instanceId=r.instanceId,!0===r.audioOnly&&(r.callType="audio"),n=this.callsTable.push(r),G.log("Call Number is :"+n),!0===this.accessToLocalMedia&&!0===this.autoAnswer||r.dataCall||t.userMediaStreamId||apiCC.userMediaStreamTable.length>0?r.dataCall?(G.log("Datachannel call"),r.establishCall()):(G.log("startTestCall :: User has already granted access to local media and AutoAnswer activated : establishing call"),t.userMediaStreamId?((a=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(r.callId),void 0!==r.callConfiguration&&null!==r.callConfiguration||(r.callConfiguration={}),r.callConfiguration.userMediaStreamId=a.userMediaStreamId,r.callLocalStream=a.stream,r.establishCall()):apiCC.userMediaStreamTable.length>0?((a=apiCC.userMediaStreamTable[0]).addCallInfo(r.callId),void 0!==r.callConfiguration&&null!==r.callConfiguration||(r.callConfiguration={}),r.callConfiguration.userMediaStreamId=a.userMediaStreamId,r.callLocalStream=a.stream,r.establishCall()):r.establishCall()):r.getUserMediaOnCall(),i},this.extensionInstallationSuccessCallback=function(){G.debug("extensionInstallationSuccessCallback"),apiCC.session.apiCCWebRTCClient.webRTCClient.apiRTCExtensionInstalled=!0},this.extensionInstallationFailureCallback=function(e,t){G.debug("extensionInstallationFailureCallback : Error :"+e+", "+t),e=null,t=null,Y.createDesktopCaptureEvent("Extension_installation_Error",this.waitingShareScreenCallId,this.waitingShareScreenDestNumber,this.waitingCaptureSourceType)},this.manageNotInstalledExtension=function(e,t,n){G.debug("manageNotInstalledExtension"),G.warn("apiRTC extension not installed"),Y.createDesktopCaptureEvent("Extension_not_installed",e,t),G.warn("Starting apiRTC extension installation"),this.waitingShareScreenDestNumber=t,this.waitingShareScreenCallId=e,this.waitingCaptureSourceType=n,chrome.webstore.install("https://chrome.google.com/webstore/detail/mjjnofoemoepfididplbfimokpnpcoeg",this.callback(this,"extensionInstallationSuccessCallback"),this.callback(this,"extensionInstallationFailureCallback"))},this.shareScreen=function(e,t,n,i,r){G.info("shareScreen");var o=null,s=null,l=null,c=null;if(!0===apiCC.isScreenSharingCompliant())if(""!==e&&e!==this.clientId){if(null!==t&&"object"===H(t)||(t={}),"janusConnector"===this.MCUClient.pubConnector&&!t.mesh&&r&&r.callControl&&r.callControl.callId&&this.findCallWithCallId(r.callControl.callId))return G.debug("call already exists",r.callControl.callId),r.callControl.callId;if(null!==i&&"object"===H(i)||(i={}),null!==i.qos&&"object"===H(i.qos)?(t.qos={},"excellent"===i.qos.videoMinQuality?t.qos.videoMinQuality="excellent":"good"===i.qos.videoMinQuality?t.qos.videoMinQuality="good":"medium"===i.qos.videoMinQuality?t.qos.videoMinQuality="medium":(i.qos.videoMinQuality,t.qos.videoMinQuality="bad"),!0===i.qos.videoForbidInactive&&(t.qos.videoForbidInactive=!0)):t.qos={videoMinQuality:"bad"},["audioLabels","videoLabels"].forEach((function(e){(0,a.Ym)(i[e],"array")&&(t[e]=[],i[e].forEach((function(n){(0,a.Ym)(n,"string")&&t[e].push(n)})))})),(0,a.Ym)(i,"context","object"))try{JSON.stringify(i.context),t.context=i.context}catch(e){}G.log("shareScreen; callConfiguration: "+JSON.stringify(i)),s=new k(apiCC.session.apiCCWebRTCClient.webRTCClient),void 0!==t.mesh&&void 0!==t.instanceId?(G.debug("keeping instanceId "),s.instanceId=t.instanceId):s.instanceId=apiCC.generateInstanceId(),G.log("Calling destination number :"+e);var u=this.MCUClient.getSessionMCU(e);if(u&&(s.sessionMCU=u),s.sessionMCU&&"janusConnector"===this.MCUClient.pubConnector&&!t.mesh?(s.settingUpType="shareScreen",r&&r.callControl?(s.callControl=r.callControl,s.callControl.autoRestart.counter+=1,s.callId=s.callControl.callId,s.restarted=!0):(s.callControl=this.createCallControl({type:"shareScreen",roomName:e,callConfiguration:i,data:t}),s.callControl.captureSourceType=n,s.callControl.autoRestart.counter=0,s.generateCallId(),s.callControl.callId=s.callId)):(s.settingUpType="shareScreen",s.generateCallId()),o=s.callId,s.callerId=this.clientId,s.calleeId=e,s.dest_roomId=e,s.audioOnly=!1,s.screenSharing=!0,s.remoteId=e,s.callType="screenSharing",s.captureSourceType=n,s.callConfiguration=i,s.data=t,s.data.instanceId=s.instanceId,u&&u.convId&&(s.data.cloudConvId=u.convId),null!=i&&void 0!==i.turnServerAddress&&null!==i.turnServerAddress&&s.setCallTurnServer(i.turnServerAddress),s.checkDTLSCompliancy(),apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(s),s.sessionMCU&&"janusConnector"===this.MCUClient.pubConnector&&s.callControl&&s.callControl.autoRestart.stream)return G.debug("shareScreen; autoRestart"),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.callLocalStream=s.callControl.autoRestart.stream,s.establishCall(),s.callId;if(void 0!==t&&void 0!==t.mesh&&null!==(l=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(t.mesh.calleeCallId))&&l.callConfiguration&&l.callConfiguration.userMediaStreamId)return(c=apiCC.getUserMediaStream(l.callConfiguration.userMediaStreamId)).addCallInfo(s.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.sessionMCU&&"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&s.callControl&&(s.callControl.autoRestart.stream=c.stream),s.callConfiguration.userMediaStreamId=c.userMediaStreamId,s.callLocalStream=c.stream,s.establishCall(),s.callId;apiCC.createUserMediaStream({callId:s.callId,type:s.callType,captureSourceType:n,success:function(e){G.debug("[shareScreen] success; userMediaStreamId: "+e.userMediaStreamId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.sessionMCU&&"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&s.callControl&&(s.callControl.autoRestart.stream=e.stream),s.callConfiguration.userMediaStreamId=e.userMediaStreamId,s.callLocalStream=e.stream,s.establishCall()}})}else G.log("Call Number is incorrect");else G.log("shareScreen is not supported on this browser"),Y.createDesktopCaptureEvent("Browser_Not_Compatible",o,e);return G.info("shareScreen, callId :",o),o},this.startScreenSharingOnCall=function(e,t){G.info("getScreenMedia for callId :"+e);var n=null;if("Chrome"===r.Xh)if(null!==(n=this.findCallWithCallId(e))){if(!1===this.apiRTCExtensionInstalled)return void this.manageNotInstalledExtension(n.callId,n.remoteId,t);null==t&&(t=["screen","window","tab"]),window.postMessage({command:"getDesktopId",callNumber:n.callId,remoteId:n.remoteId,captureSourceType:t,browser_major_version:r.PR},"*")}else G.log("call not found");else G.log("shareScreen is only available for chrome Browser"),Y.createDesktopCaptureEvent("Browser_Not_Compatible",e,null)},this.toggleVideoScreen=function(e){G.info("toggleVideoScreen for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.toggleVideoScreen():G.log("call not found")},this.addVideoMedia=function(e){G.info("webRTCClient::addVideoMedia for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.addVideoMedia():G.log("call not found")},this.callbymail=function(t){var n;G.info("Click on Call per mail Button"),n=t,new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i").test(n)?(G.log("Calling Destination mail :"+t),this.socket.emit("webrtc_invite_permail",t),e.channel.socket.emit("webrtc_invite_permail",t)):G.log("Mail address is not correct :"+t)},this.callperURL=function(e){G.info("Call per URL");var t,n=null;(n=new k(this)).instanceId=apiCC.generateInstanceId(),G.log("Calling Destination number :"+e),n.generateCallId(),n.callerId=this.clientId,n.calleeId=e,n.dest_roomId=e,n.audioOnly=!1,n.getUserMediaOnCall(),n.remoteId=e,n.checkDTLSCompliancy(),t=this.callsTable.push(n),G.log("Call Number is :"+t)},this.acceptCall=function(e,t){G.info("acceptCall for callId :"+e),G.log("acceptCall() - callConfiguration : ",t);var n=null,i=null;if(null!==(n=this.findCallWithCallId(e))){if(G.log("acceptCall() - Call found"),n.isAccepted=!0,null!=t?("VIDEO"===t.mediaTypeForIncomingCall||"AUDIO"===t.mediaTypeForIncomingCall||"VIDEOONLY"===t.mediaTypeForIncomingCall||"NONE"===t.mediaTypeForIncomingCall||"DATA"===t.mediaTypeForIncomingCall?(G.log("acceptCall() - Setting mediaTypeForIncomingCall :"+t.mediaTypeForIncomingCall),n.mediaTypeForIncomingCall=t.mediaTypeForIncomingCall):G.log("acceptCall() - mediaTypeForIncomingCall is not set"),void 0!==t.mediaRoutingMode&&null!==t.mediaRoutingMode&&n.setCallMediaRoutingMode(t.mediaRoutingMode),void 0!==t.turnServerAddress&&null!==t.turnServerAddress&&n.setCallTurnServer(t.turnServerAddress),!0!==t.preferVP9Codec&&!1!==t.preferVP9Codec||(n.preferVP9Codec=t.preferVP9Codec)):(G.log("acceptCall() - callConfiguration is not set"),t={}),!0===n.screenSharing&&(G.log("acceptCall() for screenSharing : forcing mediaTypeForIncomingCall to NONE"),t.mediaTypeForIncomingCall="NONE",n.mediaTypeForIncomingCall="NONE"),n.callConfiguration=(0,a.S6)(n.callConfiguration,t),"VIDEO"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!0,audioActive:!0,video:!0,videoActive:!0}):"AUDIO"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!0,audioActive:!0,video:!1,videoActive:!1}):"VIDEOONLY"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!1,audioActive:!1,video:!0,videoActive:!0}):"NONE"===n.mediaTypeForIncomingCall&&n.setLocalCallProfile({audio:!1,audioActive:!1,video:!1,videoActive:!1}),n.data&&"MCU-Callee"===n.data.MCUType&&"NONE"===n.mediaTypeForIncomingCall)return void n.myWebRTC_Stack.sendInvite(n.callId,n.callerId,this.nickname,n.dest_roomId,n.dest_roomId,"none",{offer:{type:"no-offer"},data:n.data});n.data&&"MCU-Callee"===n.data.MCUType&&(n.mediaTypeForOutgoingCall=n.mediaTypeForIncomingCall,n.settingUpType="publish",n.callControl=this.createCallControl({type:"publish",callId:n.callId,roomName:n.data.confId,callConfiguration:n.callConfiguration,data:n.data}),n.callControl.sessionId=n.data.confId,n.callControl.token=n.data.confId,n.callControl.autoRestart.counter=0,n.setMediaConstraintsToSendOnlyOffer()),this.unidirectionelCallOnly?(G.log("acceptCall() - unidirectional call"),n.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?(G.log("acceptCall with userAcceptOnIncomingCallBeforeGetUserMedia"),t.userMediaStreamId?((i=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(n.callId),void 0!==n.callConfiguration&&null!==n.callConfiguration||(n.callConfiguration={}),n.callConfiguration.userMediaStreamId=i.userMediaStreamId,n.onUserMediaSuccessOnCall(i.stream)):n.getUserMediaOnCall()):!0===n.accessToMedia||t.userMediaStreamId||n.dataCall?(G.log("acceptCall() :: User has already granted access to local media and AutoAnswer activated : establishing call"),n.dataCall?n.establishCall():t.userMediaStreamId?((i=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(n.callId),void 0!==n.callConfiguration&&null!==n.callConfiguration||(n.callConfiguration={}),n.callConfiguration.userMediaStreamId=i.userMediaStreamId,n.callLocalStream=i.stream,n.establishCall()):n.establishCall()):G.log("acceptCall() - call will be established when user accept his media")}else G.log("Call not found")},this.refuseCall=function(e,t){G.info("refuseCall for callId :"+e);var n,i=null;n=void 0!==t?t:"User_Refused_Call",null!==(i=this.findCallWithCallId(e))?(G.log("Call found"),"MCU-Callee"===i.data.MCUType?(i.myWebRTC_Stack.sendBye(i.callId,i.callerId,i.dest_roomId,i.calleeId,"User_Media_Error",i.data),this.removeCallFromTableWithCallIdandRemoteId(i.callId,i.calleeId,n)):(i.myWebRTC_Stack.sendBye(i.callId,i.calleeId,i.dest_roomId,i.callerId,n,i.data),this.removeCallFromTableWithCallIdandRemoteId(i.callId,i.callerId,n)),0===this.callsTable.length&&G.log("No more established calls for client")):G.log("Call not found")},this.stopMedia=function(e){var t=this,n=null,i=null;return new Promise((function(r,o){var s=null,l=null;return(s=t.findCallWithCallId(e))?s.callLocalStream?void s.removeStream(s.callLocalStream).then((function(){return i=s.callLocalStream.id,s.callLocalStream=null,(0,a.ki)(s.callConfiguration,"userMediaStreamId","string")&&(n=s.callConfiguration.userMediaStreamId,apiCC.releaseUserMediaStream(s.callConfiguration.userMediaStreamId,s.callId),delete s.callConfiguration.userMediaStreamId),r({oldUserMediaStreamId:n,oldMediaStreamId:i})})).catch(o):r({oldUserMediaStreamId:n,oldMediaStreamId:i}):((l=t.findUserMediaById(e))&&(n=e,l.releaseUserMediaStream()),r({oldUserMediaStreamId:n,oldMediaStreamId:i}))}))},this.addMedia=function(e,t,n,i){var r=this;G.info("addMedia for callId :"+e);var o=null,s=null,l=null,c=function(){return Promise.resolve()},u=function(){return Promise.resolve()};!0===t&&(c=function(){return r.stopMedia(e)}),(0,a.Ym)(n,"string")&&(l=apiCC.getUserMediaStream(n),n=null);var d=function(){G.error("[addMedia] success; userMediaStreamId: "+l.userMediaStreamId),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,s.audioMuted=l.audioMuted,s.videoMuted=l.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0)},f=function(e){void 0!==e.callConfiguration&&null!==e.callConfiguration||(e.callConfiguration={}),e.isLocalAudioMuted&&e.isLocalVideoMuted?e.callConfiguration.muted="VIDEO":e.isLocalAudioMuted?e.callConfiguration.muted="AUDIOONLY":e.isLocalVideoMuted&&(e.callConfiguration.muted="VIDEOONLY")},h=function(e,t,n){"audio"===t?n?e.audioSdpDirection=null:(0,a.ki)(e.remoteCallProfile,"audio","boolean")&&!0===e.remoteCallProfile.audio&&!0===e.remoteCallProfile.audioActive?e.audioSdpDirection="recvonly":e.audioSdpDirection="inactive":"video"===t&&(n?e.videoSdpDirection=null:(0,a.ki)(e.remoteCallProfile,"video","boolean")&&!0===e.remoteCallProfile.video&&!0===e.remoteCallProfile.videoActive?e.videoSdpDirection="recvonly":e.videoSdpDirection="inactive")},p=function(e,t,n,i){void 0!==e.callConfiguration&&null!==e.callConfiguration||(e.callConfiguration={}),e.callConfiguration.userMediaStreamId=t.userMediaStreamId,h(e,"audio",t.audio),h(e,"video",t.video),f(e),function(e,t,n){t&&n?(e.audioOnly=!1,e.mediaTypeForIncomingCall="VIDEO",e.mediaTypeForOutgoingCall="VIDEO"):t?(e.audioOnly=!1,e.mediaTypeForIncomingCall="AUDIO",e.mediaTypeForOutgoingCall="AUDIO"):n?(e.audioOnly=!1,e.mediaTypeForIncomingCall="VIDEOONLY",e.mediaTypeForOutgoingCall="VIDEOONLY"):(e.audioOnly=!1,e.mediaTypeForIncomingCall="NONE",e.mediaTypeForOutgoingCall="NONE")}(e,t.audio,t.video),e.callLocalStream=t.stream,e.started?e.addingUserMedia=!0:r.accessToLocalMedia=!0,e.asyncCallbacks={},e.asyncCallbacks.type="addingUserMedia",e.asyncCallbacks.resolve=n,e.asyncCallbacks.reject=i,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("addMedia timeout"),delete e.asyncCallbacks)}),J),e.establishCall()};if(null!==(o=this.findCallWithCallId(e))){if(o.asyncCallbacks)return Promise.reject("job already ongoing");u=function(){return new Promise((function(e,t){l?(l.addCallInfo(o.callId),p(o,l,e,t)):n?apiCC.createUserMediaStream({type:"media",callId:o.callId,stream:n,sync:!0,success:function(n){G.debug("[addMedia] success; userMediaStreamId: "+n.userMediaStreamId),p(o,n,e,t)},failure:function(e,n){return t(n)}}):(0,a.ki)(i,"getUserMediaStreamId","function")?i.getUserMediaStreamId().then((function(n){if(!(l=apiCC.getUserMediaStream(n)))return t("wrong userMediaStreamId");l.addCallInfo(o.callId),p(o,l,e,t)})).catch(t):apiCC.userMediaStreamTable.length>0?((l=apiCC.userMediaStreamTable[0]).addCallInfo(o.callId),p(o,l,e,t)):(f(o),o.addingUserMedia=!0,o.asyncCallbacks={},o.asyncCallbacks.type="addingUserMedia",o.asyncCallbacks.resolve=e,o.asyncCallbacks.reject=t,o.asyncCallbacks.timeoutId=setTimeout((function(){o.asyncCallbacks&&"function"==typeof o.asyncCallbacks.reject&&(o.asyncCallbacks.reject("addMedia timeout"),delete o.asyncCallbacks)}),J),o.getUserMediaOnCall())}))}}else if(s=this.findUserMediaById(e)){if(!0===s.addingUserMedia)return Promise.reject("addMedia already ongoing");u=function(){return new Promise((function(t,r){s.addingUserMedia=!0,new Promise((function(e,t){if(l)return l.addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,s.audioMuted=l.audioMuted,s.videoMuted=l.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId);if(n)apiCC.createUserMediaStream({callId:s.userMediaId,callFlavor:"userMedia",type:s.callType,stream:n,sync:!0,success:function(){return d(),e(l.userMediaStreamId)},failure:function(e,n){return t(n)}});else if((0,a.ki)(i,"getUserMediaStreamId","function"))i.getUserMediaStreamId().then((function(n){return(l=apiCC.getUserMediaStream(n))?(l.addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,s.audioMuted=l.audioMuted,s.videoMuted=l.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId)):t("wrong userMediaStreamId")})).catch(t);else{if(apiCC.userMediaStreamTable.length>0)return(l=apiCC.userMediaStreamTable[0]).addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,s.audioMuted=l.audioMuted,s.videoMuted=l.videoMuted,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId);apiCC.createUserMediaStream({callId:s.userMediaId,callFlavor:"userMedia",type:s.callType,audioSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.audioSourceId,videoSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.videoSourceId,success:function(){return d(),e(l.userMediaStreamId)},failure:function(e,n){return t(n)}})}})).then((function(t){return function(t){return new Promise((function(n,i){for(var r=[],a=0;a<apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length;a+=1){var o=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[a];if(void 0!==o.data&&void 0!==o.data.mesh&&o.data.mesh.calleeCallId===e){var s=apiCC.session.apiCCWebRTCClient.webRTCClient.addMedia(o.callId,!0,t);r.push(s.userMediaStreamId)}}Promise.all(r).then((function(){return n(t)})).catch(i)}))}(t)})).then((function(e){return delete s.addingUserMedia,t(e)})).catch((function(e){return delete s.addingUserMedia,r(e)}))}))}}else u=function(){return Promise.reject("no suitable replacement")};return new Promise((function(e,t){var n=null,i=null;c().then((function(e){return n=e.oldUserMediaStreamId,i=e.oldMediaStreamId,u()})).then((function(t){return G.info("addMedia success; userMediaStreamId: "+t),e({userMediaStreamId:t,oldUserMediaStreamId:n,oldMediaStreamId:i})})).catch((function(e){G.error("addMedia failure: "+e);var n=null,i=null;return o?(o.callControl&&(n=o.callControl.roomName,i=o.callControl.type),Y.createErrorEvent("Failed to addMedia","MEDIA_UPDATE_ERROR",o.callId,n,i)):s&&Y.createErrorEvent("Failed to addMedia","MEDIA_UPDATE_ERROR",s.userMediaId,null,"publish"),t(e)}))}))},this.updateMediaDeviceOnCall=function(e,t){return G.info("updateMediaDeviceOnCall for callId :"+e),this.addMedia(e,!0,t),e},this.updateMediaTypeOnCall=function(e,t){var n=function(e,t,n){return new Promise((function(i,r){var o,s={};e.callControl.mediaType=n,e.mediaType=n,e.data.mediaType=n,e.updateCause="userAction",s.type="update",s.mode="passive",s.callId=e.callId,s.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,s.callerNickname=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,s.calleeId=e.sessionMCU.roomName,s.roomId=e.sessionMCU.roomName,s.callType=t.attributes.callType,s.data=(0,a.S6)(e.data),s.data.type="subscribe",s.stream=t,o=JSON.stringify(s),G.log("C->S: "+o),apiCC.session.apiCCWebRTCClient.webRTCClient.socket.emit("update",o),e.asyncCallbacks={},e.asyncCallbacks.type="updateMediaType",e.asyncCallbacks.resolve=i,e.asyncCallbacks.reject=r,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("timeout"),delete e.asyncCallbacks)}),2e4)}))},i=this.findCallWithCallId(e);if(!i)return Promise.reject("call not found");if("subscribe"!==i.settingUpType)return Promise.reject("wrong call type");if(i.asyncCallbacks)return Promise.reject("job already ongoing");var r=this.MCUClient.getStreamFromList(i.streamId);if(!r)return Promise.reject("wrong streamId");if("VIDEO"===i.callControl.mediaType){if("AUDIOONLY"===t&&r.audio)return n(i,r,t);if("VIDEOONLY"===t&&r.video)return n(i,r,t)}else if("AUDIOONLY"===i.callControl.mediaType){if("VIDEO"===t&&r.video)return n(i,r,t);if("VIDEOONLY"===t&&r.video)return n(i,r,t)}else if("VIDEOONLY"===i.callControl.mediaType){if("VIDEO"===t&&r.video)return n(i,r,t);if("AUDIOONLY"===t&&r.audio)return n(i,r,t)}return Promise.reject("wrong mediaType")},this.updateSimulcastFeedOnCall=function(e,t){var n=this.findCallWithCallId(e);if(!n)return Promise.reject("call not found");if("subscribe"!==n.settingUpType)return Promise.reject("wrong call type");if(n.asyncCallbacks)return Promise.reject("job already ongoing");var i=this.MCUClient.getStreamFromList(n.streamId);if(!i)return Promise.reject("wrong streamId");if(!t)return Promise.reject("wrong simulcast");n.callControl.callConfiguration.simulcast||(n.callControl.callConfiguration.simulcast={}),n.data.simulcast||(n.data.simulcast={}),t.streamQuality&&("high"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=2,n.data.simulcast.substream=2):"medium"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=1,n.data.simulcast.substream=1):"low"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=0,n.data.simulcast.substream=0):(n.callControl.callConfiguration.simulcast.substream=-1,n.data.simulcast.substream=-1)),t.streamFrameRate&&("high"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=2,n.data.simulcast.temporal=2):"medium"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=1,n.data.simulcast.temporal=1):"low"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=0,n.data.simulcast.temporal=0):(n.callControl.callConfiguration.simulcast.temporal=-1,n.data.simulcast.temporal=-1));var r={type:"updateSimulcastFeed"};r.callId=n.callId,r.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,r.callerNickname=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,r.calleeId=n.sessionMCU.roomName,r.roomId=n.sessionMCU.roomName,r.callType=i.attributes.callType,r.data=(0,a.S6)(n.data),r.stream=i;var o=JSON.stringify(r);return G.log("C->S: "+o),apiCC.session.apiCCWebRTCClient.webRTCClient.socket.emit("updateSimulcastFeed",o),Promise.resolve()},this.updateCallConfigurationOnCall=function(e,t){var n=function(e,t,n){"audio"===t?e.audioSdpDirection=n?null:"inactive":"video"===t&&(e.videoSdpDirection=n?null:"inactive")},i=this.findCallWithCallId(e);return i?"publish"!==i.settingUpType?Promise.reject("wrong call type"):i.asyncCallbacks?Promise.reject("job already ongoing"):((0,a.Ym)(t,"object")||(t={}),(0,a.ki)(t,"audioOnly","boolean")||(t.audioOnly=!1),(0,a.ki)(t,"videoOnly","boolean")||(t.videoOnly=!1),function(e,t){return new Promise((function(i,r){e.mediaTypeForIncomingCall="NONE",!0===t.audioOnly?(G.log("Setting call as audioOnly"),e.audioOnly=!0,e.callType="audio",e.mediaTypeForOutgoingCall="AUDIO",n(e,"audio",!0),n(e,"video",!1)):!0===t.videoOnly?(G.log("Setting call as videoOnly"),e.audioOnly=!1,e.callType="videoOnly",e.mediaTypeForOutgoingCall="VIDEOONLY",n(e,"audio",!1),n(e,"video",!0)):(G.log("Setting call as media"),e.audioOnly=!1,e.callType="media",e.mediaTypeForOutgoingCall="VIDEO",n(e,"audio",!0),n(e,"video",!0)),e.updateUserMedia=!0,e.updateCause="userAction",e.establishCall(),e.asyncCallbacks={},e.asyncCallbacks.type="updateCallConfiguration",e.asyncCallbacks.resolve=i,e.asyncCallbacks.reject=r,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("timeout"),delete e.asyncCallbacks)}),2e4)}))}(i,t)):Promise.reject("call not found")},this.findUserMediaById=function(e){for(var t=this.userMediaTable.length;--t>=0;)if(this.userMediaTable[t].userMediaId===e)return this.userMediaTable[t];return null},this.findCallIndexWithCallIdAndRemoteId=function(e,t){G.debug("findCallIndexWithCallIdAndRemoteId");var n,i=this.callsTable.length;for(G.trace("callsNumber : "+i),n=0;n<i;n+=1)if(this.callsTable[n].callId===e&&(G.log("callId found"),G.log("this.callsTable[i].callee :"+this.callsTable[n].callee),G.log("this.callsTable[i].calleeId :"+this.callsTable[n].calleeId),!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t))return n;return G.log("Call not found"),-1},this.findCallIndexWithConfIdAndRemoteId=function(e,t){G.debug("findCallIndexWithConfIdAndRemoteId"),G.log("confId :"+e),G.log("remoteId :"+t);var n,i=this.callsTable.length;for(n=0;n<i;n+=1)if(G.log("this.callsTable[i].data.confId :"+this.callsTable[n].data.confId),this.callsTable[n].data.confId===e){if(!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t)return n}else G.debug("ConfId is different");return G.debug("Call not found - findCallIndexWithConfIdAndRemoteId"),-1},this.findCallIndexWithCallId=function(e){G.debug("findCallIndexWithCallId");var t,n=this.callsTable.length;for(t=0;t<n;t+=1)if(this.callsTable[t].callId===e)return G.log("Call found with callId"),t;return G.debug("Call not found - findCallIndexWithCallId"),-1},this.findCallWithCallIdAndInstanceId=function(e,t){G.debug("findCallWithCallIdAndInstanceId :"+e+" ,instanceId : "+t),void 0===t&&G.debug("instanceId is undefined : must be a mesh publish call, id must be a streamId");var n,i=this.callsTable.length;for(G.trace("callsNumber :"+i),n=0;n<i;n+=1)if(this.callsTable[n].callId===e&&this.callsTable[n].instanceId===t)return this.callsTable[n];return G.debug("Call not found, findCallWithCallIdAndInstanceId"),null},this.findCallIndexWithCallIdAndInstanceId=function(e,t){G.debug("findCallIndexWithCallIdAndInstanceId :"+e+" ,instanceId : "+t),void 0===t&&G.debug("instanceId is undefined : must be a mesh publish call, id must be a streamId");var n,i=this.callsTable.length;for(G.trace("callsNumber :"+i),n=0;n<i;n+=1)if(this.callsTable[n].callId===e&&this.callsTable[n].instanceId===t)return n;return G.debug("Call not found, findCallIndexWithCallIdAndInstanceId"),-1},this.findCallWithCallId=function(e){G.trace("findCallWithCallId :"+e);var t,n=this.callsTable.length;for(G.trace("callsNumber :"+n),t=0;t<n;t+=1)if(G.trace("this.callsTable[i].callId :"+this.callsTable[t].callId),this.callsTable[t].callId===e)return this.callsTable[t];return G.debug("Call not found"),null},this.findCallWithStreamId=function(e,t){G.debug("findCallWithStreamId :"+e);var n,i=!(!t||!t.ignoreModeChangeKindOld),r=this.callsTable.length;for(G.trace("callsNumber :"+r),n=0;n<r;n+=1)if(G.log("this.callsTable[i].streamId :"+this.callsTable[n].streamId),!(this.callsTable[n].streamId!=e||i&&this.callsTable[n].sessionMCU&&"old"===this.callsTable[n].sessionMCU.modeChangeKind))return G.log("Call found"),this.callsTable[n];return G.log("Call not found"),null},this.findCallWithCallIdAndRemoteIdAndInstanceId=function(e,t,n){G.debug("findCallWithCallIdAndRemoteIdAndInstanceId callId : "+e+" ,instanceId : "+n);var i,r=this.callsTable.length;for(G.trace("callsNumber :"+r),i=0;i<r;i+=1)if(this.callsTable[i].callId===e&&this.callsTable[i].instanceId===n&&(!0===this.callsTable[i].callee&&this.callsTable[i].callerId===t||!1===this.callsTable[i].callee&&this.callsTable[i].calleeId===t))return this.callsTable[i];return G.debug("Call not found"),null},this.findCallWithCallIdAndRemoteId=function(e,t){G.log("findCallWithCallIdAndRemoteId");var n,i=this.callsTable.length;for(G.trace("callsNumber :"+i),n=0;n<i;n+=1)if(this.callsTable[n].callId===e&&(!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t))return this.callsTable[n];return G.log("Call not found"),null},this.releaseUserMedia=function(){G.info("releaseUserMedia"),null!==this.localStream&&(G.log("stopping localStream"),this.stopStream(this.localStream),Y.createUserMediaStopEvent(null,"media"),this.accessToLocalMedia=!1,this.autoAnswer=!1,G.log("this.autoAnswer :"+this.autoAnswer)),null!==this.screenStream&&void 0!==this.screenStream&&(G.log("stopping screenStream"),this.stopStream(this.screenStream),Y.createUserMediaStopEvent(null,"screen"))},this.startDataChannelOnCall=function(e){G.info("startDataChannelOnCall with callId :"+e);var t=this.findCallWithCallId(e);t?(G.log("Call found",t),t.addingDataChannelOnCallOngoing=!0,t.createDataChannel()):G.log("Call not found")},this.sendDataWithCallId=function(e,t,n){G.info("sendDataWithCallId :"+e);var i=this.findCallWithCallId(e);i?(G.log("Call found",i),i.sendData(t,n)):G.log("Call not found")},this.processDataAck=function(e){G.debug("processDataAck",e);var t=this.findCallWithCallId(e.callId);if(t)if("ok"===e.result)if((0,a.ki)(e,"capabilities","object")&&(0,a.ki)(e.capabilities,"dataEndAckEnabled","boolean")&&(t.dataEndAckEnabled=e.capabilities.dataEndAckEnabled,G.debug("dataEndAckEnabled",t.dataEndAckEnabled)),"complete"===e.state)t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.success({state:"complete",filename:t.data.filename,size:t.data.size,mediaURL:e.mediaURL,mediaId:e.mediaId}),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId);else if("incomplete"===e.state){var n,i,r=1<<17,o=[],s=Math.floor(t.data.size/r),l=t.data.size%r;for(n=0;n<s;n+=1)(i=V("checksum64")).update(t.fileContent,n*r,r),o.push(i.digest("hex"));if(l>0&&((i=V("checksum64")).update(t.fileContent,s*r,l),o.push(i.digest("hex"))),G.debug(JSON.stringify(o)),e.checksums.length===o.length){for(n=0;n<o.length&&e.checksums[n]===o[n];n+=1);t.data.offset=r*n}t.mediaURL=e.mediaURL,t.mediaId=e.mediaId,t.establishCall()}else"missing"===e.state?(t.mediaURL=e.mediaURL,t.mediaId=e.mediaId,t.establishCall()):"ready"===e.state?t.establishCall():(G.debug("wrong state "+e.state),t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.failure("serverError"),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId));else G.debug("wrong result "+e.result),t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.failure("serverError"),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId);else G.debug("no such call",e.callId)},this.processDataEndAck=function(e){G.debug("processDataEndAck",e);var t=this.findCallWithCallId(e.callId);if(t){var n=null;if(!t.dcfs){if(!t.data||"pipeline"!==t.data.transferType)return void G.debug("not pipeline");G.debug("pipeline"),n=t,t.clientCall?(G.debug("resolve client call"),t=t.clientCall):(G.debug("no client call"),t=null)}t&&(t.success&&e.data&&(t.success.data=e.data),"ok"===e.result?(!0===e.complete||(delete t.success,t.failure="transferIncomplete"),t.dcfs.terminateTransfer()):"error"===e.result&&(delete t.success,t.failure=e.errorInfo,t.dcfs.terminateTransfer())),n&&"error"===e.result&&(G.debug("error on pipeline"),n.failure=e.errorInfo,Y.createEvent({eventType:"onFileSended",callId:n.callId,remoteId:n.remoteId,name:n.filename,error:n.failure}),n.callbacks.failure(n.failure),this.onHangup(n.callId))}else G.debug("no such call",e.callId)},this.pushData=function(e,t,n,i){var r=this;if(!(0,a.Ym)(t,"object"))return null;if((t=Object.assign({},t)).transferType||(t.transferType="file"),"file"===t.transferType&&!e)return null;if("file"!==t.transferType&&"pipeline"!==t.transferType&&"plugin"!==t.transferType)return null;if(!("plugin"!==t.transferType||t.pluginName&&t.pluginData))return null;(0,a.Ym)(i,"object")||(i={}),"function"!=typeof i.pending&&(i.pending=function(){}),"function"!=typeof i.progress&&(i.progress=function(){}),"function"!=typeof i.success&&(i.success=function(){}),"function"!=typeof i.failure&&(i.failure=function(){});var o=new k(apiCC.session.apiCCWebRTCClient.webRTCClient);if(o.generateCallId(),o.instanceId=apiCC.generateInstanceId(),o.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,o.calleeId="dataChannelConnector",o.dest_roomId="dataChannelConnector",o.callType="data",o.dataCall=!0,o.remoteId="dataChannelConnector",t.pipelineCallId&&(o.pipelineCallId=t.pipelineCallId),o.data={},o.data.pubSub="dataChannelConnector",o.data.transferType=t.transferType,"pipeline"===t.transferType?(t.checksumEnabled=!1,o.transferCount=0):"plugin"===t.transferType&&(t.checksumEnabled=!1,o.data.pluginName=t.pluginName,o.data.pluginData=Object.assign({},t.pluginData),o.data.pluginData.headers&&(o.data.pluginData.headers=Object.assign({},o.data.pluginData.headers)),o.data.pluginData.data&&(o.data.pluginData.data=Object.assign({},o.data.pluginData.data)),o.data.pluginData.formData&&(o.data.pluginData.formData=Object.assign({},o.data.pluginData.formData))),(0,a.ki)(t,"context","object"))try{JSON.stringify(t.context),o.data.context=Object.assign({},t.context)}catch(e){}if(!0===t.overwrite&&(o.data.overwrite=!0),(0,a.Ym)(t,"ttl","number")&&t.ttl>0&&(o.data.ttl=t.ttl),o.data.instanceId=o.instanceId,e&&(o.data.cloudConvId=e),o.callbacks=i,null!=n&&void 0!==n.turnServerAddress&&null!==n.turnServerAddress&&o.setCallTurnServer(n.turnServerAddress),"pipeline"===o.data.transferType)o.data.size=0,o.pushDataStatus={type:"pipeline",state:"pending",data:t},this.callsTable.push(o),setTimeout((function(){r.startNextPushData()}));else if((0,a.Ym)(t,"file","object")&&(t.file instanceof File||t.file.constructor===File||!0===t.asFile))(0,a.Ym)(t,"filename","string")?o.data.filename=t.filename:o.data.filename=t.file.name,(0,a.Ym)(t,"filetype","string")?o.data.contentType=t.filetype:o.data.contentType=t.file.type,(0,a.Ym)(t,"sourceType","string")&&t.sourceType.length>0&&(o.data.sourceType=t.sourceType),o.data.size=t.file.size,o.data.metadata=t.metadata,o.pushDataStatus={type:"file",state:"pending",convId:String(e),data:t},this.callsTable.push(o),setTimeout((function(){r.startNextPushData()}));else{if(!(0,a.Ym)(t,"buffer","object")||!(t.buffer instanceof ArrayBuffer||t.buffer.constructor===ArrayBuffer||!0===t.asBuffer))return null;if(!(0,a.Ym)(t,"filename","string")||!(0,a.Ym)(t,"filetype","string"))return null;o.data.filename=t.filename,o.data.contentType=t.filetype,(0,a.Ym)(t,"sourceType","string")&&t.sourceType.length>0&&(o.data.sourceType=t.sourceType),o.data.size=t.buffer.byteLength,o.data.metadata=t.metadata,o.pushDataStatus={type:"buffer",state:"pending",convId:String(e),data:t},this.callsTable.push(o),setTimeout((function(){r.startNextPushData()}))}return o.callId},this.startNextPushData=function(){for(var e=this,t=[],n=0;n<this.callsTable.length;n+=1){var i=this.callsTable[n];if("data"===i.callType&&i.dataCall&&"dataChannelConnector"===i.remoteId&&i.pushDataStatus){if("ready"===i.pushDataStatus.state)continue;t.push(i)}}if(0===t.length)return!1;var r=null;"active"===t[0].pushDataStatus.state?t.splice(0,1):"pending"===t[0].pushDataStatus.state&&(r=t[0],t.splice(0,1));for(var a=0;a<t.length;a+=1){var o=t[a];o.pushDataStatus.rank!==a&&(o.pushDataStatus.rank=a,Y.createEvent({eventType:"onFilePending",callId:o.callId,remoteId:o.remoteId,name:o.data.filename,rank:a}),o.callbacks.pending({state:"pending",callId:o.callId,rank:a}))}if(!r)return!1;G.debug("startNextPushData",r.callId);var s=r.pushDataStatus.data;if(delete r.pushDataStatus.data,"pipeline"===r.pushDataStatus.type){r.pushDataStatus.state="active";var l={type:"pushData",callerId:apiCC.session.apiCCId,callId:r.callId,data:r.data},c=JSON.stringify(l);return G.debug("C->S: "+c),apiCC.session.channel.socket.emit("pushData",c),!0}if("file"===r.pushDataStatus.type){r.pushDataStatus.state="active";var u=new FileReader;u.onload=function(e){apiCC.session.apiCCWebRTCClient.webRTCClient.startPushData(r,s,e.target.result)},u.readAsArrayBuffer(s.file)}else{if("buffer"!==r.pushDataStatus.type)return G.error("startNextPushData - wrong type"),r.callbacks.failure("start",r.callId),this.onHangup(r.callId),!1;r.pushDataStatus.state="active",this.startPushData(r,s,s.buffer)}return r.beginTimeoutId=setTimeout((function(){delete r.beginTimeoutId,r.callbacks.failure("timeout",r.callId),e.onHangup(r.callId)}),2e4),!0},this.startPushData=function(e,t,n){if(e.fileContent=new Uint8Array(n),e.pipelineCallId){var i=this.findCallWithCallId(e.pipelineCallId);if(!i)return G.error("no such pipeline call"),void this.onHangup(e.callId);e.pipelineCall=i,i.clientCall=e,e.sendDataChannel=i.sendDataChannel;var r=0===i.transferCount?100:0;e.startTransfer({delay:r}),i.transferCount+=1}else{if(!Object.prototype.hasOwnProperty.call(t,"checksumEnabled")||t.checksumEnabled){var a=V("checksum64");a.update(e.fileContent),e.data.checksum=a.digest("hex")}else e.data.checksumEnabled=!1;var o={type:"pushData",callerId:apiCC.session.apiCCId,convId:e.pushDataStatus.convId,callId:e.callId,data:e.data},s=JSON.stringify(o);G.debug("C->S: "+s),apiCC.session.channel.socket.emit("pushData",s)}},this.cancelPushData=function(e){for(var t=null,n=this.callsTable.length;--n>=0;){var i=this.callsTable[n];if(i.callId===e&&"data"===i.callType&&i.dataCall&&"dataChannelConnector"===i.remoteId&&i.pushDataStatus){t=i;break}}if(!t)return G.error("cancelPushData - no such call",e),"no such call";if("pending"===t.pushDataStatus.state)Y.createEvent({eventType:"onFileSended",callId:t.callId,remoteId:t.remoteId,name:t.data.filename,error:"canceled"}),t.callbacks.failure("canceled"),this.onHangup(t.callId);else if("active"===t.pushDataStatus.state)this.onHangup(t.callId);else{if("ready"!==t.pushDataStatus.state)return G.error("cancelPushData - wrong state"),"wrong state";t.clientCall&&this.cancelPushData(t.clientCall.callId),t.success={state:"complete"},Y.createEvent({eventType:"onFileSended",callId:t.callId,remoteId:t.remoteId}),t.callbacks.success(t.success),this.onHangup(t.callId)}return null},this.setVideoBandwidth=function(e,t,n){if("number"==typeof e){var i=!1,r=!1;if("overall"===t?"incoming"===n?e>0?(this.videoBandwidthSettings.overallIncoming=e,i=!0):(delete this.videoBandwidthSettings.overallIncoming,i=!0):"outgoing"===n&&(e>0?(this.videoBandwidthSettings.overallOutgoing=e,i=!0,r=!0):(delete this.videoBandwidthSettings.overallOutgoing,i=!0,r=!0)):"perCall"===t?"incoming"===n?e>0?(this.videoBandwidthSettings.perCallIncoming=e,i=!0):(delete this.videoBandwidthSettings.perCallIncoming,i=!0):"outgoing"===n&&(e>0?(this.videoBandwidthSettings.perCallOutgoing=e,i=!0,r=!0):(delete this.videoBandwidthSettings.perCallOutgoing,i=!0,r=!0)):"remote"===t&&(this.videoRemoteBandwidth=e),i)for(var a=this.MCUClient.sessionMCUs.length;--a>=0;){var o={type:"info",infoType:"setVideoBandwidthSettings",data:{clientId:this.clientId,roomId:this.MCUClient.sessionMCUs[a].roomName,pubSub:this.MCUClient.pubConnector,videoBandwidthSettings:this.videoBandwidthSettings}},s=JSON.stringify(o);G.log("C->S: "+s),apiCC.session.channel.socket.emit("info",s)}r&&this.evalOutgoingVideoBandwithCap()}else G.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setAudioBandwidth=function(e){this.audioBandwidth=e},this.setDataBandwidth=function(e){this.dataBandwidth=e},this.processCheckCallStatus=function(e){this.MCUClient.processCheckCallStatus(e);var t={type:"updateCallStatus",clientId:this.clientId,data:{}};e.data.pubSub&&(t.data.pubSub=e.data.pubSub),t.sessions=[];for(var n=0;n<this.MCUClient.sessionMCUs.length;n+=1)t.sessions.push(this.MCUClient.createSessionDescriptor(this.MCUClient.sessionMCUs[n]));t.calls=[];for(var i=0;i<this.userMediaTable.length;i+=1){var r=this.userMediaTable[i];t.calls.push({callId:r.userMediaId,callType:r.callType,remoteId:r.remoteId,roomId:r.roomId,data:r.data,meshPublish:!0})}for(var a=0;a<this.callsTable.length;a+=1){var o=this.callsTable[a];t.calls.push({callId:o.callId,callType:o.callType,remoteId:o.remoteId,roomId:o.roomId,data:o.data,remoteStream:o.mcuRemoteStream})}var s=JSON.stringify(t);apiCC.session.channel.socket.emit("updateCallStatus",s)},this.processRemoteStreamAdded=function(e,t){if(e.sessionMCU&&"new"===e.sessionMCU.modeChangeKind){G.debug("processRemoteStreamAdded",e);var n=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.sessionMCU.roomName&&"old"===t.modeChangeKind}});if(!n)return void G.error("wrong roomId: no such old session");G.debug("oldSessionMCU",n);for(var i=this.callsTable.length;--i>=0;)if(this.callsTable[i].sessionMCU===n&&(0,a.ki)(this.callsTable[i],["mcuRemoteStream","attributes","callId"],"string")&&this.callsTable[i].mcuRemoteStream.attributes.callId===e.mcuRemoteStream.attributes.callId){G.debug("processRemoteStreamAdded: bye",this.callsTable[i]),this.removeCallFromTableWithCallIdAndSendBye(this.callsTable[i].callId);break}}},this.processDistantCallEstablished=function(e){if(G.debug("processDistantCallEstablished",e),(0,a.ki)(e,["descriptor","callFeed","callId"],"string"))if(e.descriptor.callFeed.clientId===this.clientId){var t=null;if("mesh"===e.descriptor.callMode?t=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&"mesh"===t.roomMode}}):"sfu"===e.descriptor.callMode&&(t=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&!t.hasOwnProperty("roomMode")}})),t){G.debug("sessionMCU",t);var n=null,i=null;if("mesh"===e.descriptor.callMode?(n=this.findUserMediaById(e.descriptor.callFeed.callId),G.debug("userMedia",n)):(i=this.findCallWithCallId(e.descriptor.callFeed.callId),G.debug("call",i)),e.active){if(!n&&!i)return void G.debug("wrong callId: no such call");for(var r=this.MCUClient.distantCalls.length;--r>=0&&(this.MCUClient.distantCalls[r].roomId!==e.descriptor.roomId||this.MCUClient.distantCalls[r].clientId!==e.descriptor.clientId||this.MCUClient.distantCalls[r].callId!==e.descriptor.callId););if(r>=0){if(!this.MCUClient.distantCalls[r].early)return void G.debug("processDistantCallEstablished: descriptor already exists");G.debug("processDistantCallEstablished: replace early descriptor",this.MCUClient.distantCalls[r],e.descriptor),this.MCUClient.distantCalls[r]=e.descriptor}else G.debug("processDistantCallEstablished: add descriptor",e.descriptor),this.MCUClient.distantCalls.push(e.descriptor)}else if("old"===t.modeChangeKind){for(var o=this.MCUClient.distantCalls.length;--o>=0;)if(this.MCUClient.distantCalls[o].roomId===e.descriptor.roomId&&this.MCUClient.distantCalls[o].clientId===e.descriptor.clientId&&this.MCUClient.distantCalls[o].callId===e.descriptor.callId){G.debug("processDistantCallEstablished: set descriptor to removed",this.MCUClient.distantCalls[o]),this.MCUClient.distantCalls[o].removed=!0;break}}else for(var s=this.MCUClient.distantCalls.length;--s>=0;)if(this.MCUClient.distantCalls[s].roomId===e.descriptor.roomId&&this.MCUClient.distantCalls[s].clientId===e.descriptor.clientId&&this.MCUClient.distantCalls[s].callId===e.descriptor.callId){G.debug("processDistantCallEstablished: remove descriptor",this.MCUClient.distantCalls[s]),this.MCUClient.distantCalls.splice(s,1);break}if("new"===t.modeChangeKind){var l=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&"old"===t.modeChangeKind}});if(!l)return void G.error("wrong roomId: no such old session");G.debug("oldSessionMCU",l),G.debug("processDistantCallEstablished: replacement");for(var c=!1,u=this.userMediaTable.length;--u>=0;){var d=this.userMediaTable[u];if(d.sessionMCU===l){var f=!1,h=0;G.debug("processDistantCallEstablished: userMedia",d);for(var p=d.distantCalls.length;--p>=0;)d.distantCalls[p].replaced?h+=1:d.distantCalls[p].callFeed.callId===e.descriptor.callFeed.callId&&(G.debug("processDistantCallEstablished: distantCall",d.distantCalls[p]),f=!0,d.distantCalls[p].replaced=!0,h+=1);if(f){if(h===d.distantCalls.length){G.debug("processDistantCallEstablished: remove replaced distant call descriptors");for(var g=this.MCUClient.distantCalls.length;--g>=0;)"mesh"===this.MCUClient.distantCalls[g].callMode&&this.MCUClient.distantCalls[g].callFeed.callId===d.userMediaId&&this.MCUClient.distantCalls[g].replaced&&(G.debug("processDistantCallEstablished: remove distantCall",this.MCUClient.distantCalls[g]),this.MCUClient.distantCalls.splice(g,1));G.debug("processDistantCallEstablished: close old calls");for(var m=this.callsTable.slice(),v=m.length;--v>=0;)(0,a.ki)(m[v].data,"mesh","object")&&m[v].data.mesh.calleeCallId===d.userMediaId&&"subscribe"!==m[v].settingUpType&&this.removeCallFromTableWithCallIdAndSendBye(m[v].callId);this.MCUClient.meshOnHangup(d.userMediaId),c=!0}break}}}c&&this.finalizeMeshToJanusTransition(l,t)}}else G.debug("wrong roomId: no such session")}else G.debug("wrong clientId: message not intended for self");else G.debug("wrong format: missing callFeed")},this.finalizeMeshToJanusTransition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};G.debug("finalizeMeshToJanusTransition");var i=0,r=0;if(!0===n.force){for(var a=this.callsTable.slice(),o=a.length;--o>=0;){var s=a[o];s.sessionMCU===e&&(("publish"===s.settingUpType||"shareScreen"===s.settingUpType)&&s.data&&s.data.mesh?this.onHangup(s.callId):this.onHangup(s.callId,"disconnected"))}for(var l=this.userMediaTable.slice(),c=l.length;--c>=0;){var u=l[c];u.sessionMCU===e&&this.onHangup(u.userMediaId,"disconnected")}}else for(var d=this.userMediaTable.length;--d>=0;){var f=this.userMediaTable[d];if(f.sessionMCU===e){i+=1;for(var h=0,p=f.distantCalls.length;--p>=0;)G.debug("finalizeMeshToJanusTransition: distantCall",f.distantCalls[p]),f.distantCalls[p].replaced&&(h+=1);h===f.distantCalls.length&&(r+=1)}}i===r&&(G.debug("finalizeMeshToJanusTransition: finalize transition"),t.transitionTimeoutId&&(clearTimeout(t.transitionTimeoutId),delete t.transitionTimeoutId),this.MCUClient.removeSessionMCU(e),delete t.modeChangeKind,this.MCUClient.transitionCount-=1,this.MCUClient.transitionCount<=0&&this.evalOutgoingVideoBandwithCap(),Y.createMCURoomModeChangedEvent(t.roomName,"mesh","sfu","complete"))},this.processConfigureEncodings=function(e){var t=this.findCallWithCallId(e.callId);if(t&&Object.prototype.hasOwnProperty.call(e,"command")&&"RID"===t.simulcast){var n={};Object.prototype.hasOwnProperty.call(e,"maxBitrate")&&(n.maxBitrate=e.maxBitrate),t.configureSimulcastEncodings(e.command,n)}},this.processSimulcastFeedChanged=function(e){var t=this.findCallWithCallId(e.callId);if(t){var n={};2===e.substream?n.streamQuality="high":1===e.substream?n.streamQuality="medium":0===e.substream&&(n.streamQuality="low"),2===e.temporal?n.streamFrameRate="high":1===e.temporal?n.streamFrameRate="medium":0===e.temporal&&(n.streamFrameRate="low"),Object.keys(n).length>0&&Y.createSimulcastFeedChanged(t.callId,n)}},this.hasReceiptHook=function(e){if(!e||"string"!=typeof e)throw new Error("wrong receiptId");return Object.prototype.hasOwnProperty.call(this.receiptHooks,e)},this.createReceiptHook=function(e,t){var n=this;if(this.hasReceiptHook(e))throw new Error("receiptHook already exists");if(!t||!1!==t.fulfilled)throw new Error("wrong future");t.onFulfillment((function(){delete n.receiptHooks[e]})),this.receiptHooks[e]=t},this.finalizeReceiptHookFailure=function(e,t){if(G.debug("finalizeReceiptHookFailure",e,t),!e||"string"!=typeof e)throw new Error("wrong receiptId");if(!Object.prototype.hasOwnProperty.call(this.receiptHooks,e))throw new Error("receiptHook does not exist");this.receiptHooks[e].fulfill(t)},this.finalizeReceiptHookSuccess=function(e,t){if(G.debug("finalizeReceiptHookSuccess",e,t),!e||"string"!=typeof e)throw new Error("wrong receiptId");if(!Object.prototype.hasOwnProperty.call(this.receiptHooks,e))throw new Error("receiptHook does not exist");this.receiptHooks[e].fulfill(null,t)},this.processReceipt=function(e){if(e&&"object"===H(e)){var t=e.receiptId,n=e.result;if(t&&"string"==typeof t)try{this.finalizeReceiptHookSuccess(t,n)}catch(e){G.debug("processReceipt: finalizeReceiptHookSuccess",e)}else G.warn("processReceipt: wrong receiptId")}else G.warn("processReceipt: wrong msg")},this.processError=function(e){var t=e.receiptId,n=e.errorInfo,i=e.errorCode,r=e.callId,a=e.roomId,o=e.convId;if(t&&"string"==typeof t)try{this.finalizeReceiptHookFailure(t,new Error(n))}catch(e){G.debug("processError: finalizeReceiptHookFailure",e)}Y.createErrorEvent(n,i,r,a,null,null,o)},this.createCallControl=function(e){var t=new z(e);return this.callControlTable.push(t),t},this.destroyCallControl=function(e){if(e.multi){if(!e.roomName)return G.warn("findCallControl: cannot destroy without roomName"),null;for(var t=[],n=this.callControlTable.length;--n>=0;)this.callControlTable[n].roomName===e.roomName&&(t.push(this.callControlTable[n]),this.callControlTable.splice(n,1));return t}var i=this.findCallControl(e,{accept:"index"});if(null!==i&&i>=0){var r=this.callControlTable[i];return this.callControlTable.splice(i,1),r}return null},this.findCallControl=function(e){var t="index"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).accept;if("publish"===e.type||"shareScreen"===e.type){if(!e.callId)return G.warn("findCallControl: cannot search without callId"),null;for(var n=null,i=null,r=this.callControlTable.length;--r>=0;)if(("publish"===this.callControlTable[r].type||"shareScreen"===this.callControlTable[r].type)&&this.callControlTable[r].callId===e.callId){n=this.callControlTable[r],i=r;break}return n?t?i:n:null}if("subscribe"===e.type){if(!(0,a.ki)(e,"stream","object")||!Object.prototype.hasOwnProperty.call(e.stream,"id")||!(0,a.ki)(e.stream,"attributes","object"))return G.warn("findCallControl: cannot search without stream"),null;for(var o=null,s=null,l=this.callControlTable.length;--l>=0;)if("subscribe"===this.callControlTable[l].type&&(this.callControlTable[l].stream.id===e.stream.id||this.callControlTable[l].stream.attributes.callerId===e.stream.attributes.callerId&&this.callControlTable[l].stream.attributes.callId===e.stream.attributes.callId)){o=this.callControlTable[l],s=l;break}return o?t?s:o:null}return G.warn("findCallControl: wrong type",e.type),null},this.getCallControls=function(e){var t={};if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).addUserMedia)for(var n=this.userMediaTable.length;--n>=0;){var i=this.userMediaTable[n];t[i.userMediaId]=i}if(e){for(var r=this.callControlTable.length;--r>=0;){var a=this.callControlTable[r];e.indexOf(a.type)>=0&&(t[a.callId]=a)}return t}for(var o=this.callControlTable.length;--o>=0;){var s=this.callControlTable[o];t[s.callId]=s}return t},this.getCallIds=function(e){for(var t=[],n=this.callControlTable.length;--n>=0;){var i=this.callControlTable[n];e.indexOf(i.type)>=0&&t.push(i.callId)}return t},this.evalOutgoingVideoBandwithCap=function(e){if(G.debug("evalOutgoingVideoBandwithCap"),!(this.MCUClient.transitionCount>0)){var t=null;this.videoBandwidthSettings.perCallOutgoing&&(t=this.videoBandwidthSettings.perCallOutgoing);for(var n=[],i=this.callsTable.length;--i>=0;)this.callsTable[i].belongsToRoom()&&"publish"!==this.callsTable[i].settingUpType&&"shareScreen"!==this.callsTable[i].settingUpType||this.callsTable[i].localCallProfile&&this.callsTable[i].localCallProfile.video&&this.callsTable[i].localCallProfile.videoActive&&n.push(this.callsTable[i]);if(0===n.length)return t;if(this.videoBandwidthSettings.overallOutgoing){var r=Math.floor(this.videoBandwidthSettings.overallOutgoing/n.length);t=t?Math.min(t,r):r}for(var a=n.length;--a>=0;)e&&n[a]===e?t&&n[a].videoCap!==t?(n[a].videoCap=t,this.rtpSenderSetParamatersCapable&&n[a].applyOutgoingBitrate(n[a].videoCap)):!t&&n[a].videoCap&&(delete n[a].videoCap,this.rtpSenderSetParamatersCapable&&n[a].applyOutgoingBitrate(null)):t&&n[a].videoCap!==t?(n[a].videoCap=t,this.rtpSenderSetParamatersCapable?n[a].applyOutgoingBitrate(n[a].videoCap):setTimeout((function(e){e.belongsToRoom()||!e.callee?(e.updateUserMedia=!0,e.establishCall()):G.debug("Call is not to be updated")}),0,n[a])):!t&&n[a].videoCap&&(delete n[a].videoCap,this.rtpSenderSetParamatersCapable?n[a].applyOutgoingBitrate(null):setTimeout((function(e){e.belongsToRoom()||!e.callee?(e.updateUserMedia=!0,e.establishCall()):G.debug("Call is not to be updated")}),0,n[a]));return t}G.debug("evalOutgoingVideoBandwithCap - transition ongoing")},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.callbackWithParams=function(e,t){return this.closureHandler=function(n,i,r){return e[t](n,i,r)},this.closureHandler},this.simulatedAgentLaunchWaitingCall=function(){this.socket.emit("simulatedAgentLaunchWaitingCall",{type:"simulatedAgentLaunchWaitingCall"})}},q=(n(2707),i.Y.get("PreCallTest")),X=125e3,K=2e4,Z=apiCC.myWebRTC_Event,$=function(e,t,n,i,r){var a=this;this.webRTCClient=e.webRTCClient,this.notifyTerminated=e.notifyTerminated,this.audioSourceId=i,this.videoSourceId=r,this.testId="initial",this.stepId="initial",this.report={tests:[],resolutions:[],failurCause:""},this.maxHeight=240,this.maxWidth=320,this.resolutions=[[320,240,"QVGA"],[640,480,"VGA"],[1024,576,"SD"],[1280,720,"HD 720p"],[1920,1080,"HD 1080p"]],this.currentResolution=0,this.userMediastreamId=null,"simpleVideoRecordTest"===n&&(q.warn("Simple video record test is activated"),this.simpleVideoRecordTest=!0),!0===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled&&(q.debug("Forcing meshModeEnabled to false for precall test"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled=!1,this.modifyMeshModeEnabledValueBeforePreCall=!0),this.generateId=function(e){for(var t="",n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<e;i+=1)t+=n.charAt(Math.floor(62*Math.random()));return t},this.generateRoomId=function(){return"PC-"+this.generateId(4)+"-"+this.generateId(4)+"-"+this.generateId(4)},this.pushStats=function(e,t){return e.data.push(t),!0},this.evalQuartiles=function(e,t,n){var i=[];if(void 0===n?e.forEach((function(e){"number"==typeof e[t]&&i.push(e[t])})):e.forEach((function(e){i.push(n(e[t]))})),i.sort((function(e,t){return e<t?-1:e===t?0:1})),i.length%2==0){var r=i.length/2,a=Math.floor((i[r-1]+i[r])/2);if(r%2==0){var o=r/2,s=Math.floor((i[o-1]+i[o])/2),l=r+o,c=Math.floor((i[l-1]+i[l])/2);return{min:i[0],firstQuartile:s,median:a,thirdQuartile:c,max:i[i.length-1]}}var u=Math.floor(r/2),d=i[u],f=i[r+u];return{min:i[0],firstQuartile:d,median:a,thirdQuartile:f,max:i[i.length-1]}}var h=Math.floor(i.length/2),p=i[h];if((h+1)%2==0){var g=(h+1)/2,m=Math.floor((i[g-1]+i[g])/2),v=h+g,b=Math.floor((i[v-1]+i[v])/2);return{min:i[0],firstQuartile:m,median:p,thirdQuartile:b,max:i[i.length-1]}}var y=Math.floor(h/2),C=i[y],w=i[h+y];return{min:i[0],firstQuartile:C,median:p,thirdQuartile:w,max:i[i.length-1]}},this.runBitRateTest=function(){apiCC.webRTCCompliant?(q.debug("Run bitrate test"),"initial"===this.testId&&(this.handlers=[{type:"joinMCUSessionAnswer",callback:this.handleJoinMCUSessionAnswer.bind(this)},{type:"MCUAvailableStream",callback:this.handleMCUAvailableStream.bind(this)},{type:"onCallStatsUpdate",callback:this.handleOnCallStatsUpdate.bind(this)},{type:"remoteStreamAdded",callback:this.handleRemoteStreamAdded.bind(this)},{type:"userMediaSuccess",callback:this.handleuserMediaSuccess.bind(this)},{type:"MCURecordedStreamsAvailable",callback:this.handleRecordingStreamAvailable.bind(this)}],this.handlers.forEach((function(e){apiRTC.addEventListener(e.type,e.callback)})),this.webRTCClient.setMCUConnector("mcu4.apizee.com"),this.webRTCClient.setAllowMultipleCalls(!0),this.webRTCClient.enableCallStatsMonitoring(!0,1e3),this.webRTCClient.enableQualityEvaluating(!0,1e3),this.startNextTest())):(this.report.failurCause="Your device is not WebRTC Compliant",this.terminate())},this.startNextTest=function(){if(!0===this.simpleVideoRecordTest)"initial"===this.testId?(q.debug("initial simple test"),t?this.runResolutionTest():this.startTestAudioNlVideo(2e3)):"resolution-test"===this.testId?(q.debug("resolution-test simple"),this.startTestAudioNlVideo(2e3)):"audio-and-video-2000"===this.testId&&(q.debug("Before recordThenTerminate simple"),this.recordThenTerminate());else if("initial"===this.testId)t?this.runResolutionTest():this.startTestAudioNlVideo(n);else if("resolution-test"===this.testId)this.startTestAudioNlVideo(n);else if(this.testId==="audio-and-video-"+n)if("success"===this.report[this.testId].status){var e=this.report[this.testId].subscribeCallIds[0],i=this.stats[e].videoReceived;void 0!==i.bitsReceivedPerSecond.max&&i.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():i.bitsReceivedPerSecond.max>=15e5?this.startTestAudioNlVideo(1500):i.bitsReceivedPerSecond.max>=1e6?this.startTestAudioNlVideo(1e3):i.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):i.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-1500"===this.testId)if("success"===this.report[this.testId].status){var r=this.report[this.testId].subscribeCallIds[0],a=this.stats[r].videoReceived;void 0!==a.bitsReceivedPerSecond.max&&a.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():a.bitsReceivedPerSecond.max>=1e6?this.startTestAudioNlVideo(1e3):a.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):a.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-1000"===this.testId)if("success"===this.report[this.testId].status){var o=this.report[this.testId].subscribeCallIds[0],s=this.stats[o].videoReceived;void 0!==s.bitsReceivedPerSecond.max&&s.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():s.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):s.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-600"===this.testId)if("success"===this.report[this.testId].status){var l=this.report[this.testId].subscribeCallIds[0],c=this.stats[l].videoReceived;void 0!==c.bitsReceivedPerSecond.max&&c.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():c.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-250"===this.testId)if("success"===this.report[this.testId].status){var u=this.report[this.testId].subscribeCallIds[0],d=this.stats[u].videoReceived;void 0!==d.bitsReceivedPerSecond.max&&d.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else this.recordThenTerminate()},this.startTestAudioNlVideo=function(e){this.prepareEnvForNewTest(),q.debug("%ctestAudioNlVideo"+e),this.testId="audio-and-video-"+e,this.report.tests.push(this.testId),this.audioEnabled=!0,this.videoEnabled=!0,this.videoBandwidth=e,this.webRTCClient.setRemoteVideoBandwidth(this.videoBandwidth),this.stats={},this.report[this.testId]={audioEnabled:!0,audioLimited:!1,videoEnabled:!0,videoLimited:!0,videoBandwidth:this.videoBandwidth,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),K)},this.startTestAudioNlOnly=function(){this.prepareEnvForNewTest(),q.debug("%cstartTestAudioNlOnly"),this.testId="audio-only",this.report.tests.push(this.testId),this.audioEnabled=!0,this.videoEnabled=!1,this.webRTCClient.setRemoteVideoBandwidth(null),this.stats={},this.report[this.testId]={audioEnabled:!0,audioLimited:!1,videoEnabled:!1,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),K)},this.startTestVideoNlOnly=function(){this.prepareEnvForNewTest(),q.debug("%cstartTestVideoNlOnly"),this.testId="video-only",this.report.tests.push(this.testId),this.audioEnabled=!1,this.videoEnabled=!0,this.videoBandwidth=600,this.webRTCClient.setRemoteVideoBandwidth(this.videoBandwidth),this.stats={},this.report[this.testId]={audioEnabled:!1,audioLimited:!1,videoEnabled:!0,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),K)},this.recordThenTerminate=function(){!0===a.modifyMeshModeEnabledValueBeforePreCall&&(q.debug("Restoring meshModeEnabled to true, as it was modified for precall test"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled=!0);var e=null;if(a.videoEnabled&&a.audioEnabled?e="AUDIO-VIDEO":a.audioEnabled?e="AUDIO-ONLY":a.videoEnabled&&(e="VIDEO-ONLY"),!e)return q.error("Can't define record type"),void a.terminate();q.debug("Start recording with type:",e),a.webRTCClient.startRecording(e,"recordPreCall",null,null,{ttl:900}),setTimeout((function(){q.debug("Stop recording"),a.webRTCClient.stopRecording()}),1e4)},this.terminate=function(){q.debug("Terminate"),this.testId="terminated",this.handlers&&this.handlers.forEach((function(e){apiRTC.removeEventListener(e.type,e.callback)})),this.notifyTerminated(this.report),this.leaveSession()},this.succeed=function(){Z.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"success",stepId:this.stepId}),this.report[this.testId].status="success",this.startNextTest()},this.fail=function(){q.debug("fail"),Z.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"failure",stepId:this.stepId}),this.report[this.testId].status="failure",this.report[this.testId].stepId=this.stepId,this.leaveSession(),this.startNextTest()},this.prepareEnvForNewTest=function(){void 0!==a.mcuSession&&a.leaveSession()},this.abortJoinMCUSession=function(){q.debug("abortJoinMCUSession"),this.fail()},this.abortStreamPublishing=function(){q.debug("abortStreamPublishing"),this.fail()},this.abortStreamSubscribing=function(){q.debug("abortStreamSubscribing"),this.fail()},this.observeStreamPublished=function(){if(q.debug("observeStreamPublished"),"Safari"===apiRTC.browser||"Mobile Safari"===apiRTC.browser)return q.info("Safari"),q.error("observeStreamPublished not supported on Safari"),clearInterval(this.intervalId),void this.fail();if(this.intervalCounter+=1,this.intervalCounter>30)return clearInterval(this.intervalId),void this.fail();if(this.audioEnabled&&this.videoEnabled){var e=0;if(void 0!==this.stats[this.publishCallId]&&(void 0!==this.stats[this.publishCallId].audioSent&&void 0!==this.stats[this.publishCallId].audioSent.bitsSentPerSecond&&this.stats[this.publishCallId].audioSent.bitsSentPerSecond.thirdQuartile>=2e4&&(e+=1),void 0!==this.stats[this.publishCallId].videoSent&&void 0!==this.stats[this.publishCallId].videoSent.bitsSentPerSecond&&this.stats[this.publishCallId].videoSent.bitsSentPerSecond.thirdQuartile>=X&&(e+=1)),2===e){clearInterval(this.intervalId);var t=this.streams[0];this.subscribeToUserStream(t.attributes.callerId,t.id,"VIDEO"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),K)}else q.debug("okCnt !== 2")}else if(this.audioEnabled)if(void 0!==this.stats[this.publishCallId])if(void 0!==this.stats[this.publishCallId].audioSent&&void 0!==this.stats[this.publishCallId].audioSent.bitsSentPerSecond)if(this.stats[this.publishCallId].audioSent.bitsSentPerSecond.thirdQuartile>=2e4){clearInterval(this.intervalId);var n=this.streams[0];this.subscribeToUserStream(n.attributes.callerId,n.id,"AUDIOONLY"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),K)}else q.debug("no stats audio 1 ");else q.debug("no stats audio 2");else q.debug("no stats audio 3");else if(this.videoEnabled)if(void 0!==this.stats[this.publishCallId])if(void 0!==this.stats[this.publishCallId].videoSent&&void 0!==this.stats[this.publishCallId].videoSent.bitsSentPerSecond)if(this.stats[this.publishCallId].videoSent.bitsSentPerSecond.thirdQuartile>=X){clearInterval(this.intervalId);var i=this.streams[0];this.subscribeToUserStream(i.attributes.callerId,i.id,"VIDEOONLY"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),K)}else q.debug("no stats video 1 ");else q.debug("no stats video 2");else q.debug("no stats video 3");else q.debug("no audio or video"),clearInterval(this.intervalId),this.fail()},this.observeStreamSubscribed=function(){if(this.intervalCounter+=1,this.intervalCounter>30)return clearInterval(this.intervalId),void this.succeed();var e=null,t=null,n=0,i=0;this.audioEnabled&&(e=this.stats[this.publishCallId].audioSent),this.videoEnabled&&(t=this.stats[this.publishCallId].videoSent);for(var r=0;r<this.subscribeCallIds.length;r+=1){var a=this.subscribeCallIds[r];if(this.audioEnabled&&this.videoEnabled){var o=0;void 0!==this.stats[a]&&(void 0!==this.stats[a].audioReceived&&void 0!==this.stats[a].audioReceived.bitsReceivedPerSecond&&null!=e&&void 0!==e.bitsSentPerSecond&&this.stats[a].audioReceived.bitsReceivedPerSecond.thirdQuartile>=e.bitsSentPerSecond.firstQuartile-2e3&&(o+=1),void 0!==this.stats[a].videoReceived&&void 0!==this.stats[a].videoReceived.bitsReceivedPerSecond&&null!=t&&void 0!==t.bitsSentPerSecond&&this.stats[a].videoReceived.bitsReceivedPerSecond.thirdQuartile>=t.bitsSentPerSecond.firstQuartile&&(o+=1)),2===o&&(n+=1)}else this.audioEnabled?void 0!==this.stats[a]&&void 0!==this.stats[a].audioReceived&&void 0!==this.stats[a].audioReceived.bitsReceivedPerSecond&&null!=e&&void 0!==e.bitsSentPerSecond&&this.stats[a].audioReceived.bitsReceivedPerSecond.thirdQuartile>=e.bitsSentPerSecond.firstQuartile&&(n+=1):i+=1}i>0?(clearInterval(this.intervalId),this.fail()):n===this.subscribeCallIds.length&&(clearInterval(this.intervalId),this.succeed())},this.handleJoinMCUSessionAnswer=function(e){if("joining-mcu-session"===this.stepId){if(Z.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"start",stepId:this.stepId}),clearTimeout(this.timeoutId),this.mcuSession.sessionId=e.detail.sessionId,this.mcuSession.token=e.detail.token,this.audioEnabled&&this.videoEnabled){var t=this,n={audio:{},video:{}};n=apiCC.setResolutionInConstraint(this.maxWidth,this.maxHeight,n),q.debug("constraints :",n),apiRTC.createUserMediaStream({type:"media",audioSourceId:this.audioSourceId,videoSourceId:this.videoSourceId,gum_config:n,release:function(e){q.debug("createUserMediaStream release",e.userMediaStreamId)},success:function(e){q.debug("createUserMediaStream success",e.userMediaStreamId),q.debug("audioSourceId",i),q.debug("videoSourceId",r)},failure:function(e,n){q.error("createUserMediaStream failure",e.userMediaStreamId),q.error("failure; userMediaStreamId: "+e.userMediaStreamId),q.error("failure; error: "+n),Z.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"failure",stepId:this.stepId,createUserMediaStreamError:n}),t.terminate()}})}else if(this.audioEnabled)this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,{audioOnly:!0});else{if(!this.videoEnabled)return void this.fail();this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,{videoOnly:!0,qos:{videoStartQuality:"upper"}})}this.subscribeCallIds=[],this.report[this.testId].publishCallId=this.publishCallId,this.report[this.testId].subscribeCallIds=[],this.streams=[],this.stepId="stream-publishing",this.timeoutId=setTimeout(this.abortStreamPublishing.bind(this),K)}},this.handleuserMediaSuccess=function(e){var t={userMediaStreamId:e.detail.userMediaStreamId,qos:{videoStartQuality:"upper"}};this.userMediastreamId=e.detail.userMediaStreamId,this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,t),this.report[this.testId].publishCallId=this.publishCallId},this.handleRecordingStreamAvailable=function(e){q.debug("handleRecordingStreamAvailable"),this.terminate()},this.handleMCUAvailableStream=function(e){if("stream-publishing"===this.stepId&&!1===e.detail.isRemoteStream)for(var t=0;t<e.detail.streams.length;t+=1){var n=e.detail.streams[t];if(n.room===this.mcuSession.roomId&&n.attributes.callId===this.publishCallId&&"stream-publishing"===this.stepId){if(clearTimeout(this.timeoutId),this.stepId="stream-published",this.streams.push(n),!0===this.simpleVideoRecordTest){var i="VIDEO";!1===n.audio&&(i="VIDEOONLY"),!1===n.video&&(i="AUDIOONLY"),this.subscribeToUserStream(n.attributes.callerId,n.id,i),this.stepId="stream-subscribing"}else this.intervalId=setInterval(this.observeStreamPublished.bind(this),1e3);this.intervalCounter=0}}},this.handleRemoteStreamAdded=function(e){"stream-subscribing"===this.stepId&&void 0!==this.subscribeCallIds.find((function(t){return t===e.detail.callId}))&&(clearTimeout(this.timeoutId),this.stepId="stream-subscribed",this.intervalId=setInterval(this.observeStreamSubscribed.bind(this),1e3),this.intervalCounter=0)},this.handleOnCallStatsUpdate=function(e){var t=this;if("stream-published"!==this.stepId&&"stream-subscribing"!==this.stepId&&"stream-subscribed"!==this.stepId||(void 0===this.stats[this.publishCallId]&&(this.stats[this.publishCallId]={}),void 0!==e.detail.stats.audioSent&&(void 0===this.stats[this.publishCallId].audioSent&&(this.stats[this.publishCallId].audioSent={startTime:e.detail.stats.audioSent.timestamp,data:[]}),this.pushStats(this.stats[this.publishCallId].audioSent,e.detail.stats.audioSent)?this.stats[this.publishCallId].audioSent.data.length>=5&&["bitsSentPerSecond","packetsSentPerSecond"].forEach((function(n){var i=t.evalQuartiles(t.stats[t.publishCallId].audioSent.data,n);i.sampleCount=t.stats[t.publishCallId].audioSent.data.length,i.time=e.detail.stats.audioSent.timestamp-t.stats[t.publishCallId].audioSent.startTime,t.stats[t.publishCallId].audioSent[n]=i})):q.debug("audio stats not pushed for :",this.publishCallId)),void 0!==e.detail.stats.videoSent&&(void 0===this.stats[this.publishCallId].videoSent&&(this.stats[this.publishCallId].videoSent={startTime:e.detail.stats.videoSent.timestamp,data:[]}),this.pushStats(this.stats[this.publishCallId].videoSent,e.detail.stats.videoSent)?this.stats[this.publishCallId].videoSent.data.length>=5&&(["bitsSentPerSecond","packetsSentPerSecond","framesEncodedPerSecond"].forEach((function(n){var i=t.evalQuartiles(t.stats[t.publishCallId].videoSent.data,n);i.sampleCount=t.stats[t.publishCallId].videoSent.data.length,i.time=e.detail.stats.videoSent.timestamp-t.stats[t.publishCallId].videoSent.startTime,t.stats[t.publishCallId].videoSent[n]=i})),this.stats[this.publishCallId].videoSent.width=e.detail.stats.videoSent.width,this.stats[this.publishCallId].videoSent.height=e.detail.stats.videoSent.height):q.debug("video stats not pushed for :",this.publishCallId))),"stream-subscribed"===this.stepId)for(var n=function(n){r=0;var i=t.subscribeCallIds[n];void 0===t.stats[i]&&(t.stats[i]={}),void 0!==e.detail.stats.audioReceived&&(void 0===t.stats[i].audioReceived&&(t.stats[i].audioReceived={startTime:e.detail.stats.audioReceived.timestamp,data:[]}),t.pushStats(t.stats[i].audioReceived,e.detail.stats.audioReceived)?(r=t.stats[i].audioReceived.data.length,void 0===t.stats[i].audioReceived.data[r-1].mosS&&(t.stats[i].audioReceived.data[r-1].mosS={}),t.stats[i].audioReceived.data[r-1].mosS=e.detail.stats.quality.mosS,t.stats[i].audioReceived.data.length>=15&&(["bitsReceivedPerSecond","packetsReceivedPerSecond","delay"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].audioReceived.data,n);r.sampleCount=t.stats[i].audioReceived.data.length,r.time=e.detail.stats.audioReceived.timestamp-t.stats[i].audioReceived.startTime,t.stats[i].audioReceived[n]=r})),void 0!==t.stats[i].audioReceived.data[0].jitter&&["jitter"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].audioReceived.data,n,(function(e){return Math.floor(1e3*e)}));r.sampleCount=t.stats[i].audioReceived.data.length,r.time=e.detail.stats.audioReceived.timestamp-t.stats[i].audioReceived.startTime,t.stats[i].audioReceived[n]=r})),t.stats[i].audioReceived.packetsLost={max:e.detail.stats.audioReceived.packetsLost,sampleCount:t.stats[i].audioReceived.data.length,time:e.detail.stats.audioReceived.timestamp-t.stats[i].audioReceived.startTime},["packetsLostRatio"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].audioReceived.data,n);r.sampleCount=t.stats[i].audioReceived.data.length,r.time=e.detail.stats.audioReceived.timestamp-t.stats[i].audioReceived.startTime,t.stats[i].audioReceived[n]=r})),void 0===t.stats[i].audioReceived.mosS&&(t.stats[i].audioReceived.mosS={}),["mosS"].forEach((function(e){var n=t.evalQuartiles(t.stats[i].audioReceived.data,e);n.sampleCount=t.stats[i].audioReceived.data.length,t.stats[i].audioReceived[e]=n})))):q.error("audio stats not pushed for callId :",i)),void 0!==e.detail.stats.videoReceived&&(void 0===t.stats[i].videoReceived&&(t.stats[i].videoReceived={startTime:e.detail.stats.videoReceived.timestamp,data:[]}),t.pushStats(t.stats[i].videoReceived,e.detail.stats.videoReceived)?(r=t.stats[i].videoReceived.data.length,void 0===t.stats[i].videoReceived.data[r-1].mosV&&(t.stats[i].videoReceived.data[r-1].mosV={}),void 0===t.stats[i].videoReceived.data[r-1].mosAV&&(t.stats[i].videoReceived.data[r-1].mosAV={}),t.stats[i].videoReceived.data[r-1].mosV=e.detail.stats.quality.mosV,t.stats[i].videoReceived.data[r-1].mosAV=e.detail.stats.quality.mosAV,t.stats[i].videoReceived.data.length>=15&&(["bitsReceivedPerSecond","packetsReceivedPerSecond","framesDecodedPerSecond"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].videoReceived.data,n);r.sampleCount=t.stats[i].videoReceived.data.length,r.time=e.detail.stats.videoReceived.timestamp-t.stats[i].videoReceived.startTime,t.stats[i].videoReceived[n]=r})),void 0!==t.stats[i].videoReceived.data[0].jitter&&["jitter"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].videoReceived.data,n,(function(e){return Math.floor(1e3*e)}));r.sampleCount=t.stats[i].videoReceived.data.length,r.time=e.detail.stats.videoReceived.timestamp-t.stats[i].videoReceived.startTime,t.stats[i].videoReceived[n]=r})),t.stats[i].videoReceived.packetsLost={max:e.detail.stats.videoReceived.packetsLost,sampleCount:t.stats[i].videoReceived.data.length,time:e.detail.stats.videoReceived.timestamp-t.stats[i].videoReceived.startTime},["packetsLostRatio"].forEach((function(n){var r=t.evalQuartiles(t.stats[i].videoReceived.data,n);r.sampleCount=t.stats[i].videoReceived.data.length,r.time=e.detail.stats.videoReceived.timestamp-t.stats[i].videoReceived.startTime,t.stats[i].videoReceived[n]=r})),void 0===t.stats[i].videoReceived.mosV&&(t.stats[i].videoReceived.mosV={}),["mosV"].forEach((function(e){var n=t.evalQuartiles(t.stats[i].videoReceived.data,e);n.sampleCount=t.stats[i].videoReceived.data.length,t.stats[i].videoReceived[e]=n})),void 0===t.stats[i].videoReceived.mosAV&&(t.stats[i].videoReceived.mosAV={}),["mosAV"].forEach((function(e){var n=t.evalQuartiles(t.stats[i].videoReceived.data,e);n.sampleCount=t.stats[i].videoReceived.data.length,t.stats[i].videoReceived[e]=n})),t.stats[i].videoReceived.width=e.detail.stats.videoReceived.width,t.stats[i].videoReceived.height=e.detail.stats.videoReceived.height)):q.error("video stats not pushed for callId :",i))},i=0;i<this.subscribeCallIds.length;i+=1){var r;n(i)}},this.subscribeToUserStream=function(e,t,n){var i=this,r=this.webRTCClient.getStreamFromList(t);if(null!=r){var a=[];a.push(r),this.webRTCClient.subscribe(a,n).forEach((function(e){i.subscribeCallIds.push(e),i.report[i.testId].subscribeCallIds.push(e)}))}},this.leaveSession=function(){q.debug("leaveSession"),void 0!==this.streams&&"number"==typeof this.streams[0]&&null!==this.webRTCClient&&this.webRTCClient.unsubscribe(this.streams[0]),null!==this.userMediastreamId&&apiRTC.releaseUserMediaStream(this.userMediastreamId),delete this.streams,delete this.subscribeCallIds,"string"==typeof this.publishCallId&&this.webRTCClient.unpublish(this.publishCallId),delete this.publishCallId,void 0!==this.mcuSession&&void 0!==this.mcuSession.sessionId&&(this.webRTCClient.leaveMCUSession(),delete this.mcuSession.sessionId),delete this.mcuSession,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.splice(0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.length),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionReqs.splice(0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionReqs.length),q.debug("leaveSession done")},this.runResolutionTest=function(){this.testId="resolution-test",this.stepId="resolution-test",Z.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"start",stepId:this.stepId}),q.debug("Run resolution test"),this.startGetUserMedia(this.resolutions[this.currentResolution])},this.startGetUserMedia=function(e){q.debug("startGetUserMedia :",e);var t={audio:!1,video:{}};t=apiCC.setVideoSourceIdInConstraint(this.videoSourceId,t),t=apiCC.setResolutionInConstraint(e[0],e[1],t),q.debug("startGetUserMedia constraints:",t),apiCC.getUserMedia(t).then(function(t){this.resolutions.length>1?(this.report.resolutions.push(e[2]+":   "+e[0]+"x"+e[1]),this.maxWidth=e[0],this.maxHeight=e[1],t.getTracks().forEach((function(e){e.stop()})),this.maybeContinueGetUserMedia()):q.debug("No video track in returned stream.")}.bind(this)).catch(function(t){q.debug("startGetUserMedia catch error:",t),this.resolutions.length>1?q.debug(e[0]+"x"+e[1]+" not supported"):q.error("getUserMedia failed with error: "+t.name),this.maybeContinueGetUserMedia()}.bind(this))},this.maybeContinueGetUserMedia=function(){this.currentResolution!==this.resolutions.length-1?(this.currentResolution++,this.startGetUserMedia(this.resolutions[this.currentResolution])):this.startNextTest()}},ee=i.Y.get("ApiCCWebRTCClient"),te=function(e){ee.debug("apiCC.ApiCCWebRTCClient"),this.myWebRTC_Event=apiCC.myWebRTC_Event,this.webRTCClient=new Q(e),this.webRTCClient.channelReady=!0,this.callTest=null,this.call=function(t,n,i){return"RECORD"===n&&ee.warn("DEPRECATED : usage of data parameter on call() as a string with 'RECORD' value will be deprecated in a next version of apiRTC. Please consider using a JSON Data parameter instead : data = {isRecorded : true}"),!0===this.webRTCClient.recordedCall&&(ee.log("recordedCall option is activated"),void 0!==n&&"RECORD"!==n||(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString()),void 0!==n&&("RECORD"!==n&&!0!==n.isRecorded||(ee.log("recordedCall option is activated"),"RECORD"===n&&(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString())),null!=i&&!0===i.record&&(ee.log("callConfiguration record option is activated"),void 0!==n&&"RECORD"!==n||(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString()),ee.log("session.webRTCPluginActivated =",e.webRTCPluginActivated),("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&!0===e.webRTCPluginActivated?(ee.log("managing call with WebRTC Plugin"),null==i&&(i={}),i.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){ee.log("manageWebRTCPlugin cb in call"),apiCC.session.apiCCWebRTCClient.webRTCClient.callWithNumber(t,!0,n,i)}),(function(){ee.log("actionOnInstallationNeeded")})),i.apzcallId):(ee.log("managing call with browser"),this.webRTCClient.callWithNumber(t,!0,n,i))},this.getStatsFromCall=function(e,t){var n=this.webRTCClient.findCallWithCallId(e);null===n?t(new Error("Call was not found"),null):null===n.pc?t(new Error("Call has no peerconnection"),null):!0===this.webRTCClient.csmEnable?t(null,this.webRTCClient.csmLastResults):t(new Error("Call stats monitoring not activated"),null)},this.testCall=function(t){return ee.log("session.webRTCPluginActivated =",e.webRTCPluginActivated),("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&!0===e.webRTCPluginActivated?(ee.log("managing call with WebRTC Plugin"),null==t&&(t={}),t.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){ee.log("manageWebRTCPlugin cb in call"),apiCC.session.apiCCWebRTCClient.webRTCClient.startTestCall(!0,t)}),(function(){ee.log("actionOnInstallationNeeded")})),t.apzcallId):(ee.log("managing call with browser"),this.webRTCClient.startTestCall(!0,t))},this.setClientTurnServer=function(e){this.webRTCClient.setClientTurnServer(e)},this.activateScreenSharing=function(e){this.webRTCClient.activateScreenSharing(e)},this.shareScreen=function(e,t,n){return ee.info("shareScreen"),this.webRTCClient.shareScreen(e,t,n)},this.startScreenSharingOnCall=function(e,t){ee.info("startScreenSharingOnCall"),this.webRTCClient.startScreenSharingOnCall(e,t)},this.startDataChannel=function(e,t){if(ee.info("startDataChannel"),!("Edge"===r.Xh&&r.PR<79&&"chrome"!==apiRTC.browserDetails.type))return void 0!==t?t.dataCall=!0:(t={}).dataCall=!0,this.webRTCClient.callWithNumber(e,!0,t,null);ee.warn("Cannot startDataChannel as it is not supported on Edge")},this.startDataChannelOnCall=function(e){this.webRTCClient.startDataChannelOnCall(e)},this.sendDataWithCallId=function(e,t,n){this.webRTCClient.sendDataWithCallId(e,t,n)},this.callAudio=function(e,t,n){return ee.info("callAudio"),this.webRTCClient.callWithNumber(e,!1,t,n)},this.callbymail=function(e){this.webRTCClient.callbymail(e)},this.addMedia=function(e){return this.webRTCClient.addMedia(e),e},this.hangUp=function(e){this.webRTCClient.onHangup(e)},this.getMyMedia=function(e,t){ee.info("getMyMedia : ",e),"screen"===e?this.webRTCClient.shareScreen("LOCAL",{},t):this.webRTCClient.getUserMedia()},this.releaseStream=function(e){ee.info("releaseStream : ",e),ee.info("releaseStream.callId : ",e.callId),void 0!==e.callId?this.webRTCClient.removeCallFromTableWithCallIdAndSendBye(e.callId,"stop_ScreenSharing"):this.webRTCClient.stopStream(e)},this.autoAnswerUserMediaSuccessHandler=function(e){ee.info("autoAnswerUserMediaSuccessHandler :"+e),e=null,this.webRTCClient.autoAnswer=!0},this.autoAnswerUserMediaErrorHandler=function(e){ee.info("autoAnswerUserMediaErrorHandler :"+e),e=null,this.webRTCClient.autoAnswer=!1},this.activateAutoAnswer=function(){apiCC.addEventListener("userMediaSuccess",this.callback(this,"autoAnswerUserMediaSuccessHandler")),apiCC.addEventListener("userMediaError",this.callback(this,"autoAnswerUserMediaErrorHandler")),this.webRTCClient.getUserMedia()},this.getAutoAnswer=function(){return this.webRTCClient.autoAnswer},this.setUnidirectionalCall=function(e){!0===e||!1===e?this.webRTCClient.unidirectionelCallOnly=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUnidirectionalCall()","PARAMETER_ERROR_SETUNIDIRCALL")},this.setReceiveMediaDeactivated=function(e){!0===e||!1===e?this.webRTCClient.receiveMediaDeactivated=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setReceiveMediaDeactivated()","PARAMETER_ERROR_SETRECVMEDIADEACTIVATED")},this.setPreferVP9Codec=function(e){!0===e||!1===e?this.webRTCClient.preferVP9Codec=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setPreferVP9Codec()","PARAMETER_ERROR_SETPREFERVP9CODEC")},this.setPreferH264Codec=function(e){!0===e||!1===e?this.webRTCClient.preferH264Codec=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setPreferH264Codec()","PARAMETER_ERROR_SETPREFERH264CODEC")},this.getUnidirectionalCall=function(){return this.webRTCClient.unidirectionelCallOnly},this.toggleVideoMute=function(e){return this.webRTCClient.toggleVideoMute(e)},this.isVideoMuted=function(e){var t;return ee.debug("isVideoMuted :",e),null==e?this.webRTCClient.isVideoMuted:(ee.debug("callId is defined :",e),-1!==(t=this.webRTCClient.findCallIndexWithCallId(e))?this.webRTCClient.callsTable[t].isLocalVideoMuted:void 0)},this.toggleAudioMute=function(e){return this.webRTCClient.toggleAudioMute(e)},this.sendDTMF=function(e,t,n,i){return this.webRTCClient.sendDTMF(e,t,n,i)},this.isAudioMuted=function(e){var t;return ee.debug("isAudioMuted :",e),null==e?this.webRTCClient.isAudioMuted:(ee.debug("callId is defined :",e),-1!==(t=this.webRTCClient.findCallIndexWithCallId(e))?this.webRTCClient.callsTable[t].isLocalAudioMuted:void 0)},this.setNtoNConf=function(e){!0===e||!1===e?this.webRTCClient.NtoNConf=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setNtoNConf()","PARAMETER_ERROR_SETNTONCONF")},this.getNtoNConf=function(){return this.webRTCClient.NtoNConf},this.setRTPMedia=function(e){!0===e||!1===e?this.webRTCClient.RTPMedia=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setRTPMedia()","PARAMETER_ERROR_SETRTPMEDIA")},this.getRTPMedia=function(){return this.webRTCClient.RTPMedia},this.setMediaRoutingMode=function(e){"hostOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.hostOnly:"stun"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.stun:"stunOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.stunOnly:"turn"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.turn:"turnOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.turnOnly:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setMediaRoutingMode()","PARAMETER_ERROR_SETMEDIAROUTINGMODE")},this.enableQos=function(e,t){"Chrome"!==apiCC.browser&&"Firefox"!==apiCC.browser&&(ee.warn("enableQos() is only supported on Chrome and Firefox, support on other browsers will be added soon"),e=!1),ee.info("this.enableQos="+e),this.webRTCClient.qosEnable=e,this.webRTCClient.qosInterval=t||this.webRTCClient.qosInterval},this.enableCallStatsMonitoring=function(e,t){["chrome","firefox","safari"].indexOf(a.wL.type)<0?ee.warn("enableCallStatsMonitoring() is only supported on Chrome, Firefox and Safari, support on other browsers will be added soon"):(this.webRTCClient.csmEnable=e,t&&(this.webRTCClient.csmIntervalMs=t))},this.enableQualityEvaluating=function(e,t){["chrome","firefox"].indexOf(a.wL.type)<0?ee.warn("enableQualityEvaluating() is only supported on Chrome and Firefox, support on other browsers will be added soon"):(this.webRTCClient.qualityScoreEnable=e,t&&(this.webRTCClient.qualityScoreIntervalMs=t))},this.getMediaRoutingMode=function(){var e=null;return this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.hostOnly?e="hostOnly":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.stun?e="stun":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.stunOnly?e="stunOnly":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.turn?e="turn":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.turnOnly&&(e="turnOnly"),e},this.setMediaTypeForIncomingCall=function(e){ee.debug("setMediaTypeForIncomingCall :",e),"VIDEO"===e||"AUDIO"===e||"VIDEOONLY"===e||"NONE"===e?this.webRTCClient.mediaTypeForIncomingCall=e:ee.log("setMediaTypeForIncomingCall, value is not correct",e)},this.setMediaTypeForOutgoingCall=function(e){ee.debug("setMediaTypeForOutgoingCall :",e),"VIDEO"===e||"AUDIO"===e||"VIDEOONLY"===e||"NONE"===e?this.webRTCClient.mediaTypeForOutgoingCall=e:ee.log("setMediaTypeForOutgoingCall, value is not correct",e)},this.setStereo=function(e){ee.info("setStereo :",e),!0===e?(this.webRTCClient.setStereo=e,this.webRTCClient.gum_config={audio:{mandatory:{echoCancellation:!1,googEchoCancellation:!1},optional:[]},video:{mandatory:{},optional:[]}}):!1===e?this.webRTCClient.setStereo=e:ee.log("setStereo, value is not correct",e)},this.setMCUConnector=function(e){ee.info("setMCUConnector :",e),ee.log("setting value :",e),"mcu4.apizee.com"===e?this.webRTCClient.MCUClient.pubConnector="janusConnector":"mcu3.apizee.com"===e?this.webRTCClient.MCUClient.pubConnector="groupKurentoConnector":ee.log("value is incorrect :",e)},this.enableMeshRoomMode=function(e){ee.info("enableMeshRoomMode :",e),"IE"===r.Xh?(ee.log("IE detected, MeshRoomMode is not supported"),this.webRTCClient.MCUClient.meshModeEnabled=!1):this.webRTCClient.MCUClient.meshModeEnabled=e},this.setAllowAsymetricMediaCalls=function(e){ee.info("setAllowAsymetricMediaCalls :",e),!0===e||!1===e?this.webRTCClient.allowAsymetricMediaCalls=e:ee.log("setAllowAsymetricMediaCalls, value is not correct",e)},this.takeSnapshot=function(t,n,i,r,a,o,s){this.webRTCClient.takeSnapshot(t,n,e.apiKey,i,r,a,o,s)},this.takeSnapshotAndSendOnDataChannel=function(e,t,n,i){this.webRTCClient.takeSnapshotAndSendOnDataChannel(e,t,n,i)},this.setUserAcceptOnIncomingCall=function(e){ee.info("setUserAcceptOnIncomingCall :",e),!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALL")},this.setUserAcceptOnIncomingCallBeforeGetUserMedia=function(e){ee.info("setUserAcceptOnIncomingCallBeforeGetUserMedia :",e),!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingCallBeforeGetUserMedia=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingCallBeforeGetUserMedia()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALLBEFOREGUM")},this.setUserAcceptOnIncomingDataCall=function(e){!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingDataCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingDataCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALL")},this.setUserAcceptOnIncomingScreenSharingCall=function(e){!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingScreenSharingCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingScreenSharingCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOSCREENSHARINGCALL")},this.setAllowMultipleCalls=function(e){!0===e||!1===e?this.webRTCClient.allowMultipleCalls=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setAllowMultipleCalls()","PARAMETER_ERROR_SETALLOWMULTIPLECALLS")},this.setPcConfig=function(e){ee.info("Setting PC_config to :",e),this.webRTCClient.pc_config=e},this.setPcConstraints=function(e){ee.info("Setting PC_constraints to :"+e),this.webRTCClient.pc_constraints=e},this.setGetUserMediaConfig=function(e){this.webRTCClient.setGetUserMediaConfig(e)},this.setTrickleIce=function(e){ee.info("Setting trickleIce to :"+e),!0===e||!1===e?this.webRTCClient.trickleIce=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setTrickleIce()","PARAMETER_ERROR_SETTRICKLEICE")},this.setRecordedCall=function(e){!0===e||!1===e?this.webRTCClient.recordedCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setRecordedCall()","PARAMETER_ERROR_SETRECORDEDCALL")},this.getRecordedCall=function(){return this.webRTCClient.recordedCall},this.acceptCall=function(e,t){this.webRTCClient.acceptCall(e,t)},this.refuseCall=function(e){ee.info("refuseCall"),this.webRTCClient.refuseCall(e)},this.addVideoMedia=function(e){ee.info("addVideoMedia"),this.webRTCClient.addVideoMedia(e)},this.updateMediaDeviceOnCall=function(e,t){return ee.info("updateMediaDeviceOnCall"),this.webRTCClient.updateMediaDeviceOnCall(e,t)},this.updateMediaTypeOnCall=function(e,t){return!(0,a.Ym)(e,"string")||"VIDEO"!==t&&"AUDIOONLY"!==t&&"VIDEOONLY"!==t?Promise.reject("wrong arguments"):this.webRTCClient.updateMediaTypeOnCall(e,t)},this.releaseUserMedia=function(){this.webRTCClient.releaseUserMedia()},this.setAllowedAudioCodecs=function(e){this.webRTCClient.allowedAudioCodecs=e},this.setAllowedVideoCodecs=function(e){this.webRTCClient.allowedVideoCodecs=e},this.setAudioBandwidth=function(e){this.webRTCClient.setAudioBandwidth(e)},this.setVideoBandwidth=function(e){},this.setRemoteVideoBandwidth=function(e){"number"==typeof e?this.webRTCClient.setVideoBandwidth(e,"remote"):ee.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setOverallIncomingVideoBandwidth=function(e){"number"==typeof e?this.webRTCClient.setVideoBandwidth(e,"overall","incoming"):ee.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setOverallOutgoingVideoBandwidth=function(e){"number"==typeof e?this.webRTCClient.setVideoBandwidth(e,"overall","outgoing"):ee.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setPerCallIncomingVideoBandwidth=function(e){"number"==typeof e?this.webRTCClient.setVideoBandwidth(e,"perCall","incoming"):ee.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setPerCallOutgoingVideoBandwidth=function(e){"number"==typeof e?this.webRTCClient.setVideoBandwidth(e,"perCall","outgoing"):ee.error("Unvalid target bandwidth usage value needs to be a number :",e)},this.setDataBandwidth=function(e){this.webRTCClient.setDataBandwidth(e)},this.createMCUSession=function(e,t){ee.info("createMCUSession"),this.webRTCClient.MCUClient.initDivElements(e,t),this.webRTCClient.MCUClient.createSession()},this.joinMCUSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ee.debug("joinMCUSession"),e?this.webRTCClient.MCUClient.joinSession(e,t):new Error("wrong roomId")},this.getMCUStreamList=function(){return ee.debug("getMCUStreamList"),this.webRTCClient.MCUClient.getStreamList()},this.getStreamFromList=function(e){return ee.debug("getStreamFromList"),this.webRTCClient.MCUClient.getStreamFromList(e)},this.getStreamIdOfUser=function(e){return ee.debug("getStreamIdOfUser"),this.webRTCClient.MCUClient.getStreamIdOfUser(e)},this.getCallIdFromStreamId=function(e){ee.debug("getCallIdFromStreamId");var t=this.webRTCClient.findCallWithStreamId(e);return null===t?(ee.log("call not found in getCallIdFromStreamId"),null):t.callId},this.getCallIdFromRemoteMCUUser=function(e){var t,n;return ee.debug("getCallIdFromRemoteMCUUser"),t=this.webRTCClient.MCUClient.getStreamIdOfUser(e),null===(n=this.webRTCClient.findCallWithStreamId(t))?(ee.log("call not found in getCallIdFromRemoteMCUUser"),null):n.callId},this.ejectParticipantFromMCUSession=function(e,t,n){this.webRTCClient.MCUClient.ejectParticipant(e,t,n)},this.publish=function(e,t,n,i,a,o){if("IE"===r.Xh&&(ee.log("apiCC.session.webRTCPluginActivated ="+apiCC.session.webRTCPluginActivated),ee.log("apiCC.webRTCPluginInstalled ="+apiCC.webRTCPluginInstalled)),("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&!0===apiCC.session.webRTCPluginActivated&&!1===apiCC.webRTCPluginInstalled)return ee.log("managing call with WebRTC Plugin"),null==i&&(i={}),i.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){apiCC.webRTCPluginInstalled=!0,ee.info("manageWebRTCPlugin cb in call");var r=this.webRTCClient.MCUClient.getSessionMCU(e);return r&&"mesh"===r.roomMode?this.webRTCClient.MCUClient.meshPublish(e,t,n,i,a,o):(ee.debug("publish"),this.webRTCClient.MCUClient.publish(e,t,n,i,a,o))}),(function(){ee.log("actionOnInstallationNeeded")})),i.apzcallId;var s=this.webRTCClient.MCUClient.getSessionMCU(e);return s&&"mesh"===s.roomMode?this.webRTCClient.MCUClient.meshPublish(e,t,n,i,a,o):(ee.debug("publish"),this.webRTCClient.MCUClient.publish(e,t,n,i,a,o))},this.unpublish=function(e){ee.info("unpublish"),this.webRTCClient.MCUClient.unpublish(e)},this.publishScreen=function(e,t,n,i){var r=this.webRTCClient.MCUClient.getSessionMCU(e);return r&&"mesh"===r.roomMode?(ee.info("publishScreen"),this.webRTCClient.MCUClient.meshPublishScreen(e,t,n,i)):(ee.info("publishScreen"),this.webRTCClient.MCUClient.publishScreen(e,t,n,i))},this.subscribe=function(e,t,n,i,a){return ee.info("subscribe :",e),"IE"===r.Xh&&(ee.log("apiCC.session.webRTCPluginActivated ="+apiCC.session.webRTCPluginActivated),ee.log("apiCC.webRTCPluginInstalled ="+apiCC.webRTCPluginInstalled)),("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&!0===apiCC.session.webRTCPluginActivated&&!1===apiCC.webRTCPluginInstalled?(ee.log("managing call with WebRTC Plugin"),apiCC.manageWebRTCPlugin((function(){return apiCC.webRTCPluginInstalled=!0,ee.log("manageWebRTCPlugin cb in subscribe"),"boolean"==typeof t&&(ee.warn("DEPRECATED : usage of audioOnly parameter on subscribe() is now replaced by mediatype with value VIDEO, AUDIOONLY or VIDEOONLY and will be deprecated in a next version of apiRTC"),t=!0===t?"AUDIOONLY":"VIDEO"),apiCC.session.apiCCWebRTCClient.subscribe(e,t,n,i)}),(function(){ee.log("actionOnInstallationNeeded")})),"WebRTC_Plugin"):("boolean"==typeof t&&(ee.warn("DEPRECATED : usage of audioOnly parameter on subscribe() is now replaced by mediatype with value VIDEO, AUDIOONLY or VIDEOONLY and will be deprecated in a next version of apiRTC"),t=!0===t?"AUDIOONLY":"VIDEO"),this.webRTCClient.MCUClient.subscribeToStreams(e,t,n,i,a))},this.unsubscribe=function(e){ee.info("unsubscribe :",e),null!==this.webRTCClient&&null!==this.webRTCClient.MCUClient&&this.webRTCClient.MCUClient.unsubscribe(e)},this.startStreaming=function(e,t,n,i){return ee.info("startStreaming"),this.webRTCClient.MCUClient.startStreaming(e,t,n,i)},this.stopStreaming=function(e){return ee.info("stopStreaming"),this.webRTCClient.MCUClient.stopStreaming(e)},this.startRecording=function(e,t,n,i,r){ee.info("startRecording"),this.webRTCClient.MCUClient.startRecording(e,t,n,i,r)},this.stopRecording=function(e){ee.info("stopRecording"),this.webRTCClient.MCUClient.stopRecording(e)},this.changeStreamPriority=function(e,t){var n=this.webRTCClient.findCallWithCallId(e);if(!n&&!(n=this.webRTCClient.findUserMediaById(e)))return ee.error("changeStreamPriority - no such call",e),!1;if(!n.sessionMCU)return ee.error("changeStreamPriority - no such sessionMCU"),!1;if(!(0,a.Ym)(t,"number")||t<0)return ee.error("changeStreamPriority - wrong priority",t),!1;var i=JSON.stringify({type:"changeStreamPriority",roomId:n.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.webRTCClient.MCUClient.pubConnector,priority:t}});return ee.log("C->S: "+i),apiCC.session.channel.socket.emit("changeStreamPriority",i),!0},this.startComposite=function(e){ee.info("startComposite"),this.webRTCClient.MCUClient.startComposite(e)},this.stopComposite=function(e){ee.info("stopComposite"),this.webRTCClient.MCUClient.stopComposite(e)},this.startCompositeRecording=function(e,t,n,i,r){ee.info("startCompositeRecording"),this.webRTCClient.MCUClient.startCompositeRecording(e,t,n,i,r)},this.stopCompositeRecording=function(e){ee.info("stopCompositeRecording"),this.webRTCClient.MCUClient.stopCompositeRecording(e)},this.checkCallExist=function(e){for(var t=null,n=this.webRTCClient.callsTable.length;--n>=0;){var i=this.webRTCClient.callsTable[n];if(i.callId===e&&i.data&&i.sessionMCU&&("MCU-Caller"===i.data.MCUType||"MCU-Callee"===i.data.MCUType)&&i.data.confId===i.sessionMCU.roomName){t=i;break}}return t||ee.error("startCallRecording: no such call"),t},this.startCallRecording=function(e){var t;if(t=this.checkCallExist(e)){var n=(0,a.ws)({},t.data);this.webRTCClient.MCUClient.startCompositeRecording("AUDIO-VIDEO",null,t.sessionMCU.convId,n,t.sessionMCU.roomName)}},this.stopCallRecording=function(e){var t;(t=this.checkCallExist(e))&&this.webRTCClient.MCUClient.stopCompositeRecording(t.sessionMCU.roomName)},this.enforceMCU=function(e){this.webRTCClient.MCUClient.enforceMCU(e)},this.takeSnapshotOnMCUSession=function(e){return ee.info("takeSnapshotOnMCUSession"),this.webRTCClient.MCUClient.takeSnapshot(e)},this.sendMCUSessionInvitation=function(e,t,n){this.webRTCClient.MCUClient.sendSessionInvitation(e,t,n)},this.sendMCUSessionInvitationToGroupChat=function(e,t){this.webRTCClient.MCUClient.sendSessionInvitationToGroupChat(e,t)},this.acceptMCUSessionInvitation=function(e,t,n,i){this.webRTCClient.MCUClient.initDivElements(n,i),this.webRTCClient.MCUClient.acceptSessionInvitation(e,t)},this.leaveMCUSession=function(e){this.webRTCClient.MCUClient.leaveSession(e)},this.recordStream=function(e){ee.info("recordStream :",e),void 0!==MediaRecorder?apiCC.recordMgr.record(e).then((function(){ee.log("Recording started")})).catch((function(e){ee.error("startRecord failed :",e)})):ee.debug("MediaRecorder is not supported on this browser, leaving recordStream process")},this.stopRecordStream=function(e){ee.info("stopRecordStream"),void 0!==MediaRecorder?apiCC.recordMgr.stop().then((function(t){ee.log("Recording stopped"),e(t)})).catch((function(e){ee.error("stopRecord failed :",e)})):ee.debug("MediaRecorder is not supported on this browser, leaving recordStream process")},this.getMediaDevices=function(e){ee.debug("getMediaDevices 2"),apiCC.getMediaDevices().then((function(t){e(t),apiCC.mediaDeviceMgr.gotSources(t)})).catch((function(t){e(null),apiCC.mediaDeviceMgr.gotSources(null)}))},this.setAudioSourceId=function(e){ee.info("setAudioSourceId :"+e),this.webRTCClient.audioSourceId=e},this.setAudioOutputId=function(e){ee.info("setaudioOutputId :"+e),this.webRTCClient.audioOutputId=e},this.setVideoSourceId=function(e){ee.info("setVideoSourceId :"+e),this.webRTCClient.videoSourceId=e},this.setVideoFacingMode=function(e){ee.info("setVideoFacingMode :"+e),"user"===e||"environment"===e||"left"===e||"right"===e||"deactivated"===e?this.webRTCClient.facingMode="deactivated"===e?null:e:ee.log("facingMode value is not correct")},this.attachMediaStream=function(e,t){ee.debug("attachMediaStream"),apiCC.attachMediaStream(e,t)},this.addStreamInDiv=function(e,t,n,i,r,a){ee.debug("addStreamInDiv"),apiCC.addStreamInDiv(e,t,n,i,r,a)},this.removeElementFromDiv=function(e,t){ee.debug("removeElementFromDiv"),apiCC.removeElementFromDiv(e,t)},this.setSelectedStream=function(e){ee.warn("setSelectedStream() is now deprecated")},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.startPrecallTest=function(e,t,n,i,r){var a={webRTCClient:this,notifyTerminated:e};this.callTest=new $(a,t,n,i,r),this.callTest.runBitRateTest()}}},6527:(e,t,n)=>{"use strict";n.d(t,{p:()=>r}),n(3843),n(3710),n(7941),n(4916),n(2772),n(2564),n(561),n(1058),n(9653),n(3290),n(6755),n(3123),n(2222),n(4812);var i=n(1549).Y.get("ApiCCWhiteBoardClient"),r=function(e,t,n,r,a){function o(e){e.style.display="none"}i.debug("Loading apiCC.ApiCCWhiteBoardClient"),this.roomId=null,this.whiteBoardDisconnectionTimeoutId=0,this.sessionStarted=!1,this.prev={},this.lastEmit=Date.now(),this.clients={},this.listenedPeers={},this.touchScreenActivated=!1,this.touchControlPoint={},this.drawElements=[],this.ghostElements={},this.redoStack=[],this.undoIndex=0,this.userCursorColor=null,this.cursors={},this.cursorStyle="cross",this.CURSOR_STYLES=["circle","cross"],this.currentScale=1,this.dx=0,this.dy=0,this.instructionsFaded=!1,this.canvas=null,this.ctx=null,this.currentTool="pen",this.currentColor="rgba(0, 0, 0, 1)",this.currentBrushWidth=1,this.readOnly=!1,this.isDrawing=!1,this.focusOnDrawing=!1,this.paperSheetId=0,this.drawingId=0,this.offline=!1,this.roomJoined=!1,this.laserModeActivated=!1,this.AVAILABLE_TOOLS=["pen","ellipse","rectangle","erase","void","arrow"],this.GEOMETRY_TOOLS=["arrow","rectangle","ellipse"],this.disconnectionTimer=void 0!==a?a:3e4,i.log("Setting Whiteboard disconnectionTimer to : "+this.disconnectionTimer),this.setCanvas=function(e){i.debug("[Whiteboard] setCanvas() :",e),null!==this.canvas&&(i.log("Unsetting old canvas events"),this.sessionStarted&&!this.readOnly&&(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1)))),null!==e&&null!==document.getElementById(e)?(this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.sessionStarted&&!this.readOnly&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove,this.touchScreenActivated&&(this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)))):(null!==e&&null===document.getElementById(e)&&i.warn("No such element whose id is : "+e),this.canvas=null,this.ctx=null)},this.setCanvas(t),this.sendDataToRoom=function(e){if(i.info("[Whiteboard] sendDataToRoom()"),!1===this.offline&&null!==this.roomId){if(null===apiCC.session||void 0===apiCC.session)return void i.info("apiCC.session does not exist, leaving process");i.debug("this.drawElements :",this.drawElements),i.debug("data.tool :",e.tool);var t=[];i.debug("drawElementsToSend :",t);var n,r={x:0,y:0,drawing:!1,tool:this.currentTool,cursorColor:this.userCursorColor,color:this.currentColor,width:this.currentBrushWidth,paperSheetId:this.paperSheetId,drawElements:t,id:apiCC.session.apiCCId},a=Object.keys(e);for(n=0;n<a.length;n++)r[a[n]]=e[a[n]];apiCC.session.roomMgr.sendMessageToRoom(this.roomId,"whiteBoard",r)}},this.setCursorsDiv=function(){i.warn("[Whiteboard] setCursorsDiv() - method obsolete, please use setUserCursorColor to set a cursor pointer that will be seen by other users")},this.setUserCursorColor=function(e){i.debug("[Whiteboard] setUserCursorColor() : "+e),null===e||"invisible"===e?this.userCursorColor="invisible":/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?this.userCursorColor=e:(i.warn("[Whiteboard] setUserCursorColor() color "+e+" is invalid, defaulting to invisible"),this.userCursorColor="invisible")},this.setUserCursorColor(n),this.setCursorStyle=function(e){i.debug("[Whiteboard] setCursorStyle() : "+e),this.CURSOR_STYLES.indexOf(e)>-1?(this.userCursorColor="invisible",this.cursorStyle=e):i.error("[Whiteboard] setCursorStyle() style "+e+" is invalid")},this.setFocusOnDrawing=function(e){i.debug("[Whiteboard] setFocusOnDrawing()"),this.focusOnDrawing=e},this.createRoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.debug("[Whiteboard] createRoom()"),apiCC.session.roomMgr.createRoom("whiteBoard",e)},this.requestContactListInRoom=function(e){i.log("[Whiteboard] requestContactListInRoom :"+e),apiCC.session.roomMgr.requestContactListInRoom(e)},this.setDrawingTool=function(e){i.debug("[Whiteboard] setDrawingTool()");var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.AVAILABLE_TOOLS.indexOf(e)>-1&&(this.currentTool=e,this.ghostElements[t]=null)},this.setReadOnly=function(e){i.debug("[Whiteboard] setReadOnly()");var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.ghostElements[t]=null,this.readOnly=!0===e,this.readOnly&&null!==this.canvas?(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1))):null!==this.canvas&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove,this.touchScreenActivated&&(this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)))},this.laserModeProcess=function(e){var t=this;setTimeout((function(){return t.undo(e)}),5e3)},this.undo=function(e){i.debug("[Whiteboard] undo()");var t=this.drawElements.length-1,n=null,r=[],a=[],o=null,s=0;if(null!==apiCC.session&&(s=apiCC.session.apiCCId),void 0===e)for(;t>=0;)this.drawElements[t].userId==s&&(null===n&&(n=this.drawElements[t].undoIndex),n===this.drawElements[t].undoIndex&&(o=this.drawElements.splice(t,1)[0],r.push(o),a.push(o.drawingId))),t--;else for(t=0;t<this.drawElements.length;t++)this.drawElements[t].userId==s&&this.drawElements[t].drawingId===e&&(i.debug("[Whiteboard] element found with drawingId in undo laser :",e),o=this.drawElements.splice(t,1)[0],r.push(o),a.push(o.drawingId));r.length>0&&(this.redraw(),this.sendDataToRoom({tool:"void",delete:a,undoneElements:r}),this.redoStack.push(r))},this.redo=function(){i.debug("[Whiteboard] redo()");var e,t=[];if(this.redoStack.length>0){for(t=this.redoStack.pop(),e=0;e<t.length;e++)this.addNewDrawing(t[e]);this.sendDataToRoom({tool:"void",drawObjectsArray:t}),this.redraw()}},this.setBrushSize=function(e){i.debug("[Whiteboard] setBrushSize()"),!isNaN(e)&&e>0&&(this.currentBrushWidth=e)},this.setBrushColor=function(e){i.debug("[Whiteboard] setBrushColor()"),this.currentColor=e},this.setScale=function(e){i.debug("[Whiteboard] setScale()"),e>0?(this.currentScale=e,this.redraw()):i.warn("Scale factor must be > 0!")},this.getScale=function(){return i.debug("[Whiteboard] getScale()"),this.currentScale},this.setOffset=function(e,t){i.debug("[Whiteboard] setOffset()");var n=parseInt(e,10),r=parseInt(t,10);isNaN(n)||isNaN(r)||(this.dx=Number(n),this.dy=Number(r),this.redraw())},this.getOffset=function(){return i.debug("[Whiteboard] getOffset()"),{x:this.dx,y:this.dy}},this.printSharedText=function(e,t,n,r,a,o){i.debug("[Whiteboard] printSharedText()"),this.setBrushStyle(this.currentColor,this.currentBrushWidth),this.undoIndex++,this.redoStack=[];var s=0;null!==apiCC.session&&(s=apiCC.session.apiCCId);var l={type:"text",x:e,y:t,text:n,size:r,font:a,border:o,userId:s,drawingId:this.drawingId,color:this.currentColor,width:this.currentBrushWidth,undoIndex:this.undoIndex,time:Date.now()};this.sendDataToRoom({x:e,y:t,tool:"void",drawObject:l}),this.drawingId++,this.addNewDrawing(l)},this.addPeerListener=function(e,t){i.debug("[Whiteboard] addPeerListener()"),this.listenedPeers.hasOwnProperty(e)||(this.listenedPeers[e]=[]),this.listenedPeers[e].push(t)},this.inviteInRoom=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.debug("[Whiteboard] inviteInRoom()"),null!==e?null!==t?apiCC.session.roomMgr.inviteInRoom(e,t,"whiteBoard",n,r):i.debug("wrong destId"):i.debug("wrong roomId")},this.answerToRoomInvitation=function(e,t){i.info("[Whiteboard] answerToRoomInvitation()");var n=t&&!this.isInRoom();return this.isInRoom()?i.error("[Whiteboard] cannot answer room invitation : user is already in a room"):apiCC.session.roomMgr.answerToRoomInvitation(e,t,"whiteBoard"),n&&(i.log("[Whiteboard] user joining room"),this.paperSheetId=0,this.drawingId=0,this.roomId=e,this.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})),n},this.joinRoom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.info("[Whiteboard] joinRoom() roomId :",e),null==e?i.error("[Whiteboard] cannot join room : room is null or undefined"):this.isInRoom()&&!0===this.roomJoined?i.error("[Whiteboard] cannot join room : user is already in a room"):apiCC.session.roomMgr.joinRoom(e,"whiteBoard",t)},this.leaveRoom=function(){i.info("[Whiteboard] leaveRoom()"),this.isInRoom()&&(apiCC.session.roomMgr.leaveRoom(this.roomId,"whiteBoard"),this.roomId=null,this.paperSheetId=0,this.drawingId=0,this.listenedPeers={},this.roomJoined=!1)},this.isInRoom=function(){return null!==this.roomId},this.clearPaper=function(){i.debug("[Whiteboard] clearPaper()"),this.deleteHistory()},this.refreshCanvas=function(){if(null!==this.canvas&&null!==this.ctx){var e=this.canvas.width;this.canvas.width=e}},this.deleteHistory=function(){i.info("[Whiteboard] deleteHistory()");var e=0;null!==apiCC.session&&(e=apiCC.session.apiCCId),this.refreshCanvas(),this.drawElements=[],this.ghostElements[e]=null,this.paperSheetId++,this.drawingId=0,this.sendDataToRoom({tool:"void",deleteHistory:!0})},this.setBrushStyle=function(e,t){null!==this.ctx&&(this.ctx.strokeStyle=e,this.ctx.fillStyle=e,this.ctx.lineWidth=t)},this.redraw=function(){var e,t,n;for(i.debug("[Whiteboard] redraw()"),this.refreshCanvas(),e=0;e<this.drawElements.length;e++)this.drawSingleObject(this.drawElements[e]);for(t=Object.keys(this.ghostElements),e=0;e<t.length;e++)null!==this.ghostElements[t[e]]&&this.drawSingleObject(this.ghostElements[t[e]]);for(t=Object.keys(this.cursors),e=0;e<t.length;e++)if(null!==this.cursors[t[e]]&&"invisible"!==this.cursors[t[e]].color&&(0!==this.cursors[t[e]].x||0!==this.cursors[t[e]].y))switch(n={fromx:(this.cursors[t[e]].x-this.dx)*this.currentScale-13,fromy:(this.cursors[t[e]].y-this.dy)*this.currentScale-13,tox:(this.cursors[t[e]].x-this.dx)*this.currentScale+13,toy:(this.cursors[t[e]].y-this.dy)*this.currentScale+13},this.setBrushStyle(this.cursors[t[e]].color,4),this.cursorStyle){case"circle":null!==this.ctx&&(this.ctx.globalAlpha=.4,this.fillEllipse(n.fromx,n.fromy,n.tox,n.toy),this.drawEllipse(n.fromx+2,n.fromy+2,n.tox-2,n.toy-2),this.ctx.globalAlpha=1);break;case"cross":null!==this.ctx&&(this.ctx.globalAlpha=.7,this.ctx.beginPath(),this.ctx.moveTo(n.fromx+(n.tox-n.fromx)/2,n.fromy),this.ctx.lineTo(n.fromx+(n.tox-n.fromx)/2,n.toy),this.ctx.lineCap="butt",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(n.fromx,n.fromy+(n.toy-n.fromy)/2),this.ctx.lineTo(n.tox,n.fromy+(n.toy-n.fromy)/2),this.ctx.lineCap="butt",this.ctx.stroke(),this.ctx.globalAlpha=1)}},this.addNewDrawing=function(e){var t=0;this.drawElements.push(e),this.drawSingleObject(e),null!==apiCC.session&&(t=apiCC.session.apiCCId),e.userId===t&&!0===this.laserModeActivated&&this.laserModeProcess(e.drawingId)},this.drawSingleObject=function(e){if(null!==this.ctx&&null!==this.canvas){var t={};switch(this.setBrushStyle(e.color,e.width),this.ctx.scale(this.currentScale,this.currentScale),t.fromx=e.fromx-this.dx,t.tox=e.tox-this.dx,t.x=e.x-this.dx,t.fromy=e.fromy-this.dy,t.toy=e.toy-this.dy,t.y=e.y-this.dy,e.type){case"arrow":this.drawArrow(t.fromx,t.fromy,t.tox,t.toy);break;case"ellipse":this.drawEllipse(t.fromx,t.fromy,t.tox,t.toy);break;case"rectangle":this.drawRectangle(t.fromx,t.fromy,t.tox,t.toy);break;case"pen":this.drawLine(t.fromx,t.fromy,t.tox,t.toy);break;case"erase":this.eraseArea(t.fromx,t.fromy);break;case"text":this.drawText(t.x,t.y,e.text,e.size,e.font,e.border)}this.ctx.scale(1/this.currentScale,1/this.currentScale)}},this.drawLine=function(e,t,n,i){null!==this.ctx&&(this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(n,i),this.ctx.lineCap="round",this.ctx.stroke())},this.drawText=function(e,t,n,i,r,a){if(null!==this.ctx){var o,s,l="Arial";null!=r&&(l=r),this.ctx.font=i+"px "+l,this.ctx.fillText(n,e,t),null!=a&&(o=this.ctx.strokeStyle,s=this.ctx.lineWidth,this.ctx.strokeStyle=a,this.ctx.lineWidth=1,this.ctx.strokeText(n,e,t),this.ctx.strokeStyle=o,this.ctx.lineWidth=s)}},this.eraseArea=function(e,t){null!==this.ctx&&this.ctx.clearRect(e-this.ctx.lineWidth-1,t-this.ctx.lineWidth-1,2*this.ctx.lineWidth+2,2*this.ctx.lineWidth+2)},this.drawArrow=function(e,t,n,i){if(null!==this.ctx){var r=Math.atan2(i-t,n-e);this.ctx.beginPath(),this.ctx.lineCap="butt",this.ctx.moveTo(e,t),this.ctx.lineTo(n,i),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(n,i),this.ctx.rotate(r+Math.PI/2),this.ctx.moveTo(0,-this.ctx.lineWidth),this.ctx.lineTo(5*this.ctx.lineWidth*.5+1,10+.25*this.ctx.lineWidth),this.ctx.lineTo(-5*this.ctx.lineWidth*.5-1,10+.25*this.ctx.lineWidth),this.ctx.closePath(),this.ctx.restore(),this.ctx.fill()}},this.drawEllipse=function(e,t,n,i){var r=null,a=null;null!==this.ctx&&(r={x:Math.abs(e-n)/2,y:Math.abs(t-i)/2},a={x:e-(e-n)/2,y:t-(t-i)/2},this.ctx.beginPath(),"IE"!==apiRTC.browser&&this.ctx.ellipse(a.x,a.y,r.x,r.y,0,0,2*Math.PI),this.ctx.stroke())},this.fillEllipse=function(e,t,n,i){if(null!==this.ctx){var r={x:Math.abs(e-n)/2,y:Math.abs(t-i)/2},a={x:e-(e-n)/2,y:t-(t-i)/2};this.ctx.beginPath(),"IE"!==apiRTC.browser&&this.ctx.ellipse(a.x,a.y,r.x,r.y,0,0,2*Math.PI),this.ctx.fill()}},this.drawRectangle=function(e,t,n,i){if(null!==this.ctx){this.ctx.beginPath();var r=e,a=t;e>n&&(r=n),t>i&&(a=i),this.ctx.rect(r,a,Math.abs(e-n),Math.abs(t-i)),this.ctx.stroke()}},this.getContext=function(){return this.ctx},this.loadPhotoInBackground=function(e){i.debug("[Whiteboard] loadPhotoInBackground :"+e);var t=document.getElementsByTagName("body")[0];t.style.backgroundImage="url("+e+")",t.style.backgroundPosition="50% 50%",t.style.backgroundRepeat="no-repeat"},this.messageProcessing=function(e){i.debug("[Whiteboard] messageProcessing");var t,n=null,r=null,a=!1,o=null,s=null,l=null,c=null,u=null;if(this.cursors[e.id]||(i.log("[Whiteboard] messageProcessing - creating cursor for new user : "+e.id),this.cursors[e.id]={id:e.id},this.clients[e.id]={}),this.cursors[e.id].x=e.x,this.cursors[e.id].y=e.y,this.cursors[e.id].lastUpdate=Date.now(),e.cursorColor&&null!==e.cursorColor?this.cursors[e.id].color=e.cursorColor:this.cursors[e.id].color="invisible",void 0===apiRTC.userAgentInstance||"ON"===apiRTC.userAgentInstance.capabilities.whiteboardCursor?"invisible"!==this.cursors[e.id].color&&(a=!0):(i.debug("[Whiteboard] - cursor is not supported on userAgent"),this.cursors[e.id].color="invisible"),null!==this.ghostElements[e.id]&&(this.ghostElements[e.id]=null,a=!0),this.listenedPeers.hasOwnProperty(e.id))for(o={id:e.id,x:e.x,y:e.y,tool:e.tool,drawing:e.drawing},t=0;t<this.listenedPeers[e.id].length;t++)"function"==typeof this.listenedPeers[e.id][t]?this.listenedPeers[e.id][t](o):i.warn("[Whiteboard] Peer listenener is not a function!");if(e.drawing&&this.clients[e.id]&&(i.debug("data.drawing && this.clients[data.id]"),r={fromx:void 0!==e.prevX?e.prevX:this.clients[e.id].x,fromy:void 0!==e.prevY?e.prevY:this.clients[e.id].y,tox:e.x,toy:e.y,type:null!==e.tool?e.tool:"pen",color:e.color,width:e.width,userId:e.id,drawingId:e.drawingId},this.GEOMETRY_TOOLS.indexOf(r.type)>-1?e.prevX&&e.prevY&&(this.ghostElements[e.id]=r,a=!0):this.addNewDrawing(r),this.focusOnDrawing&&((n=this.canvas.parentNode).scrollLeft=this.currentScale*(e.x-this.dx)-n.clientWidth/2,n.scrollTop=this.currentScale*(e.y-this.dy)-n.clientHeight/2)),e.drawObject&&((r=e.drawObject).color=e.color,r.width=e.width,this.ghostElements[e.id]=null,this.addNewDrawing(r),this.focusOnDrawing&&((n=this.canvas.parentNode).scrollLeft=this.currentScale*(e.x-this.dx)-n.clientWidth/2,n.scrollTop=this.currentScale*(e.y-this.dy)-n.clientHeight/2)),e.hasOwnProperty("drawObjectsArray"))for(t=0;t<e.drawObjectsArray.length;t++)this.addNewDrawing(e.drawObjectsArray[t]);if(e.hasOwnProperty("delete"))for(t=this.drawElements.length-1,a=!0;t>=0;)e.delete.indexOf(this.drawElements[t].drawingId)>-1&&this.drawElements[t].userId==e.id&&this.drawElements.splice(t,1),t--;if(e.hasOwnProperty("paperSheetId")){if(e.paperSheetId<this.paperSheetId)i.debug("[Whiteboard] - data.paperSheetId < this.paperSheetId");else if(e.paperSheetId>this.paperSheetId){if(i.debug("[Whiteboard] - messageProcessing : peer has a more recent version : "+this.paperSheetId+" vs "+e.paperSheetId),e.hasOwnProperty("deleteHistory")&&i.debug("User : "+e.id+" ,has deleted the history"),e.hasOwnProperty("drawElements")){for(i.debug("[Whiteboard] - messageProcessing : receiving update from peer"),null!==e.drawElements?this.drawElements=e.drawElements:this.drawElements=[],t=0;t<this.drawElements.length;t++)this.drawElements[t].hasOwnProperty("userId")&&this.drawElements[t].hasOwnProperty("drawingId")&&(this.clients[this.drawElements[t].userId]={x:0,y:0,drawing:!1,tool:"pen",cursorColor:null,color:null,width:1,paperSheetId:this.paperSheetId,drawingId:this.drawElements[t].drawingId,id:this.drawElements[t].userId});this.paperSheetId=e.paperSheetId,this.drawingId=0,a=!0}}else if(e.hasOwnProperty("drawingId"))if(i.debug("[Whiteboard] - data.hasOwnProperty(drawingId): "),0!==e.drawingId&&void 0===this.clients[e.id]||void 0!==this.clients[e.id]&&this.clients[e.id].hasOwnProperty("drawingId")&&e.drawingId-this.clients[e.id].drawingId>1)i.log("[Whiteboard] - messageProcessing : catchup from peer required : "+e.drawingId),c=e.id+"||-1",void 0!==this.clients[e.id]&&this.clients[e.id].hasOwnProperty("drawingId")&&(c=e.id+"||"+this.clients[e.id].drawingId),this.sendDataToRoom({tool:"void",needCatchUp:c});else if(e.hasOwnProperty("needCatchUp")&&(e.needCatchUp.startsWith(apiCC.session.apiCCId+"||")||e.needCatchUp.startsWith("*||"))){for(i.debug("[Whiteboard] - messageProcessing : letting peer catchup: "+e.id),s=e.needCatchUp.split("||")[1],l=[],t=0;t<this.drawElements.length;t++)(u=this.drawElements[t]).hasOwnProperty("userId")&&u.hasOwnProperty("drawingId")&&u.userId===apiCC.session.apiCCId&&u.drawingId>parseInt(s,10)&&l.push(u);this.sendDataToRoom({tool:"void",catchUpData:l,catchupIndex:s})}else i.debug("[Whiteboard] - else - drawingId");else if(e.hasOwnProperty("needCatchUp")){for(i.debug("[Whiteboard] - messageProcessing : needCatchUp"+e.id),s=e.needCatchUp.split("||")[1],l=[],t=0;t<this.drawElements.length;t++)u=this.drawElements[t],l.push(u);i.debug("[Whiteboard] - sending catchUpData : ",l),this.sendDataToRoom({tool:"void",catchUpData:l,catchupIndex:s})}else i.debug("[Whiteboard] - else - paperSheetId");if(e.hasOwnProperty("catchUpData")){for(i.debug("[Whiteboard] - messageProcessing : catching up: "+e.id),"complete"===e.catchUpStatus&&(i.debug("catchUpData is complete, cleaning drawElements"),this.drawElements.splice(0,this.drawElements.length)),t=0;t<e.catchUpData.length;t++)u=e.catchUpData[t],e.userId===apiCC.session.apiCCId&&u.hasOwnProperty("drawingId")&&this.drawingId<u.drawingId&&(this.drawingId=u.drawingId+1);this.drawElements=e.catchUpData.concat(this.drawElements),this.paperSheetId=e.paperSheetId,a=!0}}a&&this.redraw(),this.clients[e.id]=e},this.isStarted=function(){return this.sessionStarted},this.start=function(){this.isStarted()?i.warn("[Whiteboard] WhiteBoardClient is already started"):(i.info("[Whiteboard] starting WhiteBoardClient"),this.isDrawing=!1,this.prev={},this.lastEmit=Date.now(),this.currentScale=1,this.dx=0,this.dy=0,this.drawingId=0,this.clients={},this.listenedPeers={},this.cursors={},this.drawElements=[],this.touchScreenActivated=!1,this.sessionStarted=!0,null!==this.canvas&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove),this.redraw()),null!==apiCC.session&&void 0!==apiCC.session.roomMgr||(i.log("[Whiteboard] roomMgr is not defined, setting offline mode"),this.offline=!0)},this.stop=function(){this.isStarted()?(i.info("[Whiteboard] Stopping WhiteBoardClient"),this.isInRoom()&&this.leaveRoom(),this.sessionStarted=!1,null!==this.canvas&&(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1))),this.drawElements=[],this.ghostElements={},this.redoStack=[]):i.info("[Whiteboard] cannot stop WhiteboardClient as it is not started")},this.getTouchOffSet=function(e){i.debug("[Whiteboard] getTouchOffSet():");var t,n,r,a,o=null,s={offsetX:0,offsetY:0};return o=e.target,t=window.getComputedStyle(o,null),n=parseInt(t.borderLeftWidth,10),r=parseInt(t.borderTopWidth,10),a=o.getBoundingClientRect(),s.offsetX=e.clientX-n-a.left,s.offsetY=e.clientY-r-a.top,i.log("offset.offsetX :"+s.offsetX),i.log("offset.offsetY :"+s.offsetY),s},this.toggleTouchScreen=function(){!0===this.touchScreenActivated?this.deactivateTouchScreen():this.activateTouchScreen()},this.activateTouchScreen=function(){null!==this.canvas?(this.touchScreenActivated=!0,this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)):i.warn("Trying to activateTouchScreen() while canvas is null.")},this.deactivateTouchScreen=function(){null!==this.canvas?(this.touchScreenActivated=!1,this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1)):i.warn("Trying to deactivateTouchScreen() while canvas is null.")},this.activateLaserMode=function(){this.laserModeActivated=!0},this.deactivateLaserMode=function(){this.laserModeActivated=!1},this.sendDrawingData=function(e,t,n){i.debug("[Whiteboard] sendDrawingData()");var r={x:e.offsetX,y:e.offsetY,drawing:t,prevX:this.prev.x,prevY:this.prev.y};if(!1!==t||"invisible"!==this.userCursorColor){var a=0;null!==apiCC.session&&(a=apiCC.session.apiCCId),null!==n&&(r.drawObject=n,r.drawObject.drawingId=this.drawingId,r.drawObject.userId=a,this.drawingId++),r.drawingId=this.drawingId,this.sendDataToRoom(r)}else i.debug("isDrawing false and userCursorColor invisible - leaving sendDrawingData")},this.onmousedown=function(e){e.preventDefault();var t,n,i=e.target||e.srcElement,a=i.currentStyle||window.getComputedStyle(i,null),s=parseInt(a.borderLeftWidth,10)||0,l=parseInt(a.borderTopWidth,10)||0,c=i.getBoundingClientRect(),u={offsetX:this.dx+1/this.currentScale*(e.clientX-s-c.left),offsetY:this.dy+1/this.currentScale*(e.clientY-l-c.top)};if(this.prev.x=u.offsetX,this.prev.y=u.offsetY,this.isDrawing=!0,this.undoIndex++,this.redoStack=[],null===(t=document.getElementById(r))||this.instructionsFaded||(o(t),this.instructionsFaded=!0),"erase"===this.currentTool){this.sendDrawingData(u,this.isDrawing,null);var d=0;null!==apiCC.session&&(d=apiCC.session.apiCCId),this.lastEmit=Date.now(),n={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:d,drawingId:this.drawingId,undoIndex:this.undoIndex,time:Date.now()},this.drawingId++,this.addNewDrawing(n),this.redraw()}}.bind(this),this.onmouseup=function(e){var t,n=null,i=null,r=0,a=0,o=null,s={offsetX:0,offsetY:0},l=0;this.isDrawing&&this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(i=(n=e.target||e.srcElement).currentStyle||window.getComputedStyle(n,null),r=parseInt(i.borderLeftWidth,10)||0,a=parseInt(i.borderTopWidth,10)||0,o=n.getBoundingClientRect(),s.offsetX=this.dx+1/this.currentScale*(e.clientX-r-o.left),s.offsetY=this.dy+1/this.currentScale*(e.clientY-a-o.top),null!==apiCC.session&&(l=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,tox:s.offsetX,toy:s.offsetY,color:this.currentColor,width:this.currentBrushWidth,userId:l,undoIndex:this.undoIndex,time:Date.now()},this.sendDrawingData(s,this.isDrawing,t),this.ghostElements[l]=null,this.redraw(),this.addNewDrawing(t),this.prev.x=s.offsetX,this.prev.y=s.offsetY),this.isDrawing=!1,this.ghostElements[l]=null}.bind(this),this.onmouseleave=function(){var e=0;null!==apiCC.session&&(e=apiCC.session.apiCCId),this.isDrawing=!1,this.sendDrawingData({offsetX:0,offsetY:0},this.isDrawing,null),this.ghostElements[e]=null}.bind(this),this.onmousemove=function(e){var t,n,i,r,a,o=null,s={};if(t=(o=e.target||e.srcElement).currentStyle||window.getComputedStyle(o,null),n=parseInt(t.borderLeftWidth,10)||0,i=parseInt(t.borderTopWidth,10)||0,r=o.getBoundingClientRect(),s.offsetX=this.dx+1/this.currentScale*(e.clientX-n-r.left),s.offsetY=this.dy+1/this.currentScale*(e.clientY-i-r.top),Date.now()-this.lastEmit>30)if(this.sendDrawingData(s,this.isDrawing,null),this.lastEmit=Date.now(),this.isDrawing){var l=0;null!==apiCC.session&&(l=apiCC.session.apiCCId),a={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:l,undoIndex:this.undoIndex,time:Date.now()},"pen"===this.currentTool||"erase"===this.currentTool?("pen"===this.currentTool&&(a.tox=s.offsetX,a.toy=s.offsetY),a.drawingId=this.drawingId,this.drawingId++,this.addNewDrawing(a),this.prev.x=s.offsetX,this.prev.y=s.offsetY):this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(a.tox=s.offsetX,a.toy=s.offsetY,this.ghostElements[l]=a),"pen"!==this.currentTool&&this.redraw()}else"erase"===this.currentTool&&(this.redraw(),a={type:"rectangle",fromx:s.offsetX-this.currentBrushWidth,fromy:s.offsetY-this.currentBrushWidth,tox:parseInt(s.offsetX,10)+parseInt(this.currentBrushWidth,10),toy:parseInt(s.offsetY,10)+parseInt(this.currentBrushWidth,10),color:"#444444",width:1},this.drawSingleObject(a),a.color="#DDDDDD",a.fromx=a.fromx-1,a.fromy=a.fromy-1,a.tox=a.tox+1,a.toy=a.toy+1,this.drawSingleObject(a))}.bind(this),this.onTouchStart=function(e){i.debug("[Whiteboard] handleStart"),e.preventDefault();var t,n=e.changedTouches,a={};this.isDrawing=!0,this.undoIndex++,this.redoStack=[],(a=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*a.offsetX,a.offsetY=this.dy+1/this.currentScale*a.offsetY,this.prev.x=a.offsetX,this.prev.y=a.offsetY,this.sendDrawingData(a,!1,null),null!==(t=document.getElementById(r))&&o(t)}.bind(this),this.onTouchEnd=function(e){i.debug("[Whiteboard] handleEnd :"+e);var t,n={},r=e.changedTouches,a=0;this.isDrawing&&this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&((n=this.getTouchOffSet(r[0])).offsetX=this.dx+1/this.currentScale*n.offsetX,n.offsetY=this.dy+1/this.currentScale*n.offsetY,null!==apiCC.session&&(a=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,tox:n.offsetX,toy:n.offsetY,color:this.currentColor,width:this.currentBrushWidth,userId:a,undoIndex:this.undoIndex,time:Date.now()},this.sendDrawingData(n,this.isDrawing,t),this.addNewDrawing(t),this.prev.x=n.offsetX,this.prev.y=n.offsetY),this.isDrawing=!1,this.ghostElements[a]=null,e=null}.bind(this),this.onTouchCancel=function(e){i.debug("[Whiteboard] handleCancel :"+e);var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.isDrawing=!1,this.ghostElements[t]=null,e=null}.bind(this),this.onTouchMove=function(e){i.debug("[Whiteboard] handleMove :"+e);var t,n=e.changedTouches,r={};if(Date.now()-this.lastEmit>30&&((r=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*r.offsetX,r.offsetY=this.dy+1/this.currentScale*r.offsetY,this.sendDrawingData(r,this.isDrawing,null),this.lastEmit=Date.now(),this.isDrawing)){(r=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*r.offsetX,r.offsetY=this.dy+1/this.currentScale*r.offsetY;var a=0;null!==apiCC.session&&(a=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:a,undoIndex:this.undoIndex,time:Date.now()},"pen"===this.currentTool||"erase"===this.currentTool?("pen"===this.currentTool&&(t.tox=r.offsetX,t.toy=r.offsetY),t.drawingId=this.drawingId,this.drawingId++,this.addNewDrawing(t),this.prev.x=r.offsetX,this.prev.y=r.offsetY):this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(t.tox=r.offsetX,t.toy=r.offsetY,this.ghostElements[a]=t,this.redraw())}}.bind(this)}},8560:(e,t,n)=>{"use strict";n.r(t),n(2772),n(3710),n(9554),n(1539),n(8674),n(561),n(2564),n(8309),n(4916),n(3123),n(1058),n(6992),n(8783),n(3948),n(285),n(1637),n(4363),n(9653),n(9714),n(3843),n(7941),n(4812),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(2222),n(9600),n(6755),n(4747),n(2526),n(1817),n(2165);var i=n(1549),r=n(5945),o=n(8765),s=n(1215),l=n(3173),c=i.Y.get("RecordManager"),u=n(4708);n(2707),n(7042),n(9070);var d=i.Y.get("AudioProcessor"),f=window.AudioContext||window.webkitAudioContext||!1,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioContext=null}var t,n;return t=e,(n=[{key:"getOrCreateAudioContext",value:function(){return d.debug("getOrCreateAudioContext"),"iOS"===apiRTC.osName&&"undefined"!=typeof cordova?d.debug("No audioContext for iOS cordova"):f&&(this.audioContext=new f),"suspended"===this.audioContext.state&&this.audioContext.resume().then((function(){d.debug("AudioContext is resumed")})),this.audioContext}},{key:"listenToAudio",value:function(e,t){if(d.debug("listenToAudio()"),null!=t&&!0===apiCC.activeSpeakerDetect&&"noiseReduction"!==t.childStreamType){d.debug("activeSpeakerDetect()");var n=null,i=!1,r=this.getOrCreateAudioContext();null!=r?(t.nodeCtx={},t.nodeCtx.sourceNode=r.createMediaStreamSource(e),t.nodeCtx.analyserNode=r.createAnalyser(),t.nodeCtx.analyserNode.fftSize=2048,t.nodeCtx.sourceNode.connect(t.nodeCtx.analyserNode),t.nodeCtx.listenToAudioIntervalId=setInterval((function(){var e,r,a=new Uint8Array(t.nodeCtx.analyserNode.frequencyBinCount),o=0;for(t.nodeCtx.analyserNode.getByteFrequencyData(a),a.sort((function(e,t){return t-e})),a=a.slice(0,50),r=0;r<a.length;r++)o+=a[r];(e=o/a.length)>255*apiCC.activeSpeakerThreshold&&(i||(i=!0,t.notifyActiveSpeaker(e),d.debug("notifyActiveSpeaker this.userMediaStreamId :",t.userMediaStreamId)),null!==n&&clearTimeout(n),n=setTimeout((function(){t.notifyNotActiveSpeaker(e),d.debug("notifyNotActiveSpeaker this.userMediaStreamId :",t.userMediaStreamId),i=!1}),1e3))}),100)):d.error("listenToAudio() - Unable to create audio context")}else d.debug("activeSpeakerDetecting is not activated or stream type is noiseReduction")}},{key:"checkstopAudioNodeCtxConditions",value:function(e){return void 0!==apiCC.userAgentInstance&&"OFF"===apiCC.userAgentInstance.getCapabilities().noiseReduction?"Navigator not compatible with this function":void 0===e?"nodeCtx undefined":"OK"}},{key:"stopAudioNodeCtx",value:function(e){d.debug("stopAudioNodeCtx :",e);var t=this.checkstopAudioNodeCtxConditions(e);if("OK"!==t)return t;void 0!==e.sourceNode&&null!==e.sourceNode&&(e.sourceNode.disconnect(),e.sourceNode=null),void 0!==e.analyserNode&&null!==e.analyserNode&&(e.analyserNode.disconnect(),e.analyserNode=null),void 0!==e.audioDestination&&null!==e.audioDestination&&(e.audioDestination.disconnect(),e.audioDestination=null),void 0!==e.originalMediaTrack&&null!==e.originalMediaTrack&&(e.originalMediaTrack=null),void 0!==e.outputMediaTrack&&null!==e.outputMediaTrack&&(e.outputMediaTrack=null),void 0!==e.listenToAudioIntervalId&&null!==e.listenToAudioIntervalId&&(clearInterval(e.listenToAudioIntervalId),e.listenToAudioIntervalId=null),void 0!==e.noiseSuppressorNode&&null!==e.noiseSuppressorNode&&(e.noiseSuppressorNode.port.onmessage=null,e.noiseSuppressorNode.port.close(),e.noiseSuppressorNode=null)}},{key:"checkChildTypeConditions",value:function(e){return void 0!==apiCC.userAgentInstance&&"OFF"===apiCC.userAgentInstance.getCapabilities().noiseReduction?"Navigator not compatible with this function":void 0!==e.childType&&"noiseReduction"===e.childType?"This stream has already a noiseReduction effect applied : "+e.childType:e.childrenTypeExists("noiseReduction")?"This stream has already has a noiseReduction sub instance running":"OK"}},{key:"startNoiseReduction",value:function(e){var t=this,n=null,i=!1;return new Promise((function(r,a){d.debug("startNoiseReduction");var o=t.checkChildTypeConditions(e);if("OK"!==o)return a(o);e.nodeCtx={},e.nodeCtx.originalMediaTrack=e.data.getAudioTracks()[0];var s=apiCC.audioProcessor.getOrCreateAudioContext();e.nodeCtx.sourceNode=s.createMediaStreamSource(e.data);var l={channelCount:e.data.getAudioTracks()[0].getSettings().channelCount,channelCountMode:"explicit"};e.nodeCtx.audioDestination=new MediaStreamAudioDestinationNode(s,l),e.nodeCtx.outputMediaTrack=e.nodeCtx.audioDestination.stream.getAudioTracks()[0],s.audioWorklet.addModule("https://cdn.apizee.com/apiRTC/lib/noiseReduction/ApiRTC_NR_Worklet_1.0.1.js").then((function(){e.nodeCtx.noiseSuppressorNode=new AudioWorkletNode(s,"NoiseSuppressorWorklet",{parameterData:{activeSpeakerDetect:apiCC.activeSpeakerDetect}}),e.nodeCtx.sourceNode.connect(e.nodeCtx.noiseSuppressorNode).connect(e.nodeCtx.audioDestination);var t={audioFilterIsApplied:e.audioFilterIsApplied,audioAppliedFilter:e.audioAppliedFilter,videoFilterIsApplied:e.videoFilterIsApplied,videoAppliedFilter:e.videoAppliedFilter,childType:e.childType},o=e.nodeCtx.audioDestination.stream;e.data.getVideoTracks().forEach((function(e){o.addTrack(e.clone())})),e.createChildStreamFromStream(o,"noiseReduction",t).then((function(t){e.addChildren(t,"noiseReduction"),t.applyMuteStatusFromParent();var a=apiCC.getUserMediaStream(e.userMediaStreamId);apiCC.audioProcessor.stopAudioNodeCtx(a.nodeCtx);var o=apiCC.getUserMediaStream(t.userMediaStreamId);return e.nodeCtx.noiseSuppressorNode.port.onmessage=function(e){e.data.vadScore>apiCC.activeSpeakerThreshold&&(i||(i=!0,o.notifyActiveSpeaker(e.data.vadScore),d.debug("notifyActiveSpeaker this.userMediaStreamId :",o.userMediaStreamId)),null!==n&&clearTimeout(n),n=setTimeout((function(){o.notifyNotActiveSpeaker(e.data.vadScore),d.debug("notifyNotActiveSpeaker this.userMediaStreamId :",o.userMediaStreamId),i=!1}),1e3))},r(t)})).catch(a)})).catch((function(e){console.error("Error while adding audio worklet module: ",e)}))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var g=i.Y.get("ApiCC_Methods"),m=n(6075).F;apiCC.myWebRTC_Adapter=new m,apiCC.myWebRTC_Event=new o.K;var v=apiCC.myWebRTC_Event;apiCC.myEventTable=[],apiCC.ApiCCSession=n(3720).K,apiCC.ApiCCWebRTCClient=n(1192).D,apiCC.ApiCCUserMediaStream=n(7323).q,apiCC.ApiCCPointerSharingClient=n(9213).X,apiCC.ApiCCWhiteBoardClient=n(6527).p,apiCC.ApiCCDataClient=n(128)._,apiCC.ApiCCIMClient=n(6844).U,apiCC.recordMgr=new function(){c.debug("RecordManager creation"),this.mediaRecorder=null,this.recordedBlobs=[],this.mimeType=null,this.record=function(e,t){var n=this;return c.info("record"),c.log("stream :"+e),c.log("stream :",e),new Promise((function(i,r){var a=null;if(void 0===MediaRecorder)return c.debug("MediaRecorder is not supported on this browser, leaving recordStream process"),void r(s.g.createError(l.g.ERROR_STREAM_RECORD,"MediaRecorder is not supported on this browser, leaving recordStream process",c));if(null===e)return c.debug("Stream has no data, cannot record"),void r(s.g.createError(l.g.ERROR_STREAM_RECORD,"Stream has no data, cannot record",c));if(null!==n.mediaRecorder&&(c.log("this.mediaRecorder.state :"+n.mediaRecorder.state),"recording"===n.mediaRecorder.state||"paused"===n.mediaRecorder.state))return c.log("mediaRecorder is already ongoing, use stopRecordStream before trying another record"),void r(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is already ongoing, use stopRecordStream before trying another record",c));if(c.debug("checking MediaRecorderOptions mimeType support"),null!=t?(c.debug("options is defined :",t),null!==t.mimeType&&void 0!==t.mimeType&&(c.debug("contentType is defined :",t.mimeType),MediaRecorder.isTypeSupported(t.mimeType)&&(a=t.mimeType))):t={},null===a){var o="video/webm;codecs=vp8,opus";MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o="video/webm;codecs=vp9,opus",MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o="video/webm",MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o=""))),t.mimeType=o}n.mimeType=t.mimeType,c.debug("Start record with MediaRecorderOptions :",t);try{n.recordedBlobs=[],n.mediaRecorder=new MediaRecorder(e,t)}catch(e){return c.error("Exception while creating MediaRecorder: "+e+". mimeType: "+t.mimeType),void r(s.g.createError(l.g.ERROR_STREAM_RECORD,"Exception while creating MediaRecorder: "+e+". mimeType: "+t.mimeType,c))}n.mediaRecorder.onstart=function(e){c.log("onstart :"+e),this.onerror=null,i()},n.mediaRecorder.ondataavailable=function(e){e.data&&e.data.size>0&&apiCC.recordMgr.recordedBlobs.push(e.data)},n.mediaRecorder.onerror=function(e){c.log("onerror :"+e),r(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},n.mediaRecorder.start(10),c.log("MediaRecorder started",n.mediaRecorder)}))},this.stop=function(){var e=this;return c.info("stop"),new Promise((function(t,n){return e.mediaRecorder.onstop=function(e){c.log("mediaRecorder onstop :"+e),this.onstart=null,this.onstop=null,this.onerror=null,this.onpause=null,this.onresume=null,this.ondataavailable=null;var n=new Blob(apiCC.recordMgr.recordedBlobs,{type:this.mimeType});t(n)},void 0===MediaRecorder?(c.debug("MediaRecorder is not supported on this browser, leaving recordStream process"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"MediaRecorder is not supported on this browser, leaving recordStream process",c))):null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to stop"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to stop",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is already inactive"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is already inactive",c))):void e.mediaRecorder.stop())}))},this.pause=function(){var e=this;return c.info("pause"),new Promise((function(t,n){return null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to pause"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to pause",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"paused"===e.mediaRecorder.state?(c.log("mediaRecorder is already paused"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is already paused",c))):"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is inactive"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is inactive",c))):(e.mediaRecorder.onerror=function(e){c.log("onerror :"+e),n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},e.mediaRecorder.onpause=function(e){c.log("onpause :"+e),this.onerror=null,t()},void e.mediaRecorder.pause()))}))},this.resume=function(){var e=this;return c.info("resume"),new Promise((function(t,n){return null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to resume"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to resume",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"recording"===e.mediaRecorder.state?(c.log("mediaRecorder is already recording"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is already recording",c))):"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is inactive"),void n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder is inactive",c))):(e.mediaRecorder.onerror=function(e){c.log("onerror :"+e),n(s.g.createError(l.g.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},e.mediaRecorder.onresume=function(e){c.log("onresume :"+e),this.onerror=null,t()},void e.mediaRecorder.resume()))}))}},apiCC.audioProcessor=new h,apiCC.pendingPromises=[],apiCC.pendingPromisesId=0,"electron"!==r.$6?n(2746):g.debug("Electron detected, not loading onbeforeunload"),apiCC.addEventListener=function(e,t,n){var i={},r=null;["sessionReady","incomingCall","callEstablished","remoteHangup","userMediaSuccess","userMediaError","userMediaStop","error","receiveIMMessage","updatePresence","webRTCClientCreated","updateUserStatus","channelEvent","groupChatCreation","groupChatInvitation","groupChatMemberUpdate","addUserInGroupChatAnswer","receiveGroupChatMessage","userDataAnswer","fetchUserDataAnswer","receiveConversationList","receiveConversationHistory","receiveConversationDetailReport","receiveContactOccurrencesFromConversationList","receiveMCUSessionInvitation","MCUSessionCreation","MCUAvailableStream","MCUAvailableStreamUpdate","MCUAvailableReplay","MCURemoveStream","canPlayRemoteVideo","recordedFileAvailable","receiveData","roomCreation","roomJoined","roomInvitation","roomMemberUpdate","receiveRoomMessage","contactListInRoom","snapShotPhotoUploaded","stopRecord","callAttempt","joinMCUSessionAnswer","hangup","desktopCapture","remoteStreamAdded","localStreamRemoved","remoteStreamRemoved","switchStream","sendDataChannelOpen","sendDataChannelClose","sendDataChannelError","receiveDataChannelOpen","receiveDataChannelClose","receiveDataChannelError","connectedUsersListUpdate","onFileSended","onFileSending","onFileReceiving","onFileReceived","onFileProgress","onFilePending","recordedStreamsAvailable","closingWhiteBoard","webRTCPluginInstallation","onQosStatsUpdate","onQosChange","onQosAudioChange","onCallScoreUpdate","activeSpeaker","stopSpeaking","audioAmplitude","preCallTestStatus","onQosVideoChange","onCallStatsUpdate","cpuLimited","bandwidthLimited","MCURecordedStreamsAvailable","MCURecordingStarted","MCURecordingStopped","ICECandidateTypeUpdate","disconnectionWarning","MCUAvailableComposite","callRestarting","selectedICECandidate","MCUParticipantEjected","MCURoomModeChanged","MCUStreamingStarted","MCUStreamingStopped","mediaDeviceChanged","externalJsLoadingStatus","slowLink","localStreamUpdated","remoteStreamUpdated","simulcastFeedChanged","videoQualityChanged","bandwidthResourceManagement","backgroundSubstractionStopVisibilityChange","backgroundSubstractionStopComputeTime","AIESnapshot","AIELog","cloudEventOccurred"].indexOf(e)>-1?("remoteHangup"===e&&g.warn("DEPRECATED : ApiRTC : remoteHangup event is now deprecated, please use hangup event instead"),g.log("Adding listener on type :"+e),"undefined"!=typeof apiRTC_React?eventManager.addEventListener(e,t):document.addEventListener?document.addEventListener(e,t,!1):"undefined"!=typeof $jqApz?(g.log("using $jqApz"),$jqApz(document).on(e,t)):"undefined"!=typeof jQuery?(g.log("using jQuery"),jQuery(document).on(e,t)):g.warn("Custom Events not supported on this browser : addEventListener()"),i={type:e,listener:t,setBy:n},r=apiCC.myEventTable.push(i),g.trace("number of myEventTable:"+r)):(v.createErrorEvent("ERROR: Trying to add a listener on an unknow event","UNKNOWN_EVENT_ON_ADDLISTENER"),g.log("ERROR: Trying to add a listener on an unknow event :"+e))},apiCC.removeEventListener=function(e,t){g.debug("Removing listener on type :"+e),document.removeEventListener?document.removeEventListener(e,t,!1):"undefined"!=typeof jQuery?jQuery(document).off(e,t):g.log("Custom Events not supported on this browser")},apiCC.setSessionStorage=function(e,t,n){g.debug("setSessionStorage"),n=n||36e5;var i=new Date,r=new Date;r.setTime(i.getTime()+n);try{var a=JSON.stringify({value:t,expiresAt:r});sessionStorage.setItem(e,a)}catch(e){g.error("Sotheming went wrong during json strigify to set session storage values")}},apiCC.isWebRTCCompliant=function(){g.debug("isWebRTCCompliant");var e=!1,t=!1;return["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(t){e||t in window&&(e=!0)})),!1===e?(g.debug("isWebRTCCompliant::isWebRTCSupported false"),!1):(["getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia"].forEach((function(e){t||e in navigator&&(t=!0)})),!1===t?(g.debug("isWebRTCCompliant::isWebRTCGUMSupported false or you are connected with HTTP"),!1):"MIUI Browser"===r.Xh?(g.debug("isWebRTCCompliant::MIUI Browser detected false"),!1):"UCBrowser"===r.Xh?(g.debug("isWebRTCCompliant::UCBrowser detected false"),!1):"QQ"===r.Xh||"QQBrowser"===r.Xh||"QQBrowserLite"===r.Xh?(g.debug("isWebRTCCompliant::QQ or QQBrowser or QQBrowserLite detected false"),!1):"Baidu"===r.Xh||"baidu"===r.Xh?(g.debug("isWebRTCCompliant::Baidu or baidu detected false"),!1):("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&!0!==this.webRTCPluginActivated?(g.debug("isWebRTCCompliant FALSE : IE or Safari"),!1):(g.debug("isWebRTCCompliant:: WebRTC is supported"),!0))},apiCC.isQoSStatCompliant=function(){var e=!1;return["chrome","firefox","safari"].indexOf(apiCC.browserDetails.type)<0?(g.debug("QoS Statistics is only supported on Chrome, Firefox and Safari"),e):e=!0},apiCC.isScreenSharingCompliant=function(){var e=!1;return"undefined"!=typeof apiRTC_React?e=!0:("IE"===r.Xh||"Android"===r.BF||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova||("Chrome"===r.Xh||"Firefox"===r.Xh&&r.PR>=52||navigator.getDisplayMedia||navigator.mediaDevices.getDisplayMedia?e=!0:g.debug("ScreenSharing is not supported")),e)},apiCC.getMediaDevices=function(){return g.debug("getMediaDevices"),new Promise((function(e,t){if("undefined"!=typeof apiRTC_React)g.log("enumerateDevices() is supported - React Native"),mediaDevices.enumerateDevices().then((function(t){g.log("enumerateDevices(), sources :",t),apiCC.mediaDeviceMgr.mediaSourceInfos=t,e(t)})).catch((function(e){g.log("enumerateDevices(), error :",e),t(e)}));else if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)g.log("enumerateDevices() is supported."),navigator.mediaDevices.enumerateDevices().then((function(t){g.log("enumerateDevices(), sources :",t),apiCC.mediaDeviceMgr.mediaSourceInfos=t,e(t)})).catch((function(e){g.log("enumerateDevices(), error :",e),t(e)}));else if(g.log("enumerateDevices() not supported."),"undefined"==typeof MediaStreamTrack)g.warn("This browser does not support MediaStreamTrack"),t(new Error("getMediaDevices() - MediaStreamTrack undefined"));else try{MediaStreamTrack.getSources(e)}catch(e){g.debug("catch MediaStreamTrack.getSources :"+e),t(new Error("getMediaDevices() - Error on MediaStreamTrack.getSources :"+e))}}))},apiCC.getMediaDevicesWithCB=function(e){if(g.debug("getMediaDevicesWithCB"),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)g.log("enumerateDevices() is supported."),navigator.mediaDevices.enumerateDevices().then(e).catch((function(e){g.log("navigator.mediaDevices.enumerateDevices error: ",e),e=null}));else if(g.log("enumerateDevices() not supported."),"undefined"==typeof MediaStreamTrack)e(null),g.warn("This browser does not support MediaStreamTrack");else try{MediaStreamTrack.getSources(e)}catch(t){g.debug("catch MediaStreamTrack.getSources :"+t),e(null)}},apiCC.getUserMedia=function(e){return g.info("getUserMedia"),g.debug("with constraints :",e),new Promise((function(t,n){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?(g.debug("webRTC getUserMedia with promises"),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)):"undefined"!=typeof apiRTC_React?(g.debug("webRTC getUserMedia with promises on React Native"),mediaDevices.getUserMedia(e).then(t).catch(n)):(g.debug("webRTC getUserMedia without promises"),apiCC.myWebRTC_Adapter.getUserMedia(e,t,n))}))},apiCC.getUserMediaWithCB=function(e,t,n){g.info("getUserMediaWithCB"),g.debug("with constraints :"+JSON.stringify(e)),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?(g.log("getUserMedia with promises"),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)):(g.log("getUserMedia without promises"),apiCC.myWebRTC_Adapter.getUserMedia(e,t,n))},apiCC.userMediaStreamTable=[],apiCC.getUserMediaStreamIds=function(){for(var e=[],t=apiCC.userMediaStreamTable.length;--t>=0;)e.push(apiCC.userMediaStreamTable[t].userMediaStreamId);return e},apiCC.getUserMediaStream=function(e,t){var n=null,i=apiCC.userMediaStreamTable.length;if(null==e){if(t&&"function"==typeof t.accept)for(;--i>=0;)if(!0===t.accept(apiCC.userMediaStreamTable[i])){n=apiCC.userMediaStreamTable[i];break}}else for(;--i>=0;)if(apiCC.userMediaStreamTable[i].userMediaStreamId===e){n=apiCC.userMediaStreamTable[i];break}return n},apiCC.getFirstUserMediaStream=function(){return apiCC.userMediaStreamTable.length>0?apiCC.userMediaStreamTable[0]:null},apiCC.createUserMediaStream=function(e){var t=function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}},n=new apiCC.ApiCCUserMediaStream,i="call";return g.debug("[createUserMediaStream] userMediaStreamId: "+n.userMediaStreamId),null==e&&(e={}),e.type&&(n.callType=e.type),e.stream?(n.stream=e.stream,n.streamStolen=!0,n.notifyUserMediaStop=!1,n.listenForMuteEvents()):e.gum_config&&(n.gum_config=(0,u.S6)(e.gum_config)),e.audioSourceId&&(n.inputs.audioSourceId=e.audioSourceId),e.videoSourceId&&(n.inputs.videoSourceId=e.videoSourceId),e.facingMode&&(n.inputs.facingMode=e.facingMode),e.captureSourceType&&(n.captureSourceType=e.captureSourceType),e.notifyUserMediaSuccess&&(n.notifyUserMediaSuccess=e.notifyUserMediaSuccess),e.notifyUserMediaError&&(n.notifyUserMediaError=e.notifyUserMediaError),void 0!==e.tryAudioOnlyAfterUserMediaError&&(n.tryAudioOnlyAfterUserMediaError=e.tryAudioOnlyAfterUserMediaError),e.displayMediaStreamConstraints&&(n.displayMediaStreamConstraints=e.displayMediaStreamConstraints),e.forceExtensionOnChrome&&(n.forceExtensionOnChrome=e.forceExtensionOnChrome),e.filters&&(n.filters=e.filters),e.callId&&("call"!==e.callFlavor&&"userMedia"!==e.callFlavor||(i=e.callFlavor),null===n.stream?n.addCallInfo(e.callId,i,!0):n.addCallInfo(e.callId,i,!1)),e.childStreamType&&(n.childStreamType=e.childStreamType),n.callbacks.release="function"==typeof e.release?e.release:function(){},n.callbacks.success="function"==typeof e.success?e.success:function(){},n.callbacks.failure="function"==typeof e.failure?e.failure:function(){},apiCC.userMediaStreamTable.push(n),null===n.stream?"screenSharing"===n.callType||"screenSharingWithAudio"===n.callType?n.getScreenMedia():"data"!==n.callType?n.getUserMedia():!0===e.sync?(t(n.userMediaStreamId),n.callbacks.failure(n,"wrong type")):setTimeout((function(){t(n.userMediaStreamId),n.callbacks.failure(n,"wrong type")}),0):(n.updateMediaProperties(n.stream),!0===e.sync?n.callbacks.success(n):setTimeout((function(){n.callbacks.success(n)}),0)),n},apiCC.releaseUserMediaStream=function(e,t,n){var i=!1,r=apiCC.userMediaStreamTable.length,a=null;if(null!==t&&"string"!=typeof t&&(t=null),null==e){if(n&&"function"==typeof n.accept)for(;--r>=0;)if(!0===n.accept(apiCC.userMediaStreamTable[r])){if(t){if(null===(a=apiCC.userMediaStreamTable[r].getOwnerCallInfo())||a.callId!==t){apiCC.userMediaStreamTable[r].removeCallInfo(t);break}}else if(null!==(a=apiCC.userMediaStreamTable[r].getOwnerCallInfo()))break;g.debug("[releaseUserMediaStream] match; userMediaStreamId: "+apiCC.userMediaStreamTable[r].userMediaStreamId),apiCC.userMediaStreamTable[r].release(),t&&apiCC.userMediaStreamTable[r].removeCallInfo(t),apiCC.userMediaStreamTable.splice(r,1),i=!0;break}}else for(;--r>=0;)if(apiCC.userMediaStreamTable[r].userMediaStreamId===e){if(t){if(null===(a=apiCC.userMediaStreamTable[r].getOwnerCallInfo())||a.callId!==t){apiCC.userMediaStreamTable[r].removeCallInfo(t);break}}else if(null!==(a=apiCC.userMediaStreamTable[r].getOwnerCallInfo()))break;g.debug("[releaseUserMediaStream] id; userMediaStreamId: "+apiCC.userMediaStreamTable[r].userMediaStreamId),apiCC.userMediaStreamTable[r].release(),t&&apiCC.userMediaStreamTable[r].removeCallInfo(t),apiCC.userMediaStreamTable.splice(r,1),i=!0;break}return i},apiCC.activeSpeakerDetect=!1,apiCC.activeSpeakerThreshold=.4,apiCC.enableActiveSpeakerDetecting=function(e,t){apiCC.activeSpeakerDetect=e,t&&(apiCC.activeSpeakerThreshold=t)},apiCC.apiRTCExtensionInstalled=!1,apiCC.extensionInstallationSuccessCallback=function(){g.debug("extensionInstallationSuccessCallback"),apiCC.apiRTCExtensionInstalled=!0},apiCC.extensionInstallationFailureCallback=function(e,t){g.debug("extensionInstallationFailureCallback : Error :"+e+", "+t),e=null,t=null,v.createDesktopCaptureEvent("Extension_installation_Error",apiRTC.waitingShareScreenCallId,apiRTC.waitingShareScreenDestNumber,apiRTC.waitingCaptureSourceType)},apiCC.manageNotInstalledExtension=function(e,t,n){g.debug("manageNotInstalledExtension"),g.warn("apiRTC extension not installed"),v.createDesktopCaptureEvent("Extension_not_installed",e,t),g.warn("Starting apiRTC extension installation"),apiRTC.waitingShareScreenDestNumber=t,apiRTC.waitingShareScreenCallId=e,apiRTC.waitingCaptureSourceType=n,r.PR>=71?(g.debug("Chrome >= 71, opening Chrome web Store"),apiRTC.extensionInstallationFailureCallback("Chrome71 : chrome.webstore.install() no more supported","Chrome71-screenShare"),window.open("https://chrome.google.com/webstore/detail/apizee-desktop-capture/mjjnofoemoepfididplbfimokpnpcoeg")):chrome.webstore.install("https://chrome.google.com/webstore/detail/mjjnofoemoepfididplbfimokpnpcoeg",apiRTC.extensionInstallationSuccessCallback,apiRTC.extensionInstallationFailureCallback)},apiCC.activateScreenSharing=function(e){g.debug("activateScreenSharing");var t=null;void 0!==e?g.log("extensionId is defined :"+e):(g.log("using apirtc extension's Id"),e="mjjnofoemoepfididplbfimokpnpcoeg"),"Chrome"===r.Xh?null!==document.getElementById(e)?(g.log("extensionLink is present, screenSharing is already activated"),window.postMessage("apiRTC-extension","*")):(g.log("screenSharing is not yet activated"),(t=document.createElement("link")).href="https://chrome.google.com/webstore/detail/"+e,t.rel="chrome-webstore-item",t.id=e,document.getElementsByTagName("head")[0].appendChild(t),window.addEventListener("message",(function(e){var t=null;if(g.log("message: event: "+JSON.stringify(e.data)),e.origin==window.location.origin){if("apiRTC-DeskstopCapture-loaded"!==e.data)return"extensionInstalledAndLoaded"===e.data?(apiCC.apiRTCExtensionInstalled=!0,null!==apiCC.waitingShareScreenUserMediaStream&&void 0!==apiCC.waitingShareScreenUserMediaStream&&(apiCC.userMediaStreamTable.push(apiCC.waitingShareScreenUserMediaStream[0]),delete apiCC.waitingShareScreenUserMediaStream),void(apiCC.waitingShareScreenUserMediaStreamId&&(t=apiCC.getUserMediaStream(apiCC.waitingShareScreenUserMediaStreamId),delete apiCC.waitingShareScreenUserMediaStreamId,t&&t.getScreenMedia()))):void("object"===p(e.data)&&void 0!==e.data.desktopId&&("getScreenMedia"!==e.data.remoteId||null===(t=apiCC.getUserMediaStream(e.data.callNumber))||t.registerScreenMedia(e.data.captureSourceType,e.data.desktopId)));apiCC.apiRTCExtensionInstalled=!0}})),window.postMessage("apiRTC-extension","*")):(g.log("activateScreenSharing is only available for chrome Browser"),v.createDesktopCaptureEvent("Browser_Not_Compatible",null,null))},apiCC.checkIfAudioSourceIdExistOnDevice=function(e){g.log("checkIfAudioSourceIdExistOnDevice :",e);var t,n=!1,i=null;if(null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)"audio"!==(i=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).kind&&"audioinput"!==i.kind||(i.deviceId===e?(g.log("Audio device present :",e),n=!0):g.log("not this deviceId"));return n},apiCC.setAudioSourceIdInConstraint=function(e,t){return g.log("setAudioSourceIdInConstraint:",t),null==e?g.log("audioSourceId not defined"):!1===t.audio?g.log("constraints.audio === false, no audio device present"):!1===apiCC.checkIfAudioSourceIdExistOnDevice(e)?(g.log("audioSourceId not found on device"),t.audio={}):(!0!==t.audio&&void 0!==t.audio||(t.audio={}),g.log("audioSourceId is defined :",e),"iOS"===r.ag.name?"Mobile Safari"===r.Xh||(t.audio.deviceId=e):("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>=50?t.audio.deviceId=e:"Chrome"===r.Xh&&r.PR<48||"Safari"===r.Xh&&r.PR<11?t.audio.optional=[{sourceId:e}]:t.audio.deviceId=e?{ideal:e}:void 0),g.debug("constraints =",t),t},apiCC.checkIfVideoSourceIdExistOnDevice=function(e){g.log("checkIfVideoSourceIdExistOnDevice :",e);var t,n=!1,i=null;if(g.debug("apiCC.mediaDeviceMgr.mediaSourceInfos :",apiCC.mediaDeviceMgr.mediaSourceInfos),null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)"video"!==(i=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).kind&&"videoinput"!==i.kind||(i.deviceId===e?(g.log("Video device present :",e),n=!0):g.log("not this deviceId"));return n},apiCC.getMediaDeviceLabelFromDeviceid=function(e){g.log("getMediaDeviceLabelFromDeviceid :",e);var t,n="Not_Found",i=null;if(g.debug("apiCC.mediaDeviceMgr.mediaSourceInfos :",apiCC.mediaDeviceMgr.mediaSourceInfos),null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)(i=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).deviceId===e?(g.log("Video device present :",e),n=i.label):g.log("not this deviceId");return n},apiCC.setVideoSourceIdInConstraint=function(e,t){if(g.log("setVideoSourceIdInConstraint : ",t),null==e)g.log("videoSourceId not defined");else if(!1===t.video)g.log("constraints.video === false, no video device present");else if(!1===apiCC.checkIfVideoSourceIdExistOnDevice(e))g.log("videoSourceId not found on device"),t.video={};else if(g.log("videoSourceId is defined :",e),!0!==t.video&&void 0!==t.video||(t.video={}),"iOS"===r.ag.name)if("Mobile Safari"===r.Xh){if(e){var n=!1,i=r.ag.version.split(".");i.length>0&&parseInt(i[0])<13&&(n=!0),t.video.deviceId=n?{exact:e}:{ideal:e}}}else t.video.deviceId=e;else("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>=50?("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>=77?(g.debug("FX > 77 using exact to set deviceId"),t.video.deviceId={exact:e}):t.video.deviceId=e:"Chrome"===r.Xh&&r.PR<48||"Safari"===r.Xh&&r.PR<11?t.video.optional=[{sourceId:e}]:t.video.deviceId=e?{ideal:e}:void 0;return g.log("constraints =",t),t},apiCC.setVideoFacingModeInConstraint=function(e,t){g.log("setVideoFacingModeInConstraint");var n={};return!1===t.video?(g.log("facingMode value is not setted, constraints.video is false"),t):null==e?(g.log("facingMode value is not setted"),t):"user"!==e&&"environment"!==e&&"left"!==e&&"right"!==e?(g.log("facingMode value is not correct"),t):(null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices.getSupportedConstraints&&void 0!==navigator.mediaDevices.getSupportedConstraints&&(n=navigator.mediaDevices.getSupportedConstraints()),n.hasOwnProperty("facingMode")?(g.log("Setting FacingMode in constraint"),!0===t.video&&(t.video={}),t.video.facingMode={ideal:e}):g.log("FacingMode not supported by device"),g.debug("constraints =",t),t)},apiCC.setResolutionInConstraint=function(e,t,n){return g.log("setResolutionInConstraint"),e<=0||t<=0?(g.log("Resolution value must be positif non null"),n):(!0===n.video||void 0!==n.video?"iOS"===r.ag.name?"Mobile Safari"===r.Xh?(n.video.width=e?{exact:e}:void 0,n.video.height=t?{exact:t}:void 0):(n.video.width=e,n.video.height=t):("Firefox"===r.Xh||"Mobile Firefox"===r.Xh)&&r.PR>=50?(n.video.width=e,n.video.height=t):"Safari"===r.Xh&&r.PR>=11||"Mobile Safari"===r.Xh||"Edge"===r.Xh&&"chrome"!==apiRTC.browserDetails.type||"Chrome"===r.Xh&&r.PR>=49||"Firefox"===r.Xh&&r.PR>=50||"Mobile Chrome"===r.Xh||"Mobile Firefox"===r.Xh?(n.video.width=e?{exact:e}:void 0,n.video.height=t?{exact:t}:void 0):n.video.mandatory=[{width:e,height:t}]:g.error("setResolutionInConstraint : contraint.video must be true or defined"),g.debug("constraints =",n),n)},apiCC.checkConstraintDependingOnDevice=function(e){g.debug("checkConstraintDependingOnDevice :",e),"Mobile Safari"===r.Xh&&r.PR>=13&&void 0!==e.video&&void 0!==e.video.height&&void 0!==e.video.width&&1080===e.video.height.ideal&&1920===e.video.width.ideal&&(g.debug("Downgrading selected height and width resolution on iOS, to avoid stream issue"),e.video.height.ideal=720,e.video.width.ideal=1280)},apiCC.attachMediaStream=function(e,t){g.debug("attachMediaStream"),null!==e?(void 0!==e.srcObject?e.srcObject=t:void 0!==e.mozSrcObject?e.mozSrcObject=t:void 0!==e.src?"Chrome"===r.Xh&&r.PR<46?(g.log("Attaching media stream for Chrome < 46"),e.src=webkitURL.createObjectURL(t)):e.src=URL.createObjectURL(t):g.error("Error attaching stream to element."),"iOS"===r.ag.name&&(g.log("iOS detected"),e.setAttribute("playsinline",!0))):g.log("videoElt is null")},apiCC.addStreamInDiv=function(e,t,n,i,a,o,s){g.debug("addStreamInDiv");var l,c=null,d=null,f=!1,h=null;(0,u.Ym)(s,"object")&&null!=s.type&&(t=s.type),(0,u.Ym)(s,"object")&&void 0!==s.forceAudioAndVideoMediaElementSeparation&&(g.debug("forceAudioAndVideoMediaElementSeparation is set"),f=!0),"audio"===t?c=document.createElement("audio"):("iOS"===r.BF&&"Mobile Safari"===r.Xh&&(g.debug("iOS && Mobile Safari"),f=!0),c=document.createElement("video")),c.id=i,c.autoplay=!0,!0===f&&!1===o?(g.debug("before adding separated MediaEltAudio"),(h=document.createElement("audio")).id=i+"_sepAudio",h.muted=o,h.autoplay=!0,c.muted=!0):c.muted=o,c.style.width=a.width,c.style.height=a.height,!0===a.controls&&(c.controls=!0),l=function(e){var t=null,n=e.play();t=function(){var n=e.play();g.log("funcFixIoS"),void 0!==n&&n.then((function(){g.log("Autoplay started"),document.removeEventListener("touchstart",t)})).catch((function(e){g.error("Autoplay was prevented")}))},void 0!==n&&n.then((function(){g.log("Autoplay started")})).catch((function(e){"iOS"===r.ag.name?(g.warn("iOS : Autoplay was prevented, activating touch event to start media play"),apiCC.myWebRTC_Event.createErrorEvent("ERROR: iOS : Autoplay was prevented","IOS_AUTOPLAY_PREVENTED"),document.addEventListener("touchstart",t)):g.warn("Autoplay was prevented")}))},"Chrome"!==r.Xh&&"Mobile Chrome"!==r.Xh||"61"!==r.PR||"Android"!==r.BF||(c.style.borderRadius="1px",g.log("Patch for video display on Chrome 61 Android")),apiCC.session&&apiCC.session.apiCCWebRTCClient&&void 0!==apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId&&null!==apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId?(g.log("audioOutputId set to: "+apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId),c.setSinkId(apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId).then((function(){g.log("Success, audio output device attached")}))):g.log("No audioOutputId set"),"iOS"!==r.BF&&(d=document.getElementById(n)).appendChild(c),void 0!==e&&(apiCC.attachMediaStream(c,e),!0===f&&!1===o&&apiCC.attachMediaStream(h,e)),"iOS"===r.BF&&(d=document.getElementById(n)).appendChild(c),!0===f&&!1===o&&null!==d&&d.appendChild(h),l(c),!0===f&&!1===o&&l(h)},apiCC.removeElementFromDiv=function(e,t){g.debug("removeElementFromDiv");var n,i,r=null;n=document.getElementById(t),r=document.getElementById(e),null!==n&&(g.log("Removing video element with Id : "+t),null!==r&&r.removeChild(n)),null!==(i=document.getElementById(t+"_sepAudio"))&&(g.log("iOS : Removing audio element with Id : "+t+"_sepAudio"),null!==r&&r.removeChild(i))},apiCC.randomString=function(e,t){for(var n="string"==typeof t&&t.length>0?t:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i="";--e>=0;)i+=n.charAt(Math.floor(Math.random()*n.length));return i},apiCC.generateCallId=function(){var e;return e=void 0!==Number.MAX_SAFE_INTEGER?Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():Math.floor(1000001*Math.random()).toString(),g.debug("new callId :"+e),e},apiCC.generateInstanceId=function(){var e;return e=void 0!==Number.MAX_SAFE_INTEGER?Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():Math.floor(1000001*Math.random()).toString(),g.debug("new instanceId :"+e),e},apiCC.myApiCCWhiteBoardClient=null,apiCC.createWhiteBoard=function(e,t,n,i){return g.debug("createWhiteBoard"),apiCC.myApiCCWhiteBoardClient=new apiCC.ApiCCWhiteBoardClient(apiCC.session,e,t,n,i),apiCC.myApiCCWhiteBoardClient},apiCC.closeWhiteBoardClient=function(e){g.info("closeWhiteBoardClient"),v.createClosingWhiteBoardEvent(apiCC.myApiCCWhiteBoardClient.roomId,e),apiCC.myApiCCWhiteBoardClient.isInRoom()&&apiCC.myApiCCWhiteBoardClient.leaveRoom(),apiCC.myApiCCWhiteBoardClient.stop()},apiCC.registerIOsDevice=function(e){g.debug("call registerIOsDevice 1");var t={type:"registerIOsDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);g.debug("call registerIOsDevice "+n),apiCC.session.channel.socket.emit("registerIOsDevice",n),g.debug("call registerIOsDevice  done")},apiCC.registerAndroidDevice=function(e){g.debug("registerAndroidDevice");var t={type:"registerAndroidDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("registerAndroidDevice",n)},apiCC.unRegisterIOsDevice=function(e){g.debug("unRegisterIOsDevice");var t={type:"unRegisterIOsDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("unRegisterIOsDevice",n)},apiCC.unRegisterAndroidDevice=function(e){g.debug("unRegisterAndroidDevice");var t={type:"unRegisterAndroidDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("unRegisterAndroidDevice",n)},apiCC.storeSessionInfoInSessionStorage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g.info("storeSessionInfoInSessionStorage",e),apiCC.session){var t=5e3;(0,u.ki)(apiCC.session,"apiCCIdPersistenceTimeout","number")&&apiCC.session.apiCCIdPersistenceTimeout>=0&&(t=apiCC.session.apiCCIdPersistenceTimeout),(0,u.Ym)(e.apiCCIdPersistenceTimeout,"number")&&e.apiCCIdPersistenceTimeout>=0&&(t=e.apiCCIdPersistenceTimeout),apiCC.setSessionStorage("apiCCId",apiCC.session.apiCCId,t),apiCC.setSessionStorage("apiKey",apiCC.session.apiKey,t),null!==apiCC.session.sessionId&&apiCC.setSessionStorage("sessionId",apiCC.session.sessionId,t)}},apiCC.disconnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.info("disconnect",e),null!==apiCC&&apiCC.cleanAllEventListener(e),null!==apiCC.session&&void 0!==apiCC.session&&("undefined"==typeof apiRTC_React&&!0!==e.invalidateApiCCId&&apiCC.storeSessionInfoInSessionStorage(e),null!==apiCC.myApiCCWhiteBoardClient&&(g.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId&&apiCC.closeWhiteBoardClient("USER_DISCONNECTION")),g.log("Disconnecting from Server"),void 0!==apiCC.session.channel.socket&&null!==apiCC.session.channel.socket&&apiCC.session.channel.socket.disconnect(),apiCC.session.channel.channelHasBeenDisconnected=!1,apiCC.session.connectedUsersList.splice(0,apiCC.session.connectedUsersList.length)),apiCC&&(apiCC.session=null,apiCC.jsLoaded=!1)},apiCC.reconnect=function(){g.log("Reconnect"),g.log("apiCC.session.channel.socket:",apiCC.session.channel.socket),apiCC.session.channel.socket.socket.connect()},apiCC.cleanApiRTCContext=function(){null!==apiCC.session&&void 0!==apiCC.session&&(null!==apiCC.session.apiCCWebRTCClient&&void 0!==apiCC.session.apiCCWebRTCClient&&(0!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length&&g.warn("Call is still established and will be disconnected"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.length>0&&g.log("MCU session is still established and will be disconnected"),apiCC.session.apiCCWebRTCClient.hangUp(),null!==apiCC.session.apiCCWebRTCClient.webRTCClient.localStream&&(apiCC.session.apiCCWebRTCClient.webRTCClient.stopStream(apiCC.session.apiCCWebRTCClient.webRTCClient.localStream),v.createUserMediaStopEvent(null,"media")),apiCC.session.apiCCWebRTCClient=null),null!==apiCC.session.apiCCIMClient&&void 0!==apiCC.session.apiCCIMClient&&(apiCC.session.apiCCIMClient=null),null!==apiCC.session.apiCCDataClient&&void 0!==apiCC.session.apiCCDataClient&&(apiCC.session.apiCCDataClient=null),null!==apiCC.myApiCCWhiteBoardClient&&void 0!==apiCC.myApiCCWhiteBoardClient&&(apiCC.myApiCCWhiteBoardClient=null))},apiCC.cleanAllEventListener=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0;if(null!==apiCC&&null!==apiCC.myEventTable&&(n=apiCC.myEventTable.length),0!==n){for(g.trace("number of myEventTable:"+n),e=0;e<n;e+=1)!0===t.unregister&&"UserAgent"===apiCC.myEventTable[e].setBy?g.debug("Keeping event for UserAgent process"):apiCC.removeEventListener(apiCC.myEventTable[e].type,apiCC.myEventTable[e].listener);apiCC.myEventTable.splice(0,n),n=apiCC.myEventTable.length,g.trace("number of myEventTable after splice:"+n)}},apiCC.testUserPing=function(e){g.debug("testUserPing()");var t,n,i,r,a=apiCC.bandwidthTestServer+"/upload-test",o=new XMLHttpRequest,s=new FormData,l=Math.round(5*Math.random()),c=!1;"withCredentials"in o?o.open("POST",a,!0):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest).open("POST",a):o=null,t=new Blob([l],{type:"text/xml"}),s.append("file",t),o?(o.onload=function(){200===o.status&&(r=Date.now()-n,c||(clearTimeout(i),e(null,r)))},o.onerror=function(t){g.log("testUserUpload onerror status :",t.target.status),e({err:"An error occured during XMLHttpRequest",msg:t.target.status},null)},i=setTimeout((function(){c=!0,e("Ping timeout",-1)}),5e3),o.send(s),n=Date.now()):e({err:"XMLHttpRequest is not defined",msg:"XMLHttpRequest is not defined"},null)},apiCC.testUserDownload=function(e,t){g.debug("testUserDownload()");var n,i,r,a,o,s,l=apiCC.bandwidthTestServer+"/files/noise_"+e+"ko.jpg",c=0,u=new Image,d=0;l+="?nnn="+Date.now();var f=[[256,257529],[500,525944],[768,787234],[1e3,1055741],[1500,1541044],[2e3,1992034],[2500,2596028],[3e3,2904977],[3500,3648299],[4e3,4151187],[4500,4741712],[5e3,5264577],[5500,5776081],[6e3,6318553],[6500,6779868],[7e3,7334256],[7500,7874040],[8e3,8081460],[8500,8651795],[9e3,9081899],[9500,9503574],[1e4,10082008],[10500,10543425],[11e3,11200424],[11500,11200424],[12e3,12110671],[12500,12715962],[13e3,13222120],[13500,13605073],[14e3,13954769],[14500,14777594],[15e3,15178928],[15500,15602106],[16e3,16054618],[16500,16578623],[17e3,17048069],[17500,17456403],[18e3,17910332],[18500,18725846],[19e3,19284746],[19500,19771902],[2e4,20121527],[21e3,20975042],[22e3,22189200],[23e3,23027928],[24e3,24027870],[25e3,24878845],[26e3,26237503],[27e3,27112004],[28e3,27953446],[29e3,29313013],[3e4,30474095]];for(o=0;o<f.length;o++)e===f[o][0]&&(c=f[o][1]);apiCC.testUserPing((function(e,f){u.onload=function(){for((i=Date.now()-n)-f>10&&(i-=f),r=c/(i/1e3),a=Math.round(r/1e3),s={type:"download",kBPerSec:a},o=0;o<apiCC.bandwidthRatingThresholds.length;o++)8*s.kBPerSec>=apiCC.bandwidthRatingThresholds[o]&&d++;s.rating=d+"/"+apiCC.bandwidthRatingThresholds.length,t(null,s)},u.onerror=function(e,n){t({label:"Error when downloading",err:e,msg:n},null)},n=(new Date).getTime(),u.src=l}))},apiCC.testUserUpload=function(e,t){g.debug("testUserUpload()");var n,i,r,a,o,s,l,c=apiCC.bandwidthTestServer+"/upload-test",u=new XMLHttpRequest,d=new FormData,f="",h=0;"withCredentials"in u?u.open("POST",c,!0):"undefined"!=typeof XDomainRequest?(u=new XDomainRequest).open("POST",c):u=null;for(i=0;i<e;i++)f+=Math.round(5*Math.random());n=new Blob([f],{type:"text/xml"}),d.append("file",n),u?(u.onload=function(){if(200===u.status){for(o=Date.now()-a,s=e/(o/1e3),l=Math.round(s/1e3),r={type:"upload",kBPerSec:l},i=0;i<apiCC.bandwidthRatingThresholds.length;i++)8*r.kBPerSec>=apiCC.bandwidthRatingThresholds[i]&&h++;r.rating=h+"/"+apiCC.bandwidthRatingThresholds.length,t(null,r)}else t({err:"An error occured during XMLHttpRequest",msg:u.status},null)},u.onerror=function(e){g.log("testUserUpload onerror status :",e.target.status),t({err:"An error occured during XMLHttpRequest",msg:e.target.status},null)},u.send(d),a=Date.now()):t({err:"XMLHttpRequest is not defined",msg:"XMLHttpRequest is not defined"},null)},apiCC.testUserUploadLoop=function(e,t,n){var i={type:"upload",kBPerSec:t.kbps/8,kbps:t.kbps,rating:t.rating},r=0;t.kbps>1e3?apiCC.testUserUpload(e,(function(a,o){null!==a?n({err:"An error occured during XMLHttpRequest"},null):(i.kBPerSec=o.kBPerSec,i.kbps=8*o.kBPerSec,i.rating=o.rating,r=i.kbps-t.kbps,g.debug("upload "+e+" "+JSON.stringify(i)+"; diff "+r),r>=2e4&&e<12e6?apiCC.testUserUploadLoop(e+8e6,i,n):r>=1e4&&e<14e6?apiCC.testUserUploadLoop(e+6e6,i,n):r>=5e3&&e<16e6?apiCC.testUserUploadLoop(e+4e6,i,n):r>=1e3&&e<18e6?apiCC.testUserUploadLoop(e+2e6,i,n):r>=200&&e<19e6?apiCC.testUserUploadLoop(e+1e6,i,n):n(null,i))})):n(null,i)},apiCC.testUserDownloadLoop=function(e,t,n){var i={type:"download",kBPerSec:t.kbps/8,kbps:t.kbps,rating:t.rating},r=0;t.kbps>=3500?apiCC.testUserDownload(e,(function(a,o){null!==a?n({err:"Error when downloading"},null):(i.kBPerSec=o.kBPerSec,i.kbps=8*o.kBPerSec,i.rating=o.rating,r=i.kbps-t.kbps,g.debug("download "+e+" "+JSON.stringify(i)+"; diff "+r),r>=2e4?apiCC.testUserDownloadLoop(3e4,i,n):r>=1e4&&e<=2e4?apiCC.testUserDownloadLoop(e+1e4,i,n):r>=5e3&&e<=25e3?apiCC.testUserDownloadLoop(e+5e3,i,n):r>=1e3&&e<=27e3?apiCC.testUserDownloadLoop(e+3e3,i,n):r>=200&&e<=29e3?apiCC.testUserDownloadLoop(e+1e3,i,n):n(null,i))})):n(null,i)},apiCC.listenedAudioSources={};var b=window.AudioContext||window.webkitAudioContext||!1;apiCC.audioContext=null,apiCC.getAudioContext=function(){return"iOS"===apiRTC.osName&&"undefined"!=typeof cordova?g.debug("No audioContext for iOS cordova"):b&&null===apiCC.audioContext&&(apiCC.audioContext=new b),apiCC.audioContext},apiCC.listenToAudioSources=function(e){g.debug("listenToAudioSources()");var t,n=apiCC.getAudioContext();null!=n?(Object.keys(apiCC.listenedAudioSources).length>0&&apiCC.stopAudioSourceListening(),apiCC.getMediaDevices().then((function(i){for(g.log(i),t=0;t<i.length;t++)"audioinput"===i[t].kind&&(apiCC.listenedAudioSources[i[t].deviceId]={deviceId:i[t].deviceId,callback:e,label:i[t].label},navigator.getUserMedia({audio:{optional:[{sourceId:i[t].deviceId}]},video:!1},function(e){g.log("new stream processing function for : "+this.device.deviceId),this.device.audioListener=this;var t=this,i=n.createScriptProcessor(2048,1,1),r=n.createMediaStreamSource(e);i.connect(n.destination),i.onaudioprocess=function(){var n,i,r,a=new Uint8Array(this.analyser.frequencyBinCount),o=0;for(this.analyser.getByteFrequencyData(a),i=0;i<a.length;i++)o+=a[i];n=o/a.length,r={deviceId:t.device.deviceId,label:t.device.label,amplitude:n,active:e.active},t.device.callback(r)},i.analyser=n.createAnalyser(),i.analyser.smoothingTimeConstant=.3,i.analyser.fftSize=1024,r.connect(i.analyser),i.analyser.connect(i),this.destroy=function(){g.log("destroy()");var t,n=e.getTracks();for(t=0;t<n.length;t+=1)n[t].stop();r.disconnect(),i.analyser.disconnect(),i.disconnect()}}.bind({device:apiCC.listenedAudioSources[i[t].deviceId]}),(function(e){g.error("Error getting microphone",e)})))}),(function(e){g.debug("listenToAudioSources() - getMediaDevices error :",e)}))):g.debug("listenToAudioSources() - Unable to create audio context")},apiCC.stopAudioSourceListening=function(){var e;for(g.debug("stopAudioSourceListening()"),e=0;e<Object.keys(apiCC.listenedAudioSources).length;e++)void 0!==apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]]?void 0!==apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]].audioListener?apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]].audioListener.destroy():g.warn("error on stopAudioSourceListening, audioListener"):g.warn("error on stopAudioSourceListening, listenedAudioSources element");apiCC.listenedAudioSources={}},apiCC.webRTCPluginInstalled=!1,apiCC.iePluginInstallationPreventUnload=!1,apiCC.setlogStorageActivated=function(e,t){g.debug("setlogStorageActivated :",e),this.logStorageActivated=(!0===e||!1===e)&&e,void 0!==t&&(this.logStorageLevel=t)},apiCC.sendLogToCloud=function(e,t,n,i){g.info("sendLogToCloud");var r,a,o=[],s=null,l=[],c=null,u=null;for(o.push(JSON.stringify({title:"ApiRTC logs",description:"Logs of apiRTC client"})),o.push(JSON.stringify({ts:Date.now(),name:"system-info",args:{browserName:apiCC.browser,browserVersion:apiCC.browser_version,platform:apiCC.osName}})),r=0;r<e.length;r++)s="error"===e[r][0]?{name:"test-run",args:{error:e[r][1]}}:{name:"test-run",args:{info:e[r][1]}},o.push(JSON.stringify(s));l=o.concat(apiCC.logStorage),c=new FormData,a="["+l.join(",\n")+"]",g.debug("fileContent :",a),!0!==i&&(c.append("data",a),c.append("apiKey",apiCC.initApiKey),void 0!==t&&c.append("id",t),(u=new XMLHttpRequest).open("POST",n+"/test/api/",!0),u.onreadystatechange=function(){4===u.readyState&&200===u.status&&console.info("[apiRTC_Logs] POST'd successfully"),console.trace(u.responseText)},u.send(c))},apiCC.manageWebRTCPlugin=function(e,t){var n;g.debug("manageWebRTCPlugin"),n="https:"!==window.location.protocol?"http":"https",a([n+"://cdn.temasys.io/adapterjs/0.15.x/adapter.debug.js"],"temAdapter",{async:!0,numRetries:apiCC.extJsLoadingRetryNb||100,reqdelay:apiCC.extJsLoadingRetryDelay||200,success:function(){g.log("End of .js loading for plugin"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","loaded"),AdapterJS.WebRTCPlugin.isPluginInstalled(AdapterJS.WebRTCPlugin.pluginInfo.prefix,AdapterJS.WebRTCPlugin.pluginInfo.plugName,AdapterJS.WebRTCPlugin.pluginInfo.type,(function(){apiCC.myWebRTC_Adapter.RTCSessionDescription=RTCSessionDescription,apiCC.myWebRTC_Adapter.RTCIceCandidate=RTCIceCandidate,apiCC.myWebRTC_Adapter.RTCPeerConnection=RTCPeerConnection,apiCC.myWebRTC_Adapter.getUserMedia=navigator.getUserMedia,apiCC.attachMediaStream=attachMediaStream,AdapterJS.webRTCReady((function(t){return g.log("webRTCReady, plugin already installed"),e()}))}),(function(){return apiCC.iePluginInstallationPreventUnload=!0,t(),AdapterJS.webRTCReady((function(t){return g.log("webRTCReady after plugin install"),apiCC.iePluginInstallationPreventUnload=!1,apiCC.myWebRTC_Adapter.RTCSessionDescription=RTCSessionDescription,apiCC.myWebRTC_Adapter.RTCIceCandidate=RTCIceCandidate,apiCC.myWebRTC_Adapter.RTCPeerConnection=RTCPeerConnection,apiCC.myWebRTC_Adapter.getUserMedia=navigator.getUserMedia,apiCC.attachMediaStream=attachMediaStream,e()})),apiCC.session.apiCCWebRTCClient.myWebRTC_Event.createEvent({eventType:"webRTCPluginInstallation"}),null}))},error:function(e){g.error("temAdapter loading error"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","error")},retrycb:function(e,t){g.warn("temAdapter loading retry :"+e+" ,delay before retry :"+t),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","retry")}})},apiCC.checkMutingStateForUserMedia=function(e,t){g.debug("checkMutingStateForUserMedia"),(0,u.ki)(e,"muted","string")&&(g.log("callConfiguration muted is set :",e.muted),"VIDEO"===e.muted&&(t.muteVideoOnStreams("enabled"),t.muteAudioOnStreams("enabled")),"AUDIOONLY"===e.muted&&t.muteAudioOnStreams("enabled"),"VIDEOONLY"===e.muted&&t.muteVideoOnStreams("enabled"))},apiCC.isSIPNumber=function(e){var t,n=null,i=!1;return t=e.toString().startsWith("sip:"),e.toString().length<=20&&(n=!0),(0!==e.toString().indexOf("0")&&0!==e.toString().indexOf("+")||!0!==n)&&!0!==t||(i=!0),i},apiCC.loadSentry=function(e,t){g.debug("Remote logging activation"),a([t+"://browser.sentry-cdn.com/5.24.2/bundle.tracing.min.js"],"Sentry",{async:!0,numRetries:10,reqdelay:500,success:function(){Sentry.init({dsn:"https://c24c226714f841dbbc3d1518b6cc7fe8@o333237.ingest.sentry.io/5448622",release:apiCC.version,tracesSampleRate:1}),Sentry.configureScope((function(t){t.setTag("apiKey",e)}))},error:function(e){console.error("Remote logging - loading error")},retrycb:function(e,t){console.warn("Remote logging - loading retry :"+e+" ,delay before retry :"+t)}})},apiCC.sendSentryEvent=function(e){if(g.debug("sendSentryEvent",e),"undefined"!=typeof Sentry){var t="",n={};"muteUnmuteEvent"===e.eventType?(t="Mute event on callId:"+e.callId,n.muteType=e.muteType,n.source=e.source,n.mLine=e.mLine,n.state=e.state,n.callId=e.callId,n.username=e.username):g.error("sendSentryEvent error : type ",e.eventType," is not supported");var i=Object.keys(n);""!==t&&i.length>0&&Sentry.withScope((function(e){i.forEach((function(t){e.setTag(t,n[t])})),Sentry.captureMessage(t)}))}else g.debug("Sentry not activated")},apiCC.addPendingPromise=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;g.debug("addPendingPromise"),apiCC.pendingPromisesId++;var r=setTimeout((function(){!function(t){apiCC.cleanPendingPromiseTable(t),n("Timeout problem during ".concat(e," process on a remote stream"))}(apiCC.pendingPromisesId)}),i);return apiCC.pendingPromises.push({timeout:r,resolve:t,reject:n,pendingPromisesId:apiCC.pendingPromisesId}),r},apiCC.resolvePendingPromise=function(e,t){g.debug("resolvePendingPromise"),apiCC.pendingPromises.forEach((function(n){e===n.timeout&&(clearTimeout(e),n.resolve(t),apiCC.cleanPendingPromiseTable(n.pendingPromisesId))}))},apiCC.rejectPendingPromise=function(e,t){g.debug("rejectPendingPromise"),apiCC.pendingPromises.forEach((function(n){e===n.timeout&&(clearTimeout(e),n.reject(t),apiCC.cleanPendingPromiseTable(n.pendingPromisesId))}))},apiCC.cleanPendingPromiseTable=function(e){apiCC.pendingPromises.forEach((function(t,n){e===t.pendingPromisesId&&apiCC.pendingPromises.splice(n,1)}))}},5945:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,a=Object.create(r.prototype),o=new E(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function g(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(M([])));b&&b!==t&&n.call(b,o)&&(m=b);var y=g.prototype=h.prototype=Object.create(m);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,s,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=g,c(y,"constructor",g),c(g,"constructor",p),p.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},C(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new w(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(y),c(y,l,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function a(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,l,"next",e)}function l(e){a(o,i,r,s,l,"throw",e)}s(void 0)}))}}n.d(t,{$6:()=>y,AA:()=>S,Ak:()=>b,BF:()=>h,Cm:()=>v,E2:()=>l,MM:()=>p,Ne:()=>w,PR:()=>d,RX:()=>g,TI:()=>I,Xh:()=>c,ag:()=>f,cf:()=>C,dc:()=>u,vO:()=>m}),n(8309),n(2772),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(9554),n(4747),n(8304),n(7042),n(9064);var s,l=null,c=null,u=null,d=null,f=null,h=null,p=null,g=null,m=null,v=null,b=null,y=null,C=null,w=null,S=null,I=null;s=(l=new UAParser).getBrowser(),f=l.getOS(),C=l.getBrowser(),"undefined"!=typeof apiRTC_React?(u=DeviceInfo.getSystemVersion(),h=DeviceInfo.getSystemName(),c=DeviceInfo.getUserAgent(),m=DeviceInfo.getModel()):(u=s.version||"Unknown",h=l.getOS().name||"Unknown",p=l.getOS().version||"Unknown",g=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getOS().withClientHints();case 2:return t=e.sent,e.abrupt("return",t.version);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=s.name||"Unknown",w=l.getCPU().architecture||"Unknown",m=l.getDevice().type||"Unknown",v=l.getDevice().vendor||"Unknown",b=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getDevice().withClientHints();case 2:return t=e.sent,e.abrupt("return",t.model);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=l.getEngine().name||"Unknown",I=l.getEngine().version||"Unknown"),d=void 0!==u?s.major:99,window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.toLowerCase().indexOf(" electron/")>=0&&(y="electron")},4708:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Pj:()=>o,S6:()=>u,Wc:()=>c,Ym:()=>g,_C:()=>a,cw:()=>p,dD:()=>l,fS:()=>v,ki:()=>m,wL:()=>f,ws:()=>d,yJ:()=>s}),n(4603),n(4916),n(9714),n(3123),n(9600),n(1249),n(7941),n(4723),n(1058),n(6992),n(9575),n(1539),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(9753),n(7042),n(2526),n(1817),n(2165),n(8783),n(3948);var r=n(1549).Y.get("Utils");function a(e){return new RegExp("^[0-9-.]*$","g").test(e)}function o(){return"undefined"!=typeof apiRTC_React||"https:"===window.location.protocol}function s(){return"undefined"==typeof apiRTC_React&&"http:"===window.location.protocol}function l(e){var t,n,i,r,a={};for(i=0,r=(t=e.split("&")).length;i<r;i++)a[(n=t[i].split("="))[0]]=n[1];return a}function c(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function u(e,t){r.debug("mergeJSON");var n={},i=null;if(e)for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);if(t)for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return r.log(n),n}var d=function(e,t){var n,i,r;for(null==e&&(e={}),n=1;n<arguments.length;n+=1)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e},f=function(){var e=function(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)},t={};if("undefined"!=typeof apiRTC_React)return t.type="react-native",t;if(void 0!==window&&void 0!==window.navigator)if(window.navigator.mozGetUserMedia)t.type="firefox",t.version=e(window.navigator.userAgent,/Firefox\/(\d+)\./,1);else if(window.navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.type="chrome",t.version=e(window.navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!window.navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t;t.type="safari",t.version=e(window.navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(window.navigator.mediaDevices&&window.navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.type="edge",t.version=e(window.navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.navigator.mediaDevices||!window.navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t;t.type="safari",t.version=e(window.navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t}(),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=",p={decode:function(e){var t,n=h.indexOf(e.charAt(e.length-1)),i=h.indexOf(e.charAt(e.length-2)),r=e.length/4*3,a=null,o=null,s=null,l=null,c=null,u=null,d=0,f=null;for(64===n&&r--,64===i&&r--,f=new Uint8Array(r),t=0;t<r;t+=3)a=h.indexOf(e.charAt(d++))<<2|(l=h.indexOf(e.charAt(d++)))>>4,o=(15&l)<<4|(c=h.indexOf(e.charAt(d++)))>>2,s=(3&c)<<6|(u=h.indexOf(e.charAt(d++))),f[t]=a,64!==c&&(f[t+1]=o),64!==u&&(f[t+2]=s);return f},encode:function(e){var t,n="",i=new Uint8Array(e),r=i.byteLength,a=r%3,o=r-a,s=null;for(t=0;t<o;t+=3)s=i[t]<<16|i[t+1]<<8|i[t+2],n+=h[(16515072&s)>>18]+h[(258048&s)>>12]+h[(4032&s)>>6]+h[63&s];return 1===a?(s=i[o],n+=h[(252&s)>>2]+h[(3&s)<<4]+"=="):2===a&&(s=i[o]<<8|i[o+1],n+=h[(64512&s)>>10]+h[(1008&s)>>4]+h[(15&s)<<2]+"="),n}};function g(e,t){return 3===arguments.length?m(arguments[0],arguments[1],arguments[2]):"null"===t?null===e:"array"===t?null!==e&&"object"===i(e)&&Array.isArray(e):null!==e&&i(e)===t}function m(e,t,n){if(null!==t&&"object"===i(t)&&Array.isArray(t)&&t.length>=1){var r=t[0];if(t.length>1)return g(e,"object")&&g(r,"string")&&e.hasOwnProperty(r)&&g(e[r],"object")&&m(e[r],t.slice(1),n);t=r}return"undefined"===n?g(e,"object")&&g(t,"string")&&!e.hasOwnProperty(t)&&g(e[t],n):g(e,"object")&&g(t,"string")&&e.hasOwnProperty(t)&&g(e[t],n)}function v(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]===t[n])continue;if("object"!==i(e[n]))return!1;if(!v(e[n],t[n]))return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},6075:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(1549).Y.get("WebRTC_Stack"),r=function(){this.adaptForIoSCordova=function(){if("iOS"===apiRTC.osName&&"undefined"!=typeof cordova){if(i.log("Modification for iOS cordova"),void 0===cordova.plugins)return void i.log("cordova.plugins not defined");if(void 0===cordova.plugins.iosrtc)return void i.log("cordova.plugins.iosrtc not defined");this.RTCPeerConnection=cordova.plugins.iosrtc.RTCPeerConnection,this.RTCSessionDescription=cordova.plugins.iosrtc.RTCSessionDescription,this.RTCIceCandidate=cordova.plugins.iosrtc.RTCIceCandidate}},"undefined"!=typeof RTCSessionDescription?this.RTCSessionDescription=RTCSessionDescription:i.log("RTCSessionDescription is undefined"),"undefined"!=typeof RTCIceCandidate?this.RTCIceCandidate=RTCIceCandidate:i.log("RTCIceCandidate is undefined"),"undefined"!=typeof RTCPeerConnection?this.RTCPeerConnection=RTCPeerConnection:i.log("RTCPeerConnection is undefined"),void 0!==navigator.getUserMedia?this.getUserMedia=navigator.getUserMedia:"undefined"!=typeof getUserMedia?this.getUserMedia=getUserMedia:i.log("getUserMedia is undefined")}},8765:(e,t,n)=>{"use strict";n.d(t,{K:()=>l}),n(6755),n(2772),n(3710),n(8309),n(9601),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var i=n(1549),r=n(5945),a=n(4708);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=i.Y.get("WebRTC_Event"),l=function(){if(s.debug("WebRTC_Event"),this.customEventIsDefined="notTested","notTested"===this.customEventIsDefined)try{new CustomEvent("test",{detail:"test",bubbles:!0,cancelable:!0}),this.customEventIsDefined=!0}catch(e){this.customEventIsDefined=!1,s.log("customEvent error :"+e)}("IE"===r.Xh&&r.dc>8||"Netscape"===r.Xh)&&(s.log("polyfill the CustomEvent()"),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.CustomEvent.prototype,window.CustomEvent=e}(),this.customEventIsDefined=!0),"IE"===r.Xh&&r.dc>8&&(s.log("polyfill startsWith()"),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t})),this.eventDispatchMgr=function(e,t){if("undefined"!=typeof apiRTC_React){var n={type:e,detail:t};eventManager.dispatchEvent(n)}else if(!1===this.customEventIsDefined)"undefined"!=typeof $jqApz?(s.log("CustomEvent not supported by Browser, using $jqApz "),$jqApz.event.trigger({type:e,detail:t})):"undefined"!=typeof jQuery?(s.log("CustomEvent not supported by Browser, using jQuery "),jQuery.event.trigger({type:e,detail:t})):s.warn("Custom Events not supported on this browser : eventDispatchMgr()");else{var i=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});document.dispatchEvent(i)}},this.createIncomingCallEvent=function(e,t,n,i,r,a,o,s,l,c,u){var d={eventType:"incomingCall",time:new Date,clientId:e,callerId:t,callId:i,autoAnswerActivated:r,callNumber:a,callerNickname:n,audioOnly:o,callType:s,destCallType:u,recordedCall:l,remoteType:c};this.eventDispatchMgr("incomingCall",d)},this.createCallAttemptEvent=function(e,t,n,i){var r={eventType:"callAttempt",time:new Date,clientId:e,callerId:t,callId:i,callerNickname:n};this.eventDispatchMgr("callAttempt",r)},this.createCallEstablishedEvent=function(e,t,n,i){s.debug("createCallEstablishedEvent with callType : "+t),s.debug("destCallType : "+i);var r={eventType:"callEstablished",time:new Date,calleeId:e,callType:t,callId:n,destCallType:i};this.eventDispatchMgr("callEstablished",r)},this.createHangupEvent=function(e,t,n,i,r,a,o){var s={eventType:"hangup",time:new Date,hangupType:e,clientId:t,remoteId:n,lastEstablishedCall:i,reason:r,callId:a,callType:o};this.eventDispatchMgr("hangup",s)},this.createRemoteHangupEvent=function(e,t,n,i){var r={eventType:"remoteHangup",time:new Date,clientId:e,remoteId:t,lastEstablishedCall:n,reason:i};this.eventDispatchMgr("remoteHangup",r)},this.createCallRestartingEvent=function(e,t,n,i,r,a,o,s,l){var c={eventType:"callRestarting",time:new Date,callType:e,audioOnly:t,oldCallId:n,newCallId:i,dataType:r,clientId:a,remoteId:o,destRoom:s,streamId:l};this.eventDispatchMgr("callRestarting",c)},this.createUserMediaSuccessEvent=function(e,t,n,i,r,a,o,s,l,c,u){var d={eventType:"userMediaSuccess",time:new Date,onCallEstablishment:e,audioIsAvailable:t,audioDeviceLabel:n,videoIsAvailable:i,videoDeviceLabel:r,callType:a,callId:o,stream:s,remoteId:l,restarted:c,userMediaStreamId:u};this.eventDispatchMgr("userMediaSuccess",d)},this.createUserMediaErrorEvent=function(e,t,n,i,r,a,s){var l={eventType:"userMediaError",time:new Date,onCallEstablishment:e,callType:t,userMediaStreamId:i,callId:r,tryAudioCallActivated:a,gumConfig:s};"object"===o(n)?(l.error={},l.error.message=n.message,l.error.code=n.code,l.error.name=n.name):l.error=n,this.eventDispatchMgr("userMediaError",l)},this.createUserMediaStopEvent=function(e,t,n){var i={eventType:"userMediaStop",time:new Date,callId:e,mediaType:t,userMediaStreamId:n};this.eventDispatchMgr("userMediaStop",i)},this.createICECandidateTypeUpdateEvent=function(e,t,n){var i={eventType:"ICECandidateTypeUpdate",time:new Date,callId:e,localCandidate:t,remoteCandidate:n};this.eventDispatchMgr("ICECandidateTypeUpdate",i)},this.createSelectedICECandidateEvent=function(e,t,n,i,r,a,o){var s={eventType:"selectedICECandidate",time:new Date,callId:e,localCandidateType:t,remoteCandidateType:n,localAddress:i,remoteAdress:r,transportType:a,localTransportType:o};this.eventDispatchMgr("selectedICECandidate",s)},this.createErrorEvent=function(e,t,n,i,r,o,s){var l={eventType:"error",time:new Date,errorInfo:e,errorCode:t,callId:n,roomName:i,roomCallType:r};(0,a.Ym)(o,"object")&&(l.data=o),(0,a.Ym)(s,"string")&&(l.convId=s),this.eventDispatchMgr("error",l)},this.createReceiveIMMessageEvent=function(e,t,n,i,r,a){var o={eventType:"receiveIMMessage",time:new Date,senderId:e,senderNickname:t,senderPhotoURL:n,message:i,UUCSeq:r,convId:a};this.eventDispatchMgr("receiveIMMessage",o)},this.createChannelEvent=function(e,t){var n={eventType:"channelEvent",time:new Date,channelEvent:e,event:t};this.eventDispatchMgr("channelEvent",n)},this.createSessionReadyEvent=function(e){s.debug("createSessionReadyEvent");var t={eventType:"sessionReady",time:new Date,apiCCId:e};this.eventDispatchMgr("sessionReady",t)},this.createWebRTCClientCreatedEvent=function(){var e={eventType:"webRTCClientCreated",time:new Date};this.eventDispatchMgr("webRTCClientCreated",e)},this.createUpdatePresenceEvent=function(e,t,n){var i={eventType:"updatePresence",time:new Date,connectedUsersList:e,connectedUsersListWithStatus:n,state:t};this.eventDispatchMgr("updatePresence",i)},this.createCloudEventOccurredEvent=function(e,t){var n={eventType:"cloudEventOccurred",time:new Date,topic:e,target:t};this.eventDispatchMgr("cloudEventOccurred",n)},this.createUpdateUserStatusEvent=function(e){var t={eventType:"updateUserStatus",time:new Date,message:e};this.eventDispatchMgr("updateUserStatus",t)},this.createGroupChatCreationEvent=function(e,t,n,i,r,a){var o={eventType:"groupChatCreation",time:new Date,status:e,groupChatId:t,initialDestId:n,invitationSendedToInitialDestId:i,newContactId:r,invitationSendedToNewContactId:a};this.eventDispatchMgr("groupChatCreation",o)},this.createGroupChatInvitationEvent=function(e,t,n,i,r){var a={eventType:"groupChatInvitation",time:new Date,groupChatId:e,contactList:r,senderId:t,senderNickname:n,senderPhotoURL:i};this.eventDispatchMgr("groupChatInvitation",a)},this.createGroupChatMemberUpdateEvent=function(e,t,n){var i={eventType:"groupChatMemberUpdate",time:new Date,groupChatId:e,contactList:t,status:n};this.eventDispatchMgr("groupChatMemberUpdate",i)},this.createAddUserInGroupChatEvent=function(e,t,n){var i={eventType:"addUserInGroupChatAnswer",time:new Date,invitationSended:e,groupChatId:t,contactId:n};this.eventDispatchMgr("addUserInGroupChatAnswer",i)},this.createReceiveGroupChatMessageEvent=function(e,t,n,i,r){var o={eventType:"receiveGroupChatMessage",time:new Date,groupChatId:e,senderId:t,senderNickname:n,message:i};(0,a.Ym)(r,"object")&&(o.metadata=r),this.eventDispatchMgr("receiveGroupChatMessage",o)},this.createReceiveConversationListAnswerEvent=function(e){var t={eventType:"receiveConversationList",time:new Date,convList:e};this.eventDispatchMgr("receiveConversationList",t)},this.createReceiveContactOccurrencesFromConversationListAnswerEvent=function(e){var t={eventType:"receiveContactOccurrencesFromConversationList",time:new Date,occurrencesList:e};this.eventDispatchMgr("receiveContactOccurrencesFromConversationList",t)},this.createReceiveConversationDetailReportAnswerEvent=function(e){var t={eventType:"receiveConversationDetailReport",time:new Date,CDR:e};this.eventDispatchMgr("receiveConversationDetailReport",t)},this.createReceiveConversationHistoryEvent=function(e,t,n){var i={eventType:"receiveConversationHistory",time:new Date,convId:e,convHistory:t,status:n};this.eventDispatchMgr("receiveConversationHistory",i)},this.createUserDataAnswerEvent=function(e,t,n,i){var r={eventType:"userDataAnswer",time:new Date,userFound:e,contactId:t,nickname:n,photoURL:i};this.eventDispatchMgr("userDataAnswer",r)},this.createFetchUserDataAnswerEvent=function(e){var t="fetchUserDataAnswer",n={eventType:t,timeout:e.timeout,userData:e.userData,id:e.id};this.eventDispatchMgr(t,n)},this.createReceiveDataEvent=function(e,t,n){var i={eventType:"receiveData",time:new Date,senderId:e,dstRoomId:t,data:n};this.eventDispatchMgr("receiveData",i)},this.createMCUSessionCreationEvent=function(e,t){var n={eventType:"MCUSessionCreation",time:new Date,sessionId:e,token:t};this.eventDispatchMgr("MCUSessionCreation",n)},this.createJoinMCUSessionAnswerEvent=function(e,t,n,i,r){var a={eventType:"joinMCUSessionAnswer",time:new Date,sessionId:e,token:t,groupChatId:n,initiator:i,roomId:r.roomName};r.roomMode&&(a.mode=r.roomMode),!0===r.meshOnly&&(a.meshOnly=!0),r.joinSessionAnswer&&(a.result=Object.assign({},r.joinSessionAnswer)),this.eventDispatchMgr("joinMCUSessionAnswer",a)},this.createMCUAvailableStreamEvent=function(e,t){var n={eventType:"MCUAvailableStream",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableStream",n)},this.createMCUAvailableReplayEvent=function(e,t){var n={eventType:"MCUAvailableReplay",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableReplay",n)},this.createMCUAvailableCompositeEvent=function(e,t){var n={eventType:"MCUAvailableComposite",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableComposite",n)},this.createMCURemovedStreamEvent=function(e){var t={eventType:"MCURemoveStream",time:new Date,streamId:e};this.eventDispatchMgr("MCURemoveStream",t)},this.createMCUAvailableStreamUpdateEvent=function(e,t){var n={eventType:"MCUAvailableStreamUpdate",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableStreamUpdate",n)},this.createMCUParticipantEjectedEvent=function(e,t,n){var i={eventType:"MCUParticipantEjected",time:new Date,roomId:e,clientId:t};n&&(i.data=n),this.eventDispatchMgr("MCUParticipantEjected",i)},this.createReceiveMCUSessionInvitationEvent=function(e,t,n,i){void 0===n&&(n=0);var r={eventType:"receiveMCUSessionInvitation",time:new Date,sessionId:e,token:t,groupChatId:n,initiatorId:i};this.eventDispatchMgr("receiveMCUSessionInvitation",r)},this.createRemoteStreamAddedEvent=function(e,t,n,i,r,a,o){var s={eventType:"remoteStreamAdded",time:new Date,callId:t,callType:e,stream:n,remoteId:i,destCallType:r,audioIsAvailable:a.available,audioIsActive:a.active,audioIsMuted:a.muted,videoIsAvailable:o.available,videoIsActive:o.active,videoIsMuted:o.muted};this.eventDispatchMgr("remoteStreamAdded",s)},this.createRemoteStreamRemovedEvent=function(e,t,n,i,r){var a={eventType:"remoteStreamRemoved",time:new Date,callId:t,callType:e,stream:n,remoteId:i,destCallType:r};this.eventDispatchMgr("remoteStreamRemoved",a)},this.createSimulcastFeedChanged=function(e,t){var n={eventType:"simulcastFeedChanged",time:new Date,callId:e,simulcast:t};this.eventDispatchMgr("simulcastFeedChanged",n)},this.createLocalStreamRemovedEvent=function(e,t,n,i,r){var a={eventType:"localStreamRemoved",time:new Date,callId:t,callType:e,stream:n,remoteId:i,destCallType:r};this.eventDispatchMgr("localStreamRemoved",a)},this.createSlowLinkEvent=function(e,t){var n={eventType:"slowLink",time:new Date,callId:e};t&&(n.advice=t),this.eventDispatchMgr("slowLink",n)},this.createVideoQualityChangedEvent=function(e,t,n,i){var r={eventType:"videoQualityChanged",time:new Date,roomname:t,callId:e,hint:n,profileType:i.name};i.bitrate&&(r.bitrate=i.bitrate),i.width&&i.height&&(r.width=i.width,r.height=i.height),i.frameRate&&(r.frameRate=i.frameRate),this.eventDispatchMgr("videoQualityChanged",r)},this.createAudioAmplitudeEvent=function(e,t,n,i){var r={eventType:"audioAmplitude",time:new Date,callId:n,userMediaStreamId:i,descriptor:{amplitude:e,isSpeaking:t}};this.eventDispatchMgr("audioAmplitude",r)},this.createLocalStreamUpdatedEvent=function(e,t,n,i,r,a,o,s,l){var c={eventType:"localStreamUpdated",time:new Date,changeList:e,audioIsAvailable:t.available,audioDeviceLabel:t.deviceLabel,audioIsActive:t.active,audioIsMuted:t.muted,audioIsSilent:t.silent,videoIsAvailable:n.available,videoDeviceLabel:n.deviceLabel,videoIsActive:n.active,videoIsMuted:n.muted,videoIsSilent:n.silent,onCall:i,callType:r,callId:a,stream:o,userMediaStreamId:s,cause:l};this.eventDispatchMgr("localStreamUpdated",c)},this.createRemoteStreamUpdatedEvent=function(e,t,n,i,r,a){var o={eventType:"remoteStreamUpdated",time:new Date,changeList:e,audioIsAvailable:t.available,audioIsActive:t.active,audioIsMuted:t.muted,audioIsSilent:t.silent,videoIsAvailable:n.available,videoIsActive:n.active,videoIsMuted:n.muted,videoIsSilent:n.silent,callType:i,callId:r,cause:a};this.eventDispatchMgr("remoteStreamUpdated",o)},this.createCanPlayRemoteVideoEvent=function(e,t,n){var i={eventType:"canPlayRemoteVideo",time:new Date,videoDivId:e,callType:t,remoteId:n};this.eventDispatchMgr("canPlayRemoteVideo",i)},this.createRecordedFileAvailableEvent=function(e){var t={eventType:"recordedFileAvailable",time:new Date,fileName:e};this.eventDispatchMgr("recordedFileAvailable",t)},this.createRecordedStreamsAvailableEvent=function(e,t,n,i,r,a,o){var s={eventType:"recordedStreamsAvailable",time:new Date,confId:e,userId1:t,userId2:n,callId:i,apiKey:apiCC.session.apiKey};r&&(s.convId=r),a&&(s.mediaId=a),o&&(s.mediaURL=o),this.eventDispatchMgr("recordedStreamsAvailable",s)},this.createMCURecordedStreamsAvailableEvent=function(e,t,n,i,r,o,s,l,c,u,d){var f={eventType:"MCURecordedStreamsAvailable",time:new Date,roomName:e,callId:t,clientId:n,convId:r,mediaId:o,mediaURL:s,recordType:l};c&&(f.remoteId=c),i&&(f.recordedFileName=i),u&&(f.mediaType=u),(0,a.Ym)(d,"object")?(f.descriptor={},(0,a.Ym)(d,"mode","string")&&(f.descriptor.mode=d.mode),(0,a.Ym)(d,"labelEnabled","boolean")&&(f.descriptor.labelEnabled=d.labelEnabled),!0===f.descriptor.labelEnabled&&(0,a.Ym)(d,"labels","array")&&(f.descriptor.labels=d.labels)):f.descriptor={mode:"complete",labelEnabled:!1},this.eventDispatchMgr("MCURecordedStreamsAvailable",f)},this.createMCURecordingStartedEvent=function(e,t,n,i,r,o,s,l,c,u,d,f){var h={eventType:"MCURecordingStarted",time:new Date,roomName:e,callId:t,clientId:n,recordType:i,recordStartTime:r};o&&(h.convId=o),s&&(h.mediaId=s),l&&(h.mediaURL=l),c&&(h.remoteId=c),u&&(h.recordedFileName=u),d&&(h.mediaType=d),(0,a.Ym)(f,"object")&&(h.descriptor={},(0,a.Ym)(f,"mode","string")&&(h.descriptor.mode=f.mode),(0,a.Ym)(f,"labelEnabled","boolean")&&(h.descriptor.labelEnabled=f.labelEnabled),!0===h.descriptor.labelEnabled&&(0,a.Ym)(f,"labels","array")&&(h.descriptor.labels=f.labels)),this.eventDispatchMgr("MCURecordingStarted",h)},this.createMCURecordingStoppedEvent=function(e,t,n,i,r,o,s,l,c,u,d,f){var h={eventType:"MCURecordingStopped",time:new Date,roomName:e,callId:t,clientId:n,recordType:i,recordStartTime:r};o&&(h.convId=o),s&&(h.mediaId=s),l&&(h.mediaURL=l),c&&(h.remoteId=c),u&&(h.recordedFileName=u),d&&(h.mediaType=d),(0,a.Ym)(f,"object")&&(h.descriptor={},(0,a.Ym)(f,"mode","string")&&(h.descriptor.mode=f.mode),(0,a.Ym)(f,"labelEnabled","boolean")&&(h.descriptor.labelEnabled=f.labelEnabled),!0===h.descriptor.labelEnabled&&(0,a.Ym)(f,"labels","array")&&(h.descriptor.labels=f.labels)),this.eventDispatchMgr("MCURecordingStopped",h)},this.createStopRecordEvent=function(){var e={eventType:"stopRecord",time:new Date};this.eventDispatchMgr("stopRecord",e)},this.createMCUStreamingStartedEvent=function(e,t,n,i){var r={eventType:"MCUStreamingStarted",time:new Date,roomName:e,callId:t,clientId:n,streamingStartTime:i};this.eventDispatchMgr("MCUStreamingStarted",r)},this.createMCUStreamingStoppedEvent=function(e,t,n,i){var r={eventType:"MCUStreamingStopped",time:new Date,roomName:e,callId:t,clientId:n,streamingEndTime:i};this.eventDispatchMgr("MCUStreamingStopped",r)},this.createMCURoomModeChangedEvent=function(e,t,n,i){var r={eventType:"MCURoomModeChanged",time:new Date,roomId:e,oldMode:t,newMode:n,state:i};this.eventDispatchMgr("MCURoomModeChanged",r)},this.createSnapShotPhotoUploaded=function(e){var t={eventType:"snapShotPhotoUploaded",time:new Date,fileName:e};this.eventDispatchMgr("snapShotPhotoUploaded",t)},this.createRoomCreationEvent=function(e,t,n){var i={eventType:"roomCreation",time:new Date,status:e,roomId:t,roomType:n};this.eventDispatchMgr("roomCreation",i)},this.createRoomJoinedEvent=function(e,t,n){var i={eventType:"roomJoined",time:new Date,status:e,roomId:t,roomType:n};this.eventDispatchMgr("roomJoined",i)},this.createRoomInvitationEvent=function(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s={eventType:"roomInvitation",time:new Date,roomId:e,contactList:r,senderId:t,senderNickname:n,senderPhotoURL:i,roomType:a};o.cloudConvId&&(s.cloudConvId=o.cloudConvId),!0===o.webconf&&(s.webconf=!0),this.eventDispatchMgr("roomInvitation",s)},this.createRoomMemberUpdateEvent=function(e,t,n,i){var r={eventType:"roomMemberUpdate",time:new Date,roomId:e,contactList:t,status:n,roomType:i};this.eventDispatchMgr("roomMemberUpdate",r)},this.createContactListInRoomEvent=function(e,t,n){var i={eventType:"contactListInRoom",time:new Date,roomId:e,contactList:t,roomType:n};this.eventDispatchMgr("contactListInRoom",i)},this.createReceiveRoomMessageEvent=function(e,t,n,i,r){var a={eventType:"receiveRoomMessage",time:new Date,roomId:e,senderId:t,senderNickname:n,message:i,roomType:r};this.eventDispatchMgr("receiveRoomMessage",a)},this.createDesktopCaptureEvent=function(e,t,n){var i={eventType:"desktopCapture",time:new Date,event:e,callId:t,remoteId:n};this.eventDispatchMgr("desktopCapture",i)},this.createMediaDeviceChangedEvent=function(e,t,n){var i="NotDefined";null!=t&&(i=t);var r={eventType:"mediaDeviceChanged",time:new Date,diff:e,updateReason:i,firstMediaDeviceListInitialization:n};this.eventDispatchMgr("mediaDeviceChanged",r)},this.createSwitchStreamEvent=function(e,t){var n={eventType:"switchStream",time:new Date,callId:e,stream:t};this.eventDispatchMgr("switchStream",n)},this.createConnectedUsersListUpdateEvent=function(e,t,n,i){var r={eventType:"ConnectedUsersListUpdate",time:new Date,group:e,usersList:t,status:n,updateReason:i};this.eventDispatchMgr("connectedUsersListUpdate",r)},this.createClosingWhiteBoardEvent=function(e,t){var n={eventType:"closingWhiteBoard",time:new Date,roomId:e,reason:t};this.eventDispatchMgr("closingWhiteBoard",n)},this.createExternalJsLoadingStatusEvent=function(e,t){var n={eventType:"externalJsLoadingStatus",extjs:e,status:t,time:new Date};this.eventDispatchMgr("externalJsLoadingStatus",n)},this.createBackgroundSubstractionStopVisibilityChangeEvent=function(e){var t={userMediaStreamId:e};this.eventDispatchMgr("backgroundSubstractionStopVisibilityChange",t)},this.createBackgroundSubstractionStopComputeTimeEvent=function(e){var t={userMediaStreamId:e};this.eventDispatchMgr("backgroundSubstractionStopComputeTime",t)},this.createAIESnapshotEvent=function(e,t){var n={userMediaStreamId:e,image:t};this.eventDispatchMgr("AIESnapshot",n)},this.createAIELogEvent=function(e,t){var n={userMediaStreamId:e,log:t};this.eventDispatchMgr("AIELog",n)},this.createEvent=function(e){if(!e.eventType)throw new Error("The event json must have an eventType"+e);e.time=new Date,this.eventDispatchMgr(e.eventType,e)}}},940:(e,t,n)=>{"use strict";n.d(t,{S:()=>o}),n(2772);var i=n(1549),r=n(5945),a=i.Y.get("WebRTC_Stack"),o=function(e){this.sendInvite=function(t,n,i,o,s,l){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a.debug("WebRTC_Stack::sendInvite()"),l||(l="media");var u={type:"invite",callId:t,callerId:n,callerNickname:i,calleeId:o,roomId:s,callType:l};c.mode&&(u.mode=c.mode);var d=c.offer;if(d){if("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11){var f=d.type,h=d.sdp;a.log("JSON.stringify(type):",JSON.stringify(f)),a.log("JSON.stringify(sdp):",JSON.stringify(h)),d={type:f,sdp:h}}u.sdpoffer=d}c.data&&(u.data=c.data),c.stream&&(u.stream=c.stream);var p=JSON.stringify(u);a.info("C->S:",p),e.emit("invite",p)},this.sendInviteBroadcast=function(t,n,i,r,o,s){var l,c;a.debug("WebRTC_Stack::sendInviteBroadcast()"),l={type:"invite",callId:t,callerId:n,callerNickname:i,calleeId:r,roomId:o,sdpoffer:s},c=JSON.stringify(l),a.debug("C->S: "+c),e.emit("invite_broadcast",c)},this.send200OK=function(t,n,i,o,s,l,c){a.debug("WebRTC_Stack::send200OK()");var u,d,f=null;("IE"===r.Xh||"Safari"===r.Xh&&r.PR<11)&&(a.log("JSON.stringify(offer.sdp) :"+JSON.stringify(l.sdp)),a.log("JSON.stringify(offer.type) :"+JSON.stringify(l.type)),(f={}).sdp=l.sdp,f.type=l.type,l=f),u={type:"200OK",callId:t,callerId:n,calleeId:i,calleeNickname:o,roomId:s,sdpanswer:l,data:c},d=JSON.stringify(u),a.info("C->S: "+d),e.emit("200OK",d)},this.sendCandidate=function(t,n,i,o,s,l,c,u,d,f){a.debug("WebRTC_Stack::sendCandidate()");var h=null,p={};a.debug("completeCandidate :",f),"IE"===r.Xh?(a.log("Browser is IE, adapting completeCandidate"),p.sdpMLineIndex=f.sdpMLineIndex,p.candidate=f.candidate,p.sdpMid=f.sdpMid):p=f,null!==d?(a.log("call data is defined :",d),h={type:"candidate",callId:t,callerId:n,calleeId:i,roomId:o,dst:s,label:l,id:c,candidate:u,data:d,completeCandidate:p}):(a.log("call data is undefined"),h={type:"candidate",callId:t,callerId:n,calleeId:i,roomId:o,dst:s,label:l,id:c,candidate:u,completeCandidate:p});var g=JSON.stringify(h);a.info("C->S:",g),e.emit("candidate",g)},this.sendBye=function(t,n,i,r,o,s){a.debug("WebRTC_Stack::sendBye()");var l,c=null;null!==s?(a.log("call data is defined :"+s),c={type:"bye",callId:t,clientId:n,roomId:i,dst:r,reason:o,data:s}):(a.log("call data is undefined"),c={type:"bye",callId:t,clientId:n,roomId:i,dst:r,reason:o}),l=JSON.stringify(c),a.info("C->S: "+l),e.emit("bye",l)},this.sendUpdate=function(t,n,i,r,o,s,l,c){a.debug("WebRTC_Stack::sendUpdate()");var u,d=null;d={type:"update",callId:t,callerId:n,calleeId:i,roomId:r,dst:o,sdpoffer:s,callType:l},null!=c&&(a.log("call data is defined: "+c),d.data=c),u=JSON.stringify(d),a.info("C->S: "+u),e.emit("update",u)},this.send200Update=function(t,n,i,r,o,s,l){a.debug("WebRTC_Stack::send200Update()");var c,u=null;null!==l?(a.log("call data is defined :"+l),u={type:"200update",callId:t,callerId:n,calleeId:i,roomId:r,dst:o,sdpanswer:s,data:l}):(a.log("call data is undefined"),u={type:"200update",callId:t,callerId:n,calleeId:i,roomId:r,dst:o,sdpanswer:s}),c=JSON.stringify(u),a.info("C->S: "+c),e.emit("200update",c)},this.sendDebugCommand=function(t,n,i){var r,o;a.debug("WebRTC_Stack::sendDebugCommand :"+t),r={type:"debugCommand",command:t,apiKey:n,clientId:i},o=JSON.stringify(r),a.info("C->S: "+o),e.emit("debugCommand",o)},this.sendAck=function(t,n,i){var r,o;a.debug("WebRTC_Stack::sendAck()"),r={type:"Ack",AckMessageType:t,cSeq:n,dst:i},o=JSON.stringify(r),a.info("C->S: "+o),e.emit("Ack",o)},this.sendInfo=function(t,n){var i,r,o=["activeSpeaker","callStats","stopSpeaking"];o.indexOf(t)<0&&a.debug("WebRTC_Stack::sendInfo()"),i={type:"info",infoType:t,data:n},r=JSON.stringify(i),o.indexOf(t)<0&&a.info("C->S: "+r),e.emit("info",r)},this.sendDataMessage=function(t,n){a.debug("WebRTC_Stack::sendDataMessage()");var i={type:"apiRTCDataMessage",senderId:t,data:n},r=JSON.stringify(i);a.info("C->S: "+r),e.emit("apiRTCDataMessage",r)}}},4170:(e,t,n)=>{"use strict";n.r(t),n(4916),n(4723),n(3710),n(1539),n(9714),n(561),function(e){var t,n,i=null,r=null,a=[];function o(){return Math.random().toString(36).substr(2)}t=function(){if("undefined"!=typeof apiRTC_React)return"react-native";var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),(i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"])[0]}(),n=function(){if("undefined"!=typeof apiRTC_React)return 1;var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),(i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"])[1]}(),r=new function(){("MSIE"===t&&n>8||"Netscape"===t)&&function(){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}t.prototype=e.CustomEvent.prototype,e.CustomEvent=t}(),this.eventDispatchMgr=function(e,i){if("undefined"!=typeof apiRTC_React){var r={type:e,detail:i};eventManager.dispatchEvent(r)}else if("MSIE"===t&&n<=8)"undefined"!=typeof $jqApz?$jqApz.event.trigger({type:e,detail:i}):"undefined"!=typeof jQuery&&jQuery.event.trigger({type:e,detail:i});else{var a=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(a)}},this.createGetUserFromIdAnswerEvent=function(e){var t={eventType:"getUserFromIdAnswer",time:new Date,message:e};this.eventDispatchMgr("getUserFromIdAnswer",t)},this.createGetAllUsersAnswerEvent=function(e){var t={eventType:"getAllUsersAnswer",time:new Date,message:e};this.eventDispatchMgr("getAllUsersAnswer",t)},this.createErrorEvent=function(e){var t={eventType:"error :",time:new Date,errorInfo:e};this.eventDispatchMgr("error",t)},this.createSearchUserAnswerEvent=function(e,t,n){var i={eventType:"searchUserAnswer :",time:new Date,searchStr:e,searchAnswerList:t,group:n};this.eventDispatchMgr("searchUserAnswer",i)}},(i={version:"1.0.4",description:"ApiRTC DataBase Library"}).init=function(e){this.socket=e,this.socket.on("getUserFromIdAnswer",this.callback(this,"onGetUserFromIdAnswer")).on("getAllUsersAnswer",this.callback(this,"onGetAllUsersAnswer")).on("searchUserAnswer",this.callback(this,"onSearchUserAnswer"))},i.createUser=function(e){if(null!==e&&null!==e.mail&&null!==e.id){var t=JSON.stringify(e);this.socket.emit("createUser",t)}},i.searchUserInGroup=function(e,t,n,i){var r=null,s=null,l=o();(void 0===t||"all"!==t&&"connected"!==t&&"disconnected"!==t)&&(t="all"),null!==e&&(r={searchStr:e,presenceState:t,group:n},void 0!==i&&(r.callbackId=l,a[l]=i),s=JSON.stringify(r),this.socket.emit("searchUser",s))},i.searchUser=function(e,t,n,r){var a=null;"function"==typeof n?(a=n,i.searchUserInGroup(e,t,void 0,a)):i.searchUserInGroup(e,t,n,r)},i.onSearchUserAnswer=function(e){var t=JSON.parse(e);void 0!==t.callbackId&&t.callbackId in a?(a[t.callbackId](t.searchStr,t.searchAnswerList),a.splice(t.callbackId,1)):r.createSearchUserAnswerEvent(t.searchStr,t.searchAnswerList,t.group)},i.getUserFromId=function(e,t){var n=null,i=null,r=o();null!==e&&(n={id:e},void 0!==t&&(n.callbackId=r,a[r]=t),i=JSON.stringify(n),this.socket.emit("getUserFromId",i))},i.onGetUserFromIdAnswer=function(e){null!==e&&void 0!==e.callbackId&&e.callbackId in a?(a[e.callbackId](e),a.splice(e.callbackId,1)):r.createGetUserFromIdAnswerEvent(e)},i.getAllUsers=function(){var e,t;e={},t=JSON.stringify(e),this.socket.emit("getAllUsers",t)},i.onGetAllUsersAnswer=function(e){r.createGetAllUsersAnswerEvent(e)},i.setPresenceStatus=function(e,t,n){var i,r;i={id:e,presenceStatus:t,commentStatus:n},r=JSON.stringify(i),this.socket.emit("setPresenceStatus",r)},i.setUserStatus=function(e,t){var n;t.id=e,n=JSON.stringify(t),this.socket.emit("setUserStatus",n)},i.setUserInfos=function(e){var t,n;t=e,n=JSON.stringify(t),this.socket.emit("setUserInfos",n)},i.addEventListener=function(e,t){"undefined"!=typeof apiRTC_React?eventManager.addEventListener(e,t):"getUserFromIdAnswer"!==e||"error"!==e||"getAllUsersAnswer"!==e||"searchUserAnswer"!==e?document.addEventListener(e,t,!1):r.createErrorEvent("ERROR: Trying to add a listener on an unknow event")},i.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},e.apiDB=i}(window)},2746:(e,t,n)=>{"use strict";n.r(t);var i=n(1549).Y.get("onbeforeunload");apiCC.beforeUnloadFct=function(e){i.debug("User has refreshed or left the page, eventType :",e);try{if("undefined"!=typeof mailClicked&&null!==mailClicked&&(i.log("mailClicked variable is defined"),!0===mailClicked))return i.log("mailClicked is true : leaving onbeforeunload"),void(mailClicked=!1)}catch(e){i.log("Catch error on PATCH/WORKAROUND to avoid reload of page in chrome when mailto :"+e)}try{if(void 0!==apiCC.iePluginInstallationPreventUnload&&null!==apiCC.iePluginInstallationPreventUnload&&!0===apiCC.iePluginInstallationPreventUnload)return void i.log("iePluginInstallationPreventUnload is true : leaving onbeforeunload")}catch(e){i.log("Catch error on PATCH/WORKAROUND to avoid reload of page in IE when installing webRTC plugin :"+e)}var t;null!==apiCC&&void 0!==apiCC&&(null!==apiRTC.session&&null!==apiRTC.session.remoteAccessInvitation&&(t="sent"===apiRTC.session.remoteAccessInvitation.invitationType?{code:"AGENT_LEFT"}:{code:"USER_LEFT"},i.debug("Stopping remote access on refresh"),apiRTC.session.remoteAccessInvitation.stop(!0,t)),apiCC.storeSessionInfoInSessionStorage(),apiCC.cleanApiRTCContext(),apiCC.disconnect({invalidateApiCCId:!0}),apiCC.cleanAllEventListener(),apiCC.myEventTable=[]);null!==apiCC&&void 0!==apiCC&&(apiCC.session=null,apiCC.jsLoaded=!1)},"Mobile Safari"===apiRTC.browser?window.addEventListener("pagehide",(function(){apiCC.beforeUnloadFct("unload_MobileSafari")})):window.onbeforeunload=function(){apiCC.beforeUnloadFct("unload")}},9064:(r,a,o)=>{"use strict";function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}o(2222),o(2772),o(4916),o(3123),o(5306),o(1539),o(3710),o(9714),o(1058),o(2526),o(1817),o(2165),o(6992),o(8783),o(3948),r=o.hmd(r),function(a){var l,c="",u="function",d="undefined",f="object",h="string",p="major",g="model",m="name",v="type",b="vendor",y="version",C="architecture",w="console",S="mobile",I="tablet",T="smarttv",E="wearable",M="embedded",R="user-agent",A="brands",k="formFactor",x="fullVersionList",D="platform",O="platformVersion",L="bitness",_=[A,x,S,g,D,O,C,k,L],N="browser",j="cpu",P="device",U="engine",F="os",B="result",z="Amazon",W="Apple",V="ASUS",H="BlackBerry",G="Google",Y="Huawei",J="LG",Q="Microsoft",q="Motorola",X="Samsung",K="Sharp",Z="Sony",$="Xiaomi",ee="Zebra",te="Facebook",ne="Windows",ie=s(a)!==d,re=ie&&a.navigator?a.navigator:void 0,ae=re&&re.userAgentData?re.userAgentData:void 0,oe=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},se=function(e,t){if(s(e)===f&&e.length>0){for(var n in e)if(de(e[n])==de(t))return!0;return!1}return!!ce(e)&&-1!==de(t).indexOf(de(e))},le=function(e){for(var t in e)return/^(browser|cpu|device|engine|os)$/.test(t)},ce=function(e){return s(e)===h},ue=function(e){if(e){for(var t=[],n=pe(/\\?\"/g,e).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var r=me(n[i]).split(";v=");t[i]={brand:r[0],version:r[1]}}else t[i]=n[i];return t}},de=function(e){return ce(e)?e.toLowerCase():e},fe=function(e){return ce(e)?pe(/[^\d\.]/g,e).split(".")[0]:void 0},he=function(e){for(var t in e){var n=e[t];s(n)==f&&2==n.length?this[n[0]]=n[1]:this[n]=void 0}return this},pe=function(e,t){return ce(t)?t.replace(e,c):t},ge=function(e){return pe(/\\?\"/g,e)},me=function(e,t){if(ce(e))return e=pe(/^\s\s*/,e),s(t)===d?e:e.substring(0,500)},ve=function(e,t){if(e&&t)for(var n,i,r,a,o,l,c=0;c<t.length&&!o;){var d=t[c],h=t[c+1];for(n=i=0;n<d.length&&!o&&d[n];)if(o=d[n++].exec(e))for(r=0;r<h.length;r++)l=o[++i],s(a=h[r])===f&&a.length>0?2===a.length?s(a[1])==u?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?s(a[1])!==u||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):void 0:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):void 0):this[a]=l||void 0;c+=2}},be=function(e,t){for(var n in t)if(s(t[n])===f&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(se(t[n][i],e))return"?"===n?void 0:n}else if(se(t[n],e))return"?"===n?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},ye={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ce={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:["VR","XR","Watch"],"?":["Desktop","Unknown"],"*":void 0},we={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[m,"Mobile Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,y],[/opios[\/ ]+([\w\.]+)/i],[y,[m,"Opera Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[m,"Opera GX"]],[/\bopr\/([\w\.]+)/i],[y,[m,"Opera"]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[m,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[m,"Smart Lenovo Browser"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure Browser"],y],[/\bfocus\/([\w\.]+)/i],[y,[m,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[y,[m,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[m,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[m,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[y,[m,"Mobile Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 Browser"]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 Browser"],y],[/samsungbrowser\/([\w\.]+)/i],[y,[m,"Samsung Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,y],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,te],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[m,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,"Chrome WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[m,"Android Browser"]],[/chrome\/([\w\.]+) mobile/i],[y,[m,"Mobile Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,y],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[y,[m,"Mobile Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[m,"Mobile Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[y,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[y,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[m,y],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[m,"Mobile Firefox"],y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[m,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,y],[/(cobalt)\/([\w\.]+)/i],[m,[y,/[^\d\.]+./,c]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[C,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,c,de]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,de]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,X],[v,I]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,X],[v,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,W],[v,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,W],[v,I]],[/(macintosh);/i],[g,[b,W]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,K],[v,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[b,Y],[v,I]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,Y],[v,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[b,$],[v,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[b,$],[v,I]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,"OPPO"],[v,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[v,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[v,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,q],[v,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,q],[v,I]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,J],[v,I]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,J],[v,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[b,"Lenovo"],[v,I]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[b,"Nokia"],[v,S]],[/(pixel c)\b/i],[g,[b,G],[v,I]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,G],[v,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,Z],[v,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,Z],[v,I]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,"OnePlus"],[v,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,z],[v,I]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,z],[v,S]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[v,I]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,H],[v,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,V],[v,I]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,V],[v,S]],[/(nexus 9)/i],[g,[b,"HTC"],[v,I]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[v,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[v,I]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[v,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[v,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[v,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[b,g,[v,I]],[/(surface duo)/i],[g,[b,Q],[v,I]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[v,S]],[/(shield[\w ]+) b/i],[g,[b,"Nvidia"],[v,I]],[/(sprint) (\w+)/i],[b,g,[v,S]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,Q],[v,S]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,ee],[v,I]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,ee],[v,S]],[/smart-tv.+(samsung)/i],[b,[v,T]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,X],[v,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,J],[v,T]],[/(apple) ?tv/i],[b,[g,"Apple TV"],[v,T]],[/crkey/i],[[g,"Chromecast"],[b,G],[v,T]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,z],[v,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,K],[v,T]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,Z],[v,T]],[/(mitv-\w{5}) bui/i],[g,[b,$],[v,T]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[v,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,me],[g,me],[v,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,T]],[/(ouya)/i,/(nintendo) (\w+)/i],[b,g,[v,w]],[/droid.+; (shield) bui/i],[g,[b,"Nvidia"],[v,w]],[/(playstation \w+)/i],[g,[b,Z],[v,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,Q],[v,w]],[/((pebble))app/i],[b,g,[v,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,W],[v,E]],[/droid.+; (glass) \d/i],[g,[b,G],[v,E]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,ee],[v,E]],[/(quest( 2| pro)?)/i],[g,[b,te],[v,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[v,M]],[/(aeobc)\b/i],[g,[b,z],[v,M]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[v,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[v,I]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,I]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,S]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[m,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[y,be,ye]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,be,ye],[m,ne]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"macOS"],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,y],[/\(bb(10);/i],[y,[m,H]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[m,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[m,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,"Chrome OS"],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,y],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,y]]},Se=(he.call((l={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[N,[m,y,p]],[j,[C]],[P,[v,g,b]],[U,[m,y]],[F,[m,y]]]),he.call(l.isIgnore,[[N,[y,p]],[U,[y]],[F,[y]]]),he.call(l.isIgnoreRgx,[[N,/ ?browser$/i],[F,/ ?os$/i]]),he.call(l.toString,[[N,[m,y]],[j,[C]],[P,[b,g]],[U,[m,y]],[F,[m,y]]]),l),Ie=function(e,t){var n=Se.init[t],i=Se.isIgnore[t]||0,r=Se.isIgnoreRgx[t]||0,a=Se.toString[t]||0;function o(){he.call(this,n)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return ae?ae.getHighEntropyValues(_).then((function(t){return e.setCH(new Te(t,!1)).parseCH().get()})):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=B&&(o.prototype.is=function(e){var t=!1;for(var n in this)if(this.hasOwnProperty(n)&&!se(i,n)&&de(r?pe(r,this[n]):this[n])==de(r?pe(r,e):e)){if(t=!0,e!=d)break}else if(e==d&&t){t=!t;break}return t},o.prototype.toString=function(){var e=c;for(var t in a)s(this[a[t]])!==d&&(e+=(e?" ":c)+this[a[t]]);return e||d}),ae||(o.prototype.then=function(e){var t=this,n=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};n.prototype={is:o.prototype.is,toString:o.prototype.toString};var i=new n;return e(i),i}),new o};function Te(e,t){if(e=e||{},he.call(this,_),t)he.call(this,[[A,ue(e["sec-ch-ua"])],[x,ue(e["sec-ch-ua-full-version-list"])],[S,/\?1/.test(e["sec-ch-ua-mobile"])],[g,ge(e["sec-ch-ua-model"])],[D,ge(e["sec-ch-ua-platform"])],[O,ge(e["sec-ch-ua-platform-version"])],[C,ge(e["sec-ch-ua-arch"])],[k,ue(e["sec-ch-ua-form-factor"])],[L,ge(e["sec-ch-ua-bitness"])]]);else for(var n in e)this.hasOwnProperty(n)&&s(e[n])!==d&&(this[n]=e[n])}function Ee(e,t,n,i){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(re&&re.userAgent==this.ua)switch(this.itemType){case N:re.brave&&s(re.brave.isBrave)==u&&this.set(m,"Brave");break;case P:!this.get(v)&&ae&&ae.mobile&&this.set(v,S),"Macintosh"==this.get(g)&&re&&s(re.standalone)!==d&&re.maxTouchPoints&&re.maxTouchPoints>2&&this.set(g,"iPad").set(v,I);break;case F:!this.get(m)&&ae&&ae.platform&&this.set(m,ae.platform);break;case B:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(N,t(N)).set(j,t(j)).set(P,t(P)).set(U,t(U)).set(F,t(F))}return this},this.parseUA=function(){return this.itemType!=B&&ve.call(this.data,this.ua,this.rgxMap),this.itemType==N&&this.set(p,fe(this.get(y))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case N:var n=e[x]||e.brands;if(n)for(var i in n){var r=n[i].brand||n[i],a=n[i].version;!/not.a.brand/i.test(r)&&(i<1||/chromi/i.test(this.get(m)))&&this.set(m,pe("Google ",r)).set(y,a).set(p,fe(a))}break;case j:var o=e.architecture;o&&(o&&"64"==e.bitness&&(o+="64"),ve.call(this.data,o+";",t));break;case P:if(e.mobile&&this.set(v,S),e.model&&this.set(g,e.model),e.formFactor){var s;if("string"!=typeof e.formFactor)for(var l=0;!s&&l<e.formFactor.length;)s=be(e.formFactor[l++],Ce);else s=be(e.formFactor,Ce);this.set(v,s)}break;case F:var c=e.platform;if(c){var u=e[O];c==ne&&(u=parseInt(fe(u),10)>=13?"11":"10"),this.set(m,c).set(y,u)}break;case B:var d=this.data,f=function(t){return d[t].getItem().setCH(e).parseCH().get()};this.set(N,f(N)).set(j,f(j)).set(P,f(P)).set(U,f(U)).set(F,f(F))}return this},he.call(this,[["itemType",e],["ua",t],["uaCH",i],["rgxMap",n],["data",Ie(this,e)]]),this}function Me(e,t,n){if(s(e)===f?(le(e)?(s(t)===f&&(n=t),t=e):(n=e,t=void 0),e=void 0):s(e)!==h||le(t)||(n=t,t=void 0),!(this instanceof Me))return new Me(e,t,n).getResult();var i=s(e)===h?e:re&&re.userAgent?re.userAgent:n&&n[R]?n[R]:c,r=new Te(n,!0),a=t?function(e,t){var n={};for(var i in e)n[i]=t[i]&&t[i].length%2==0?t[i].concat(e[i]):e[i];return n}(we,t):we,o=function(e){return e==B?function(){return new Ee(e,i,a,r).set("ua",i).set(N,this.getBrowser()).set(j,this.getCPU()).set(P,this.getDevice()).set(U,this.getEngine()).set(F,this.getOS()).get()}:function(){return new Ee(e,i,a[e],r).parseUA().get()}};return he.call(this,[["getBrowser",o(N)],["getCPU",o(j)],["getDevice",o(P)],["getEngine",o(U)],["getOS",o(F)],["getResult",o(B)],["getUA",function(){return i}],["setUA",function(e){return ce(e)&&(i=e.length>500?me(e,500):e),this}]]).setUA(i),this}Me.VERSION="2.0.0-beta.1",Me.BROWSER=oe([m,y,p]),Me.CPU=oe([C]),Me.DEVICE=oe([g,b,v,w,S,T,I,E,M]),Me.ENGINE=Me.OS=oe([m,y]),s(t)!==d?(s(r)!==d&&r.exports&&(t=r.exports=Me),t.UAParser=Me,a.UAParser=Me):s(n.amdD)===u&&o.amdO?void 0===(i=function(){return Me}.call(t,n,t,e))||(e.exports=i):ie&&(a.UAParser=Me);var Re=ie&&(a.jQuery||a.Zepto);if(Re&&!Re.ua){var Ae=new Me;Re.ua=Ae.getResult(),Re.ua.get=function(){return Ae.getUA()},Re.ua.set=function(e){Ae.setUA(e);var t=Ae.getResult();for(var n in t)Re.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":s(window))?window:void 0)},1256:(r,o,s)=>{"use strict";s.r(o),s.d(o,{Call:()=>ke,CloudApi:()=>Ta,Conference:()=>Fi,Contact:()=>Rn,Conversation:()=>Ci,ConversationCall:()=>Ln,DataChannel:()=>pt,Enterprise:()=>ia,EventCenter:()=>T,EventEmitter:()=>d,MediaDevice:()=>M,Observable:()=>O,PointerSharingRoom:()=>cr,ReceivedCallInvitation:()=>Ve,ReceivedConversationInvitation:()=>fe,ReceivedConversationJoinRequest:()=>Rt,ReceivedDataChannelInvitation:()=>St,ReceivedFileTransferInvitation:()=>Xe,ReceivedInvitation:()=>ae,ReceivedPointerSharingInvitation:()=>Ot,ReceivedWhiteboardInvitation:()=>tt,SentInvitation:()=>nn,Session:()=>lr,Stream:()=>Br,UserAgent:()=>pa,UserData:()=>Qt,default:()=>xa}),s(7941),s(2526),s(1817),s(1539),s(2165),s(6992),s(8783),s(3948);var l=s(3173);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}s(4603),s(4916),s(9714),s(7042),s(561),s(9070),s(8309),s(1038),s(9753);var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"getListeners",value:function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t}},{key:"flattenListeners",value:function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n}},{key:"getListenersAsObject",value:function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n}},{key:"emit",value:function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)}},{key:"addListener",value:function(e,t){if(!g(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),r="object"===u(t);for(n in i)i.hasOwnProperty(n)&&-1===h(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});if("contactListUpdate"===e){apiRTC.userAgentInstance.currentSession.contactListUpdateListenerSetted=!0;var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(apiRTC.userAgentInstance.currentSession.waitingContactListUpdateEvent);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.emit("contactListUpdate",s)}}catch(e){o.e(e)}finally{o.f()}apiRTC.userAgentInstance.currentSession.waitingContactListUpdateEvent=[]}else if("mediaDeviceChanged"===e&&!0===apiRTC.mediaDeviceMgr.mediaDeviceChangedDetected){var l=apiRTC.mediaDeviceMgr.getMediaDeviceListsDiff(apiRTC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiRTC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources);apiRTC.myWebRTC_Event.createMediaDeviceChangedEvent(l,"updatedOnDeviceChange",apiRTC.mediaDeviceMgr.realMediaDevicesListInitializationWasAlreadyDone)}return this}},{key:"addOnceListener",value:function(e,t){return this.addListener(e,{listener:t,once:!0})}},{key:"defineEvent",value:function(e){return this.getListeners(e),this}},{key:"defineEvents",value:function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this}},{key:"removeListener",value:function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1!==(n=h(r[i],t))&&r[i].splice(n,1);return this}},{key:"addListeners",value:function(e,t){return this.manipulateListeners(!1,e,t)}},{key:"removeListeners",value:function(e,t){return this.manipulateListeners(!0,e,t)}},{key:"manipulateListeners",value:function(e,t,n){var i,r,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!==u(t)||t instanceof RegExp)for(i=n.length;i--;)a.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?a.call(this,i,r):o.call(this,i,r));return this}},{key:"removeEvent",value:function(e){var t,n=u(e),i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this}},{key:"emitEvent",value:function(e,t){var n,i,r,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),r=0;r<n.length;r++)!0===(i=n[r]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this}},{key:"setOnceReturnValue",value:function(e){return this._onceReturnValue=e,this}},{key:"_getOnceReturnValue",value:function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue}},{key:"_getEvents",value:function(){return this._events||(this._events={})}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=d.prototype,h=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1},p=function(e){return function(){return this[e].apply(this,arguments)}},g=function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!==u(t))&&e(t.listener)};f.on=p("addListener"),f.once=p("addOnceListener"),f.off=p("removeListener"),f.removeAllListeners=p("removeEvent"),f.trigger=p("emitEvent"),s(1249);var m=s(5945),v=s(1549),b=s(4708),y=(v.Y.get("ApiCC"),{});y[1]="ERROR",y[2]="WARN",y[3]="INFO",y[4]="DEBUG",y[5]="TRACE";var C={description:"ApiRTC Cloud Communication Library",session:null,jsLoaded:!1,initApiKey:null,initApiCCId:null,extJsLoadingRetryNb:null,extJsLoadingRetryDelay:null,bandwidthTestServer:"https://cloud.apizee.com",bandwidthRatingThresholds:[300,500,1e3,1500,2e3],LOG_LEVEL_OFF:0,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL_TRACE:5,browser:m.Xh,browser_major_version:m.PR,browser_version:m.dc,osName:m.BF,osVersion:m.MM,osUAParser:m.ag,browserInfo:m.cf,browserDetails:b.wL,parser:m.E2,logStorageActivated:!1,logStorageLevel:3,logStorage:[],eventCenter:null,sioEmbedded:!1,apizee_version:"5.0"},w=v.Y.get("EventCenter"),S="eventCenterData",I="[REMOTE-EVENTCENTER]",T=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.consoleOutputEnabled=!1,this.storageDisabled=!1,"undefined"==typeof apiRTC_React&&(document.addEventListener("error",(function(e){t.handleErrorEvent(e)})),document.addEventListener("userMediaError",(function(e){t.handleErrorEvent(e)})))}var t,n;return t=e,n=[{key:"handleErrorEvent",value:function(e){var t=e.detail;if(!0!==this.storageDisabled)if(void 0!==t){var n={},i={},r="UNKNOWN";n.type=e.type;for(var a=0,o=Object.keys(t);a<o.length;a++){var s=o[a];"eventType"!==s&&(n[s]=t[s])}n.systemInfo={apiRTC:C.version,app:m.$6,device:m.vO,osName:m.BF,osVersion:C.osVersion,browser:m.Xh,browser_version:m.dc},null!==C.session&&void 0!==C.session?r=C.session.apiCCId:null!==C.initApiCCId&&void 0!==C.initApiCCId&&(r=C.initApiCCId),n.userInfo={apiCCId:r,apiKey:apiRTC.initApiKey};var l=localStorage.getItem(S);(l=l?JSON.parse(l):[]).unshift(n),l.length>100&&l.splice(100,l.length-100),localStorage.setItem(S,JSON.stringify(l)),this.consoleOutputEnabled&&w.error("[EVENTCENTER]",n),"undefined"!=typeof Sentry&&("USER_MEDIA_ERROR"!==e.detail.errorCode?(i.type=e.type,e.detail.error&&(i.error=e.detail.error),e.detail.errorInfo&&(i.errorInfo=e.detail.errorInfo),e.detail.errorCode&&(i.errorCode=e.detail.errorCode),e.detail.callId&&(i.callId=e.detail.callId),e.detail.convId&&(i.convId=e.detail.convId),e.detail.gumConfig&&(!1===e.detail.gumConfig.video?i.gumConfigVideo=!1:i.gumConfigVideo=!0),Sentry.withScope((function(e){e.setTag("event-center",!0),e.setTag("userId",C.session.apiCCId),Sentry.captureException(new Error(JSON.stringify(i)))}))):w.debug("Filtering error event for USER_MEDIA_ERROR for Sentry"))}else w.error("Can't handle error event: data is undefined");else w.debug("Event Center is disabled")}},{key:"handleDataAnswer",value:function(e){e?e.map((function(e){w.debug(I+": ",e)})):w.debug(I+": "+this.getUsername()+" has no event records")}},{key:"getStoredData",value:function(){var e=localStorage.getItem(S);return void 0===e?(w.warn("No data was stored by event center"),null):JSON.parse(e)}},{key:"clearStoredData",value:function(){localStorage.removeItem(S)}},{key:"enableConsoleOutput",value:function(e){this.consoleOutputEnabled=e}},{key:"disableStorage",value:function(e){this.storageDisabled=e}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();s(3710);var E=v.Y.get("MediaDevice"),M=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E.trace("Create "+n+" MediaDevice"),this.id=t,this.type=n,this.label=i,this.capabilities=r}var t,n;return t=e,(n=[{key:"getId",value:function(){return this.id.toString()}},{key:"getType",value:function(){return this.type}},{key:"getLabel",value:function(){return this.label}},{key:"isCamera",value:function(){return"videoinput"===this.type}},{key:"isMicrophone",value:function(){return"audioinput"===this.type}},{key:"isAudioOutput",value:function(){return"audiooutput"===this.type}},{key:"getCapabilities",value:function(){return this.capabilities}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R=(s(1532),s(4129),s(9653),s(4363),s(2772),s(9554),s(4747),s(8674),s(9575),s(2472),s(2990),s(8927),s(3105),s(5035),s(4345),s(7174),s(2846),s(4731),s(7209),s(6319),s(8867),s(7789),s(3739),s(9368),s(4483),s(2056),s(3462),s(678),s(7462),s(3824),s(5021),s(2974),s(5016),s(2707),s(2564),s(7327),s(9600),s(285),s(1637),s(2479),s(4812),s(2222),s(1058),s(6755),s(4986),s(8304),s(489),s(2419),s(8011),s(2443),s(3680),s(3706),s(2703),s(4819),s(5003),s(1215));function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=new WeakMap,D=new WeakMap,O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D.set(this,t),x.set(this,new d)}var t,n,i;return t=e,i=[{key:"getAvailableEvents",value:function(){return[]}}],(n=[{key:"on",value:function(e,t){return this.constructor.getAvailableEvents().indexOf(e)>-1?x.get(this).on(e,t):D.get(this).error("No such event "+e),this}},{key:"removeListener",value:function(e,t){if(this.constructor.getAvailableEvents().indexOf(e)>-1){var n,i=!1,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(x.get(this).getListeners(e));try{for(r.s();!(n=r.n()).done;)if(n.value.listener===t){i=!0;break}}catch(e){r.e(e)}finally{r.f()}i?x.get(this).off(e,t):D.get(this).trace("removeListener() - No such listener for event "+e)}else D.get(this).error("No such event "+e);return this}}])&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}s(6699),s(2023),s(3843);var P=v.Y.get("ApiRTCManager"),U=["sessionReady","incomingCall","callEstablished","userMediaSuccess","userMediaStop","userMediaError","callRestarting","error","receiveIMMessage","updatePresence","webRTCClientCreated","updateUserStatus","channelEvent","groupChatCreation","groupChatInvitation","groupChatMemberUpdate","addUserInGroupChatAnswer","receiveGroupChatMessage","userDataAnswer","fetchUserDataAnswer","receiveConversationList","receiveConversationHistory","receiveConversationDetailReport","receiveContactOccurrencesFromConversationList","receiveMCUSessionInvitation","MCUSessionCreation","MCUAvailableStream","MCUAvailableStreamUpdate","MCURemoveStream","canPlayRemoteVideo","recordedFileAvailable","receiveData","roomCreation","roomJoined","roomInvitation","roomMemberUpdate","receiveRoomMessage","contactListInRoom","snapShotPhotoUploaded","stopRecord","callAttempt","joinMCUSessionAnswer","hangup","desktopCapture","remoteStreamAdded","remoteStreamRemoved","switchStream","sendDataChannelOpen","sendDataChannelClose","sendDataChannelError","receiveDataChannelOpen","receiveDataChannelClose","receiveDataChannelError","connectedUsersListUpdate","onFileSended","onFileSending","onFileReceiving","onFileReceived","onFileProgress","onFilePending","recordedStreamsAvailable","closingWhiteBoard","webRTCPluginInstallation","onQosStatsUpdate","onQosChange","onQosAudioChange","onQosVideoChange","MCURecordedStreamsAvailable","MCURecordingStarted","MCURecordingStopped","ICECandidateTypeUpdate","disconnectionWarning","MCUAvailableComposite","MCUParticipantEjected","MCUStreamingStarted","MCUStreamingStopped","MCUAvailableReplay","MCURoomModeChanged","onCallStatsUpdate","slowLink","localStreamUpdated","remoteStreamUpdated","audioAmplitude","videoQualityChanged","cpuLimited","bandwidthLimited","simulcastFeedChanged","cloudEventOccurred","groupUnsubscribed","transferBegun","transferProgress","transferEnded"],F=null,B=!1,z=!1,W=function(e){if(null!==F&&F.isInitialized()){if("groupUnsubscribed"===e||"transferBegun"===e||"transferProgress"===e||"transferEnded"===e)return;apiRTC.addEventListener(e,(function(t){P.trace("Emiting "+e,t),F.eventEmitter.emit(e,t)}))}},V=function(e){null!==F&&F.isInitialized()&&apiRTC.removeEventListener(e,(function(t){P.trace("Emiting "+e,t),F.eventEmitter.emit(e,t)}))},H=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==F)throw"Cannot construct singleton ApiRTCManager";this.eventEmitter=new d,this.apiRTCSession=null,this.whiteBoardClient=null,this.pointerSharingClient=null,this.webRTCClient=null,this.dataClient=null,this.IMClient=null,this.contactDisconnectionDelay=l.g.CONTACT_DISCONNECTION_DELAY,F=this}var t,n,i;return t=e,n=[{key:"onEvent",value:function(e,t){return U.indexOf(e)>-1?this.eventEmitter.on(e,t):P.error("No such apiRTC event "+e),this}},{key:"onceEvent",value:function(e,t){U.indexOf(e)>-1?this.eventEmitter.once(e,t):P.error("No such apiRTC event "+e)}},{key:"sendData",value:function(e,t){var n=this;return new Promise((function(i,r){null===n.dataClient?r(l.g.ERROR_APIRTC_INITIALISATION_FAILED):n.dataClient.sendData(e,t,(function(e){var t=l.g.ERROR_OTHER;null!=e?"timeoutReached"!==e.reason&&"destNotFound"!==e.reason?i():("timerReached"===e.reason?t=l.g.ERROR_TIMED_OUT:"destNotFound"===e.reason&&(t=l.g.ERROR_NOT_FOUND),r(t)):r(t)}))}))}},{key:"sendMessage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){null===n.IMClient?a(l.g.ERROR_APIRTC_INITIALISATION_FAILED):n.IMClient.sendMessage(e,t,(function(e){var t=l.g.ERROR_OTHER;null!=e?"timeoutReached"!==e.reason&&"destNotFound"!==e.reason?r(e.UUCSeq):("timerReached"===e.reason?t=l.g.ERROR_TIMED_OUT:"destNotFound"===e.reason&&(t=l.g.ERROR_NOT_FOUND),a(t)):a(t)}),i)}))}},{key:"joinGroupChat",value:function(e){var t=this;return new Promise((function(n,i){if(null===t.IMClient)return i(R.g.createError(l.g.ERROR_WRONG_STATE,"joinGroupChat() - cannot join group chat"));t.IMClient.joinGroupChat(e),n()}))}},{key:"leaveGroupChat",value:function(e){var t=this;return new Promise((function(n,i){if(null===t.IMClient)return i(R.g.createError(l.g.ERROR_WRONG_STATE,"leaveGroupChat() - cannot leave group chat"));t.IMClient.leaveGroupChat(e),n()}))}},{key:"sendMessageToGroupChat",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){if(null===n.IMClient)a(l.g.ERROR_APIRTC_INITIALISATION_FAILED);else{var o={};R.g.isTypeof(i,"metadata","object")&&(o.metadata=i.metadata),n.IMClient.sendMessageToGroupChat(e,t,(function(e){return null!==e&&"object"===N(e)?"ack"===e.reason?r(e.UUCSeq):"timeoutReached"===e.reason?a(l.g.ERROR_TIMED_OUT):"destNotFound"===e.reason?a(l.g.ERROR_NOT_FOUND):a(l.g.ERROR_OTHER):a(l.g.ERROR_OTHER)}),o)}}))}},{key:"removeEventListener",value:function(e,t){null!=t&&(U.indexOf(e)>-1?this.eventEmitter.off(e,t):P.error("No such apiRTC event "+e))}},{key:"isInitialized",value:function(){return B}},{key:"unsubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.unsubscribePresenceGroup([e]),F.eventEmitter.emit("groupUnsubscribed",e)):P.error("apiRTC session is not initialized")}},{key:"joinAndSubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.joinPresenceGroup([e]),this.apiRTCSession.subscribePresenceGroup([e])):P.error("apiRTC session is not initialized")}},{key:"leaveAndUnsubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.leavePresenceGroup([e]),this.unsubscribeToPresenceGroup(e)):P.error("apiRTC session is not initialized")}},{key:"subscribeToCloudEvent",value:function(e,t){this.apiRTCSession?this.apiRTCSession.subscribeToCloudEvent(e,t):P.error("apiRTC session is not initialized")}},{key:"unsubscribeToCloudEvent",value:function(e,t){this.apiRTCSession?this.apiRTCSession.unsubscribeToCloudEvent(e,t):P.error("apiRTC session is not initialized")}},{key:"disconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(apiRTC.disconnect(e),B=!1,this.apiRTCSession=null,this.webRTCClient=null,this.dataClient=null,this.IMClient=null,z){var t,n=L(U);try{for(n.s();!(t=n.n()).done;){var i=t.value;V(i)}}catch(e){n.e(e)}finally{n.f()}z=!1}}},{key:"initializeApiRTC",value:function(e){return P.info("initializeApiRTC()"),new Promise((function(t,n){if(void 0===e||void 0===e.apiKey)n("Invalid apiRTC initialization params");else{var i=function(e){switch(P.debug("onChannelEventDuringInit()",e.detail),e.detail.channelEvent){case"onChannelError":n("Channel Error : "+e.detail.event);break;case"onChannelConnectError":n("Channel Connect Error : "+e.detail.event);break;case"onChannelOpened":P.debug("onChannelOpened");break;default:P.debug("Unhandle case in onChannelEventDuringInit :",e.detail.channelEvent)}};apiRTC.addEventListener("channelEvent",i),e.onReady=function(){if(B=!0,F.webRTCClient=apiRTC.session.createWebRTCClient({}),F.webRTCClient.setMCUConnector(e.hasOwnProperty("mcu")?e.mcu:l.g.DEFAULT_MCU),R.g.isPropertyTypeof(e,"turnServerAddress","string")&&F.webRTCClient.setClientTurnServer(e.turnServerAddress),F.webRTCClient.setUserAcceptOnIncomingCallBeforeGetUserMedia(!0),R.g.isPropertyTypeof(e,"userAcceptOnIncomingDataCall","boolean")?F.webRTCClient.setUserAcceptOnIncomingDataCall(e.userAcceptOnIncomingDataCall):F.webRTCClient.setUserAcceptOnIncomingDataCall(!0),R.g.isPropertyTypeof(e,"userAcceptOnIncomingScreenSharingCall","boolean")?F.webRTCClient.setUserAcceptOnIncomingScreenSharingCall(e.userAcceptOnIncomingScreenSharingCall):F.webRTCClient.setUserAcceptOnIncomingScreenSharingCall(!1),F.dataClient=apiRTC.session.createDataClient(),F.IMClient=apiRTC.session.createIMClient(),F.pointerSharingClient=apiRTC.session.createPointerSharingClient(),F.webRTCClient.setAllowMultipleCalls(!0),F.apiRTCSession=apiRTC.session,!z){var n,r=L(U);try{for(r.s();!(n=r.n()).done;){var a=n.value;W(a)}}catch(e){r.e(e)}finally{r.f()}z=!0}apiRTC.removeEventListener("channelEvent",i),t(apiRTC.session.apiCCId)},B=!1,F.apiRTCSession=null,F.webRTCClient=null,F.dataClient=null,F.IMClient=null,apiRTC.init(e)}}))}},{key:"createWhiteBoard",value:function(){P.debug("createWhiteBoard()"),F.whiteBoardClient=apiRTC.createWhiteBoard(null,"invisible",null,6e4)}},{key:"getMediaDevices",value:function(){return P.debug("ApiRTCManager::getMediaDevices()"),new Promise((function(e,t){apiRTC.getMediaDevices().then((function(t){P.debug("ApiRTCManager::getMediaDevices(), sources :",t),e(t)})).catch((function(e){var n="getMediaDevices() - error";P.error(n,e),t(new Error(n))}))}))}},{key:"getUserMedia",value:function(e){return new Promise((function(t,n){apiRTC.getUserMedia(e).then((function(e){P.debug("ApiRTCManager::getUserMedia() success"),t(e)})).catch((function(e){P.error("ApiRTCManager::getUserMedia() - Could not get user media :",e),n(new Error("ApiRTCManager::getUserMedia() - Could not get user media :"+e))}))}))}},{key:"setAudioSourceIdInConstraint",value:function(e,t){return apiRTC.setAudioSourceIdInConstraint(e,t)}},{key:"setVideoSourceIdInConstraint",value:function(e,t){return apiRTC.setVideoSourceIdInConstraint(e,t)}},{key:"attachMediaStream",value:function(e,t){apiRTC.attachMediaStream(e,t)}},{key:"addStreamInDiv",value:function(e,t,n,i,r,a,o){apiRTC.addStreamInDiv(e,t,n,i,r,a,o)}},{key:"removeElementFromDiv",value:function(e,t){P.debug("removeElementFromDiv"),apiRTC.removeElementFromDiv(e,t)}},{key:"getClientId",value:function(){return null!==this.apiRTCSession&&null!==this.apiRTCSession.apiCCWebRTCClient?this.apiRTCSession.apiCCWebRTCClient.webRTCClient.clientId:null}},{key:"getActiveApiKey",value:function(){return void 0!==apiRTC.session&&null!==apiRTC.session?apiRTC.session.apiKey:null}}],i=[{key:"get",value:function(){return null===F&&(F=new e),F}}],n&&j(t.prototype,n),i&&j(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var X=v.Y.get("Invitation"),K=new WeakMap,Z=["statusChange"],$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(a){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,X)).id=null,K.set(Q(e),l.g.INVITATION_STATUS_STANDBY),e.apiRTCManager=H.get(),e.type="not_defined",e}return t=s,i=[{key:"getAvailableEvents",value:function(){return Z}}],(n=[{key:"setStatus",value:function(e){K.set(this,e),x.get(this).emit("statusChange",{status:e,id:this.id})}},{key:"getStatus",value:function(){return K.get(this)}}])&&Y(t.prototype,n),i&&Y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}v.Y.get("ReceivedInvitation");var re=["statusChange","messageDelivered","messageNotDelivered"],ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ie(r);if(a){var n=ie(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this)).invitationType="received",n.id=t,n.sender=e,n.receiveTime=Date.now(),n}return t=s,i=[{key:"getAvailableEvents",value:function(){return re}}],(n=[{key:"accept",value:function(){return new Promise}},{key:"decline",value:function(e){}},{key:"getSender",value:function(){return this.sender}},{key:"getReceiveTime",value:function(){return this.receiveTime}},{key:"getId",value:function(){return this.id}}])&&te(t.prototype,n),i&&te(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}($);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}var ue=v.Y.get("ReceivedInvitation"),de=new WeakMap,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(i);if(r){var n=ce(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}(this,e)});function o(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i=a.call(this,e,t.invitationId),ue.info("Create ReceivedConversationInvitation"),i.conversation=n,i.type="conversation",i.invitationData=t,de.set(le(i),r),i}return t=o,n=[{key:"accept",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){return new Promise((function(i,r){var a=de.get(t);n.hasOwnProperty("password")&&(a.password=n.password),n.hasOwnProperty("session")&&(a.session=n.session),t.conversation.join(a).then((function(){null!=e&&t.conversation.publish(e),i(t.conversation)})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"accept() - cannot join webconf",ue,{fromError:e}))}))}))};return new Promise((function(e,n){return t.getStatus()!==l.g.INVITATION_STATUS_STANDBY?n(R.g.createError(l.g.ERROR_WRONG_STATE,"accept() - cannot accept invitation",ue)):(t.setStatus(l.g.INVITATION_STATUS_ACCEPTED),t.apiRTCManager.sendData(t.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,answer:"accept"}),t.invitationData&&t.invitationData.conversationTypes?t.invitationData.conversationTypes.indexOf("WEBCONF")>=0?i().then(e).catch(n):t.invitationData.conversationTypes.indexOf("GROUP_CHAT")>=0?new Promise((function(e,n){t.conversation.joinGroupChat().then((function(){e(t.conversation)})).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"accept() - cannot join groupChat",ue,{fromError:e}))}))})).then(e).catch(n):void 0:i().then(e).catch(n))}))}},{key:"decline",value:function(e){this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(this.setStatus(l.g.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}))}},{key:"getConversation",value:function(){return this.conversation}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(ae);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}s(189);var Ce=v.Y.get("Call"),we=H.get(),Se=["streamAdded","streamRemoved","response","accepted","declined","hangup","localStreamAvailable","recordAvailable","statsUpdate","error","disconnectionWarning","userMediaError","desktopCapture","remoteStreamUpdated","recordingStarted","recordingStopped","recordingAvailable","remoteStreamIdUpdated"],Ie=new Set(["audioSent","videoSent","audioReceived","videoReceived","quality"]),Te=new WeakMap,Ee=new WeakMap,Me=new WeakMap,Re=new WeakMap,Ae=new WeakMap,ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(a){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}(this,e)});function s(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=o.call(this,Ce),Ce.debug("Create Call with id "+e),Te.set(be(n),e),Ee.set(be(n),t),n.publishedStreams=new Map,n.receivedStreams=new Map,n.stats={},Me.set(be(n),i.hasOwnProperty("started")&&i.started?l.g.CALL_STATUS_ONGOING:l.g.CALL_STATUS_WAITING_FOR_CALLEE),Re.set(be(n),!!i.hasOwnProperty("isRecorded")&&i.isRecorded),i.isRecorded){n.confId=null,n.recordingStatus=null;for(var r=we.webRTCClient.webRTCClient.callsTable.length;--r>=0;){var a=we.webRTCClient.webRTCClient.callsTable[r];if(a.callId===e&&a.data){n.confId=a.data.confId;break}}Re.set(be(n),!0)}else Re.set(be(n),!1);var c={hangup:function(e){n.getId()===e.detail.callId&&n.destroy()},receiveData:function(e){if(void 0!==e.detail.data.info)e.detail.data.info===l.g.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.invitationId.toString()===n.getId()&&n.getStatus()===l.g.CALL_STATUS_WAITING_FOR_CALLEE&&(Ce.info("Call answer from "+n.getContact().getUsername()+" for "+n.getId()),"accept"===e.detail.data.answer?(Me.set(be(n),l.g.CALL_STATUS_ONGOING),x.get(be(n)).emit("accepted"),x.get(be(n)).emit("response","accepted")):(Me.set(be(n),l.g.CALL_STATUS_ENDED),x.get(be(n)).emit("declined",{reason:"User_Refused_Call"}),x.get(be(n)).emit("response","declined")));else if(n.getId()===e.detail.data.callId&&e.detail.data.event===l.g.CONTACT_STREAM_UPDATED_INFO){var t={callId:e.detail.data.callId,newStreamId:e.detail.data.newStreamId,oldStreamId:e.detail.data.oldStreamId};x.get(be(n)).emit("remoteStreamIdUpdated",t)}},remoteStreamUpdated:function(e){if(n.getId()===e.detail.callId){var t={callId:e.detail.callId,audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,audioSilent:e.detail.audioIsSilent,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted,videoSilent:e.detail.videoIsSilent};x.get(be(n)).emit("remoteStreamUpdated",t)}},MCURecordingStarted:function(e){if(Re.get(be(n))&&e.detail.roomName===n.confId){var t=R.g.parseRecordingEvent("MCURecordingStarted",e.detail);"COMPOSITE"===t.callId&&(n.recordingStatus=t,x.get(be(n)).emit("recordingStarted",t))}},MCURecordingStopped:function(e){if(Re.get(be(n))&&e.detail.roomName===n.confId){var t=R.g.parseRecordingEvent("MCURecordingStopped",e.detail);"COMPOSITE"===t.callId&&(delete n.recordingStatus,x.get(be(n)).emit("recordingStopped",t))}},MCURecordedStreamsAvailable:function(e){if(Re.get(be(n))&&e.detail.roomName===n.confId){var t=R.g.parseRecordingEvent("MCURecordedStreamsAvailable",e.detail);x.get(be(n)).emit("recordingAvailable",t)}}};for(var u in c)we.onEvent(u,c[u]);return Ae.set(be(n),c),n}return t=s,n=[{key:"destroy",value:function(){var e=Ae.get(this);if(e){for(var t in e)we.removeEventListener(t,e[t]);Ae.delete(this)}}},{key:"getId",value:function(){return Te.get(this).toString()}},{key:"isRecorded",value:function(){return Re.get(this)}},{key:"getContact",value:function(){return Ee.get(this)}},{key:"getStatus",value:function(){return Me.get(this)}},{key:"setStatus",value:function(e){Me.set(this,e)}},{key:"getPublishedStreams",value:function(){var e,t=[],n=pe(this.publishedStreams.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getReceivedStreams",value:function(){var e,t=[],n=pe(this.receivedStreams.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"hangUp",value:function(){this.getStatus()===l.g.CALL_STATUS_ENDED?Ce.error("hangUp() - Call has already ended"):we.webRTCClient.hangUp(this.getId())}},{key:"getStats",value:function(){return R.g.assignObject({},this.stats)}},{key:"stopPublishedStreams",value:function(){return we.webRTCClient.webRTCClient.stopMedia(this.getId())}},{key:"replacePublishedStreams",value:function(e,t){var n=this,i=function(e){if(_r.has(e))return _r.get(e);var t=apiCC.getUserMediaStream(e);if(t){var n="audio";return!0===t.video&&(n="video"),new Br(t.stream,{type:n,constructor:!0,userMediaStreamId:t.userMediaStreamId})}return null};return new Promise((function(r,a){if(n.getStatus()!==l.g.CALL_STATUS_ONGOING)return a(new Error("replacePublishedStreams() - Cannot replace stream as call is not ongoing"));if(null===e)if(R.g.isPropertyTypeof(t,"getStream","function")){var o={getUserMediaStreamId:function(){return t.getStream().then((function(e){return e.userMediaStreamId})).catch(a)}};we.webRTCClient.webRTCClient.addMedia(n.getId(),!0,null,o).then((function(e){var t=i(e.userMediaStreamId);return null!==t&&n.getContact().sendCustomEvent(l.g.CONTACT_STREAM_UPDATED_INFO,{callId:n.getId(),newStreamId:t.data.id,oldStreamId:e.oldMediaStreamId}),r(t)})).catch((function(e){return a(new Error("replacePublishedStreams() - "+e))}))}else we.webRTCClient.webRTCClient.addMedia(n.getId(),!0,null,null).then((function(e){var t=i(e.userMediaStreamId);return null!==t&&n.getContact().sendCustomEvent(l.g.CONTACT_STREAM_UPDATED_INFO,{callId:n.getId(),newStreamId:t.data.id,oldStreamId:e.oldMediaStreamId}),r(t)})).catch((function(e){return a(new Error("replacePublishedStreams() - "+e))}));else we.webRTCClient.webRTCClient.addMedia(n.getId(),!0,e.userMediaStreamId).then((function(t){return n.getContact().sendCustomEvent(l.g.CONTACT_STREAM_UPDATED_INFO,{callId:n.getId(),newStreamId:e.data.id,oldStreamId:t.oldMediaStreamId}),r(e)})).catch((function(e){return a(new Error("replacePublishedStreams() - "+e))}))}))}},{key:"getRecordingInfo",value:function(){return Re.get(this)?this.recordingStatus:null}},{key:"startRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(R.g.createError(l.g.ERROR_OTHER,"startRecording() - busy",Ce));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"startRecording() - timeout",Ce))}),l.g.CONVERSATION_RECORDING_STARTED_DELAY),e.asyncCallbacks.error=function(t){if(e.confId===t.detail.roomName&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("START_RECORD")>=0)return e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"startRecording() - "+t.detail.errorInfo,Ce))},e.asyncCallbacks.recordingStarted=function(n){if(e.confId===n.detail.roomName&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStarted",n.detail);return t(i)}},we.onEvent("error",e.asyncCallbacks.error),we.onEvent("MCURecordingStarted",e.asyncCallbacks.recordingStarted),we.webRTCClient.startCallRecording(Te.get(e))}))}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(R.g.createError(l.g.ERROR_OTHER,"stopRecording() - busy",Ce));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"stopRecording() - timeout",Ce))}),l.g.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(e.confId===t.detail.roomName&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"stopRecording() - "+t.detail.errorInfo,Ce))},e.asyncCallbacks.recordingStopped=function(n){if(e.confId===n.detail.roomName&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(we.removeEventListener("error",e.asyncCallbacks.error),we.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStopped",n.detail);return t(i)}},we.onEvent("error",e.asyncCallbacks.error),we.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),we.webRTCClient.stopCallRecording(Te.get(e))}))}},{key:"manageCallEstablishedEvent",value:function(e){Ce.debug("callEstablished",e.detail,this.getId());var t=e.detail.callId.toString();this.getId()===t&&(Ce.info("callEstablished from "+this.getContact().getUsername(),e),this.getStatus()!==l.g.CALL_STATUS_ONGOING&&this.getStatus()!==l.g.CALL_STATUS_ENDED&&(x.get(this).emit("accepted"),x.get(this).emit("response","accepted"),Me.set(this,l.g.CALL_STATUS_ONGOING)))}},{key:"manageRemoteStreamAddedEvent",value:function(e){Ce.debug("remoteStreamAdded",e.detail,this.getId());var t=e.detail.callId.toString();if(this.getId()===t){var n="audio"===e.detail.destCallType?"audio":"video",i="screenSharing"===e.detail.callType,r=new Br(e.detail.stream,{screensharing:i,type:n,contact:this.getContact(),streamId:e.detail.stream.id,callId:e.detail.callId,callAudioAvailable:e.detail.audioIsAvailable,callAudioActive:e.detail.audioIsActive,callAudioMuted:e.detail.audioIsMuted,callVideoAvailable:e.detail.videoIsAvailable,callVideoActive:e.detail.videoIsActive,callVideoMuted:e.detail.videoIsMuted,constructor:!0});this.receivedStreams.set(e.detail.stream.id,r),x.get(this).emit("streamAdded",r)}}},{key:"manageRemoteStreamRemovedEvent",value:function(e){Ce.debug("remoteStreamRemoved",e.detail,this.getId());var t=e.detail.callId.toString();if(this.getId()===t){var n=this.receivedStreams.get(e.detail.stream.id);this.receivedStreams.delete(e.detail.stream.id),x.get(this).emit("streamRemoved",n)}}},{key:"manageUserMediaSuccessEvent",value:function(e){Ce.debug("UserMediaSuccess",e.detail,this.getId());var t,n=null;if(t=!0===e.detail.videoIsAvailable?"video":"audio",null!==e.detail.callId&&(n=e.detail.callId.toString()),this.getId()===n){Ce.info("localStreamAvailable",e.detail);var i=_r.get(e.detail.userMediaStreamId);i||(i=new Br(e.detail.stream,{type:t,constructor:!0,userMediaStreamId:e.detail.userMediaStreamId,callId:this.getId()})),this.publishedStreams.set(R.g.guid(),i),x.get(this).emit("localStreamAvailable",i)}}},{key:"manageCallStatsUpdateEvent",value:function(e){if(this.getId()===e.detail.callId){for(var t=0,n=Object.keys(e.detail.stats);t<n.length;t++){var i=n[t];Ie.has(i)&&(this.stats[i]=e.detail.stats[i])}x.get(this).emit("statsUpdate",R.g.assignObject({},{stats:this.stats}))}}},{key:"manageErrorEvent",value:function(e){if(Ce.debug("Error",e.detail,this.getId()),this.getId()===e.detail.callId){var t={errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo};e.detail.data&&(t.descriptor=e.detail.data),x.get(this).emit("error",t)}}},{key:"manageDisconnectionWarningEvent",value:function(e){Ce.debug("DisconnectionWarning",e.detail,this.getId()),this.getId()===e.detail.callId&&x.get(this).emit("disconnectionWarning",{tries:e.detail.tries})}},{key:"manageHangupEvent",value:function(e){Ce.debug("hangup",e.detail,this.getId());var t=e.detail.callId.toString(),n=this.getStatus()===l.g.CALL_STATUS_WAITING_FOR_CALLEE&&"remote"===e.detail.hangupType;if(this.getId()===t&&this.getStatus()!==l.g.CALL_STATUS_ENDED){Me.set(this,l.g.CALL_STATUS_ENDED),Ce.info("Hangup from "+this.getContact().getUsername(),e);var i,r=pe(this.receivedStreams.keys());try{for(r.s();!(i=r.n()).done;){var a=i.value,o=this.receivedStreams.get(a);this.receivedStreams.delete(a),x.get(this).emit("streamRemoved",o)}}catch(e){r.e(e)}finally{r.f()}x.get(this).emit("hangup",{from:e.detail.hangupType,reason:e.detail.reason}),n&&(x.get(this).emit("declined",{reason:e.detail.reason}),x.get(this).emit("response","declined"))}}},{key:"manageRecordAvailableEvent",value:function(e){Ce.warn("recordedStreamsAvailable",e.detail,this.getId()),x.get(this).emit("recordAvailable",{mediaURL:e.detail.mediaURL})}},{key:"manageUserMediaErrorEvent",value:function(e){Ce.warn("userMediaError",e.detail,this.getId()),x.get(this).emit("userMediaError",{callType:e.detail.callType,error:e.detail.error,onCallEstablishment:e.detail.onCallEstablishment,userMediaStreamId:e.detail.userMediaStreamId,tryAudioCallActivated:e.detail.tryAudioCallActivated})}},{key:"manageDesktopCaptureEvent",value:function(e){Ce.warn("desktopCapture",e.detail,this.getId()),x.get(this).emit("desktopCapture",{event:e.detail.event})}}],i=[{key:"getAvailableEvents",value:function(){return Se}}],n&&me(t.prototype,n),i&&me(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O);function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function De(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Oe=v.Y.get("ConversationCatalog"),Le=null,_e=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==Le)throw"Cannot construct singleton CallCatalog";this.callList=new Map,Le=this}var t,n,i;return t=e,i=[{key:"get",value:function(){return null===Le&&(Le=new e),Le}}],(n=[{key:"getOrCreateCall",value:function(e,t,n){var i=null;return null!=e&&(this.callList.has(e.toString())?i=this.callList.get(e.toString()):(i=new ke(e.toString(),t,n),this.callList.set(e.toString(),i))),i}},{key:"getCall",value:function(e,t){var n=null;if(null!=e){if(!this.callList.has(e.toString()))return null;n=this.callList.get(e.toString())}else if(t){var i,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(this.callList.values());try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.getContact();if(o&&o.getId()===t.getId()){n=a;break}}}catch(e){r.e(e)}finally{r.f()}}return n}},{key:"removeCallFromList",value:function(e){Oe.log("removeCallFromList : av instance.callList :",Le.callList),Le.callList.has(e)&&Le.callList.delete(e),Oe.log("removeCallFromList : ap instance.callList :",Le.callList)}},{key:"getCalls",value:function(){return this.callList}}])&&De(t.prototype,n),i&&De(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}var Be=v.Y.get("ReceivedInvitation"),ze=_e.get(),We=["expired","statusChange"],Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(r);if(a){var n=Fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}(this,e)});function s(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i=o.call(this,e,t),Be.info("Create ReceivedCallInvitation with call type "+n),i.type="call",i.callType=n,i.isRecordedCall=!!r.hasOwnProperty("isRecorded")&&r.isRecorded,i.call=ze.getOrCreateCall(i.id,i.sender,{isRecorded:i.isRecorded()}),i.apiRTCManager.onEvent("hangup",(function(e){var t=e.detail.callId.toString();i.id.toString()===t&&i.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(i.setStatus(l.g.INVITATION_STATUS_EXPIRED),x.get(Ue(i)).emit("expired"))})),i}return t=s,n=[{key:"getCallType",value:function(){return this.callType}},{key:"isRecorded",value:function(){return this.isRecordedCall}},{key:"accept",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){var a="audio"===t.getCallType(),o=!0,s=n;n.hasOwnProperty("audioOnly")&&(a=n.audioOnly,delete n.audioOnly,void 0!==s.mediaTypeForIncomingCall&&null!==s.mediaTypeForIncomingCall||!0===n.audioOnly&&(s.mediaTypeForIncomingCall="AUDIO")),n.hasOwnProperty("noStream")&&(s.mediaTypeForIncomingCall="NONE",o=!1),"NONE"===s.mediaTypeForIncomingCall&&(o=!1),t.getStatus()===l.g.INVITATION_STATUS_STANDBY?(t.setStatus(l.g.INVITATION_STATUS_ACCEPTED),t.apiRTCManager.sendData(t.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,answer:"accept"}),t.call.setStatus(l.g.CALL_STATUS_ONGOING),o&&null!==e&&e instanceof Br&&(Be.debug("accept() - A stream was preselected; audio only : ",a),s.userMediaStreamId=e.userMediaStreamId),t.apiRTCManager.webRTCClient.acceptCall(t.id,s),i(t.call)):r(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this call, invitation state invalid",Be))}))}},{key:"decline",value:function(e){this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(this.setStatus(l.g.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}},{key:"getCall",value:function(){return this.call}}],i=[{key:"getAvailableEvents",value:function(){return We}}],n&&je(t.prototype,n),i&&je(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(ae);function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}var Qe=v.Y.get("ReceivedInvitation"),qe=["error","progress","statusChange"],Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Je(r);if(a){var n=Je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i=o.call(this,e,t),Qe.debug("Create ReceivedFileTransferInvitation"),i.type="sendFile",i.fileInfo=n,i.apiRTCManager.onEvent("hangup",(function(e){Qe.debug("hangup");var t=e.detail.callId.toString();i.getId()===t&&(Qe.debug("hangup for ReceivedFileTransferInvitation"),i.getStatus()===l.g.INVITATION_STATUS_ENDED?Qe.debug("invitation ended"):(Qe.debug("invitation is cancelled"),i.setStatus(l.g.INVITATION_STATUS_CANCELLED)),apiRTC.userAgentInstance.currentSession.invitationsMap.has(e.detail.remoteId+"-sendfile-"+t)&&apiRTC.userAgentInstance.currentSession.invitationsMap.delete(e.detail.remoteId+"-sendfile-"+t))})),i}return t=s,i=[{key:"getAvailableEvents",value:function(){return qe}}],(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()!==l.g.INVITATION_STATUS_STANDBY)n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this file transfer session, invitation state invalid",Qe));else{e.setStatus(l.g.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept"});var i=e;e.apiRTCManager.onEvent("onFileReceived",(function r(a){if(a.detail.callId.toString()===i.id.toString()){if(Qe.debug("typeof(e.detail.data.file) :",He(a.detail.data.file)),"string"==typeof a.detail.data.file)t({file:a.detail.data.file,name:a.detail.data.name,type:a.detail.data.type});else{var o=new FileReader;o.addEventListener("loadend",(function(){e.setStatus(l.g.INVITATION_STATUS_ENDED),e.apiRTCManager.webRTCClient.hangUp(i.id.toString());try{Qe.info("accept() - file received from "+i.sender.getUsername()+" !"),t({file:a.detail.data.file,name:a.detail.data.name,type:a.detail.data.type})}catch(e){Qe.error("File Error",e),n(R.g.createError(l.g.ERROR_OTHER,"accept() - Could not read file received",Qe))}})),o.readAsArrayBuffer(a.detail.data.file)}e.apiRTCManager.removeEventListener("onFileReceived",r)}})),e.apiRTCManager.onEvent("onFileProgress",(function(e){e.detail.callId.toString()===i.id.toString()&&(Qe.trace("file transfering",e.detail),x.get(i).emit("progress",{uuid:e.detail.uuid,fileSize:e.detail.fileSize,remainingSize:e.detail.remainingSize,percentage:e.detail.percentage,sendChunkNb:e.detail.sendChunkNb,transferDuration:e.detail.transferDuration,lastPacket:e.detail.lastPacket}))})),e.apiRTCManager.onEvent("receiveDataChannelError",(function(e){e.detail.callId.toString()===i.id.toString()&&(Qe.warn("receiveDataChannelError",e.detail),x.get(i).emit("error","receiveDataChannelError"))})),e.apiRTCManager.webRTCClient.acceptCall(e.id,{mediaTypeForIncomingCall:"DATA"})}}))}},{key:"getFileInfo",value:function(){return this.fileInfo}},{key:"decline",value:function(e){Qe.log("decline"),this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(this.setStatus(l.g.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}}])&&Ge(t.prototype,n),i&&Ge(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(ae);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}var et=v.Y.get("ReceivedInvitation"),tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$e(i);if(r){var n=$e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=a.call(this,e,t),et.info("Create ReceivedWhiteboardInvitation"),n.type="whiteboard",i.cloudConvId&&(n.cloudConvId=i.cloudConvId),!0===i.webconf&&(n.webconf=!0),n}return t=o,(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()===l.g.INVITATION_STATUS_STANDBY){e.setStatus(l.g.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:"wb-"+e.id,answer:"accept"}),e.apiRTCManager.whiteBoardClient.leaveRoom(),e.apiRTCManager.whiteBoardClient.start();var i={};e.cloudConvId&&(i.convId=e.cloudConvId),!0===e.webconf&&(i.webconf=!0),e.apiRTCManager.whiteBoardClient.joinRoom(e.id,i),t(e.id)}else n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this whiteboard session, invitation state invalid",et))}))}},{key:"decline",value:function(e){this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(this.setStatus(l.g.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:"wb-"+this.id,reason:e,answer:"decline"}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(ae);function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function it(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}var st=v.Y.get("DataChannel"),lt=H.get(),ct=["response","accepted","declined","error","opened","closed","error","transferProgress","transferComplete","dataReceived","ended"],ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ot(r);if(a){var n=ot(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}(this,e)});function s(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=o.call(this,st),st.debug("Create DataChannel with id "+e),ut.set(at(n),e),dt.set(at(n),t),ht.set(at(n),l.g.DATACHANNEL_TYPE_RECEIVE),i.hasOwnProperty("type")&&(i.type===l.g.DATACHANNEL_TYPE_RECEIVE?ht.set(at(n),l.g.DATACHANNEL_TYPE_RECEIVE):i.type===l.g.DATACHANNEL_TYPE_SEND&&ht.set(at(n),l.g.DATACHANNEL_TYPE_SEND)),ft.set(at(n),l.g.DATACHANNEL_STATUS_WAITING),lt.onEvent("receiveData",(function(e){void 0!==e.detail.data.info&&e.detail.data.info===l.g.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.invitationId.toString()===n.getId()&&n.getStatus()===l.g.DATACHANNEL_STATUS_WAITING&&(st.info("DataChannel answer from "+n.getContact().getUsername()+" for "+n.getId()),"accept"===e.detail.data.answer?x.get(at(n)).emit("accepted"):(ft.set(at(n),l.g.DATACHANNEL_STATUS_ENDED),x.get(at(n)).emit("declined")),x.get(at(n)).emit("response"))})).onEvent("callEstablished",(function(e){var t=e.detail.callId.toString();n.getId()===t&&(st.info("callEstablished from "+n.getContact().getUsername(),e),n.getStatus()!==l.g.DATACHANNEL_STATUS_ONGOING&&n.getStatus()!==l.g.DATACHANNEL_STATUS_ENDED&&x.get(at(n)).emit("accepted"))})).onEvent("hangup",(function(e){var t=e.detail.callId.toString(),i=n.getStatus()===l.g.DATACHANNEL_STATUS_WAITING&&"remote"===e.detail.hangupType;n.getId()===t&&n.getStatus()!==l.g.DATACHANNEL_STATUS_ENDED&&(ft.set(at(n),l.g.DATACHANNEL_STATUS_ENDED),st.info("Hangup from "+n.getContact().getUsername(),e),x.get(at(n)).emit("ended",{from:e.detail.hangupType}),i&&x.get(at(n)).emit("declined"))})).onEvent("onFileReceived",(function(e){if(e.detail.callId.toString()===n.getId()){var t=e.detail.data,i=new FileReader;i.addEventListener("loadend",(function(){try{var e=R.g.arrayBuffertoString(i.result);st.info("dataReceived !"),x.get(at(n)).emit("dataReceived",{uuid:t.uuid,data:e})}catch(e){st.error("dataReceived Error",e)}})),i.readAsArrayBuffer(t.file)}})).onEvent("onFileProgress",(function(e){if(e.detail.callId.toString()===n.getId()){var t=e.detail;st.trace("file transfering",t);var i={uuid:t.uuid,fileSize:t.fileSize,remainingSize:t.remainingSize,percentage:t.percentage,sendChunkNb:t.sendChunkNb,transferDuration:t.transferDuration,lastPacket:t.lastPacket};x.get(at(n)).emit("transferProgress",i),t.transferEnded&&x.get(at(n)).emit("transferComplete",i)}})).onEvent("receiveDataChannelError",(function(e){var t=e.detail.callId.toString();n.getId()===t&&x.get(at(n)).emit("error","receiveDataChannelError")})).onEvent("sendDataChannelError",(function(e){var t=e.detail.callId.toString();n.getId()===t&&x.get(at(n)).emit("error","sendDataChannelError")})).onEvent("receiveDataChannelClose",(function(e){var t=e.detail.callId.toString();n.getId()===t&&x.get(at(n)).emit("closed")})).onEvent("sendDataChannelClose",(function(e){var t=e.detail.callId.toString();n.getId()===t&&x.get(at(n)).emit("closed")})).onEvent("receiveDataChannelOpen",(function(e){var t=e.detail.callId.toString();n.getId()===t&&(ft.set(at(n),l.g.DATACHANNEL_STATUS_ONGOING),x.get(at(n)).emit("opened"))})).onEvent("sendDataChannelOpen",(function(e){var t=e.detail.callId.toString();n.getId()===t&&x.get(at(n)).emit("opened")})),n}return t=s,n=[{key:"getId",value:function(){return ut.get(this).toString()}},{key:"getContact",value:function(){return dt.get(this)}},{key:"getType",value:function(){return ht.get(this)}},{key:"getStatus",value:function(){return ft.get(this)}},{key:"sendData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){var a=!1;t.getStatus()!==l.g.DATACHANNEL_STATUS_ONGOING?r(R.g.createError(l.g.ERROR_OTHER,"Cannot send data as datachannel session is not ongoing",st)):t.getType()!==l.g.DATACHANNEL_TYPE_SEND?r(R.g.createError(l.g.ERROR_OTHER,"Cannot send data as datachannel session is receiving only",st)):lt.webRTCClient.sendDataWithCallId(t.getId(),{file:e,name:n.name,type:n.type},(function(e){a||(a=!0,i(e.uuid)),st.trace("sendData() - progress : ",e);var n={uuid:e.uuid,fileSize:e.fileSize,remainingSize:e.remainingSize,percentage:e.percentage,sendChunkNb:e.sendChunkNb,transferDuration:e.transferDuration,lastPacket:e.lastPacket};x.get(t).emit("transferProgress",n),e.transferEnded&&x.get(t).emit("transferComplete",n)}))}))}},{key:"close",value:function(){this.getStatus()===l.g.DATACHANNEL_STATUS_ENDED?st.error("close() - DataChannel session has already ended"):lt.webRTCClient.hangUp(this.getId())}}],i=[{key:"getAvailableEvents",value:function(){return ct}}],n&&it(t.prototype,n),i&&it(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vt(e,t){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vt(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}var Ct=v.Y.get("ReceivedInvitation"),wt=["expired","statusChange"],St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yt(r);if(a){var n=yt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=o.call(this,e,t),Ct.info("Create ReceivedDataChannelInvitation "),n.type="dataChannel",n.apiRTCManager.onEvent("hangup",(function(e){var t=e.detail.callId.toString();n.id.toString()===t&&n.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(n.setStatus(l.g.INVITATION_STATUS_EXPIRED),x.get(bt(n)).emit("expired"))})),n}return t=s,i=[{key:"getAvailableEvents",value:function(){return wt}}],(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()===l.g.INVITATION_STATUS_STANDBY){e.setStatus(l.g.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept"});var i=new pt(e.id,e.sender,{started:!0,type:l.g.DATACHANNEL_TYPE_SEND});e.apiRTCManager.webRTCClient.acceptCall(e.id,{mediaTypeForIncomingCall:"DATA"}),t(i)}else n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this datachannel session, invitation state invalid",Ct))}))}},{key:"decline",value:function(e){this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(this.setStatus(l.g.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}}])&&mt(t.prototype,n),i&&mt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(ae);function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tt(e,t)}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}var Mt=v.Y.get("ReceivedInvitation"),Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Et(i);if(r){var n=Et(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i=a.call(this,e,n),Mt.info("Create ReceivedConversationJoinRequest"),i.type="conversationJoinRequest",i.conversation=t||null,i}return t=o,(n=[{key:"getConversation",value:function(){return this.conversation}},{key:"accept",value:function(){var e=this;return new Promise((function(t,n){e.getStatus()===l.g.INVITATION_STATUS_STANDBY?(e.setStatus(l.g.INVITATION_STATUS_ACCEPTED),e.conversation?e.conversation.allowEntry(e.sender,{invitationId:e.id,answer:"accept",ackEnabled:!0}).then(t).catch(n):(e.apiRTCManager.sendData(e.sender.getId(),{roomname:e.id,event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept",command:"access",value:{access:!0}}),t())):n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot accept request, invitation state invalid",Mt))}))}},{key:"decline",value:function(e){var t=this;return new Promise((function(n,i){t.getStatus()===l.g.INVITATION_STATUS_STANDBY?(t.setStatus(l.g.INVITATION_STATUS_DECLINED),t.conversation?t.conversation.denyEntry(t.sender,{invitationId:t.id,answer:"decline",reason:e}).then(n).catch(i):(t.apiRTCManager.sendData(t.sender.getId(),{roomname:t.id,event:l.g.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,reason:e,answer:"decline",command:"access",value:{access:!1}}),n())):i(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"decline() - Cannot decline request, invitation state invalid",Mt))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(ae);function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}var Dt=v.Y.get("ReceivedInvitation"),Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xt(i);if(r){var n=xt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(i=a.call(this,e,t)).session=n,i.type="pointerSharing",i}return t=o,(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){e.getStatus()===l.g.INVITATION_STATUS_STANDBY?(e.setStatus(l.g.INVITATION_STATUS_ACCEPTED),e.session.joinPointerSharingRoom(e.id).then(t).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"accept() - cannot accept invitation",Dt))}))):n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - cannot accept invitation",Dt))}))}},{key:"decline",value:function(e){this.getStatus()===l.g.INVITATION_STATUS_STANDBY&&this.setStatus(l.g.INVITATION_STATUS_DECLINED)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(ae);s(4723);var Lt=v.Y.get("AicConsoleManager"),_t=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lt.info("Create AicConsoleManager"),this.ws=null,this.connectedToapplication=!1,this.domStream=null,this.keyboard_mode=0,this.ports=[4545,5858,37371,41793,42803],this.port_index=0,this.aic_agent_running=0,this.ip="127.0.0.1",this.aic_agent_handshake_done=0,this.controlActivated=!1,this.handshakeTimeoutId=0,this.kd=function(e){t.key_down(e)},this.ku=function(e){t.key_up(e)},this.wfl=function(e){t.window_focus_lost(e)},this.mm=function(e){t.mouse_move(e)},this.dc=function(e){t.mouse_doubleclick(e)},this.md=function(e){t.mouse_down(e)},this.mu=function(e){t.mouse_up(e)},this.mw=function(e){t.mouse_wheel(e)}}var t,n;return t=e,n=[{key:"aic_control_onmessage",value:function(e){if(Lt.debug("Message to send to remote app :",e),null!==apiRTC.session.remoteAccessInvitation){var t={event:l.g.CONTACT_REMOTEACCESS_APP_MESSAGE,invitationId:apiRTC.session.remoteAccessInvitation.id,roomname:apiRTC.session.remoteAccessInvitation.conversation._getTechnicalName(),message:e};apiRTC.session.remoteAccessInvitation.send(t).then((function(){})).catch((function(e){Lt.warn("Contact#send CONTACT_REMOTEACCESS_APP_MESSAGE message error:",e)}))}else Lt.error("Error on aic_control_onmessage, remoteAccessInvitation is not initialized")}},{key:"aic_keyboard_keydown",value:function(e,t){this.aic_control_onmessage('aic_keyboard_keypress("'+e+'","KEY_DOWN,'+t+'")')}},{key:"aic_keyboard_keyup",value:function(e,t){this.aic_control_onmessage('aic_keyboard_keypress("'+e+'","KEY_UP,'+t+'")')}},{key:"key_down",value:function(e){if(Lt.debug("key_down"),e.target===document.body)if(e.preventDefault(),e.isComposing||229===e.keyCode)Lt.debug("Ignoring event "+e);else if(0===this.keyboard_mode){var t=(e.altKey?"MOD_ALT,":"")+(e.ctrlKey?"MOD_CONTROL,":"")+(e.metaKey?"MOD_META,":"")+(e.shiftKey?"MOD_SHIFT,":"");this.aic_keyboard_keydown(e.key,t)}else 1===this.keyboard_mode&&this.aic_control_onmessage("aic_keyboard_keydown("+e.keyCode+")");else Lt.debug("this is not document body, ignoring this event")}},{key:"key_up",value:function(e){if(Lt.debug("key_up"),e.target===document.body)if(e.preventDefault(),e.isComposing||229===e.keyCode)console.log("Ignoring event "+e);else if(0===this.keyboard_mode){var t=(e.altKey?"MOD_ALT,":"")+(e.ctrlKey?"MOD_CONTROL,":"")+(e.metaKey?"MOD_META,":"")+(e.shiftKey?"MOD_SHIFT,":"");this.aic_keyboard_keyup(e.key,t)}else 1===this.keyboard_mode&&this.aic_control_onmessage("aic_keyboard_keyup("+e.keyCode+")");else Lt.debug("this is not document body, ignoring this event")}},{key:"window_focus_lost",value:function(e){Lt.debug("window_focus_lost"),this.aic_keyboard_keyup("Shift","MOD_ALT,MOD_CONTROL,MOD_META,MOD_SHIFT")}},{key:"mouse_doubleclick",value:function(e){this.mouse_move(e),this.aic_control_onmessage("aic_mouse_doubleclick("+e.which+")")}},{key:"mouse_down",value:function(e){this.mouse_move(e),this.aic_control_onmessage("aic_mouse_down("+e.which+")")}},{key:"mouse_up",value:function(e){this.mouse_move(e),this.aic_control_onmessage("aic_mouse_up("+e.which+")")}},{key:"mouse_wheel",value:function(e){e.preventDefault(),this.aic_control_onmessage("aic_mouse_scroll("+e.deltaX+","+-1*e.deltaY+")")}},{key:"mouse_move",value:function(e){var t=window.screen.width,n=window.screen.height;null!==apiRTC.session.remoteAccessInvitation&&(t=apiRTC.session.remoteAccessInvitation.screenWidth,n=apiRTC.session.remoteAccessInvitation.screenHeight);var i=getComputedStyle(e.target),r=parseInt(i.getPropertyValue("width"),10),a=parseInt(i.getPropertyValue("height"),10),o=0,s=0,l=!1;r/parseInt(e.target.videoWidth,10)<=a/parseInt(e.target.videoHeight,10)&&(l=!0),!0===l?(Lt.debug("Keeping width"),s=r*e.target.videoHeight/e.target.videoWidth,o=r):(Lt.debug("Keeping height"),o=a*e.target.videoWidth/e.target.videoHeight,s=a);var c=e.target.getBoundingClientRect(),u=e.clientX-c.left-(r-o)/2,d=e.clientY-c.top-(a-s)/2,f=Math.floor(u/o*t),h=Math.floor(d/s*n);this.aic_control_onmessage("aic_mouse_move("+f+","+h+")")}},{key:"searchDOMElement",value:function(e){var t=this;return new Promise((function(n,i){if(t.domStream=document.getElementById(e),t.domStream)n();else{var r="Dom element not found in searchDOMElement";Lt.debug(r),i(new Error(r))}}))}},{key:"aic_control_start",value:function(){var e=this;return new Promise((function(t,n){Lt.debug("aic_control_start"),window.oncontextmenu=function(){return!1};var i=apiRTC.session.remoteAccessInvitation.screenSharingStreamDOMElementId;Lt.debug("domSearchFilter :",i),e.searchDOMElement(i).then((function(){if(e.domStream)Lt.debug("Adding mouse and keyboard events listeners"),document.addEventListener("keydown",e.kd,{passive:!1}),document.addEventListener("keyup",e.ku,{passive:!1}),document.addEventListener("blur",e.wfl,{passive:!1}),e.domStream.addEventListener("mousemove",e.mm,!0),e.domStream.addEventListener("mousedown",e.md,!0),e.domStream.addEventListener("mouseup",e.mu,!0),e.domStream.addEventListener("wheel",e.mw,{passive:!1}),e.controlActivated=!0,t();else{var i="Dom element not found";Lt.debug(i),n(new Error(i))}})).catch((function(e){n(e)}))}))}},{key:"aic_control_stop",value:function(){var e=this;return Lt.debug("aic_control_stop"),new Promise((function(t,n){if(window.oncontextmenu=function(){return!0},e.domStream)Lt.debug("Removing mouse and keyboard events listeners"),document.removeEventListener("keydown",e.kd,{passive:!1}),document.removeEventListener("keyup",e.ku,{passive:!1}),document.removeEventListener("blur",e.wfl,{passive:!1}),e.domStream.removeEventListener("mousemove",e.mm,!0),e.domStream.removeEventListener("dblclick",e.dc,!0),e.domStream.removeEventListener("mousedown",e.md,!0),e.domStream.removeEventListener("mouseup",e.mu,!0),e.domStream.removeEventListener("wheel",e.mw,{passive:!1}),e.controlActivated=!1,t();else{var i="Dom element not found";Lt.debug(i),n(new Error(i))}}))}},{key:"aic_agent_send_message",value:function(e){void 0!==this.ws?1===this.ws.readyState?this.ws.send(e):Lt.info("aic_agent_send_message : ws in not in readyState"):Lt.info("aic_agent_send_message : ws in not defined")}},{key:"ws_onopen",value:function(){var e=this;Lt.debug("ws_onopen : Connected"),this.aic_agent_handshake_done=0,this.aic_agent_send_message("aic_agent_start()"),this.handshakeTimeoutId=setTimeout((function(){Lt.error("Timeout reached on handshake"),e.ws.close(1e3,"HANDSHAKE_NOK")}),1e3)}},{key:"ws_onmessage",value:function(e){var t=e.data;Lt.debug("received_msg :",t);var n=t.match(/^aic_notify\(\"([^\"]*)\",\"([^\"]*)\"\)$/);n&&"aic_agent_version"===n[1]&&(Lt.debug("aic_agent_version is :",n[2]),clearTimeout(this.handshakeTimeoutId),this.aic_agent_handshake_done=1,this.connectedToapplication=!0,this.send_application_status("APP_CONNECTION_OK"),null!=apiRTC.session.remoteAccessInvitation&&apiRTC.session.remoteAccessInvitation.fireEvent("application_connection_ok"))}},{key:"ws_onclose",value:function(e){var t=this;Lt.debug("ws_onclose : Closed - event :",e),!0===this.connectedToapplication?(null!==apiRTC.session.remoteAccessInvitation&&apiRTC.session.remoteAccessInvitation.stop(!0),this.connectedToapplication=!1):2===this.ws_reconnect()&&setTimeout((function(){t.ws_reconnect()}),3e3)}},{key:"ws_onerror",value:function(e){Lt.debug("ws_onerror : "+e)}},{key:"ws_connect",value:function(e){var t=this;Lt.debug("ws_connect : Connecting ");var n="ws://"+this.ip+":"+e+"/ws";Lt.debug("... on url :",n),this.ws=new WebSocket(n,"ws-server-aic"),this.ws.addEventListener("open",(function(e){t.ws_onopen(e)})),this.ws.addEventListener("message",(function(e){t.ws_onmessage(e)})),this.ws.addEventListener("close",(function(e){t.ws_onclose(e)})),this.ws.addEventListener("error",(function(e){t.ws_onerror(e)}))}},{key:"ws_reconnect",value:function(){return 0===this.aic_agent_running?0:this.port_index>=this.ports.length?(this.port_index=0,2):(this.ws_connect(this.ports[this.port_index]),this.port_index++,0)}},{key:"send_application_status",value:function(e){if(Lt.debug("send_application_status"),null!==apiRTC.session.remoteAccessInvitation){var t={event:l.g.CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE,invitationId:apiRTC.session.remoteAccessInvitation.id,roomname:apiRTC.session.remoteAccessInvitation.conversation._getTechnicalName(),status:e};apiRTC.session.remoteAccessInvitation.sendMessageToSender(l.g.CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE,t).then((function(){})).catch((function(e){Lt.warn("Contact#send send_application_status message error:",e)}))}else Lt.warn("send_application_status but not linked to a remoteAccessInvitation")}},{key:"aic_agent_start",value:function(){Lt.debug("aic_agent_start"),"WebSocket"in window?(this.aic_agent_running=1,this.send_application_status("APP_CONNECTION_ONGOING"),null!=apiRTC.session.remoteAccessInvitation&&apiRTC.session.remoteAccessInvitation.fireEvent("application_connection_ongoing"),this.ws_reconnect(this.ip)):Lt.error("WebSocket NOT supported by your Browser!")}},{key:"aic_agent_stop",value:function(){Lt.debug("aic_agent_stop"),this.aic_agent_running=0,this.ws.close()}},{key:"aic_agent_exit",value:function(){this.aic_agent_send_message("aic_agent_exit()")}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function jt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Ft=v.Y.get("ReceivedInvitation"),Bt=["stop","messageDelivered","messageNotDelivered","application_connection_ongoing","application_connection_ok"],zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ut(r);if(a){var n=Ut(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Ft.debug("Create ReceivedRemoteAccessInvitation"),(i=o.call(this,e,t.invitationId)).type="remoteAccess",i.conversation=n,r.cloudConvId&&(i.cloudConvId=r.cloudConvId),!0===r.webconf&&(i.webconf=!0),i.aicConsoleManager=null,i.screenSharingStreamId=null,i.screenSharingStream=null,i.apiRTCManager.onEvent("receiveData",(function(e){Ft.debug("ReceivedRemoteAccessInvitation receiveData "),void 0!==e.detail.data.event&&e.detail.data.event===l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER&&e.detail.data.invitationId.toString()===i.id.toString()?(Ft.debug("Received stop for "+i.id,e.detail.data),i.stop(!1,e.detail.data.reason)):e.detail.data.event===l.g.CONTACT_REMOTEACCESS_APP_MESSAGE&&e.detail.data.invitationId.toString()===i.id.toString()&&(Ft.debug("Received CONTACT_REMOTEACCESS_APP_MESSAGE for "+i.id,e.detail.data),null!==i.aicConsoleManager?i.aicConsoleManager.aic_agent_send_message(e.detail.data.message):Ft.debug("aicConsoleManager is not initialized"))})),i.conversation.on("contactLeft",(function(e){e.id===i.sender.id&&(Ft.debug("Remote user has left, stopping remoteAccess"),i.stop(!1,{code:"AGENT_LEFT"}))})),i}return t=s,n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(Ft.debug("ReceivedRemoteAccessInvitation accept"),e.getStatus()===l.g.INVITATION_STATUS_STANDBY){e.setStatus(l.g.INVITATION_STATUS_ACCEPTED);var i={event:l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER,invitationId:e.id,roomname:e.conversation._getTechnicalName(),answer:"accept"};e.sendMessageToSender(l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER,i).then((function(){t(e.id)})).catch((function(e){n(e)}))}else n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot accept remote access, invitation state invalid",Ft))}))}},{key:"decline",value:function(){var e=this;return new Promise((function(t,n){if(Ft.debug("ReceivedRemoteAccessInvitation decline"),e.getStatus()===l.g.INVITATION_STATUS_STANDBY){e.setStatus(l.g.INVITATION_STATUS_DECLINED);var i={event:l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER,invitationId:e.id,roomname:e.conversation._getTechnicalName(),answer:"decline"};e.sendMessageToSender(l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER,i).then((function(){t(e.id)})).catch((function(e){n(e)})),e.stop(!0,{code:"USER_DECLINE"})}else n(R.g.createError(l.g.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot decline remote access, invitation state invalid",Ft))}))}},{key:"sendMessageToSender",value:function(e,t){var n=this;return Ft.debug("sendMessageToSender :",t),new Promise((function(i,r){n.apiRTCManager.sendData(n.sender.getId(),t).then((function(){x.get(n).emit("messageDelivered",{event:e,contact:n.sender,messageData:t}),i()})).catch((function(i){var a=R.g.createError(i,"Invitation not delivered",Ft);x.get(n).emit("messageNotDelivered",{error:a,contact:n.sender,event:e,messageData:t}),r(a)}))}))}},{key:"fireEvent",value:function(e,t){x.get(this).emit(e,t)}},{key:"startScreenSharingAndPublish",value:function(){var e=this;return Ft.debug("startScreenSharingAndPublish"),new Promise((function(t,n){apiRTC.Stream.createDisplayMediaStream({video:{cursor:"always",displaySurface:"monitor"},surfaceSwitching:"exclude",selfBrowserSurface:"exclude",systemAudio:"exclude"}).then((function(i){i.screensharingRemoteAccessStream=!0;var r={},a={};a.invitationId=e.id,a.screenWidth=window.screen.width,a.screenHeight=window.screen.height,r.context={remoteAccessCtx:a},e.screenSharingStreamId=i.getId(),e.screenSharingStream=i,Ft.debug("setting screenSharingStreamId :",e.screenSharingStreamId),e.conversation.publish(i,r).then((function(n){e.aicConsoleManager=new _t,e.aicConsoleManager.aic_agent_start(),t(n)})).catch((function(t){var i={code:"DISPLAY_MEDIA_PUBLISH_ERROR",error:t};e.stop(!0,i),n(t)}))})).catch((function(t){Ft.error("error on createDisplayMediaStream :",t);var i={code:"CREATE_DISPLAY_MEDIA_ERROR",error:t};e.stop(!0,i),n(t)}))}))}},{key:"downloadApplication",value:function(){return Ft.debug("downloadApplication"),new Promise((function(e,t){fetch("https://dev.cdn.apizee.com/apiRTC/app/remoteAccess.exe").then((function(e){return e.blob()})).then((function(t){var n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="remoteAccess.exe",document.body.appendChild(i),i.click(),i.remove(),e()})).catch((function(e){Ft.error("Something went wrong during remote access application loading.. toString :",e.toString()),t(new Error("error on application fetch :"+e.toString()))}))}))}},{key:"stop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ft.debug("stop with sendMessage :",e),null==t&&(t={code:"USER_STOP"});var n=this.conversation.conversationPublishedStreams.get(this.screenSharingStreamId);if(null!=n&&(Ft.debug("streamInfo :",n),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(n.callId)),null!==this.screenSharingStream&&(this.screenSharingStream.release(),this.screenSharingStream=null),null!==this.aicConsoleManager&&(this.aicConsoleManager.aic_agent_exit(),this.aicConsoleManager.aic_agent_stop(),this.aicConsoleManager=null),apiRTC.session.remoteAccessInvitation=null,e){var i={event:l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER,invitationId:this.id,roomname:this.conversation._getTechnicalName(),reason:t};this.sendMessageToSender(l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER,i).then((function(){})).catch((function(e){Ft.warn("Contact#send stop message error:",e)}))}x.get(this).emit("stop",t)}}],i=[{key:"getAvailableEvents",value:function(){return Bt}}],n&&jt(t.prototype,n),i&&jt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(ae),Wt=s(8364),Vt=s.n(Wt);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}s(9601),s(5306);var Yt=v.Y.get("UserData"),Jt=H.get(),Qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t,n,i;return t=e,i=[{key:"equals",value:function(e,t){if(!(e instanceof Object&&t instanceof Object))return!1;for(var n in e){if(void 0===t[n])return!1;if("object"===Ht(t[n])&&!this.equals(t[n],e[n]))return!1;if(t[n]!==e[n])return!1}for(var i in t){if(void 0===e[i])return!1;if("object"===Ht(e[i])&&!this.equals(e[i],t[i]))return!1;if(e[i]!==t[i])return!1}return!0}}],(n=[{key:"get",value:function(e){return this.hasOwnProperty(e)&&void 0!==this[e]&&"null"!==this[e]&&null!==this[e]?this[e]:null}},{key:"setToSession",value:function(){try{var e={};for(var t in this)this.hasOwnProperty(t)&&"function"!=typeof this[t]&&(e[t]=this[t]);Jt.apiRTCSession.setUserData(e)}catch(e){Yt.error("setUserData() - could not set userData")}}},{key:"setProp",value:function(e,t){return this[e]=t,this}},{key:"setProps",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this}}])&&Gt(t.prototype,n),i&&Gt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kt(e,t){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kt(e,t)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}var en=v.Y.get("SentInvitation"),tn=["response","receive","statusChange"],nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$t(r);if(a){var n=$t(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}(this,e)});function s(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this)).conversation=t,en.info("Create SentInvitation"),n.invitationType="sent",n.contact=e,n.id=R.g.guid(),n.sendTime=Date.now(),n.expirationTime=null,n.expirationTimeout=null,i.hasOwnProperty("expirationTime")&&(n.expirationTime=i.expirationTime,n.expirationTimeout=setTimeout((function(){n.getStatus()===l.g.INVITATION_STATUS_STANDBY&&(en.info("Conversation invitation expired"),n.setStatus(l.g.INVITATION_STATUS_EXPIRED),x.get(Zt(n)).emit("response",n.getStatus()))}),i.expirationTime)),i.hasOwnProperty("receiveNotifier")&&i.receiveNotifier.on("receive",(function(){x.get(Zt(n)).emit("receive")})),n.apiRTCManager.onEvent("receiveData",(function(e){en.debug("SentInvitation receiveData "),void 0!==e.detail.data.event&&(e.detail.data.event!==l.g.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.event!==l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER||e.detail.data.invitationId.toString()!==n.id.toString()||n.getStatus()!==l.g.INVITATION_STATUS_STANDBY||(en.debug("Received invitation answer for "+n.id,e.detail.data),null!==n.expirationTimeout&&clearTimeout(n.expirationTimeout),"accept"===e.detail.data.answer?n.setStatus(l.g.INVITATION_STATUS_ACCEPTED):n.setStatus(l.g.INVITATION_STATUS_DECLINED),x.get(Zt(n)).emit("response",n.getStatus())))})),n.apiRTCManager.onEvent("hangup",(function(e){en.debug("hangup");var t=e.detail.callId.toString();n.getId()===t&&(en.debug("hangup for sentInvitation"),n.setStatus(l.g.INVITATION_STATUS_ENDED))})),n}return t=s,i=[{key:"getAvailableEvents",value:function(){return tn}}],(n=[{key:"getId",value:function(){return this.id}},{key:"onResponse",value:function(e){this.on("response",e)}},{key:"cancel",value:function(){en.info("cancel"),"sendFile"===this.type?(en.info("cancel sendfile"),this.apiRTCManager.webRTCClient.hangUp(this.id)):en.warn("cancel is not managed for invitation with type :",this.type)}},{key:"send",value:function(e){var t=this;return en.debug("SentInvitation#send"),new Promise((function(n,i){t.apiRTCManager.sendData(t.contact.getId(),e).then((function(){return n()})).catch((function(e){var t=R.g.createError(e,"Invitation not delivered",en);return i(t)}))}))}}])&&Xt(t.prototype,n),i&&Xt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}($);function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function an(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function on(e,t){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},on(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ln(e)}var cn=v.Y.get("SentRemoteAccessInvitation"),un=["response","receive","remoteAccessStreamAdded","stop","application_connection_ongoing","application_connection_ok"],dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ln(r);if(a){var n=ln(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sn(e)}(this,e)});function s(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=o.call(this,e,t,i),cn.debug("Create sentRemoteAccessInvitation"),n.type="remoteAccess",n.screenSharingStreamId=null,n.screenSharingStream=null,n.aicConsoleManager=null,n.screenSharingStreamDOMElementId=null,n.apiRTCManager.onEvent("receiveData",(function(e){cn.debug("SentRemoteAccessInvitation receiveData "),void 0!==e.detail.data.event&&(e.detail.data.event===l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER&&e.detail.data.invitationId.toString()===n.id.toString()?(cn.debug("SentRemoteAccessInvitation Received stop for "+n.id,e.detail.data),n.stop(!1,e.detail.data.reason)):e.detail.data.event===l.g.CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE&&e.detail.data.invitationId.toString()===n.id.toString()&&(cn.debug("CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE : "+n.id,e.detail.data.status),"APP_CONNECTION_ONGOING"===e.detail.data.status?(x.get(sn(n)).emit("application_connection_ongoing"),n.aicConsoleManager=new _t,!0===n.aicConsoleManager.controlActivated&&n.aicConsoleManager.aic_control_stop().then((function(){x.get(sn(n)).emit("controlStop")})).catch((function(e){cn.debug("aic_control_stop error:",e)}))):"APP_CONNECTION_OK"===e.detail.data.status&&x.get(sn(n)).emit("application_connection_ok")))})),n.conversation.on("contactLeft",(function(e){e.id===n.contact.id&&(cn.debug("Remote user has left, stopping remoteAccess"),n.stop(!1,{code:"USER_LEFT"}))})),n}return t=s,n=[{key:"setRemoteAccessStream",value:function(e){cn.debug("setRemoteAccessStream"),this.screenSharingStream=e,x.get(this).emit("remoteAccessStreamAdded",this.screenSharingStream)}},{key:"setScreenSharingStreamDOMElementId",value:function(e){var t=this;this.screenSharingStreamDOMElementId=e,null!==this.aicConsoleManager?this.aicConsoleManager.aic_control_start().then((function(){x.get(t).emit("controlStart")})).catch((function(e){cn.warn("aic_control_start error:",e)})):cn.debug("aicConsoleManager is not activated")}},{key:"toggleMouseAndKeyboardAccess",value:function(){var e=this;return cn.debug("toggleMouseAndKeyboardAccess"),new Promise((function(t,n){if(null!==e.aicConsoleManager)!0===e.aicConsoleManager.controlActivated?e.aicConsoleManager.aic_control_stop().then((function(){x.get(e).emit("controlStop"),t()})).catch((function(e){n(e)})):e.aicConsoleManager.aic_control_start().then((function(){x.get(e).emit("controlStart"),t()})).catch((function(e){n(e)}));else{var i="aicConsoleManager is not activated";cn.debug(i),n(new Error(i))}}))}},{key:"getMouseAndKeyboardAccessStatus",value:function(){return this.aicConsoleManager.controlActivated}},{key:"stop",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(cn.debug("stop"),null==n&&(n={code:"AGENT_STOP"}),null!==this.aicConsoleManager&&(!0===this.aicConsoleManager.controlActivated&&this.aicConsoleManager.aic_control_stop().then((function(){x.get(e).emit("controlStop")})).catch((function(e){cn.warn("aic_control_stop error:",e)})),this.aicConsoleManager=null),t){var i={event:l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER,invitationId:this.id,roomname:this.conversation._getTechnicalName(),reason:n};this.send(i).then((function(){})).catch((function(e){cn.warn("Contact#send stop message error:",e)}))}null!==apiRTC.session.remoteAccessInvitation&&(x.get(this).emit("stop",n),apiRTC.session.remoteAccessInvitation=null)}}],i=[{key:"getAvailableEvents",value:function(){return un}}],n&&an(t.prototype,n),i&&an(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(nn);function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function hn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mn(e,t)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}var yn=v.Y.get("Contact"),Cn=H.get(),wn=new(Vt()),Sn=_e.get(),In=["message","conversationInvitation","data","joinGroup","leaveGroup","whiteboardInvitation","fileSentSuccessfully","fileTransferInvitation","fileTransferProgress","dataChannelInvitation","incomingCall","newMediaAvailable","customEvent","fileTransferError","incomingScreenSharingCall","incomingScreenSharingCallInvitation"],Tn=new WeakMap,En=new WeakMap,Mn=new Map,Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bn(r);if(a){var n=bn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=o.call(this,yn),yn.debug("Create Contact with id "+e),yn.debug("Create Contact with userData :",n),En.set(vn(t),e.toString()),t.groups=[],t.previousMessages=[],t.userData=new Qt(n),t.enterprise=null,t.streams=new Map,t.profile=null,t.fileTransfers=[],t.promises=[],Tn.set(vn(t),[]),Cn.onEvent("roomInvitation",(function(e){if(null!==e.detail.senderId&&void 0!==e.detail.senderId&&"whiteBoard"===e.detail.roomType&&e.detail.senderId.toString()===t.getId()){yn.info("Received whiteboard invitation from "+t.getUsername());var n={};e.detail.cloudConvId&&(n.cloudConvId=e.detail.cloudConvId),!0===e.detail.webconf&&(n.webconf=!0),x.get(vn(t)).emit("whiteboardInvitation",new tt(vn(t),e.detail.roomId,n))}})).onEvent("receiveIMMessage",(function(e){e.detail.senderId.toString()===t.getId()&&(x.get(vn(t)).emit("message",{content:e.detail.message,uuid:e.detail.UUCSeq,time:e.detail.time}),t.addMessageToHistory(e.detail.message,Math.round(e.detail.time.getTime()/1e3),e.detail.UUCSeq,!0))})).onEvent("receiveData",(function(e){if(e.detail.senderId.toString()===t.getId()){yn.debug("Received data e.detail.data : ",e.detail.data);var n=e.detail.data,i=null,r=Vi.get();if(void 0!==n.roomname&&(i=r.isConference(n.roomname)?r.getOrCreateConference(r.getNameFromTechnicalName(n.roomname)):r.getOrCreateConversation(r.getNameFromTechnicalName(n.roomname))),!0===n.apiRTCRequest&&t.manageApiRTCRequest(e.detail,i),void 0!==n.event)switch(n.event){case l.g.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:case l.g.INVITATION_ANSWER_IDENTIFIER:break;case l.g.CONTACT_SEND_DATA_IDENTIFIER:yn.trace("Received data from "+t.getUsername(),n.content),x.get(vn(t)).emit("data",n.content);break;case l.g.CONVERSATION_INVITATION_IDENTIFIER:if(null!==i){yn.debug("Received conversation invitation from "+t.getId());var a={};n.hasOwnProperty("password")&&(a.password=n.password),x.get(vn(t)).emit("conversationInvitation",new fe(vn(t),n,i,a))}break;case l.g.CONTACT_SEND_FILEINFO_IDENTIFIER:yn.debug("Received file info from "+t.getUsername(),n.fileInfo);var o=n.callId.toString();if(R.g._private.dataCallsFileInfo.set(o,n.fileInfo),R.g._private.dataCallsOnHold.has(o)){var s=null;apiRTC.userAgentInstance.currentSession.invitationsMap.has(t.getId()+"-sendfile-"+o)?(s=apiRTC.userAgentInstance.currentSession.invitationsMap.get(t.getId()+"-sendfile-"+o),yn.debug("invitation already exist :",s)):(s=new Xe(vn(t),o,n.fileInfo),apiRTC.userAgentInstance.currentSession.invitationsMap.set(t.getId()+"-sendfile-"+o,s)),x.get(vn(t)).emit("fileTransferInvitation",s)}break;case l.g.CONTACT_DATACHANNEL_INVITATION:yn.debug("Received datachannel invitation from "+t.getUsername()),R.g._private.dataChannelInvitations.set(n.callId.toString(),!0),R.g._private.dataCallsOnHold.has(n.callId.toString())&&x.get(vn(t)).emit("dataChannelInvitation",new St(vn(t),n.callId.toString()));break;case l.g.CONTACT_NEW_MEDIA_IDENTIFIER:yn.debug("New media available from "+t.getUsername(),n.fileinfo),x.get(vn(t)).emit("newMediaAvailable",{media:n.media});break;case l.g.CONTACT_EVENTCENTER_DATA_REQUEST:yn.debug("New request for event center data from "+t.getUsername());var c=apiRTC.eventCenter.getStoredData();if(void 0===c)return void yn.error("Can't send event center stored data, it's undefined");yn.debug("Sending requested event center data"),t.sendCustomEvent(l.g.CONTACT_EVENTCENTER_DATA_ANSWER,{data:c});break;case l.g.CONTACT_EVENTCENTER_DATA_ANSWER:if(yn.debug("New event center data from "+t.getUsername()),void 0===n.data)return void yn.error("Can't handle remote event center data, it's undefined");apiRTC.eventCenter.handleDataAnswer(n.data);break;case l.g.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_IDENTIFIER:yn.debug("New getAudioFlowStatus from "+n.requesterId+" on stream "+n.streamId);var u=t.getContact(n.requesterId),d=t.getLocalStreamPublished();if(null===d)return t.sendToContactRemoteStreamError("No stream found on remote",u,n);u.sendCustomEvent(l.g.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,audioFlowStatus:d.getAudioFlowStatus()});break;case l.g.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_IDENTIFIER:yn.debug("New getVideoFlowStatus from "+n.requesterId+" on stream "+n.streamId);var f=t.getContact(n.requesterId),h=t.getLocalStreamPublished();if(null===h)return t.sendToContactRemoteStreamError("No stream found on remote",f,n);f.sendCustomEvent(l.g.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,videoFlowStatus:h.getVideoFlowStatus()});break;case l.g.CONTACT_GET_SETTINGS_IDENTIFIER:yn.debug("CONTACT_GET_SETTINGS_IDENTIFIER");var p,g=t.getContact(n.requesterId);if(null===(p=void 0!==n.mediaStreamId?t.getLocalStreamWithMediaStreamId(n.mediaStreamId):t.getLocalStreamWithCallId(n.streamId)))return t.sendToContactRemoteStreamError("No stream found on remote",g,n);p.getSettings().then((function(e){g.sendCustomEvent(l.g.CONTACT_GET_SETTINGS_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,settings:e})})).catch((function(e){t.sendToContactRemoteStreamError(e.message,g,n)}));break;case l.g.CONTACT_GET_CAPABILITIES_IDENTIFIER:yn.debug("CONTACT_GET_CAPABILITIES_IDENTIFIER");var m,v=t.getContact(n.requesterId);if(null===(m=void 0!==n.mediaStreamId?t.getLocalStreamWithMediaStreamId(n.mediaStreamId):t.getLocalStreamWithCallId(n.streamId)))return t.sendToContactRemoteStreamError("No stream found on remote",v,n);m.getCapabilities().then((function(e){v.sendCustomEvent(l.g.CONTACT_GET_CAPABILITIES_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,capabilities:e})})).catch((function(e){t.sendToContactRemoteStreamError(e.message,v,n)}));break;case l.g.CONTACT_GET_CONSTRAINTS_IDENTIFIER:yn.debug("New getConstraints from "+n.requesterId);var b=t.getContact(n.requesterId),y=t.getLocalStreamPublished();if(null===y)return t.sendToContactRemoteStreamError("No stream found on remote",b,n);y.getConstraints().then((function(e){b.sendCustomEvent(l.g.CONTACT_GET_CONSTRAINTS_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,constraints:e})})).catch((function(e){t.sendToContactRemoteStreamError(e.message,b,n)}));break;case l.g.CONTACT_APPLY_CONSTRAINTS_IDENTIFIER:var C;yn.debug("CONTACT_APPLY_CONSTRAINTS_IDENTIFIER"),C=void 0!==n.mediaStreamId?t.getLocalStreamWithMediaStreamId(n.mediaStreamId):t.getLocalStreamWithCallId(n.streamId);var w=t.getContact(n.requesterId);if(null===C)return t.sendToContactRemoteStreamError("No stream found on remote",w,n);C.applyConstraints(n.constraints).then((function(){w.sendCustomEvent(l.g.CONTACT_APPLY_CONSTRAINTS_RESULT_IDENTIFIER,{callId:n.callId,streamId:n.streamId,timeout:n.timeout}),C.emitConstraintsChanged(n.constraints)})).catch((function(e){t.sendToContactRemoteStreamError(e.message,w,n)}));break;case l.g.CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER:var S;yn.debug("CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER from :"+n.requesterId),"NOT_FOUND"!==(S=apiRTC.userAgentInstance.getStreamWithMediaStreamId(n.mediaStreamId))&&S.emitConstraintsChanged(n.constraints);break;case l.g.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_RESULT_IDENTIFIER:yn.debug("getRemoteAudioFlowStatus result :",n);var I=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===I?yn.error("Can't find the local stream to resolve the request.."):I.resolvePendingPromise(n.timeout,n.audioFlowStatus);break;case l.g.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_RESULT_IDENTIFIER:yn.debug("getRemoteVideoFlowStatus result :",n);var T=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===T?yn.error("Can't find the local stream to resolve the request.."):T.resolvePendingPromise(n.timeout,n.videoFlowStatus);break;case l.g.CONTACT_GET_SETTINGS_RESULT_IDENTIFIER:yn.debug("remote getSettings result :",n);var E=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===E?yn.error("Can't find the local stream to resolve the request.."):E.resolvePendingPromise(n.timeout,n.settings);break;case l.g.CONTACT_GET_CAPABILITIES_RESULT_IDENTIFIER:yn.debug("remote getCapabilities result :",n);var M=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===M?yn.error("Can't find the local stream to resolve the request.."):M.resolvePendingPromise(n.timeout,n.capabilities);break;case l.g.CONTACT_GET_CONSTRAINTS_RESULT_IDENTIFIER:yn.debug("remote getConstraints result :",n);var A=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===A?yn.error("Can't find the local stream to resolve the request.."):A.resolvePendingPromise(n.timeout,n.constraints);break;case l.g.CONTACT_GET_REMOTE_ERROR:yn.debug("remote stream request error:",n);var k=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===k?yn.error("Can't find the local stream to reject the request.."):k.rejectPendingPromise(n.timeout,n.message);break;case l.g.CONTACT_APPLY_CONSTRAINTS_RESULT_IDENTIFIER:yn.debug("remote applyConstraints result :",n);var D=t.getRemoteStreamSubscribed(n.callId,n.streamId);null===D?yn.error("Can't find the local stream to resolve the request.."):D.resolvePendingPromise(n.timeout,n.constraints);break;default:var O={event:n.event,content:n};null!==i&&(O.conversation=i),x.get(vn(t)).emit("customEvent",O)}}})).onEvent("incomingCall",(function(e){if(e.detail.callerId.toString()===t.getId()){var n=e.detail.callId.toString();if("data"===e.detail.callType)if(yn.debug("Received file transfer invitation from "+t.getUsername()),R.g._private.dataCallsFileInfo.has(n)){var i=R.g._private.dataCallsFileInfo.get(n),r=null;apiRTC.userAgentInstance.currentSession.invitationsMap.has(t.getId()+"-sendfile-"+n)?(r=apiRTC.userAgentInstance.currentSession.invitationsMap.get(t.getId()+"-sendfile-"+n),yn.debug("invitation already exist :",r)):(r=new Xe(vn(t),n,i),apiRTC.userAgentInstance.currentSession.invitationsMap.set(t.getId()+"-sendfile-"+n,r)),x.get(vn(t)).emit("fileTransferInvitation",r)}else R.g._private.dataChannelInvitations.has(n)?x.get(vn(t)).emit("dataChannelInvitation",new St(vn(t),n)):(yn.info("File information has not been received yet, putting invitation on hold"),R.g._private.dataCallsOnHold.set(n));else if("screenSharing"===e.detail.callType||"screenSharingWithAudio"===e.detail.callType)if(!0===apiRTC.session.apiCCWebRTCClient.webRTCClient.userAcceptOnIncomingScreenSharingCall){yn.debug("Received screenSharingCallInvitation from "+t.getUsername());var a=new Ve(vn(t),n,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});x.get(vn(t)).emit("incomingScreenSharingCallInvitation",a)}else{yn.debug("Received screenSharingCall from "+t.getUsername());var o=Sn.getOrCreateCall(n,vn(t),{started:!0,isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});x.get(vn(t)).emit("incomingScreenSharingCall",o)}else yn.info("Received call invitation from "+t.getUsername()),x.get(vn(t)).emit("incomingCall",new Ve(vn(t),n,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall}))}})).onEvent("hangup",(function(e){var n=e.detail.callId.toString();t.getId()===e.detail.remoteId.toString()&&(yn.debug("hangup event :",e.detail),t.fileTransfers.includes(n)&&(yn.info("File transfer finished from "+t.getUsername()),t.fileTransfers.splice(t.fileTransfers.indexOf(n),1)))})).onEvent("sendDataChannelError",(function(e){var n=e.detail.callId.toString();t.getId()===e.detail.remoteId.toString()&&t.fileTransfers.includes(n)&&(yn.info("File transfer error from "+t.getUsername()),x.get(vn(t)).emit("fileTransferError",{error:"sendDataChannelError",invitationId:n}))})).onEvent("fetchUserDataAnswer",(function(e){t.getId()===e.detail.id.toString()&&(t.userData=new Qt(e.detail.userData),t.promises.forEach((function(t){e.detail.timeout===t.timeout&&(clearTimeout(t.timeout),t.resolve(e.detail.userData))})))})),t}return t=s,n=[{key:"getId",value:function(){return En.get(this)}},{key:"id",get:function(){return yn.warn("contact.id is deprecated, please use contact.getId() instead"),this.getId()}},{key:"fetchProfileInformation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,r){null===t.profile||n?wn.getUserProfile(Cn.getActiveApiKey(),t.getId(),e).then((function(e){t.profile=e,i(e)})).catch(r):i(t.profile)}))}},{key:"getActiveStreams",value:function(){return this.streams.values()}},{key:"getLocalStreamWithCallId",value:function(e){for(var t=null,n=Br.getLocalStreams(),i=n.next();!i.done;){for(var r=i.value,a=r.publishedInConversations.values(),o=a.next();!o.done;)o.value===e&&(yn.debug("Finding Stream in a conversation"),t=r),o=a.next();r.callId===e&&(yn.debug("Finding Stream in a call"),t=r),i=n.next()}return t}},{key:"getLocalStreamPublished",value:function(){var e=Br.getLocalStreams().next();return void 0===e.value?null:e.value}},{key:"getLocalStreamWithMediaStreamId",value:function(e){for(var t=Br.getLocalStreams(),n=t.next();!n.done;){var i=n.value;if(i.data.id===e)return i;n=t.next()}return null}},{key:"getRemoteStreamSubscribed",value:function(e,t){var n=lr.getActiveSession().getCall(e);if(n){yn.debug("remote stream is associated to a call");var i,r=hn(n.getReceivedStreams());try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.getId()===t)return a}}catch(e){r.e(e)}finally{r.f()}}else{var o=lr.getActiveSession().getActiveConversations(),s=lr.getActiveSession().getActiveConferences();for(var l in o){var c=o[l].getSubscribedStream(t);if(void 0!==c)return yn.debug("remote stream is associated to a conversation"),c}for(var u in s){var d=s[u].getSubscribedStream(t);if(void 0!==d)return yn.debug("remote stream is associated to a conference"),d}}return null}},{key:"addMessageToHistory",value:function(e,t,n,i){-1===Tn.get(this).indexOf(n.toString())&&(this.previousMessages.push({content:e,timestamp:t,uuid:n,fromContact:i}),Tn.get(this).push(n.toString()))}},{key:"getPreviousMessages",value:function(){return this.previousMessages.sort((function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)})),this.previousMessages}},{key:"getUserData",value:function(){return this.userData}},{key:"getRemoteAccessSupport",value:function(){var e=!1;return"ON"===this.userData.remoteAccessUserSupport&&(e=!0),e}},{key:"fetchUserData",value:function(){var e=this;return new Promise((function(t,n){var i=setTimeout((function(){n("Timeout error during fetchUserData() process")}),5e3);e.promises.push({timeout:i,resolve:t}),apiRTC.session.fetchUserData({apiKey:Cn.getActiveApiKey(),id:e.getId(),timeout:i})}))}},{key:"getUsername",value:function(){return null!==this.userData.get("username")?this.userData.get("username"):null!==this.userData.get("nickname")?this.userData.get("nickname"):this.getId()}},{key:"getPhotoUrl",value:function(){return null!==this.userData.get("photo_url")?this.userData.get("photo_url"):null!==this.userData.get("photoUrl")?this.userData.get("photoUrl"):null}},{key:"fetchWebSessionInformation",value:function(e){var t=this;return new Promise((function(n,i){e instanceof lr?Mn.has(t.getId()+":"+e.getId())?n(Mn.get(t.getId()+":"+e.getId())):wn.getWebSession(e,t,Cn.getActiveApiKey()).then((function(i){Mn.set(t.getId()+":"+e.getId(),i),n(i)})).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"fetchWebSessionInformation() - could not fetch web session information",yn))})):i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"fetchWebSessionInformation() - parameter is not an instance of apiRTC.Session",yn))}))}},{key:"loadMessageHistory",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){t.fetchWebSessionInformation(e).then((function(t){return wn.getSessionHistory(t.webSessionId,e.getToken(),n)})).then((function(e){yn.debug("loadMessageHistory() - got messages",e.messages);var n,r=hn(e.messages);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.addMessageToHistory(a.value,a.timestamp,a.uuid,a.destId.toString()!==t.getId())}}catch(e){r.e(e)}finally{r.f()}i()})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"loadMessageHistory() - could not load session history",yn))}))}))}},{key:"addToGroup",value:function(e){this.inGroup(e)||(this.groups.push(e),x.get(this).emit("joinGroup",e))}},{key:"removeFromGroup",value:function(e){this.inGroup(e)&&(this.groups.splice(this.groups.indexOf(e),1),x.get(this).emit("leaveGroup",e))}},{key:"inGroup",value:function(e){return this.groups.includes(e)}},{key:"isOnline",value:function(){return 0!==this.groups.length}},{key:"sendData",value:function(e){var t=this;return this.isOnline()||yn.warn("sendData() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(n,i){Cn.sendData(t.getId(),{event:l.g.CONTACT_SEND_DATA_IDENTIFIER,content:e}).then(n).catch((function(e){switch(e){case l.g.ERROR_TIMED_OUT:i(R.g.createError(l.g.ERROR_TIMED_OUT,"sendData() - Data transmission timed out ",yn));break;case l.g.ERROR_NOT_FOUND:i(R.g.createError(l.g.ERROR_NOT_FOUND,"sendData() - Contact was not found ",yn));break;default:i(R.g.createError(l.g.ERROR_OTHER,"sendData() - Data default error ",yn))}}))}))}},{key:"sendCustomEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isOnline()||yn.warn("sendCustomEvent() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(i,r){var a=n;a.event=e,Cn.sendData(t.getId(),a).then(i).catch((function(e){switch(e){case l.g.ERROR_TIMED_OUT:r(R.g.createError(l.g.ERROR_TIMED_OUT,"sendCustomEvent() - Data transmission timed out ",yn));break;case l.g.ERROR_NOT_FOUND:r(R.g.createError(l.g.ERROR_NOT_FOUND,"sendCustomEvent() - Contact was not found ",yn));break;default:r(R.g.createError(l.g.ERROR_OTHER,"sendCustomEvent() - Data transmission timed out ",yn))}}))}))}},{key:"sendRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isOnline()||yn.warn("sendRequest() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(i,r){var a=(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"-");Cn.onceEvent("receiveData",(function(e){yn.debug("Received data e.detail.data : ",e.detail.data),!0===e.detail.data.apiRTCAnswer&&(e.detail.data.requestUUID===a?i():yn.error("uuid is not correct"))}));var o=n;o.apiRTCRequest=!0,o.requestType=e,o.uuid=a,Cn.sendData(t.getId(),o).then((function(){yn.debug("sendData ok")})).catch((function(e){yn.error("Error on sendData",e),r()}))}))}},{key:"sendAnswer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isOnline()||yn.warn("sendRequest() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(i,r){var a=n;a.apiRTCAnswer=!0,a.answerType=e,Cn.sendData(t.getId(),a).then((function(){i()})).catch((function(e){yn.error("Error on sendData",e),r()}))}))}},{key:"sendDataAnswer",value:function(e,t,n){this.getContact(e.senderId).sendAnswer(t,n).then((function(){yn.debug("sendAnswer OK")})).catch((function(e){yn.error("Error on sendAnswer",e)}))}},{key:"manageApiRTCStreamRequest",value:function(e,t){var n=this;yn.debug("manageApiRTCStreamRequest : ",e);var i=e.data.requestType,r={};r.requestUUID=e.data.uuid,r.result="NOK";var a=null;if("NOT_FOUND"===(a=apiRTC.userAgentInstance.getStreamWithRoomNameAndCallId(t.getName(),e.data.streamId)))r.reason="STREAM_NOT_FOUND",this.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,r);else if(void 0!==i)switch(i){case l.g.CONTACT_DISABLE_AUDIO_REQUEST:a.disableAudio().then((function(){r.result="OK",n.sendDataAnswer(e,l.g.CONTACT_DISABLE_AUDIO_ANSWER,r)})).catch((function(){r.reason="ERROR_ON_DISABLE_AUDIO",n.sendDataAnswer(e,l.g.CONTACT_DISABLE_AUDIO_ANSWER,r)}));break;case l.g.CONTACT_ENABLE_AUDIO_REQUEST:a.enableAudio().then((function(){r.result="OK",n.sendDataAnswer(e,l.g.CONTACT_ENABLE_AUDIO_ANSWER,r)})).catch((function(){r.reason="ERROR_ON_ENABLE_AUDIO",n.sendDataAnswer(e,l.g.CONTACT_ENABLE_AUDIO_ANSWER,r)}));break;case l.g.CONTACT_DISABLE_VIDEO_REQUEST:a.disableVideo().then((function(){r.result="OK",n.sendDataAnswer(e,l.g.CONTACT_DISABLE_VIDEO_ANSWER,r)})).catch((function(){r.reason="ERROR_ON_DISABLE_VIDEO",n.sendDataAnswer(e,l.g.CONTACT_DISABLE_VIDEO_ANSWER,r)}));break;case l.g.CONTACT_ENABLE_VIDEO_REQUEST:a.enableVideo().then((function(){r.result="OK",n.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,r)})).catch((function(){r.reason="ERROR_ON_ENABLE_VIDEO",n.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,r)}));break;default:yn.error("not a defined apiRTC request :",i),r.reason="ERROR_ON_REQUESTTYPE",this.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,r)}else yn.error("requestType is undefined :",i),r.reason="ERROR_ON_REQUESTTYPE",this.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,r)}},{key:"manageApiRTCRequest",value:function(e,t){yn.debug("manageApiRTCRequest : ",e);var n=e.data.requestType,i={};if(i.requestUUID=e.data.uuid,i.result="NOK",void 0!==n)switch(n){case l.g.CONTACT_DISABLE_AUDIO_REQUEST:case l.g.CONTACT_ENABLE_AUDIO_REQUEST:case l.g.CONTACT_DISABLE_VIDEO_REQUEST:case l.g.CONTACT_ENABLE_VIDEO_REQUEST:this.manageApiRTCStreamRequest(e,t);break;default:yn.error("not a defined apiRTC request :",n),i.reason="ERROR_ON_REQUESTTYPE",this.sendDataAnswer(e,l.g.CONTACT_ENABLE_VIDEO_ANSWER,i)}}},{key:"sendMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isOnline()||yn.warn("sendMessage() - contact "+this.getUsername()+" does not seem to be connected.");var i=null,r=function(){return new Promise((function(e,i){n.hasOwnProperty("session")?t.fetchWebSessionInformation(n.session).then((function(t){e({save:!0,cloudSessionId:t.webSessionId,apiRTCId:n.session.getId()})})).catch(i):e({})}))};return new Promise((function(n,a){return"string"!=typeof e?a(R.g.createError(l.g.ERROR_BAD_PARAMETER,"sendMessage() - message parameter is not instance of string",yn)):""===e?a(R.g.createError(l.g.ERROR_BAD_PARAMETER,"sendMessage() - message parameter is empty",yn)):void r().then((function(r){i=r,yn.info("sendMessage() - with options :",i),Cn.sendMessage(t.getId(),e,i).then((function(i){t.addMessageToHistory(e,Math.floor(Date.now()/1e3),i,!1),n(i)})).catch((function(e){switch(e){case l.g.ERROR_TIMED_OUT:a(R.g.createError(l.g.ERROR_TIMED_OUT,"sendMessage() - Data transmission timed out ",yn));break;case l.g.ERROR_NOT_FOUND:a(R.g.createError(l.g.ERROR_NOT_FOUND,"sendMessage() - Contact was not found ",yn));break;default:a(R.g.createError(l.g.ERROR_OTHER,"sendMessage() - Data transmission timed out ",yn))}}))}),(function(e){a(R.g.createError(l.g.ERROR_OTHER,"sendMessage() - Error occured when fetching options for sending message",yn))}))}))}},{key:"inviteTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.sendConversationInvitation(e,t)}},{key:"sendConversationInvitation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Ci?e.sendInvitation(this,t):(yn.error("sendConversationInvitation() - Parameter is not a conversation"),null)}},{key:"sendWhiteboardInvitation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cn.whiteBoardClient.roomId!==e&&(Cn.whiteBoardClient.leaveRoom(),Cn.whiteBoardClient.start(),Cn.whiteBoardClient.joinRoom(e));var n=t.context?t.context:null,i={};t.cloudConversationId&&(i.convId=t.cloudConversationId),Cn.whiteBoardClient.inviteInRoom(e,this.getId(),n,i);var r=new nn(this,null);return r.id="wb-"+e,r.type="whiteboard",r}},{key:"call",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mediaTypeForOutgoingCall:"VIDEO",record:!1};yn.debug("call()"),this.isOnline()||yn.warn("call() - contact "+this.getUsername()+" does not seem to be connected.");var i={},r=R.g.assignObject({},n),a=!!n.hasOwnProperty("audioOnly")&&n.audioOnly;return n.hasOwnProperty("record")&&(void 0!==r.record&&null!==r.record||(r.record=n.record)),null!==e&&e instanceof Br&&(r.userMediaStreamId=e.userMediaStreamId,e.isScreensharing()&&(r.forceCallType="screenSharing")),r.cloudConversationId&&(i.cloudConvId=r.cloudConversationId,delete r.cloudConversationId),t=a?Cn.webRTCClient.callAudio(this.getId(),i,r):Cn.webRTCClient.call(this.getId(),i,r),Sn.getOrCreateCall(t,this,{isRecorded:r.record})}},{key:"shareScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isOnline()||yn.warn("call() - contact "+this.getUsername()+" does not seem to be connected.");var t,n=e,i=e.captureSourceType;return yn.warn("call() - contact "+this.getUsername()+" does not seem to be connected."),t=Cn.webRTCClient.shareScreen(this.getId(),{},i),Sn.getOrCreateCall(t,this,{isRecorded:n.record})}},{key:"startDataChannel",value:function(){if(this.isOnline()||yn.warn("startDataChannel() - contact "+this.getUsername()+" does not seem to be connected."),!("Edge"===m.Xh&&m.PR<79&&"chrome"!==apiRTC.browserDetails.type)){var e=Cn.webRTCClient.startDataChannel(this.getId());return Cn.sendData(this.getId(),{callId:e,event:l.g.CONTACT_DATACHANNEL_INVITATION}),new pt(e,this,{type:l.g.DATACHANNEL_TYPE_SEND})}yn.warn("Cannot startDataChannel as it is not supported on Edge")}},{key:"sendFile",value:function(e,t){if(this.isOnline()||yn.warn("sendFile() - contact "+this.getUsername()+" does not seem to be connected."),"Edge"===m.Xh&&m.PR<79&&"chrome"!==apiRTC.browserDetails.type)return yn.warn("Cannot sendFile as Datachannel is not supported on Edge"),null;var n=Cn.webRTCClient.startDataChannel(this.getId()),i=this;if(void 0===n)return yn.warn("Error on startDataChannel"),null;Cn.sendData(this.getId(),{fileInfo:e,callId:n,event:l.g.CONTACT_SEND_FILEINFO_IDENTIFIER}),Cn.onEvent("sendDataChannelOpen",(function r(a){yn.debug("sendFile() - DataChannel open",a.detail),a.detail.callId.toString()===n.toString()&&(Cn.webRTCClient.sendDataWithCallId(n,{file:t,name:e.name,type:e.type},(function(t){yn.trace("sendFile() - progress : ",t);var n={uuid:t.uuid,fileSize:t.fileSize,remainingSize:t.remainingSize,percentage:t.percentage,sendChunkNb:t.sendChunkNb,transferDuration:t.transferDuration,lastPacket:t.lastPacket};x.get(i).emit("fileTransferProgress",{fileInfo:e,transferInformation:n}),t.transferEnded&&x.get(i).emit("fileSentSuccessfully",{fileInfo:e,transferInformation:n})})),Cn.removeEventListener("sendDataChannelOpen",r))})),this.fileTransfers.push(n.toString());var r=new nn(this,null);return r.id=n.toString(),r.type="sendFile",r.on("response",(function(){r.getStatus()!==l.g.INVITATION_STATUS_ACCEPTED&&yn.log("sendFile() - invitation has not been accepted, cleaning listeners")})),r}},{key:"pushMedia",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){n.fetchWebSessionInformation(t).then((function(n){return i.token=t.token,wn.pushConversationMedia(n.conversationId,e,Cn.getActiveApiKey(),i)})).then((function(e){Cn.sendData(n.getId(),{event:l.g.CONTACT_NEW_MEDIA_IDENTIFIER,media:{url:e.url,id:e.id}}),r({url:e.url,id:e.id})})).catch((function(e){a(R.g.createError(l.g.ERROR_OTHER,"pushMedia() - failed to push media",yn))}))}))}},{key:"fetchMediaList",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yn.debug("fetchMediaList()"),new Promise((function(i,r){t.fetchWebSessionInformation(e).then((function(t){return n.token=e.getToken(),wn.getConversationMediaList(t.conversationId,Cn.getActiveApiKey(),n)})).then(i).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"getMediaList() - failed to get media list",yn))}))}))}},{key:"sendEventCenterDataRequest",value:function(){return this.sendCustomEvent(l.g.CONTACT_EVENTCENTER_DATA_REQUEST)}},{key:"getContact",value:function(e){return lr.getActiveSession().getOrCreateContact(e)}},{key:"sendToContactRemoteStreamError",value:function(e,t,n){yn.debug("sendToContactRemoteStreamError",e,t,n),t.sendCustomEvent(l.g.CONTACT_GET_REMOTE_ERROR,{callId:n.callId,streamId:n.streamId,timeout:n.timeout,message:e})}},{key:"sendRemoteAccessInvitation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){if(t.isOnline()||yn.warn("sendRemoteAccessInvitation() - contact "+t.getUsername()+" does not seem to be connected."),null!==apiRTC.session.remoteAccessInvitation)return yn.warn("sendRemoteAccessInvitation() already ongoing"),r(new Error("sendRemoteAccessInvitation() already ongoing"));var a=new dn(t,e,n);apiRTC.session.remoteAccessInvitation=a,a.type=l.g.CONTACT_REMOTEACCESS_INVITATION_IDENTIFIER;var o={event:l.g.CONTACT_REMOTEACCESS_INVITATION_IDENTIFIER,invitationId:a.id,roomname:a.conversation._getTechnicalName(),sendTime:a.sendTime};a.send(o).then((function(){i(a)})).catch((function(e){return yn.error("Contact#sendRemoteAccessInvitation send error:",e),r(new Error(e))}))}))}}],i=[{key:"getAvailableEvents",value:function(){return In}}],n&&gn(t.prototype,n),i&&gn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O);function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function kn(e,t){return kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kn(e,t)}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}var Dn=v.Y.get("ConversationCall"),On=H.get(),Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kn(e,t)}(o,e);var t,n,i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xn(i);if(r){var n=xn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(i=a.call(this,Dn)).conversation=e,i.callId=t,i.stream=n,i}return t=o,n=[{key:"getConversation",value:function(){return this.conversation}},{key:"getCallId",value:function(){return this.callId}},{key:"getStream",value:function(){return this.stream}},{key:"isRecorded",value:function(){return!!this.recordingStatus}},{key:"getRecordingInfo",value:function(){return this.isRecorded()?this.recordingStatus:null}},{key:"isStreamed",value:function(){return!!this.streamingStatus}},{key:"getStreamingInfo",value:function(){return this.isStreamed()?this.streamingStatus:null}},{key:"startRecordingPublishedStream",value:function(e){var t=this;return e||(e={}),new Promise((function(n,i){if(t.asyncCallbacks)return i(R.g.createError(l.g.ERROR_OTHER,"startRecordingPublishedStream() - busy",Dn));t.asyncCallbacks={},t.asyncCallbacks.timeoutId=setTimeout((function(){return t.asyncCallbacks&&(On.removeEventListener("error",t.asyncCallbacks.error),On.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),delete t.asyncCallbacks),i(R.g.createError(l.g.ERROR_OTHER,"startRecordingPublishedStream() - timeout",Dn))}),l.g.CONVERSATION_RECORDING_STARTED_DELAY),t.asyncCallbacks.error=function(e){if(String(e.detail.convId)===t.conversation.getCloudConversationId()&&e.detail.callId===t.callId&&e.detail.errorCode.indexOf("START_RECORD")>=0)return t.asyncCallbacks&&(On.removeEventListener("error",t.asyncCallbacks.error),On.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks),i(R.g.createError(l.g.ERROR_OTHER,"startRecordingPublishedStream() - "+e.detail.errorInfo,Dn))},t.asyncCallbacks.recordingStarted=function(e){if(String(e.detail.convId)===t.conversation.getCloudConversationId()&&e.detail.callId===t.callId){t.asyncCallbacks&&(On.removeEventListener("error",t.asyncCallbacks.error),On.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStarted",e.detail);return n(i)}},On.onEvent("error",t.asyncCallbacks.error),On.onEvent("MCURecordingStarted",t.asyncCallbacks.recordingStarted);var r="AUDIO-VIDEO";!0===e.audioOnly?r="AUDIO-ONLY":!0===e.videoOnly&&(r="VIDEO-ONLY");var a="userStream";R.g.isPropertyTypeof(e,"customIdInFilename","string")&&(a=e.customIdInFilename);var o={};R.g.isPropertyTypeof(e,"data","object")&&(o=Object.assign({},e.data)),R.g.isPropertyTypeof(e,"ttl","number")&&e.ttl>0&&(o.ttl=e.ttl),On.webRTCClient.startRecording(r,a,t.conversation.getCloudConversationId(),t.callId,o)}))}},{key:"stopRecordingPublishedStream",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(R.g.createError(l.g.ERROR_OTHER,"stopRecordingPublishedStream() - busy",Dn));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(On.removeEventListener("error",e.asyncCallbacks.error),On.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),t(e.recordingStatus)}),l.g.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(String(t.detail.convId)===e.conversation.getCloudConversationId()&&t.detail.callId===e.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(On.removeEventListener("error",e.asyncCallbacks.error),On.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"stopRecordingPublishedStream() - "+t.detail.errorInfo,Dn))},e.asyncCallbacks.recordingStopped=function(n){if(String(n.detail.convId)===e.conversation.getCloudConversationId()&&n.detail.callId===e.callId){e.asyncCallbacks&&(On.removeEventListener("error",e.asyncCallbacks.error),On.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStopped",n.detail);return t(i)}},On.onEvent("error",e.asyncCallbacks.error),On.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),On.webRTCClient.stopRecording(e.callId)}))}},{key:"replacePublishedStream",value:function(e,t){var n=this;return Dn.debug("replacePublishedStream"),new Promise((function(i,r){if(null===e){if(!R.g.isPropertyTypeof(t,"getStream","function"))return r(new Error("replacePublishedStream() - Cannot replace stream, wrong arguments"));n.stream.publishedInConversations.delete(n.conversation.getName()),n.conversation.conversationPublishedStreams.delete(n.stream.userMediaStreamId);var a={getUserMediaStreamId:function(){return t.getStream().then((function(e){n.stream=e,e.publishedInConversations.set(n.conversation.getName(),n.callId),n.conversation.callIdToStreamId.set(n.callId,e.userMediaStreamId);var t={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:n.callId};return n.conversation.conversationPublishedStreams.set(e.userMediaStreamId,t),e.userMediaStreamId})).catch(r)}};On.webRTCClient.webRTCClient.addMedia(n.callId,!0,null,a).then((function(e){var t=function(e){if(_r.has(e))return _r.get(e);var t=apiCC.getUserMediaStream(e);if(t){var n="audio";return!0===t.video&&(n="video"),new Br(t.stream,{type:n,constructor:!0,userMediaStreamId:t.userMediaStreamId})}return null}(e.userMediaStreamId);return null!==t&&n.conversation.sendCustomEvent(l.g.CONTACT_STREAM_UPDATED_INFO,{callId:n.getCallId(),newStreamId:t.data.id,oldStreamId:e.oldMediaStreamId}),i(t)})).catch((function(e){return r(new Error("replacePublishedStream() - "+e))}))}else{n.stream.publishedInConversations.delete(n.conversation.getName()),n.conversation.conversationPublishedStreams.delete(n.stream.userMediaStreamId),On.webRTCClient.webRTCClient.addMedia(n.callId,!0,e.userMediaStreamId).then((function(t){return n.conversation.sendCustomEvent(l.g.CONTACT_STREAM_UPDATED_INFO,{callId:n.getCallId(),newStreamId:e.data.id,oldStreamId:t.oldMediaStreamId}),i(e)})).catch((function(e){return r(new Error("replacePublishedStream() - "+e))})),n.stream=e,e.publishedInConversations.set(n.conversation.getName(),n.callId),n.conversation.callIdToStreamId.set(n.callId,e.userMediaStreamId);var o={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:n.callId};n.conversation.conversationPublishedStreams.set(e.userMediaStreamId,o)}}))}},{key:"startStreaming",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){return e.asyncCallbacks?i(R.g.createError(l.g.ERROR_OTHER,"startStreaming() - busy",Dn)):On.webRTCClient.startStreaming(t.service,t.server,t.streamKey,e.callId)?(e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(On.removeEventListener("MCUStreamingStarted",e.asyncCallbacks.streamingStarted),delete e.asyncCallbacks),i(R.g.createError(l.g.ERROR_OTHER,"startStreaming() - timeout",Dn))}),l.g.CONVERSATION_STREAMING_STARTED_DELAY),e.asyncCallbacks.streamingStarted=function(t){if(t.detail.roomName===e.conversation._getTechnicalName()&&t.detail.callId===e.callId){e.asyncCallbacks&&(On.removeEventListener("MCUStreamingStarted",e.asyncCallbacks.streamingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=Di("MCUStreamingStarted",t.detail);return n(i)}},void On.onEvent("MCUStreamingStarted",e.asyncCallbacks.streamingStarted)):i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"startStreaming() - cannot start streaming",Dn))}))}},{key:"stopStreaming",value:function(){var e=this;return new Promise((function(t,n){return e.asyncCallbacks?n(R.g.createError(l.g.ERROR_OTHER,"stopStreaming() - busy",Dn)):On.webRTCClient.stopStreaming(e.callId)?(e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(On.removeEventListener("MCUStreamingStopped",e.asyncCallbacks.streamingStopped),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"stopStreaming() - timeout",Dn))}),l.g.CONVERSATION_STREAMING_STOPPED_DELAY),e.asyncCallbacks.streamingStopped=function(n){if(n.detail.roomName===e.conversation._getTechnicalName()&&n.detail.callId===e.callId){e.asyncCallbacks&&(On.removeEventListener("MCUStreamingStopped",e.asyncCallbacks.streamingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=Di("MCUStreamingStopped",n.detail);return t(i)}},void On.onEvent("MCUStreamingStopped",e.asyncCallbacks.streamingStopped)):n(R.g.createError(l.g.ERROR_BAD_PARAMETER,"stopStreaming() - cannot stop streaming",Dn))}))}},{key:"changeStreamPriority",value:function(e){var t=this;return new Promise((function(n,i){return On.webRTCClient.changeStreamPriority(t.callId,e)?(t.conversation.changeStreamPriority(t.stream.userMediaStreamId,!1,e),n()):i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"changeStreamPriority() - cannot change stream priority",Dn))}))}},{key:"updatePublishedStream",value:function(e,t){var n=this;return new Promise((function(i,r){if("audio"!==e&&"video"!==e)return r(R.g.createError(l.g.ERROR_BAD_PARAMETER,"updatePublishedStream() - wrong type",Dn));var a=t?"sendonly":"inactive";return On.webRTCClient.webRTCClient.processUpdateStream(n.callId,e,a)?i():r(R.g.createError(l.g.ERROR_OTHER,"updatePublishedStream() - cannot update",Dn))}))}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(O);function _n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Pn=v.Y.get("ContactCatalog"),Un=null,Fn={},Bn={leftGroup:{},joinedGroup:{},userDataChanged:[]},zn=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==Un)throw"Cannot construct singleton ContactCatalog";this.contactList=new Map,this.eventEmitter=new d,Un=this;var t=H.get();t.onEvent("connectedUsersListUpdate",(function(e){var n=apiRTC.session.apiCCId.toString(),i={};switch(e.detail.updateReason){case"newConnectionState":if("online"===e.detail.status){Pn.debug("new connection");var r,a=_n(e.detail.usersList);try{for(a.s();!(r=a.n()).done;)(i={userId:r.value,group:e.detail.group}).userId.toString()!==n&&Hn(i)}catch(e){a.e(e)}finally{a.f()}}else{Pn.debug("new disconnection");var o,s=_n(e.detail.usersList);try{for(s.s();!(o=s.n()).done;)i={userId:o.value,group:e.detail.group},void 0===Fn[i.group]&&(Fn[i.group]={}),i.userId.toString()!==n&&(Fn[i.group][i.userId.toString()]=setTimeout(Wn(i),t.contactDisconnectionDelay))}catch(e){s.e(e)}finally{s.f()}}break;case"userDataUpdate":Pn.debug("userDataUpdate");var l,c=_n(e.detail.usersList);try{for(c.s();!(l=c.n()).done;)(i={userId:l.value,group:e.detail.group}).userId.toString()!==n&&Gn(i)}catch(e){c.e(e)}finally{c.f()}break;case"callState":Pn.debug("callState change for user");var u,d=_n(e.detail.usersList);try{for(d.s();!(u=d.n()).done;)(i={userId:u.value,group:e.detail.group}).userId.toString()!==n&&Gn(i)}catch(e){d.e(e)}finally{d.f()}break;default:Pn.warn("default case for updateReason value")}})).onEvent("groupUnsubscribed",(function(e){var t,n=Un.getContacts(e),i=_n(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.get(r).removeFromGroup(e)}}catch(e){i.e(e)}finally{i.f()}}))}var t,n,i;return t=e,n=[{key:"onUpdate",value:function(e){this.eventEmitter.on("update",e)}},{key:"removeUpdateListener",value:function(e){this.eventEmitter.off("update",e)}},{key:"getContact",value:function(e){return null!=e&&this.contactList.has(e.toString())?this.contactList.get(e.toString()):null}},{key:"getOrCreateContact",value:function(e){var t=null;if(null!=e)if(this.contactList.has(e.toString()))t=this.contactList.get(e.toString());else try{t=new Rn(e.toString(),{}),this.contactList.set(e.toString(),t)}catch(e){Pn.debug("Contact not added : "+e)}return t}},{key:"getContacts",value:function(e){if(null==e)return this.contactList;var t,n=new Map,i=_n(this.contactList.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;this.contactList.get(r).inGroup(e)&&n.set(r,this.contactList.get(r))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"getOnlineContacts",value:function(e){var t=new Map;if(null==e){var n,i=_n(this.contactList.keys());try{for(i.s();!(n=i.n()).done;){var r=n.value;this.contactList.get(r).isOnline()&&t.set(r,this.contactList.get(r))}}catch(e){i.e(e)}finally{i.f()}}else{var a,o=_n(this.contactList.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;this.contactList.get(s).inGroup(e)&&this.contactList.get(s).isOnline()&&t.set(s,this.contactList.get(s))}}catch(e){o.e(e)}finally{o.f()}}return t}}],i=[{key:"get",value:function(){return null===Un&&(Un=new e),Un}}],n&&jn(t.prototype,n),i&&jn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wn(e){return function(){var t=e.userId.toString();if(Pn.info("Contact disconnected "+t+" from "+e.group),Un.contactList.has(t)){var n=Un.contactList.get(t);if(void 0===n)return void Pn.debug("Contact not exist with userId :",t);n.removeFromGroup(e.group),function(e,t){Pn.debug("updateContactListOnUserDisconnect()"),void 0===Bn.leftGroup[e]&&(Bn.leftGroup[e]=[]),Bn.leftGroup[e].push(t),Vn()}(e.group,n),void 0!==Fn[e.group]&&void 0!==Fn[e.group][t]&&delete Fn[e.group][t]}}}function Vn(){0===Object.keys(Bn.leftGroup).length&&0===Object.keys(Bn.joinedGroup).length&&0===Bn.userDataChanged.length||(Un.eventEmitter.emit("update",Bn),Bn={leftGroup:{},joinedGroup:{},userDataChanged:[]})}function Hn(e){Pn.debug("updateContactListOnUserConnection()");var t=e.userId.toString(),n=null,i=apiRTC.session.getConnectedUserInfo(t,"userData");Pn.debug("userData :",i);try{e.userData=JSON.parse(i)}catch(e){Pn.warn("userData parse error : "+e)}if(Un.contactList.has(t))n=Un.contactList.get(e.userId),Qt.equals(n.userData,e.userData)||(n.userData=new Qt(e.userData),Bn.userDataChanged.push(n));else{try{n=new Rn(t,e.userData),Un.contactList.set(t,n)}catch(e){Pn.debug("Contact not added : "+e)}n=Un.contactList.get(t)}void 0!==n?(void 0!==Fn[e.group]&&void 0!==Fn[e.group][t]&&(clearTimeout(Fn[e.group][t]),delete Fn[e.group][t]),n.inGroup(e.group)||(n.addToGroup(e.group),void 0===Bn.joinedGroup[e.group]&&(Bn.joinedGroup[e.group]=[]),Bn.joinedGroup[e.group].push(n)),Vn()):Pn.debug("Contact not exist with userId :",t)}function Gn(e){Pn.debug("updateContactListOnUserDataUpdate()");var t=e.userId.toString(),n=Un.contactList.get(e.userId);if(void 0!==n){var i=apiRTC.session.getConnectedUserInfo(t,"userData");Pn.debug("userData :",i);try{e.userData=JSON.parse(i)}catch(e){Pn.warn("userData parse error : "+e)}Qt.equals(n.userData,e.userData)||(n.userData=new Qt(e.userData),Bn.userDataChanged.push(n)),Vn()}else Pn.debug("Contact not exist with userId :",t)}function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Jn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(e){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zn(e)}var $n=v.Y.get("Conversation"),ei=H.get(),ti=new(Vt()),ni=zn.get(),ii=["adaptationTriggered","audioAmplitude","availableStreamsUpdated","bandwidthLimited","callStatsUpdate","compositeListChanged","contactJoined","contactJoinedWaitingRoom","contactLeft","contactLeftWaitingRoom","cpuLimited","customEvent","data","disconnectionWarning","entryAllowed","entryDenied","error","hangup","joined","left","localStreamUpdated","message","messageNotDelivered","moderatorConnected","newMediaAvailable","newWhiteboardSession","participantEjected","persistentDataUpdated","pointerLocationChanged","pointerSharingEnabled","recordingAvailable","recordingStarted","recordingStopped","remoteStreamUpdated","replayListChanged","roomModeChanged","simulcastFeedChanged","slowLink","streamAdded","streamListChanged","streamRemoved","streamingStarted","streamingStopped","transferPending","transferBegun","transferEnded","transferProgress","whiteboardRoomMemberUpdate","videoQualityChanged","waitingForModeratorAcceptance","remoteStreamIdUpdated"],ri=new Set(["CHAT","CALL","GROUP_CHAT","WEBCONF","REPORT","REPORT_PART","TICKET","EVENT","OTHER","BOT"]),ai=new Set(["audioSent","videoSent","audioReceived","videoReceived","quality"]),oi=new Set(["CALL_ABORTED","SET_LOCAL_DESCRIPTION_FAILURE","SET_REMOTE_DESCRIPTION_FAILURE"]),si=new WeakMap,li=new WeakMap,ci=new WeakMap,ui=new WeakMap,di=new WeakMap,fi=new WeakMap,hi=new WeakMap,pi=new WeakMap,gi=new WeakMap,mi=new WeakMap,vi=new WeakMap,bi=new WeakMap,yi=new WeakMap,Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zn(r);if(a){var n=Zn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kn(e)}(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),t=o.call(this,$n),$n.debug("Create Conversation"),null==e?si.set(Kn(t),R.g.guid().toString()):si.set(Kn(t),e.toString()),li.set(Kn(t),"OTHER"),t.active=!Object.prototype.hasOwnProperty.call(n,"active")||"boolean"!=typeof n.active||n.active,t.meshModeEnabled=!0===n.meshModeEnabled,t.meshOnlyEnabled=!0===n.meshOnlyEnabled,t.moderationEnabled=!0===n.moderationEnabled,t.moderator=!0===n.moderator,t.conversationCalls=new Map,t.callIdToStreamId=new Map,t.token=null,t.sessionId=null,t.webconfId=null,t.conversationStreams=new Map,t.conversationPublishedStreams=new Map,t.groupChatStatus=l.g.CONVERSATION_STATUS_NOT_JOINED,t.status=l.g.CONVERSATION_STATUS_NOT_JOINED,t.whiteboardStarted=l.g.CONVERSATION_WHITEBOARD_NOT_STARTED,t.pointerSharingState=l.g.STATE_IDLE,t.pointerSharingAutoInvite=!1,t.pgroupWaitingRoomSubscribedTo=!1,di.set(Kn(t),null),fi.set(Kn(t),null),hi.set(Kn(t),new Map),ui.set(Kn(t),null),pi.set(Kn(t),null),ci.set(Kn(t),{}),vi.set(Kn(t),new Map),yi.set(Kn(t),null),bi.set(Kn(t),null),t.transferCallIds=[],t.uploadCap=null,t.downloadCap=null,t.reservedStreams=[];var i={contactCatalog:{}};for(var r in i.contactCatalog.onUpdate=function(e){$n.debug("onUpdate: contactList",e);var n=t._getTechnicalName();if(void 0!==e.joinedGroup[n]){var i,r=Jn(e.joinedGroup[n]);try{for(r.s();!(i=r.n()).done;){var a=i.value;$n.debug(a.getUsername()+" joined conversation "+t.getName()),x.get(Kn(t)).emit("contactJoined",a),t.pointerSharingState===l.g.STATE_ACTIVE&&!0===t.pointerSharingAutoInvite&&ei.pointerSharingClient.inviteInRoom(n,a.getId())}}catch(e){r.e(e)}finally{r.f()}}else $n.debug("not an event joinedGroup for conversation");if(void 0!==e.leftGroup[n]){var o,s=Jn(e.leftGroup[n]);try{for(s.s();!(o=s.n()).done;){var c=o.value;$n.debug(c.getUsername()+" left conversation "+t.getName()),x.get(Kn(t)).emit("contactLeft",c)}}catch(e){s.e(e)}finally{s.f()}}else $n.debug("not an event leftGroup for conversation");if(t.getRole()===l.g.CONVERSATION_ROLE_MODERATOR){var u,d=ni.getContacts(l.g.CONVERSATION_WAITING_ROOM_PREFIX+n),f=Jn(vi.get(Kn(t)).keys());try{for(f.s();!(u=f.n()).done;){var h=u.value;if(!d.has(h)){var p=ni.getContact(h);null!==p&&($n.debug(p.getUsername()+" left waiting room "+t.getName()),x.get(Kn(t)).emit("contactLeftWaitingRoom",p))}}}catch(e){f.e(e)}finally{f.f()}d.forEach((function(e,i){vi.get(Kn(t)).has(i)||null===e||($n.debug(e.getUsername()+" joined waiting room "+t.getName()),x.get(Kn(t)).emit("contactJoinedWaitingRoom",e),ei.sendData(i,{event:l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected",roomname:n}).catch((function(n){var i=R.g.createError(n,"Notification not delivered",$n);x.get(Kn(t)).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected"})})))})),vi.set(Kn(t),d)}},ni.onUpdate(i.contactCatalog.onUpdate),x.get(Kn(t)).on("contactJoined",(function(e){t.getRole()===l.g.CONVERSATION_ROLE_MODERATOR&&ei.sendData(e.getId(),{event:l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected",roomname:t._getTechnicalName()}).catch((function(n){var i=R.g.createError(n,"Notification not delivered",$n);x.get(Kn(t)).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected"})}))})),i.apiRTCManager={},i.apiRTCManager.receiveData=function(e){var n=e.detail.data;if(void 0!==n){if(n.roomname===t._getTechnicalName()){var i=ni.getOrCreateContact(e.detail.senderId);if(n.event)switch(n.event){case l.g.CONVERSATION_SEND_DATA_IDENTIFIER:if(t.status!==l.g.CONVERSATION_STATUS_JOINED)break;x.get(Kn(t)).emit("data",{sender:i,content:n.content});break;case l.g.CONVERSATION_NEW_MEDIA_IDENTIFIER:if(t.status!==l.g.CONVERSATION_STATUS_JOINED)break;$n.info("New media available in conversation",n.media),x.get(Kn(t)).emit("newMediaAvailable",{sender:i,media:n.media});break;case l.g.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:if(t.status!==l.g.CONVERSATION_STATUS_JOINED)break;t.updateData();break;case l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER:x.get(Kn(t)).emit("moderatorConnected",i);break;case l.g.CONVERSATION_CLOSED_IDENTIFIER:n.instanceId===t.getInstanceId()&&($n.info("Conference "+t.getName()+" has been closed..."),x.get(Kn(t)).emit("closed"),t.leave());break;case l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER:if(void 0===n.access||null===n.access){$n.error("Conversation join answer has no access data");break}x.get(Kn(t)).emit(n.access?"entryAllowed":"entryDenied");break;case l.g.CONTACT_STREAM_UPDATED_INFO:$n.debug("CONTACT_STREAM_UPDATED_INFO :",e.detail.data);var r={callId:e.detail.data.callId,newStreamId:e.detail.data.newStreamId,oldStreamId:e.detail.data.oldStreamId};x.get(Kn(t)).emit("remoteStreamIdUpdated",r);break;default:x.get(Kn(t)).emit("customEvent",{event:n.event,content:n,sender:i})}else if("new_snapshot"===n.command){if(t.status!==l.g.CONVERSATION_STATUS_JOINED)return;$n.info("New media available in conversation",n.value.snapshot),x.get(Kn(t)).emit("newMediaAvailable",{sender:i,media:n.value.snapshot})}else $n.debug("Unprocessed conversation message",n)}}else $n.debug("Received data undefined, leaving process")},i.apiRTCManager.receiveGroupChatMessage=function(e){if((t.status===l.g.CONVERSATION_STATUS_JOINED||t.groupChatStatus===l.g.CONVERSATION_STATUS_JOINED)&&e.detail.groupChatId.toString()===t._getTechnicalName()){var n={sender:ni.getOrCreateContact(e.detail.senderId),sender_id:e.detail.senderId,content:e.detail.message,time:new Date};R.g.isTypeof(e.detail,"metadata","object")&&(n.metadata=e.detail.metadata),x.get(Kn(t)).emit("message",n)}},i.apiRTCManager.receiveRoomMessage=function(e){if("pointerSharing"===e.detail.roomType&&t.pointerSharingState===l.g.STATE_ACTIVE&&"pointerLocation"===e.detail.message.type&&e.detail.roomId===t._getTechnicalName()){var n={sender:ni.getOrCreateContact(e.detail.senderId),source:e.detail.message.source,x:e.detail.message.x,y:e.detail.message.y};R.g.isPropertyTypeof(e.detail.message,"data","object")&&(n.data=e.detail.message.data),x.get(Kn(t)).emit("pointerLocationChanged",n)}},i.apiRTCManager.roomInvitation=function(e){if($n.info("roomInvitation event handler ",e),e.detail.roomId.toString()===t._getTechnicalName())if($n.info("roomInvitation for actual conversation",e),"whiteBoard"===e.detail.roomType){if(t.status===l.g.CONVERSATION_STATUS_JOINED){var n=ni.getOrCreateContact(e.detail.senderId);x.get(Kn(t)).emit("newWhiteboardSession",{sender:n})}}else"pointerSharing"===e.detail.roomType&&xi(Kn(t),!1,!0).then((function(){})).catch((function(e){}))},i.apiRTCManager.onFilePending=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name,rank:e.detail.rank};x.get(Kn(t)).emit("transferPending",n)}},i.apiRTCManager.onFileSending=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name};x.get(Kn(t)).emit("transferBegun",n)}},i.apiRTCManager.onFileProgress=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name,size:e.detail.fileSize,remBytes:e.detail.remainingSize,percentage:e.detail.percentage};x.get(Kn(t)).emit("transferProgress",n)}},i.apiRTCManager.onFileSended=function(e){var n=t.transferCallIds.indexOf(e.detail.callId);if(n>=0){var i={id:e.detail.callId,name:e.detail.name};e.detail.error&&(i.error=e.detail.error),x.get(Kn(t)).emit("transferEnded",i),t.transferCallIds.splice(n,1)}},i.apiRTCManager)ei.onEvent(r,i.apiRTCManager[r]);gi.set(Kn(t),i);var a={MCUAvailableStream:function(e){var n,i=Jn(e.detail.streams);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.room===t._getTechnicalName()){var a={contact:ni.getOrCreateContact(r.attributes.callerId),isRemote:e.detail.isRemoteStream,hasAudio:r.audio,hasVideo:r.video,isAudioMuted:r.audioMuted,isVideoMuted:r.videoMuted,isScreensharing:"screenSharing"===r.attributes.callType||"screenSharingWithAudio"===r.attributes.callType,isSIP:!0===r.sip,isSimulcast:!0===r.simulcast,streamId:r.id,type:"regular",callId:r.attributes.callId,descriptor:r.attributes.descriptor,context:r.context};t.conversationStreams.set(a.streamId,a);var o={listEventType:"added"};R.g.assignObject(o,a),x.get(Kn(t)).emit("streamListChanged",o)}}}catch(e){i.e(e)}finally{i.f()}$n.debug("Nb stream into conversation :"+t.conversationStreams.size);var s,l={},c=Jn(t.conversationStreams.keys());try{for(c.s();!(s=c.n()).done;){var u=s.value;l[u]=t.conversationStreams.get(u)}}catch(e){c.e(e)}finally{c.f()}x.get(Kn(t)).emit("availableStreamsUpdated",l)},MCUAvailableStreamUpdate:function(e){var n,i=Jn(e.detail.streams);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.room===t._getTechnicalName()){var a=t.conversationStreams.get(r.id);if(a&&"regular"===a.type){a.hasAudio=r.audio,a.hasVideo=r.video,a.isAudioMuted=r.audioMuted,a.isVideoMuted=r.videoMuted,a.descriptor=r.attributes.descriptor;var o={listEventType:"updated"};R.g.assignObject(o,a),x.get(Kn(t)).emit("streamListChanged",o),a.descriptor&&Object.prototype.hasOwnProperty.call(a.descriptor,"priority")&&t.changeStreamPriority(a.streamId,!0,a.descriptor.priority)}}}}catch(e){i.e(e)}finally{i.f()}$n.debug("Nb stream into conversation :"+t.conversationStreams.size);var s,l={},c=Jn(t.conversationStreams.keys());try{for(c.s();!(s=c.n()).done;){var u=s.value;l[u]=t.conversationStreams.get(u)}}catch(e){c.e(e)}finally{c.f()}x.get(Kn(t)).emit("availableStreamsUpdated",l)},MCUAvailableComposite:function(e){var n,i=Jn(e.detail.streams);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.room===t._getTechnicalName()){var a={isRemote:e.detail.isRemoteStream,hasAudio:r.audio,hasVideo:r.video,isAudioMuted:r.audioMuted,isVideoMuted:r.videoMuted,isScreensharing:"screenSharing"===r.attributes.callType||"screenSharingWithAudio"===r.attributes.callType,isSIP:!0===r.sip,streamId:r.id,type:"composite",callId:r.attributes.callId,descriptor:r.attributes.descriptor,context:r.context};t.conversationStreams.set(a.streamId,a);var o={listEventType:"added"};R.g.assignObject(o,a),x.get(Kn(t)).emit("compositeListChanged",o)}}}catch(e){i.e(e)}finally{i.f()}},MCUAvailableReplay:function(e){var n,i=Jn(e.detail.streams);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.room===t._getTechnicalName()){var a={contact:ni.getOrCreateContact(r.attributes.callerId),isRemote:e.detail.isRemoteStream,hasAudio:r.audio,hasVideo:r.video,isAudioMuted:r.audioMuted,isVideoMuted:r.videoMuted,isScreensharing:"screenSharing"===r.attributes.callType||"screenSharingWithAudio"===r.attributes.callType,isSIP:!0===r.sip,streamId:r.id,type:"replay",callId:r.attributes.callId,descriptor:r.attributes.descriptor,context:r.context};t.conversationStreams.set(a.streamId,a);var o={listEventType:"added"};R.g.assignObject(o,a),x.get(Kn(t)).emit("replayListChanged",o)}}}catch(e){i.e(e)}finally{i.f()}},MCURemoveStream:function(e){if(t.conversationStreams.has(e.detail.streamId)){var n={listEventType:"removed"};R.g.assignObject(n,t.conversationStreams.get(e.detail.streamId)),"regular"===n.type?x.get(Kn(t)).emit("streamListChanged",n):"composite"===n.type&&x.get(Kn(t)).emit("compositeListChanged",n),t.conversationStreams.delete(e.detail.streamId),$n.debug("Nb stream into conversation :"+t.conversationStreams.size);var i,r={},a=Jn(t.conversationStreams.keys());try{for(a.s();!(i=a.n()).done;){var o=i.value;r[o]=t.conversationStreams.get(o)}}catch(e){a.e(e)}finally{a.f()}x.get(Kn(t)).emit("availableStreamsUpdated",r)}else $n.debug("Not a conversation's stream")},remoteStreamAdded:function(e){if(t.callIdToStreamId.has(e.detail.callId)){$n.info("remoteStreamAdded",e.detail);var n=ni.getOrCreateContact(e.detail.remoteId),i=t.callIdToStreamId.get(e.detail.callId),r=hi.get(Kn(t));r.has(i)&&x.get(Kn(t)).emit("streamRemoved",r.get(i));var a="audio"===e.detail.callType?"audio":"video",o="screenSharing"===e.detail.callType,s=new Br(e.detail.stream,{type:a,contact:n,streamId:i,callId:e.detail.callId,callAudioAvailable:e.detail.audioIsAvailable,callAudioActive:e.detail.audioIsActive,callAudioMuted:e.detail.audioIsMuted,callVideoAvailable:e.detail.videoIsAvailable,callVideoActive:e.detail.videoIsActive,callVideoMuted:e.detail.videoIsMuted,screensharing:o,constructor:!0});s.publishedInConversations.set(t.getName(),e.detail.callId),hi.get(Kn(t)).set(i,s),null!==apiRTC.session.remoteAccessInvitation&&apiRTC.session.remoteAccessInvitation.screenSharingStreamId===i?($n.debug("This is screensharing stream for remoteAccess"),s.screensharingRemoteAccessStream=!0,apiRTC.session.remoteAccessInvitation.setRemoteAccessStream(s)):x.get(Kn(t)).emit("streamAdded",s)}},remoteStreamRemoved:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i=hi.get(Kn(t));i.has(n)&&(x.get(Kn(t)).emit("streamRemoved",i.get(n)),i.delete(n))}},roomMemberUpdate:function(e){$n.info("roomMemberUpdate event handler ",e);var n,i=[],r=Jn(e.detail.contactList);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.push(ni.getOrCreateContact(a.contactId))}}catch(e){r.e(e)}finally{r.f()}"whiteBoard"===e.detail.roomType&&($n.info("Received whiteboard room member update"),x.get(Kn(t)).emit("whiteboardRoomMemberUpdate",{contacts:i,roomId:e.detail.roomId,status:e.detail.status}))},slowLink:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n};e.detail.advice&&(i.advice=e.detail.advice),x.get(Kn(t)).emit("slowLink",i)}},videoQualityChanged:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,hint:e.detail.hint,profileType:e.detail.profileType};e.detail.bitrate&&(i.bitrate=e.detail.bitrate),e.detail.width&&e.detail.height&&(i.width=e.detail.width,i.height=e.detail.height),e.detail.frameRate&&(i.frameRate=e.detail.frameRate),x.get(Kn(t)).emit("videoQualityChanged",i)}},simulcastFeedChanged:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,simulcast:e.detail.simulcast};x.get(Kn(t)).emit("simulcastFeedChanged",i)}},localStreamUpdated:function(e){if(e.detail.onCall&&t.callIdToStreamId.has(e.detail.callId)){var n={callId:e.detail.callId,streamId:e.detail.userMediaStreamId,audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,audioSilent:e.detail.audioIsSilent,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted,videoSilent:e.detail.videoIsSilent,cause:e.detail.cause};x.get(Kn(t)).emit("localStreamUpdated",n)}},remoteStreamUpdated:function(e){var n=e.detail,i=n.callId,r=n.cause;if(t.callIdToStreamId.has(i)&&("adaptation"===r||"userAction"===r)){var a={callId:i,streamId:t.callIdToStreamId.get(i),audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,audioSilent:e.detail.audioIsSilent,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted,videoSilent:e.detail.videoIsSilent,cause:r};setTimeout((function(){x.get(Kn(t)).emit("remoteStreamUpdated",a)}))}},MCURecordingStarted:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=R.g.parseRecordingEvent("MCURecordingStarted",e.detail);if("COMPOSITE"===n.callId)t.recordingStatus=n;else{var i=t.conversationCalls.get(n.callId);i&&(i.recordingStatus=n)}x.get(Kn(t)).emit("recordingStarted",n)}},MCURecordingStopped:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=R.g.parseRecordingEvent("MCURecordingStopped",e.detail);if("COMPOSITE"===n.callId)delete t.recordingStatus;else{var i=t.conversationCalls.get(n.callId);i&&delete i.recordingStatus}x.get(Kn(t)).emit("recordingStopped",n)}},MCURecordedStreamsAvailable:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=R.g.parseRecordingEvent("MCURecordedStreamsAvailable",e.detail);x.get(Kn(t)).emit("recordingAvailable",n)}},MCUStreamingStarted:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=Di("MCUStreamingStarted",e.detail),i=t.conversationCalls.get(n.callId);i&&(i.streamingStatus=n),x.get(Kn(t)).emit("streamingStarted",n)}},MCUStreamingStopped:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=Di("MCUStreamingStopped",e.detail),i=t.conversationCalls.get(n.callId);i&&delete i.streamingStatus,x.get(Kn(t)).emit("streamingStopped",n)}},onCallStatsUpdate:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,stats:{}};e.detail.userId&&(i.mesh=!0,i.userId=e.detail.userId,i.contact=ni.getOrCreateContact(e.detail.userId));for(var r=0,a=Object.keys(e.detail.stats);r<a.length;r++){var o=a[r];ai.has(o)&&(i.stats[o]=e.detail.stats[o])}x.get(Kn(t)).emit("callStatsUpdate",i)}},cpuLimited:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,encodeUsagePercent:e.detail.encodeUsagePercent};x.get(Kn(t)).emit("cpuLimited",i)}},bandwidthLimited:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,resolutionChanged:!0};x.get(Kn(t)).emit("bandwidthLimited",i)}},audioAmplitude:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i={callId:e.detail.callId,streamId:n,amplitude:e.detail.descriptor.amplitude,isSpeaking:e.detail.descriptor.isSpeaking,descriptor:{amplitude:e.detail.descriptor.amplitude,isSpeaking:e.detail.descriptor.isSpeaking}};x.get(Kn(t)).emit("audioAmplitude",i)}},hangup:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),i=hi.get(Kn(t));i.has(n)&&(x.get(Kn(t)).emit("streamRemoved",i.get(n)),i.delete(n)),"restarted"!==e.detail.reason&&"disconnected"!==e.detail.reason&&"Broken_by_MCU"!==e.detail.reason&&"RTC_Setup_Timeout"!==e.detail.reason&&(t.conversationCalls.has(e.detail.callId)?Ri(Kn(t),e.detail.callId):(t.callIdToStreamId.delete(e.detail.callId),t.releaseResources(n,{isRemote:!0,triggerAdaptation:!0})),x.get(Kn(t)).emit("hangup",{from:e.detail.hangupType,reason:e.detail.reason,streamId:n}))}},callRestarting:function(e){if(t.callIdToStreamId.has(e.detail.oldCallId)){var n=t.callIdToStreamId.get(e.detail.oldCallId);t.callIdToStreamId.delete(e.detail.oldCallId),t.callIdToStreamId.set(e.detail.newCallId,n)}},MCUParticipantEjected:function(e){if(t._getTechnicalName()===e.detail.roomId){var n=pi.get(Kn(t));if(e.detail.clientId===n.getId())t.leave().catch((function(e){$n.error("leave",e)})).then((function(){x.get(Kn(t)).emit("participantEjected",{self:!0})}));else{var i=ni.getOrCreateContact(e.detail.clientId);x.get(Kn(t)).emit("participantEjected",{self:!1,contact:i})}}},MCURoomModeChanged:function(e){t._getTechnicalName()===e.detail.roomId&&x.get(Kn(t)).emit("roomModeChanged",{oldMode:e.detail.oldMode,newMode:e.detail.newMode,state:e.detail.state})}};return mi.set(Kn(t),a),x.get(Kn(t)).on("left",(function(){t.pgroupWaitingRoomSubscribedTo&&(ei.apiRTCSession.unsubscribePresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+t._getTechnicalName()]),t.pgroupWaitingRoomSubscribedTo=!1),di.set(Kn(t),null),fi.set(Kn(t),null),pi.set(Kn(t),null),yi.set(Kn(t),null)})),t}return t=s,n=[{key:"destroy",value:function(){Vi.get().deleteConversation(this.getName());var e=gi.get(this);if(e){if(e.apiRTCManager)for(var t in e.apiRTCManager)ei.removeEventListener(t,e.apiRTCManager[t]);e.contactCatalog&&ni.removeUpdateListener(e.contactCatalog.onUpdate),gi.delete(this)}}},{key:"getStatus",value:function(){return this.status}},{key:"getName",value:function(){return si.get(this).toString()}},{key:"_getTechnicalName",value:function(){return si.get(this).toString()}},{key:"getRole",value:function(){return di.get(this)}},{key:"getInstanceId",value:function(){return yi.get(this)}},{key:"getFriendlyName",value:function(){return null}},{key:"getModerator",value:function(){return fi.get(this)}},{key:"getType",value:function(){return li.get(this)}},{key:"setType",value:function(e){return!this.isBound()&&!!ri.has(e)&&(li.set(this,e),!0)}},{key:"getCloudConversationId",value:function(){var e=ui.get(this);return e?e.toString():null}},{key:"getMedia",value:function(e){return new Promise((function(t,n){apiRTC.CloudApi.cloudFetchMedia(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"bind",value:function(e){var t=this;e||(e={});var n=ui.get(this);return null!==n?Promise.resolve(String(n)):new Promise((function(n,i){Si(t,e).then((function(e){n(String(e.id))})).catch((function(e){i(R.g.createError(l.g.ERROR_HTTP,"bind() - cannot bind conversation",$n,{fromError:e}))}))}))}},{key:"isBound",value:function(){return null!==ui.get(this)}},{key:"isGroupChatJoined",value:function(){return this.groupChatStatus===l.g.CONVERSATION_STATUS_JOINED}},{key:"joinGroupChat",value:function(){var e=this;return new Promise((function(t,n){if(e.groupChatStatus!==l.g.CONVERSATION_STATUS_NOT_JOINED)return n(R.g.createError(l.g.ERROR_WRONG_STATE,"joinGroupChat() - cannot join group chat",$n));e.bind().then((function(){return new Promise((function(t,n){if(e.asyncCallbacks)return n(R.g.createError(l.g.ERROR_OTHER,"joinGroupChat() - busy",$n));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return ei.removeEventListener("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),delete e.asyncCallbacks,n(R.g.createError(l.g.ERROR_OTHER,"joinGroupChat() - timeout",$n))}),l.g.CONVERSATION_GROUP_CHAT_MEMBER_UPDATE_DELAY),e.asyncCallbacks.groupChatMemberUpdate=function(n){if(n.detail.groupChatId===e._getTechnicalName()&&"online"===n.detail.status&&function(e,t){for(var n=e.length;--n>=0;)if(e[n].contactId===t)return!0;return!1}(n.detail.contactList,ei.getClientId()))return e.asyncCallbacks&&(ei.removeEventListener("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),t()},ei.onEvent("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),ei.joinGroupChat(e._getTechnicalName())}))})).then((function(){e.groupChatStatus=l.g.CONVERSATION_STATUS_JOINED,ei.joinAndSubscribeToPresenceGroup(e._getTechnicalName()),t()})).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"joinGroupChat() - cannot join group chat",$n,{fromError:e}))}))}))}},{key:"leaveGroupChat",value:function(){var e=this;return new Promise((function(t,n){return e.groupChatStatus!==l.g.CONVERSATION_STATUS_JOINED?n(R.g.createError(l.g.ERROR_WRONG_STATE,"leaveGroupChat() - group chat not joined",$n)):e.status!==l.g.CONVERSATION_STATUS_NOT_JOINED?n(R.g.createError(l.g.ERROR_WRONG_STATE,"leaveGroupChat() - webconf active",$n)):void ei.leaveGroupChat(e._getTechnicalName()).then((function(){e.groupChatStatus=l.g.CONVERSATION_STATUS_NOT_JOINED,ei.leaveAndUnsubscribeToPresenceGroup(e._getTechnicalName()),t()})).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"leaveGroupChat() - cannot leave group chat",$n,{fromError:e}))}))}))}},{key:"isJoined",value:function(){return this.status===l.g.CONVERSATION_STATUS_JOINED}},{key:"isPublishedStream",value:function(e){return e.publishedInConversations.has(this.getName())}},{key:"publish",value:function(e,t){var n=this;return t||(t={}),new Promise((function(i,r){if(n.status!==l.g.CONVERSATION_STATUS_JOINED)return r(R.g.createError(l.g.ERROR_OTHER,"publish() - conversation not joined",$n));if(!(e instanceof Br))return r(R.g.createError(l.g.ERROR_OTHER,"publish() - No stream specified",$n));if(n.isPublishedStream(e))return r(R.g.createError(l.g.ERROR_OTHER,"publish() - Stream is already published in this conversation!",$n));var a={};a.userMediaStreamId=e.userMediaStreamId,null!==t&&"object"===Yn(t)&&(a.audioOnly=t.audioOnly,a.videoOnly=t.videoOnly,a.private=t.private,a.record=t.record,a.turnServerAddress=t.turnServerAddress,a.profileType=t.profileType,a.priority=t.priority,a.downgradeProfileList=t.downgradeProfileList,a.distributedBroadcastEnabled=t.distributedBroadcastEnabled),R.g.isPropertyTypeof(t,"mediaType","string")&&(a.mediaType=t.mediaType,a.audioOnly&&(a.mediaType="AUDIOONLY"),a.videoOnly&&(a.mediaType="VIDEOONLY")),R.g.isPropertyTypeof(t,"qos","object")&&(a.qos={},R.g.isPropertyTypeof(t.qos,"videoMinBitrate","number")&&(a.qos.videoMinBitrate=t.qos.videoMinBitrate),R.g.isPropertyTypeof(t.qos,"videoMinQuality","string")&&(a.qos.videoMinQuality=t.qos.videoMinQuality),R.g.isPropertyTypeof(t.qos,"videoStartBitrate","number")&&(a.qos.videoStartBitrate=t.qos.videoStartBitrate),R.g.isPropertyTypeof(t.qos,"videoStartQuality","string")&&(a.qos.videoStartQuality=t.qos.videoStartQuality),R.g.isPropertyTypeof(t.qos,"videoForbidInactive","boolean")&&(a.qos.videoForbidInactive=t.qos.videoForbidInactive)),R.g.isPropertyTypeof(t,"simulcast","object")&&!a.audioOnly&&(a.simulcast={},R.g.isPropertyTypeof(t.simulcast,"mode","string")&&["RID","SDP"].indexOf(t.simulcast.mode)>=0&&(a.simulcast.mode=t.simulcast.mode),R.g.isPropertyTypeof(t.simulcast,"maxBitrate","number")?a.simulcast.maxBitrate=t.simulcast.maxBitrate:R.g.isPropertyTypeof(t.simulcast,"encodings","object")&&(a.simulcast.encodings=Object.assign({},t.simulcast.encodings))),["audioLabels","videoLabels"].forEach((function(e){R.g.isTypeof(t,e,"array")&&(a[e]=[],t[e].forEach((function(t){R.g.isTypeof(t,"string")&&a[e].push(t)})))})),R.g.isPropertyTypeof(t,"context","object")&&(a.context=t.context);var o=null;if(e.hasVideo()&&n.getNetworkCap({capacity:!0})&&t.profileType&&t.downgradeProfileList)for(var s=t.downgradeProfileList.length;--s>=0;)if(t.downgradeProfileList[s].name===t.profileType){t.downgradeProfileList[s].bitrate&&(o=t.downgradeProfileList[s].bitrate);break}if(o){if(!n.reserveResources(t.profileType,o,e.userMediaStreamId,!1,t.priority,{isVideoOnly:!e.hasAudio(),isVideoMuted:a.audioOnly,control:!0})&&!n.disableLowerPriorityVideo(!1,o,t.priority)){if(!e.hasAudio())return r(R.g.createError(l.g.ERROR_OTHER,"publish() - not enough bandwidth",$n));a.audioOnly=!0}n.reserveResources(t.profileType,o,e.userMediaStreamId,!1,t.priority,{isVideoOnly:!e.hasAudio(),isVideoMuted:a.audioOnly})}$n.info("callConfiguration:",a);var c=e.isScreensharing(),u=ei.webRTCClient.publish(n.sessionId,n.sessionId,n.token,a,{},{forceScreenSharingCallType:c});if(!u)return n.releaseResources(e.userMediaStreamId),r(R.g.createError(l.g.ERROR_OTHER,"publish() - failed to establish call",$n));n.conversationCalls.set(u,new Ln(n,u,e)),e.publishedInConversations.set(n.getName(),u),n.callIdToStreamId.set(u,e.userMediaStreamId);var d={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:u};n.conversationPublishedStreams.set(e.userMediaStreamId,d);var f={callEstablishedHandler:function(t){t.detail.callId.toString()===u.toString()&&(ei.removeEventListener("callEstablished",f.callEstablishedHandler),n.removeListener("error",f.errorHandler),i(e))}};ei.onEvent("callEstablished",f.callEstablishedHandler),f.errorHandler=function(t){t.callId===u&&(ei.removeEventListener("callEstablished",f.callEstablishedHandler),n.removeListener("error",f.errorHandler),n.releaseResources(e.userMediaStreamId),r(R.g.createError(l.g.ERROR_OTHER,"publish() - "+t.errorInfo,$n)))},n.on("error",f.errorHandler)}))}},{key:"unpublish",value:function(e,t){if(t||(t={}),e instanceof Br)if(this.isPublishedStream(e)){var n=e.publishedInConversations.get(this.getName()),i=!t.noTriggerAdaptation;Ri(this,n,{stream:e,triggerAdaptation:i}),ei.webRTCClient&&ei.webRTCClient.unpublish(n)}else $n.error("unpublish() - Stream is not published to conversation");else $n.error("unpublish() - No stream specified",e)}},{key:"getConversationCall",value:function(e){if(!e)return null;var t=e.publishedInConversations.get(this.getName());return t?this.conversationCalls.get(t):null}},{key:"replacePublishedStream",value:function(e,t,n){var i=this;return $n.info("replacePublishedStream"),new Promise((function(r,a){var o=i.getConversationCall(e);if(null===o)return a(new Error("CALL_NOT_FOUND"));o.replacePublishedStream(t,n).then((function(e){console.debug("replacePublishedStream OK"),r(e)})).catch((function(e){console.error("replacePublishedStream NOK"),a(e)}))}))}},{key:"getCallId",value:function(e){return e.publishedInConversations.get(this.getName())}},{key:"checkAccess",value:function(e){var t=this;return e||(e={}),new Promise((function(n,i){if(!0!==e.force&&t.accessStatus)return n(t.accessStatus);e.hasOwnProperty("session")||null===lr.getActiveSession()||(e.session=lr.getActiveSession()),t.bind(e).then((function(n){return e.convId=n,ti.checkConferenceAccess(t._getTechnicalName(),ei.getActiveApiKey(),e)})).then((function(e){return e.access!==l.g.CONVERSATION_ACCESS_GRANTED&&e.access!==l.g.CONVERSATION_NEED_MODERATOR_ACCEPTATION&&$n.warn("checkAccess() - unknown access response:",e.access),e.role!==l.g.CONVERSATION_ROLE_MODERATOR&&e.role!==l.g.CONVERSATION_ROLE_CONTRIBUTOR&&e.role!==l.g.CONVERSATION_ROLE_GUEST&&$n.warn("checkAccess() - unknown role response:",e.role),e.hasOwnProperty("webconfId")&&(t.webconfId=e.webconfId,delete e.webconfId),t.accessStatus=R.g.assignObject({},e),n(t.accessStatus)})).catch((function(e){i(R.g.createError(l.g.ERROR_APIRTC_INITIALISATION_FAILED,"checkAccess() - cannot check access",$n,{fromError:e}))}))}))}},{key:"join",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $n.debug("Joining "+this.getName()),new Promise((function(n,i){if(e.status!==l.g.CONVERSATION_STATUS_NOT_JOINED)return i(R.g.createError(l.g.ERROR_OTHER,"join() - cannot join conversation",$n));t=Object.assign({},t);var r=!1;t.qualityAdaptationEnabled&&(r=!0,delete t.qualityAdaptationEnabled);var a=null;t.supportedVideoCodecs&&(a=t.supportedVideoCodecs,delete t.supportedVideoCodecs),e.checkAccess(t).then((function(t){if(!e.conference){if("public"!==t.type)return Promise.reject(R.g.createError(l.g.ERROR_UNAUTHORIZED,"join() - wrong conference type",$n));if(t.access!==l.g.CONVERSATION_ACCESS_GRANTED)return Promise.reject(R.g.createError(l.g.ERROR_UNAUTHORIZED,"join() - access to conference not granted",$n))}return Ti(e,t)})).then((function(n){if(di.set(e,n.role),e.status=l.g.CONVERSATION_STATUS_JOINING,e.conference)return t.hasOwnProperty("password")&&bi.set(e,t.password),e.friendlyName=n.hasOwnProperty("friendlyName")?n.friendlyName:e.friendlyName,yi.set(e,n.instanceId),Mi(e,pi.get(e),ei.getActiveApiKey())})).then((function(){var t=e,o=function e(r){if($n.debug("joinMCUSessionAnswer",t._getTechnicalName(),r.detail),r.detail.roomId.toString()===t._getTechnicalName()){if(r.detail.result&&r.detail.result.failed){$n.error("Conversation "+t.getName()+" join failed",r.detail),this.status=l.g.CONVERSATION_STATUS_NOT_JOINED;var a=r.detail.result.reason?r.detail.result.reason:"join failed";return i(R.g.createError(l.g.ERROR_UNAUTHORIZED,"join() - "+a,$n))}$n.info("Conversation "+t.getName()+" joined",r.detail),ei.removeEventListener("joinMCUSessionAnswer",e),t.status=l.g.CONVERSATION_STATUS_JOINED,t.token=r.detail.token,t.sessionId=r.detail.sessionId,t.mode=r.detail.mode,t.conversationStreams=new Map;var o=mi.get(t);ei.onEvent("MCUAvailableStream",o.MCUAvailableStream).onEvent("MCUAvailableStreamUpdate",o.MCUAvailableStreamUpdate).onEvent("MCURemoveStream",o.MCURemoveStream).onEvent("MCUAvailableComposite",o.MCUAvailableComposite).onEvent("MCUAvailableReplay",o.MCUAvailableReplay).onEvent("MCUParticipantEjected",o.MCUParticipantEjected).onEvent("remoteStreamAdded",o.remoteStreamAdded).onEvent("remoteStreamRemoved",o.remoteStreamRemoved).onEvent("roomMemberUpdate",o.roomMemberUpdate).onEvent("slowLink",o.slowLink).onEvent("localStreamUpdated",o.localStreamUpdated).onEvent("remoteStreamUpdated",o.remoteStreamUpdated).onEvent("simulcastFeedChanged",o.simulcastFeedChanged).onEvent("MCURecordingStarted",o.MCURecordingStarted).onEvent("MCURecordingStopped",o.MCURecordingStopped).onEvent("MCURecordedStreamsAvailable",o.MCURecordedStreamsAvailable).onEvent("MCUStreamingStarted",o.MCUStreamingStarted).onEvent("MCUStreamingStopped",o.MCUStreamingStopped).onEvent("MCURoomModeChanged",o.MCURoomModeChanged).onEvent("onCallStatsUpdate",o.onCallStatsUpdate).onEvent("hangup",o.hangup).onEvent("callRestarting",o.callRestarting).onEvent("audioAmplitude",o.audioAmplitude).onEvent("videoQualityChanged",o.videoQualityChanged).onEvent("cpuLimited",o.cpuLimited).onEvent("bandwidthLimited",o.bandwidthLimited),t.conference&&t.updateData(),t.getRole()===l.g.CONVERSATION_ROLE_MODERATOR&&(ei.apiRTCSession.subscribePresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+t._getTechnicalName()]),t.pgroupWaitingRoomSubscribedTo=!0),t.groupChatStatus!==l.g.CONVERSATION_STATUS_NOT_JOINED&&(t.groupChatStatus=l.g.CONVERSATION_STATUS_NOT_JOINED),x.get(t).emit("joined");var s={};"mesh"===r.detail.mode&&(s.mode="mesh",!0===r.detail.meshOnly&&(s.meshOnly=!0)),n(s)}};ei.onEvent("joinMCUSessionAnswer",o);var s={};s.convId=e.getCloudConversationId(),e.meshModeEnabled&&(s.meshModeEnabled=e.meshModeEnabled),e.meshOnlyEnabled&&(s.meshOnlyEnabled=e.meshOnlyEnabled),e.conference||(e.moderationEnabled&&(s.moderationEnabled=!0),e.getRole()===l.g.CONVERSATION_ROLE_MODERATOR&&(s.moderator=!0)),r&&(s.qualityAdaptationEnabled=!0),a&&(s.supportedVideoCodecs=a);var c=ei.webRTCClient.joinMCUSession(e._getTechnicalName(),s);if(c instanceof Error)return ei.removeEventListener("joinMCUSessionAnswer",o),t.status=l.g.CONVERSATION_STATUS_NOT_JOINED,i(R.g.createError(l.g.ERROR_OTHER,"join() - cannot join conversation :"+c.message,$n))})).catch((function(t){return e.status=l.g.CONVERSATION_STATUS_NOT_JOINED,i(R.g.createError(l.g.ERROR_OTHER,"join() - cannot join conversation",$n,{fromError:t}))}))}))}},{key:"cancelJoin",value:function(){return null!==this.cancelJoin0&&"function"==typeof this.cancelJoin0&&this.cancelJoin0()}},{key:"eject",value:function(e,t){var n=this;return new Promise((function(i,r){if(n.status!==l.g.CONVERSATION_STATUS_JOINED)return r(R.g.createError(l.g.ERROR_OTHER,"eject() - conference not joined",$n));if(n.getRole()!==l.g.CONVERSATION_ROLE_MODERATOR)return r(R.g.createError(l.g.ERROR_UNAUTHORIZED,"eject() - only moderator can eject a contact",$n));var a={};a.timeoutId=setTimeout((function(){return a&&(ei.removeEventListener("MCUParticipantEjected",a.ejected),a=!1),r(R.g.createError(l.g.ERROR_OTHER,"eject() - timeout",$n))}),l.g.CONVERSATION_PARTICIPANT_EJECTION_DELAY),a.ejected=function(t){if(t.detail.roomId===n._getTechnicalName()&&t.detail.clientId===e.getId())return a&&(clearTimeout(a.timeoutId),ei.removeEventListener("MCUParticipantEjected",a.ejected),a=!1),i()},ei.onEvent("MCUParticipantEjected",a.ejected),ei.webRTCClient.ejectParticipantFromMCUSession(e.getId(),t)}))}},{key:"allowEntry",value:function(e,t){var n=this;return t||(t={}),new Promise((function(i,r){if(n.status!==l.g.CONVERSATION_STATUS_JOINED)return r(R.g.createError(l.g.ERROR_OTHER,"allowEntry() - conference not joined",$n));if(!(e instanceof Rn))return r(R.g.createError(l.g.ERROR_BAD_PARAMETER,"allowEntry() - parameter is not an instance of apiRTC.Contact",$n));if(n.getRole()!==l.g.CONVERSATION_ROLE_MODERATOR)return r(R.g.createError(l.g.ERROR_UNAUTHORIZED,"allowEntry() - only moderator can allow entry to a contact",$n));var a={roomname:n._getTechnicalName(),event:l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER,access:!0,command:"access",value:{access:!0}};if(t.hasOwnProperty("invitationId")&&(a.invitationId=t.invitationId),t.hasOwnProperty("answer")&&(a.answer=t.answer),ei.sendData(e.getId(),a).catch((function(t){var i=R.g.createError(t,"Notification not delivered",$n);x.get(n).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})})),!0===t.ackEnabled){var o=setInterval((function(){a.command="access-new",ei.sendData(e.getId(),a).catch((function(t){var i=R.g.createError(t,"Notification not delivered",$n);x.get(n).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})}))}),l.g.CONVERSATION_JOIN_REQUEST_INTERVAL);ei.onEvent("receiveData",(function t(i){var r=ni.getOrCreateContact(i.detail.senderId);i.detail.hasOwnProperty("data")&&"access-ack"===i.detail.data.command&&i.detail.data.roomname===n._getTechnicalName()&&r.getId()===e.getId()&&(clearInterval(o),ei.removeEventListener("receiveData",t))}))}return i()}))}},{key:"denyEntry",value:function(e,t){var n=this;return t||(t={}),new Promise((function(i,r){if(n.status!==l.g.CONVERSATION_STATUS_JOINED)return r(R.g.createError(l.g.ERROR_OTHER,"denyEntry() - conference not joined",$n));if(!(e instanceof Rn))return r(R.g.createError(l.g.ERROR_BAD_PARAMETER,"denyEntry() - parameter is not an instance of apiRTC.Contact",$n));if(n.getRole()!==l.g.CONVERSATION_ROLE_MODERATOR)return r(R.g.createError(l.g.ERROR_UNAUTHORIZED,"denyEntry() - only moderator can deny entry to a contact",$n));var a={roomname:n._getTechnicalName(),event:l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER,access:!1,command:"access",value:{access:!1}};return t.hasOwnProperty("invitationId")&&(a.invitationId=t.invitationId),t.hasOwnProperty("answer")&&(a.answer=t.answer),t.hasOwnProperty("reason")&&(a.reason=t.reason),ei.sendData(e.getId(),a).catch((function(t){var i=R.g.createError(t,"Notification not delivered",$n);x.get(n).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})})),i()}))}},{key:"sendJoinRequest",value:function(){var e=this;if(this.status===l.g.CONVERSATION_STATUS_WAITING){if(!this.joinRequestIntervalId){var t=Ii(this);t&&(ei.sendData(t,{roomname:this._getTechnicalName(),event:l.g.CONVERSATION_JOIN_REQUEST_IDENTIFIER,invitationId:this._getTechnicalName(),sendTime:Date.now(),command:"userWaiting",value:{username:wi()}}).catch((function(t){var n=R.g.createError(t,"Notification not delivered",$n);x.get(e).emit("messageNotDelivered",{error:n,contact:e.getModerator(),event:l.g.CONVERSATION_JOIN_REQUEST_IDENTIFIER,command:"userWaiting"})})),this.joinRequestIntervalId=setInterval((function(){ei.sendData(t,{roomname:e._getTechnicalName(),event:l.g.CONVERSATION_JOIN_REQUEST_IDENTIFIER,invitationId:e._getTechnicalName(),sendTime:Date.now(),command:"userWaiting-new",value:{username:wi()}}).catch((function(t){var n=R.g.createError(t,"Notification not delivered",$n);x.get(e).emit("messageNotDelivered",{error:n,contact:e.getModerator(),event:l.g.CONVERSATION_JOIN_REQUEST_IDENTIFIER,command:"userWaiting-new"})}))}),l.g.CONVERSATION_JOIN_REQUEST_INTERVAL))}}else $n.error("sendJoinRequest() - Not in conversation's waiting room, cannot send join request")}},{key:"leave",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==l.g.CONVERSATION_STATUS_JOINED)return n(R.g.createError(l.g.ERROR_WRONG_STATE,"leave() - webconf not joined",$n));for(var i=mi.get(e),r=0,a=Object.keys(i);r<a.length;r++){var o=a[r];$n.info("Session, removing apiRTCManager event :",o);var s=i[o];ei.removeEventListener(o,s)}var c,u=Jn(e.conversationStreams.keys());try{for(u.s();!(c=u.n()).done;){var d=c.value;$n.trace("Leave() - unsubscribe to "+d),null!==ei.webRTCClient&&ei.webRTCClient.unsubscribe(d)}}catch(e){u.e(e)}finally{u.f()}xi(e,!1,!1).then((function(){})).catch((function(e){})),null!==ei.webRTCClient&&ei.IMClient.leaveGroupChat(e._getTechnicalName()),e.whiteboardStarted===l.g.CONVERSATION_WHITEBOARD_STARTED&&ei.whiteBoardClient.roomId===e._getTechnicalName()&&(ei.whiteBoardClient.leaveRoom(),ei.whiteBoardClient.stop(),e.whiteboardStarted=l.g.CONVERSATION_WHITEBOARD_NOT_STARTED),null!==ei.webRTCClient&&ei.webRTCClient.leaveMCUSession(),e.conversationStreams=new Map,e.status=l.g.CONVERSATION_STATUS_NOT_JOINED,x.get(e).emit("left"),t()}))}},{key:"subscribeToStream",value:function(e,t){var n=this;if(t||(t={}),$n.debug("subscribeToMedia",e),!this.isJoined())return Promise.reject(R.g.createError(l.g.ERROR_OTHER,"subscribeToMedia() - conversation not joined",$n));var i={};null!==t.turnServerAddress&&void 0!==t.turnServerAddress&&(i.turnServerAddress=t.turnServerAddress),R.g.isPropertyTypeof(t,"qos","object")&&(i.qos={},R.g.isPropertyTypeof(t.qos,"videoForbidInactive","boolean")&&(i.qos.videoForbidInactive=t.qos.videoForbidInactive));var r=Number(e),a=ei.webRTCClient.getStreamFromList(r),o=this.conversationStreams.get(r);if(!a||!o)return Promise.reject(R.g.createError(l.g.ERROR_OTHER,"subscribeToMedia() - no such stream",$n));if(R.g.isPropertyTypeof(t,"simulcast","object")){var s=["high","medium","low"];i.simulcast={},t.simulcast.streamQuality&&(s.indexOf(t.simulcast.streamQuality)>=0?i.simulcast.streamQuality=t.simulcast.streamQuality:i.simulcast.streamQuality="default"),t.simulcast.streamFrameRate&&(s.indexOf(t.simulcast.streamFrameRate)>=0?i.simulcast.streamFrameRate=t.simulcast.streamFrameRate:i.simulcast.streamFrameRate="default")}return new Promise((function(s,c){var u="VIDEO";if(o.hasVideo&&n.getNetworkCap({capacity:!0})&&R.g.isPropertyTypeof(o,"descriptor","object")){var d=o.descriptor;if(!n.reserveResources(d.profileType,d.bitrate,r,!0,d.priority,{isVideoOnly:!o.hasAudio,isVideoMuted:t.audioOnly,control:!0})&&!n.disableLowerPriorityVideo(!0,d.bitrate,d.priority)){if(!o.hasAudio)return c(R.g.createError(l.g.ERROR_OTHER,"subscribeToMedia() - not enough bandwidth",$n));t.audioOnly=!0}n.reserveResources(d.profileType,d.bitrate,r,!0,d.priority,{isVideoOnly:!o.hasAudio,isVideoMuted:t.audioOnly})}!0===t.audioOnly?u="AUDIOONLY":!0===t.videoOnly&&(u="VIDEOONLY");var f=ei.webRTCClient.subscribe([a],u,{},i,t)[0];if(!f)return n.releaseResources(r),c(R.g.createError(l.g.ERROR_OTHER,"subscribeToMedia() - stream not available",$n));n.callIdToStreamId.set(f,r),$n.debug("Subscribed to stream "+e+" through call "+f);var h={streamAddedHandler:function(e){e.streamId===r&&(n.removeListener("streamAdded",h.streamAddedHandler),n.removeListener("error",h.errorHandler),s(e))}};n.on("streamAdded",h.streamAddedHandler),h.errorHandler=function(e){e.callId===f&&(n.removeListener("streamAdded",h.streamAddedHandler),n.removeListener("error",h.errorHandler),n.releaseResources(r),c(R.g.createError(l.g.ERROR_OTHER,"subscribeToMedia() - "+e.errorInfo,$n)))},n.on("error",h.errorHandler)}))}},{key:"updateSubscribedStream",value:function(e,t){t||(t={});var n=Number(e);if(!hi.get(this).has(n))return $n.error("updateSubscribedStream() - Conversation stream "+e+" does not exist or was not subscribed to"),Promise.reject("wrong streamId");var i=hi.get(this).get(n);if(R.g.isTypeof(t.simulcast,"object"))return ei.webRTCClient.webRTCClient.updateSimulcastFeedOnCall(i.callId,t.simulcast);var r="VIDEO";return!0===t.audioOnly?r="AUDIOONLY":!0===t.videoOnly&&(r="VIDEOONLY"),ei.webRTCClient.webRTCClient.updateMediaTypeOnCall(i.callId,r)}},{key:"unsubscribeToStream",value:function(e,t){t||(t={});var n=Number(e);null!==ei.webRTCClient&&ei.webRTCClient.unsubscribe(n);var i=!t.noTriggerAdaptation;this.releaseResources(e,{isRemote:!0,triggerAdaptation:i})}},{key:"subscribeToMedia",value:function(e,t){return this.subscribeToStream(e,t)}},{key:"unsubscribeToMedia",value:function(e){this.unsubscribeToStream(e)}},{key:"startRecording",value:function(e){var t=this;return e||(e={}),new Promise((function(n,i){if(t.status!==l.g.CONVERSATION_STATUS_JOINED)return i(R.g.createError(l.g.ERROR_OTHER,"startRecording() - conversation not joined",$n));if(t.asyncCallbacks)return i(R.g.createError(l.g.ERROR_OTHER,"startRecording() - busy",$n));t.asyncCallbacks={},t.asyncCallbacks.timeoutId=setTimeout((function(){return t.asyncCallbacks&&(ei.removeEventListener("error",t.asyncCallbacks.error),ei.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),delete t.asyncCallbacks),i(R.g.createError(l.g.ERROR_OTHER,"startRecording() - timeout",$n))}),l.g.CONVERSATION_RECORDING_STARTED_DELAY),t.asyncCallbacks.error=function(e){if(String(e.detail.convId)===t.getCloudConversationId()&&"COMPOSITE"===e.detail.callId&&e.detail.errorCode.indexOf("START_RECORD")>=0)return t.asyncCallbacks&&(ei.removeEventListener("error",t.asyncCallbacks.error),ei.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks),i(R.g.createError(l.g.ERROR_OTHER,"startRecording() - "+e.detail.errorInfo,$n))},t.asyncCallbacks.recordingStarted=function(e){if(String(e.detail.convId)===t.getCloudConversationId()&&"COMPOSITE"===e.detail.callId){t.asyncCallbacks&&(ei.removeEventListener("error",t.asyncCallbacks.error),ei.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStarted",e.detail);return n(i)}},ei.onEvent("error",t.asyncCallbacks.error),ei.onEvent("MCURecordingStarted",t.asyncCallbacks.recordingStarted);var r="AUDIO-VIDEO";!0===e.audioOnly?r="AUDIO-ONLY":!0===e.videoOnly&&(r="VIDEO-ONLY");var a="composite";R.g.isPropertyTypeof(e,"customIdInFilename","string")&&(a=e.customIdInFilename);var o={};R.g.isPropertyTypeof(e,"data","object")&&(o=R.g.assignObject({},e.data)),["complete","efficient","audioOnly"].indexOf(e.mode)>=0?o.mode=e.mode:o.mode="complete",o.labelEnabled=!0===e.labelEnabled,!0===o.labelEnabled&&(o.labels=[],R.g.isTypeof(e.labels,"array")&&e.labels.forEach((function(e){R.g.isTypeof(e,"string")&&o.labels.push(e)}))),R.g.isTypeof(e,"ttl","number")&&e.ttl>0&&(o.ttl=e.ttl),ei.webRTCClient.startCompositeRecording(r,a,t.getCloudConversationId(),o)}))}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(R.g.createError(l.g.ERROR_OTHER,"stopRecording() - busy",$n));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(ei.removeEventListener("error",e.asyncCallbacks.error),ei.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),t(e.recordingStatus)}),l.g.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(String(t.detail.convId)===e.getCloudConversationId()&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(ei.removeEventListener("error",e.asyncCallbacks.error),ei.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(R.g.createError(l.g.ERROR_OTHER,"stopRecording() - "+t.detail.errorInfo,$n))},e.asyncCallbacks.recordingStopped=function(n){if(String(n.detail.convId)===e.getCloudConversationId()&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(ei.removeEventListener("error",e.asyncCallbacks.error),ei.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var i=R.g.parseRecordingEvent("MCURecordingStopped",n.detail);return t(i)}},ei.onEvent("error",e.asyncCallbacks.error),ei.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),ei.webRTCClient.stopCompositeRecording()}))}},{key:"getContacts",value:function(){$n.debug("getContacts()");var e={};if(this.isBound()){var t,n=zn.get().getContacts(this._getTechnicalName()),i=Jn(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;e[r]=n.get(r)}}catch(e){i.e(e)}finally{i.f()}}else $n.warn("getContacts() - Cannot get contacts as conversation is not joined");return e}},{key:"getContactsArray",value:function(){$n.debug("getContactsArray()");var e=[];if(this.isBound()){var t,n=zn.get().getContacts(this._getTechnicalName()),i=Jn(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;e.push(n.get(r))}}catch(e){i.e(e)}finally{i.f()}}else $n.warn("getContacts() - Cannot get contacts as conversation is not joined");return e}},{key:"getContactsNumber",value:function(){$n.debug("getContactsNumber()");var e=0;return this.isBound()?e=zn.get().getContacts(this._getTechnicalName()).size:$n.warn("getContactsNumber() - Cannot get contacts as conversation is not joined"),e}},{key:"getData",value:function(){return $n.debug("getData()"),this.isBound()||$n.warn("getData() - Cannot get most recent data as conversation is not joined, you may want to call Conversation.updateData() instead"),ci.get(this)}},{key:"setData",value:function(e){var t=this;return new Promise((function(n,i){t.bind().then((function(){return ti.setConversationData(ui.get(t),JSON.stringify(e),ei.getActiveApiKey(),{token:pi.get(t).token})})).then((function(){ci.set(t,e),ei.dataClient.sendDataToGroup(t._getTechnicalName(),{event:l.g.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER,roomname:t._getTechnicalName()}),n()})).catch((function(){i(R.g.createError(l.g.ERROR_OTHER,"setData() - cannot set conversation data",$n))}))}))}},{key:"updateData",value:function(){var e=this;return new Promise((function(t,n){(e.isBound()?Si(e):e.bind()).then((function(){t(),x.get(e).emit("persistentDataUpdated",ci.get(e))})).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"updateData() - cannot update conversation data",$n,{fromError:e}))}))}))}},{key:"getAvailableMediaList",value:function(){return $n.warn("Function deprecated, please use Conversation.getAvailableStreamList() instead"),this.getAvailableStreamList()}},{key:"getAvailableStreamList",value:function(){var e,t=[],n=Jn(this.conversationStreams.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(this.conversationStreams.get(i))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getStreamInfo",value:function(e){return this.conversationStreams.get(e)}},{key:"getSubscribedStream",value:function(e){return hi.get(this).get(Number(e))}},{key:"linkWhiteboardClientToConversation",value:function(){$n.warn("DEPRECATED : linkWhiteboardClientToConversation : no more needed")}},{key:"startNewWhiteboardSession",value:function(e,t){var n=this;return $n.debug("startNewWhiteboardSession()"),new Promise((function(i,r){n.bind().then((function(){if(n.asyncCallbacks)return r(R.g.createError(l.g.ERROR_OTHER,"startNewWhiteboardSession() - busy",$n));if(n.whiteboardStarted!==l.g.CONVERSATION_WHITEBOARD_NOT_STARTED)return i();ei.whiteBoardClient.start(),n.asyncCallbacks={},n.asyncCallbacks.ackHandler=function(r){var a=r.detail;a.roomId===n._getTechnicalName()&&"whiteBoard"===a.roomType&&("roomCreation"===a.eventType&&"roomCreated"===a.status||"roomJoined"===a.eventType&&"roomJoined"===a.status)&&(n.asyncCallbacks&&(ei.removeEventListener("roomCreation",n.asyncCallbacks.ackHandler),ei.removeEventListener("roomJoined",n.asyncCallbacks.ackHandler),clearTimeout(n.asyncCallbacks.timeoutId),delete n.asyncCallbacks),ei.whiteBoardClient.setCanvas(e),null!=t&&ei.whiteBoardClient.setUserCursorColor(t),ei.whiteBoardClient.deleteHistory(),n.whiteboardStarted=l.g.CONVERSATION_WHITEBOARD_STARTED,i())},ei.onEvent("roomCreation",n.asyncCallbacks.ackHandler),ei.onEvent("roomJoined",n.asyncCallbacks.ackHandler),n.asyncCallbacks.timeoutId=setTimeout((function(){return n.asyncCallbacks&&(ei.removeEventListener("roomCreation",n.asyncCallbacks.ackHandler),ei.removeEventListener("roomJoined",n.asyncCallbacks.ackHandler),delete n.asyncCallbacks),r(R.g.createError(l.g.ERROR_OTHER,"startNewWhiteboardSession() - timeout",$n))}),l.g.CONVERSATION_WHITEBOARD_START_DELAY);var a=n.getCloudConversationId();ei.whiteBoardClient.joinRoom(n._getTechnicalName(),{convId:a,webconf:!0})})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"startNewWhiteboardSession() - cannot start whiteboard session",$n,{fromError:e}))}))}))}},{key:"stopNewWhiteboardSession",value:function(){var e=this;return $n.debug("stopNewWhiteboardSession()"),new Promise((function(t,n){e.bind().then((function(){return e.whiteboardStarted!==l.g.CONVERSATION_WHITEBOARD_STARTED?($n.error("Conversation is not joined!"),n(R.g.createError(l.g.ERROR_WRONG_STATE,"stopWhiteBoard() - Conversation not joined",$n))):ei.whiteBoardClient.roomId!==e._getTechnicalName()?($n.error("Whiteboard session is not joined for this conversation!"),n(R.g.createError(l.g.ERROR_WRONG_STATE,"stopWhiteBoard() - whiteboard not joined",$n))):(ei.whiteBoardClient.leaveRoom(),ei.whiteBoardClient.stop(),e.whiteboardStarted=l.g.CONVERSATION_WHITEBOARD_NOT_STARTED,void t())})).catch((function(e){n(R.g.createError(l.g.ERROR_OTHER,"stopNewWhiteboardSession() - cannot stop whiteboard session",$n,{fromError:e}))}))}))}},{key:"enablePointerSharing",value:function(e){return xi(this,!0,e)}},{key:"sendPointerLocation",value:function(e,t,n,i){ei.pointerSharingClient.sendPointerLocation(this._getTechnicalName(),e,t,n,i)}},{key:"sendData",value:function(e){var t=this;return new Promise((function(n,i){t.bind().then((function(){ei.dataClient.sendDataToGroup(t._getTechnicalName(),{event:l.g.CONVERSATION_SEND_DATA_IDENTIFIER,content:e,roomname:t._getTechnicalName()}),n()})).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"sendData() - cannot send data",$n))}))}))}},{key:"sendRawData",value:function(e){var t=this;return new Promise((function(n,i){t.bind().then((function(){ei.dataClient.sendDataToGroup(t._getTechnicalName(),e),n()})).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"sendRawData() - cannot send data",$n))}))}))}},{key:"sendCustomEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){t.bind().then((function(){var r=n;r.event=e,r.roomname=t._getTechnicalName(),ei.dataClient.sendDataToGroup(t._getTechnicalName(),r),i()})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"sendCustomEvent() - cannot send data",$n))}))}))}},{key:"sendMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(i){return new Promise((function(r,a){var o=pi.get(t);null!==o?ti.saveGroupChatMessage(t,o,ei.getActiveApiKey(),e,i,n).then((function(){r(i)})).catch(a):r(i)}))};return new Promise((function(r,a){if(t.groupChatStatus!==l.g.CONVERSATION_STATUS_JOINED&&t.status!==l.g.CONVERSATION_STATUS_JOINED)return a(R.g.createError(l.g.ERROR_WRONG_STATE,"sendMessage() - group chat not joined",$n));if(null===e||"string"!=typeof e)return a(R.g.createError(l.g.ERROR_BAD_PARAMETER,"sendMessage() - wrong type of message",$n));if(""===e)return a(R.g.createError(l.g.ERROR_BAD_PARAMETER,"sendMessage() - message parameter is empty",$n));var o={};R.g.isTypeof(n,"metadata","object")&&(o.metadata=n.metadata),ei.sendMessageToGroupChat(t._getTechnicalName(),e,o).then((function(e){i(e).then((function(){r(e)})).catch((function(e){a(R.g.createError(l.g.ERROR_OTHER,"sendMessage() - error on save",$n,{fromError:e}))}))})).catch((function(e){a(R.g.createError(l.g.ERROR_OTHER,"sendMessage() - cannot send message",$n,{fromError:e}))}))}))}},{key:"pushMedia",value:function(e,t){var n=this;return t||(t={}),new Promise((function(i,r){n.bind().then((function(){return t.hasOwnProperty("token")||(t.token=pi.get(n).token),ti.pushConversationMedia(ui.get(n),e,ei.getActiveApiKey(),t)})).then((function(e){ei.dataClient.sendDataToGroup(n._getTechnicalName(),{event:l.g.CONVERSATION_NEW_MEDIA_IDENTIFIER,roomname:n._getTechnicalName(),media:{url:e.url,id:e.id},command:"new_snapshot",value:{snapshot:e.url}}),i({url:e.url,id:e.id})})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"pushMedia() - cannot push media",$n,{fromError:e}))}))}))}},{key:"pushData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=R.g.assignObject({},n),new Promise((function(i,r){if(!0!==ei.webRTCClient.webRTCClient.dataChannelCapable||!0===n.forceHTTP){if(!e.file)return r(R.g.createError(l.g.ERROR_BAD_PARAMETER,"pushData() - missing file",$n));var a={};if(R.g.isTypeof(e,"metadata","object"))try{a.metadata=JSON.stringify(e.metadata)}catch(e){$n.error("JSON.stringify",e)}a.asFile=!0,R.g.isTypeof(e,"filename","string")?a.filename=e.filename:a.filename=e.file.name,!0===e.overwrite&&(a.overwrite=!0),R.g.isTypeof(e,"ttl","number")&&e.ttl>0&&(a.ttl=e.ttl),t.pushMedia(e.file,a).then(i).catch(r)}else t.bind().then((function(){var a=t._getTechnicalName(),o={};n.hasOwnProperty("turnServerAddress")&&(o.turnServerAddress=n.turnServerAddress,delete n.turnServerAddress);var s=ei.webRTCClient.webRTCClient.pushData(t.getCloudConversationId(),e,o,{success:function(e){if("complete"!==e.state)return r(R.g.createError(l.g.ERROR_OTHER,"pushData() - cannot push data",$n));ei.dataClient.sendDataToGroup(a,{event:l.g.CONVERSATION_NEW_MEDIA_IDENTIFIER,roomname:a,media:{url:e.mediaURL,id:e.mediaId},command:"new_snapshot",value:{snapshot:e.mediaURL}}),i({url:e.mediaURL,id:e.mediaId})},failure:function(a,o){if("iceFailed"===a){var s=R.g.assignObject({},n);return s.forceHTTP=!0,void t.pushData(e,s).then(i).catch(r)}if("timeout"===a){if(o){var c=t.transferCallIds.indexOf(o);c>=0&&t.transferCallIds.splice(c,1)}return r(R.g.createError(l.g.ERROR_TIMED_OUT,"pushData() - push data timed out",$n))}return r("canceled"===a?R.g.createError(l.g.ERROR_OPERATION_CANCELED,"pushData() - push data canceled",$n):R.g.createError(l.g.ERROR_OTHER,"pushData() - cannot push data",$n,{fromError:a}))}});if(!s)return r(R.g.createError(l.g.ERROR_OTHER,"pushData() - cannot push data",$n));t.transferCallIds.push(s)})).catch((function(e){return r(R.g.createError(l.g.ERROR_OTHER,"pushData() - cannot push data",$n,{fromError:e}))}))}))}},{key:"cancelPushData",value:function(e){var t=this;return new Promise((function(n,i){if(!t.transferCallIds.includes(e))return i(R.g.createError(l.g.ERROR_OTHER,"cancelPushData() - no such push data",$n));var r=ei.webRTCClient.webRTCClient.cancelPushData(e);if(r)return i(R.g.createError(l.g.ERROR_OTHER,"cancelPushData() - "+r,$n));n()}))}},{key:"fetchMediaList",value:function(e,t){var n=this;return t||(t={}),new Promise((function(i,r){n.bind().then((function(){return Object.prototype.hasOwnProperty.call(t,"token")||(R.g.isTypeof(e,"object")&&e instanceof lr?t.token=e.getToken():t.token=pi.get(n).token),ti.getConversationMediaList(ui.get(n),ei.getActiveApiKey(),t)})).then(i).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"fetchMediaList() - cannot fetch media list",$n,{fromError:e}))}))}))}},{key:"getWaitingRoomContacts",value:function(){$n.debug("getWaitingRoomContacts()");var e={};if(this.status!==l.g.CONVERSATION_STATUS_JOINED)$n.error("getWaitingRoomContacts() - Conversation is not joined, cannot get waiting room contacts");else if(this.getRole()!==l.g.CONVERSATION_ROLE_MODERATOR)$n.error("getWaitingRoomContacts() - Role is not moderator, cannot get waiting room contacts");else{var t,n=zn.get().getContacts(l.g.CONVERSATION_WAITING_ROOM_PREFIX+this._getTechnicalName()),i=Jn(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value;e[r]=n.get(r)}}catch(e){i.e(e)}finally{i.f()}}return e}},{key:"fetchMessageHistory",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){t.bind().then((function(){return Object.prototype.hasOwnProperty.call(n,"token")?ti.loadGroupChatMessages(t,null,n.token):(R.g.isTypeof(e,"object")&&e instanceof lr||(e=pi.get(t)),ti.loadGroupChatMessages(t,e))})).then((function(t){var n=t.map((function(t){var n={content:t.content,timestamp:1e3*t.created_at,date:new Date(1e3*t.created_at),sender_id:t.user_id,display_name:t.display_name};return t.user_id.toString()!==e.getId()&&(n.sender=e.getOrCreateContact(t.user_id)),n}));i(n)})).catch((function(e){r(R.g.createError(l.g.ERROR_OTHER,"fetchMessageHistory() - cannot fetch message history",$n))}))}))}},{key:"sendInvitation",value:function(e,t){var n=this;if(t||(t={}),e instanceof Rn){$n.info("Invite "+e.getId()+" to "+this._getTechnicalName()),e.isOnline()||$n.warn("sendInvitation() - contact "+e.getUsername()+" does not seem to be connected.");var i={receiveNotifier:new d};t.hasOwnProperty("expirationTime")&&(i.expirationTime=t.expirationTime);var r=new nn(e,this,i);r.type="conversation";var a={event:l.g.CONVERSATION_INVITATION_IDENTIFIER,invitationId:r.id,roomname:this._getTechnicalName(),sendTime:r.sendTime,conversationTypes:[]};return this.status===l.g.CONVERSATION_STATUS_JOINED?a.conversationTypes.push("WEBCONF"):this.groupChatStatus===l.g.CONVERSATION_STATUS_JOINED&&a.conversationTypes.push("GROUP_CHAT"),ei.sendData(e.getId(),a).then((function(){i.receiveNotifier.emit("receive")})).catch((function(t){var i=R.g.createError(t,"Invitation not delivered",$n);x.get(n).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_INVITATION_IDENTIFIER})})),r}return $n.error("Parameter is not a contact"),null}},{key:"isRecorded",value:function(){return!!this.recordingStatus}},{key:"getRecordingInfo",value:function(){return this.isRecorded()?this.recordingStatus:null}},{key:"setNetworkCap",value:function(e,t){return"number"!=typeof e||"number"!=typeof t?($n.error("setNetworkCap - wrong cap",e,t),!1):e<=0||t<=0?(this.uploadCap=null,this.downloadCap=null,!0):(this.uploadCap=e,this.downloadCap=t,!0)}},{key:"getNetworkCap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.uploadCap||!this.downloadCap)return null;if(e.capacity)return[this.uploadCap,this.downloadCap];for(var t=this.uploadCap,n=this.downloadCap,i=this.reservedStreams.length;--i>=0;)this.reservedStreams[i].isVideoMuted||(this.reservedStreams[i].isRemote?n-=this.reservedStreams[i].resource:t-=this.reservedStreams[i].resource);return[t,n]}},{key:"getStreamResourceReservation",value:function(e){for(var t=this.reservedStreams.length;--t>=0;)if(this.reservedStreams[t].streamId===e)return this.reservedStreams[t];return null}},{key:"reserveResources",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if($n.debug("reserveResources",n),this.getStreamResourceReservation(n))throw new Error("reserveResources - already reserved stream");var o=!1,s={streamId:n,profileType:e,priority:r,resource:t,isRemote:i};if(s.isVideoOnly=!!a.isVideoOnly,a.isVideoMuted)s.isVideoMuted=!0,o=!0;else{s.isVideoMuted=!1;var l=this.getNetworkCap();o=i?l[1]>=s.resource:l[0]>=s.resource}if(a.control)return o;if(!o)throw new Error("reserveResources - no such bandwidth availability");return this.reservedStreams.push(s),this.reservedStreams.sort((function(e,t){return e.priority>t.priority?-1:e.priority===t.priority?0:1})),$n.debug("reservedStreams",this.reservedStreams),!0}},{key:"releaseResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.getNetworkCap({capacity:!0}))return!1;$n.debug("releaseResources",e);for(var n=!1,i=this.reservedStreams.length;--i>=0;)if(this.reservedStreams[i].streamId===e){this.reservedStreams.splice(i,1),n=!0;break}return $n.debug("reservedStreams",this.reservedStreams),n&&t.triggerAdaptation&&this.enableHigherPriorityVideo(!!t.isRemote),n}},{key:"changeStreamPriority",value:function(e,t,n){$n.debug("changeStreamPriority",e,t,n);for(var i=null,r=this.reservedStreams.length;--r>=0;)if(this.reservedStreams[r].isRemote===t&&this.reservedStreams[r].streamId===e){i=this.reservedStreams[r];break}return!(!i||i.priority===n||(i.priority=n,this.reservedStreams.sort((function(e,t){return e.priority>t.priority?-1:e.priority===t.priority?0:1})),$n.debug("reservedStreams",this.reservedStreams),i.isVideoMuted?this.disableLowerPriorityVideo(i.isRemote,i.resource,i.priority)&&ki(this,i):this.enableHigherPriorityVideo(i.isRemote,{resource:i.resource,priority:i.priority,control:!0})&&(Ai(this,i),this.enableHigherPriorityVideo(i.isRemote)),0))}},{key:"disableLowerPriorityVideo",value:function(e,t,n){$n.debug("disableLowerPriorityVideo",e,t,n);for(var i=[],r=0,a=this.reservedStreams.length;--a>=0&&(this.reservedStreams[a].isRemote!==e||this.reservedStreams[a].isVideoMuted||this.reservedStreams[a].priority>=n||(i.push(this.reservedStreams[a]),!((r+=this.reservedStreams[a].resource)>=t))););if(0===i.length||r<t)return!1;for(var o=i.length;--o>=0;)Ai(this,i[o]);return!0}},{key:"enableHigherPriorityVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$n.debug("enableHigherPriorityVideo",e);var n=this.getNetworkCap(),i=e?n[1]:n[0];t.resource&&t.resource>0&&(i+=t.resource);for(var r=[],a=0;a<this.reservedStreams.length;a+=1)this.reservedStreams[a].isRemote===e&&this.reservedStreams[a].isVideoMuted&&(Object.prototype.hasOwnProperty.call(t,"priority")&&this.reservedStreams[a].priority<=t.priority||this.reservedStreams[a].resource<=i&&(i-=this.reservedStreams[a].resource,r.push(this.reservedStreams[a])));if(0===r.length)return!1;if(t.control)return!0;for(var o=r.length;--o>=0;)ki(this,r[o]);return!0}},{key:"startComposite",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==l.g.CONVERSATION_STATUS_JOINED)return n(R.g.createError(l.g.ERROR_OTHER,"startComposite() - conversation not joined",$n));ei.webRTCClient.startComposite(e._getTechnicalName()),t()}))}},{key:"stopComposite",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==l.g.CONVERSATION_STATUS_JOINED)return n(R.g.createError(l.g.ERROR_OTHER,"stopComposite() - conversation not joined",$n));ei.webRTCClient.stopComposite(e._getTechnicalName()),t()}))}},{key:"callVoIP",value:function(e){var t=this;return new Promise((function(n,i){return e&&"string"==typeof e?t.status!==l.g.CONVERSATION_STATUS_JOINED?i(R.g.createError(l.g.ERROR_OTHER,"callVoIP() - conversation not joined",$n)):void ei.webRTCClient.webRTCClient.MCUClient.inviteVoIP(t._getTechnicalName(),t.getCloudConversationId(),e).then(n).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"callVoIP() - "+e.message,$n))})):i(R.g.createError(l.g.ERROR_OTHER,"callVoIP() - wrong phoneNumber",$n))}))}},{key:"manageDisconnectionWarningEvent",value:function(e){$n.debug("manageDisconnectionWarningEvent",e.detail);var t={};if(this.callIdToStreamId.has(e.detail.callId)){$n.debug("call is linked with conversation");var n=this.callIdToStreamId.get(e.detail.callId);t="publish"===e.detail.settingUpType||"shareScreen"===e.detail.settingUpType?this.conversationPublishedStreams.get(n):this.conversationStreams.get(n),x.get(this).emit("disconnectionWarning",{streamInfo:t})}else $n.debug("call is not linked with conversation")}},{key:"manageErrorEvent",value:function(e){if($n.debug("manageErrorEvent",e.detail),"DISTANT_ICE_CONNECTION_STATE_DISCONNECTED"===e.detail.errorCode||"DISTANT_ICE_CONNECTION_STATE_FAILED"===e.detail.errorCode)x.get(this).emit("error",{errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo,descriptor:e.detail.data});else if(this.callIdToStreamId.has(e.detail.callId)){$n.debug("call is linked with conversation");var t=this.callIdToStreamId.get(e.detail.callId),n={streamInfo:"publish"===e.detail.settingUpType?this.conversationPublishedStreams.get(t):this.conversationStreams.get(t),errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo,callId:e.detail.callId,streamId:t};if(e.detail.data&&(n.descriptor=e.detail.data),x.get(this).emit("error",n),oi.has(e.detail.errorCode)){var i=this.conversationCalls.get(e.detail.callId);i?this.unpublish(i.stream):(this.unsubscribeToStream(t),"CALL_ABORTED"===e.detail.errorCode&&this.callIdToStreamId.delete(e.detail.callId))}}else $n.debug("call is not linked with conversation")}}],i=[{key:"getAvailableEvents",value:function(){return ii}}],n&&qn(t.prototype,n),i&&qn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O),wi=function(){var e="guest";if(apiRTC.userAgentInstance){var t=apiRTC.userAgentInstance.getUsername();t&&(e=t)}return e},Si=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){var r=null;if(R.g.isPropertyTypeof(t,"session","object")&&t.session instanceof lr)r=t.session;else{if(null===lr.getActiveSession())return i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"getOrCreateConversation() - missing session",$n));r=lr.getActiveSession()}var a={};a.token=r.getToken(),a.active=e.active,ti.getOrCreateConversation(e,ei.getActiveApiKey(),a).then((function(t){R.g.isTypeof(t,"public_id","string")&&(t.id=t.public_id,delete t.public_id),ui.set(e,t.id),ci.set(e,t.data),R.g.isTypeof(t.typeString,"string")&&ri.has(t.typeString)&&li.set(e,t.typeString),pi.set(e,r),n(t)})).catch((function(t){ui.set(e,null),ci.set(e,null),li.set(e,null),i(R.g.createError(l.g.ERROR_HTTP,"getOrCreateConversation() - cannot get/create conversation",$n,{fromError:t}))}))}))},Ii=function(e){var t=e.getModerator();return t?t.getId():!e.conference&&e.moderationEnabled?"#":null},Ti=function(e,t){return new Promise((function(n,i){if(e.conference){if(t.access===l.g.CONVERSATION_ACCESS_GRANTED)return n(t);if(t.access!==l.g.CONVERSATION_NEED_MODERATOR_ACCEPTATION)return i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"You were not allowed to join the conference"));var r=ni.getOrCreateContact(t.moderator);fi.set(e,r),Ei(e).then((function(){n(t)})).catch(i)}else{if(!e.moderationEnabled)return n(Object.assign(t,{access:l.g.CONVERSATION_ACCESS_GRANTED,role:l.g.CONVERSATION_ROLE_GUEST}));if(e.moderator)return n(Object.assign(t,{access:l.g.CONVERSATION_ACCESS_GRANTED,role:l.g.CONVERSATION_ROLE_MODERATOR}));Ei(e).then((function(){n(Object.assign(t,{access:l.g.CONVERSATION_NEED_MODERATOR_ACCEPTATION,role:l.g.CONVERSATION_ROLE_GUEST}))})).catch(i)}}))},Ei=function(e){return new Promise((function(t,n){var i=e.getModerator();e.status=l.g.CONVERSATION_STATUS_WAITING;var r=!1,a=setTimeout((function(){ei.apiRTCSession.joinPresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()],{doneByApiRTC:!0}),r=!0}),l.g.JOIN_WAITING_ROOM_PRESENCE_GROUP_TIMEOUT);i&&x.get(e).emit("waitingForModeratorAcceptance",i);var o=new nn(i,e);o.id=e._getTechnicalName(),o.type=e.conference?"conference":"conversation",e.sendJoinRequest();var s=function o(s){$n.debug("dataMessage (waitingRoom)",s.detail);var c=s.detail.data;if(c.roomname===e._getTechnicalName()){var u=s.detail.senderId.toString();"access"===c.command||"access-new"===c.command||c.event===l.g.CONVERSATION_JOIN_ANSWER_IDENTIFIER?(delete e.cancelJoin0,e.joinRequestIntervalId&&(clearInterval(e.joinRequestIntervalId),delete e.joinRequestIntervalId),ei.removeEventListener("receiveData",o),!0===r?ei.apiRTCSession.leavePresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()],{doneByApiRTC:!0}):a&&clearTimeout(a),c.value.hasOwnProperty("access")&&c.value.access||c.access?(ei.sendData(u,{roomname:e._getTechnicalName(),command:"access-ack"}).catch((function(t){var n=R.g.createError(t,"Notification not delivered",$n);x.get(e).emit("messageNotDelivered",{error:n,contact:i,command:"access-ack"})})),t()):(e.status=l.g.CONVERSATION_STATUS_NOT_JOINED,n(R.g.createError(l.g.ERROR_NOT_ALLOWED,"You were not allowed to join the conversation",$n)))):c.event===l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER&&c.roomname===e._getTechnicalName()&&x.get(e).emit("moderatorConnected",ni.getOrCreateContact(u))}};ei.onEvent("receiveData",s),o.onResponse((function(i){ei.removeEventListener("receiveData",s),!0===r?ei.apiRTCSession.leavePresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]):a&&clearTimeout(a),i===l.g.INVITATION_STATUS_ACCEPTED?t():(e.status=l.g.CONVERSATION_STATUS_NOT_JOINED,n(R.g.createError(l.g.ERROR_NOT_ALLOWED,"You were not allowed to join the conversation",$n)))})),e.cancelJoin0=function(){return delete e.cancelJoin0,e.joinRequestIntervalId&&(clearInterval(e.joinRequestIntervalId),delete e.joinRequestIntervalId),ei.removeEventListener("receiveData",s),!0===r?ei.apiRTCSession.leavePresenceGroup([l.g.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()],{doneByApiRTC:!0}):a&&clearTimeout(a),e.status=l.g.CONVERSATION_STATUS_NOT_JOINED,n(R.g.createError(l.g.ERROR_OPERATION_CANCELED,"Operation canceled",$n)),!0}}))},Mi=function(e,t,n){return new Promise((function(i){ti.updateConferencePresence(e,t,n).then(i,(function(e){$n.warn("updateConferencePresence",e),i()}))}))},Ri=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.stream;if(!i){var r=e.conversationCalls.get(t);if(!r)return!1;i=r.stream}return n.noTriggerAdaptation?e.releaseResources(i.userMediaStreamId):e.releaseResources(i.userMediaStreamId,{triggerAdaptation:!0}),i.publishedInConversations.delete(e.getName()),e.conversationPublishedStreams.delete(i.userMediaStreamId),e.callIdToStreamId.delete(t),e.conversationCalls.delete(t),!0},Ai=function(e,t){var n={streamId:t.streamId,isRemote:t.isRemote};if(t.isRemote)if(t.isVideoOnly){n.action="hangup";var i=hi.get(e).get(t.streamId);i&&(n.callId=i.callId),$n.debug("disableVideoTrack - hangup",t.streamId),e.unsubscribeToStream(t.streamId,{noTriggerAdaptation:!0})}else{n.action="disableTrack",n.trackType="video";var r=hi.get(e).get(t.streamId);r&&(n.callId=r.callId),$n.debug("disableVideoTrack - disable video track",t.streamId),e.updateSubscribedStream(t.streamId,{audioOnly:!0}).catch((function(e){$n.error("disableVideoTrack - updateSubscribedStream",e)})),t.isVideoMuted=!0}else if(t.isVideoOnly){n.action="hangup";var a=_r.get(t.streamId),o=e.getConversationCall(a);o&&(n.callId=o.callId),$n.debug("disableVideoTrack - hangup",t.streamId),e.unpublish(a,{noTriggerAdaptation:!0})}else{var s=e.getConversationCall(_r.get(t.streamId));s?(n.action="disableTrack",n.trackType="video",n.callId=s.callId,$n.debug("disableVideoTrack - disable video track",t.streamId),s.updatePublishedStream("video",!1).catch((function(e){$n.error("disableVideoTrack - updatePublishedStream",e)})),t.isVideoMuted=!0):n=null}n&&x.get(e).emit("adaptationTriggered",n)},ki=function(e,t){var n={streamId:t.streamId,isRemote:t.isRemote,action:"enableTrack",trackType:"video"};if(t.isRemote){var i=hi.get(e).get(t.streamId);i&&(n.callId=i.callId),$n.debug("enableVideoTrack - enable video track",t.streamId),e.updateSubscribedStream(t.streamId,{audioOnly:!1}).catch((function(e){$n.error("enableVideoTrack - updateSubscribedStream",e)})),t.isVideoMuted=!1}else{var r=e.getConversationCall(_r.get(t.streamId));r?(n.callId=r.callId,$n.debug("enableVideoTrack - enable video track",t.streamId),r.updatePublishedStream("video",!0).catch((function(e){$n.error("enableVideoTrack - updatePublishedStream",e)})),t.isVideoMuted=!1):n=null}n&&x.get(e).emit("adaptationTriggered",n)},xi=function(e,t,n){return!0===n?e.pointerSharingState===l.g.STATE_IDLE?(e.pointerSharingState=l.g.STATE_JOINING,new Promise((function(n,i){ei.pointerSharingClient.joinRoom(e._getTechnicalName(),{success:function(i){e.pointerSharingState=l.g.STATE_ACTIVE,!0===t&&(e.pointerSharingAutoInvite=!0);var r={enabled:!0,roomId:i};x.get(e).emit("pointerSharingEnabled",r),n(),!0===e.pointerSharingAutoInvite&&ni.getContacts(e._getTechnicalName()).forEach((function(t){ei.pointerSharingClient.inviteInRoom(e._getTechnicalName(),t.getId())}))},failure:function(t,n){e.pointerSharingState=l.g.STATE_IDLE,e.pointerSharingAutoInvite=!1,i(t)}})}))):Promise.reject(R.g.createError(l.g.ERROR_WRONG_STATE,"enablePointerSharing() - cannot enable pointer sharing")):!1===n?e.pointerSharingState===l.g.STATE_ACTIVE?(e.pointerSharingState=l.g.STATE_LEAVING,new Promise((function(t,n){ei.pointerSharingClient.leaveRoom(e._getTechnicalName()),e.pointerSharingState=l.g.STATE_IDLE,e.pointerSharingAutoInvite=!1;var i={enabled:!1,roomId:e._getTechnicalName()};x.get(e).emit("pointerSharingEnabled",i),t()}))):Promise.reject(R.g.createError(l.g.ERROR_WRONG_STATE,"enablePointerSharing() - cannot disable pointer sharing")):Promise.reject(R.g.createError(l.g.ERROR_BAD_PARAMETER,"enablePointerSharing() - cannot enable/disable pointer sharing"))},Di=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return["roomName","callId","clientId"].forEach((function(e){t.hasOwnProperty(e)&&(n[e]=String(t[e]))})),n};function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}function Li(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _i(){return _i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ji(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_i.apply(this,arguments)}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}var Pi=v.Y.get("Conference"),Ui=Ci.getAvailableEvents().concat(["closed"]),Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ni(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ji(r);if(a){var n=ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=o.call(this,e,n),Pi.info("Create conference"),t.conference=!0,t.friendlyName=n.hasOwnProperty("friendlyName")?n.friendlyName:e,t}return t=s,i=[{key:"getAvailableEvents",value:function(){return Ui}}],(n=[{key:"destroy",value:function(){Vi.get().deleteConference(this.getName()),_i(ji(s.prototype),"destroy",this).call(this)}},{key:"_getTechnicalName",value:function(){return Bi()+si.get(this)}},{key:"getFriendlyName",value:function(){return this.friendlyName}},{key:"getInfo",value:function(){var e=this;return new Promise((function(t,n){var i={},r=pi.get(e);r&&(i.token=r.getToken()),ti.getWebconf(e._getTechnicalName(),i).then((function(e){return t({dtmfCode:e.dtmfCode,endTime:e.end,hasPassword:e.hasPassword,sipNumber:e.sipNumber,startTime:e.start,state:e.state,type:e.type})})).catch((function(e){return n(R.g.createError(l.g.ERROR_OTHER,"getInfo() - Cannot get conference info",Pi))}))}))}},{key:"close",value:function(){var e=this;return Pi.debug("Closing "+this.getName()),new Promise((function(t,n){e.status!==l.g.CONVERSATION_STATUS_JOINED?n(R.g.createError(l.g.ERROR_OTHER,"close() - Conversation has to be joined to be closed",Pi)):e.getRole()!==l.g.CONVERSATION_ROLE_MODERATOR?n(R.g.createError(l.g.ERROR_UNAUTHORIZED,"close() - Role has to be moderator to close the conversation",Pi)):ti.closeConferenceInstance(e,pi.get(e)).then((function(){Pi.debug("Conversation closed successfully"),ei.dataClient.sendDataToGroup(e._getTechnicalName(),{event:l.g.CONVERSATION_CLOSED_IDENTIFIER,instanceId:e.getInstanceId(),roomname:e._getTechnicalName()}),x.get(e).emit("closed"),e.leave(),t()})).catch((function(e){var t="close() - An error occured when closing conversation",i={error:new Error(t),code:l.g.ERROR_OTHER};Pi.error(t,e),e.hasOwnProperty("code")?i.code=e.code:e.hasOwnProperty("http_code")&&(i.code=e.http_code.toString().startsWith("4")?l.g.ERROR_UNAUTHORIZED:l.g.ERROR_SERVER_UNAVAILABLE),n(i)}))}))}},{key:"sendInvitation",value:function(e,t){var n=this;if(t||(t={}),e instanceof Rn){Pi.info("Invite "+e.getId()+" to "+this._getTechnicalName()),e.isOnline()||Pi.warn("sendInvitation() - contact "+e.getUsername()+" does not seem to be connected.");var i={receiveNotifier:new d};t.hasOwnProperty("expirationTime")&&(i.expirationTime=t.expirationTime);var r=new nn(e,this,i),a={event:l.g.CONVERSATION_INVITATION_IDENTIFIER,invitationId:r.id,roomname:this._getTechnicalName(),friendlyName:this.getFriendlyName(),sendTime:r.sendTime};return r.type="conference",null!==bi.get(this)&&(a.password=bi.get(this)),ei.sendData(e.getId(),a).then((function(){i.receiveNotifier.emit("receive")})).catch((function(t){var i=R.g.createError(t,"Invitation not delivered",Pi);x.get(n).emit("messageNotDelivered",{error:i,contact:e,event:l.g.CONVERSATION_INVITATION_IDENTIFIER})})),r}return Pi.error("Parameter is not a contact"),null}},{key:"getTags",value:function(){var e=this;return new Promise((function(t,n){var i=lr.getActiveSession();if(!i)return n(R.g.createError(l.g.ERROR_NOT_ALLOWED,"getTags() - no session found",Pi));var r=i.getUserAgent().getEnterprise();if(!r)return n(R.g.createError(l.g.ERROR_NOT_ALLOWED,"getTags() - no enterprise found",Pi));r.getTags(e).then((function(e){for(var n=[],i=0;i<e.length;i+=1)!0===e[i].selected&&n.push(e[i]);return t(n)})).catch((function(e){return n(R.g.createError(l.g.ERROR_NOT_ALLOWED,"getTags() - cannot get tags",Pi,{fromError:e}))}))}))}},{key:"setTags",value:function(e){var t=this;return new Promise((function(n,i){if(!Array.isArray(e))return i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"setTags() - wrong tags",Pi));if(!t.webconfId)return i(R.g.createError(l.g.ERROR_NOT_ALLOWED,"setTags() - no webconf found",Pi));var r=lr.getActiveSession();if(!r)return i(R.g.createError(l.g.ERROR_NOT_ALLOWED,"setTags() - no session found",Pi));var a=r.getUserAgent().getEnterprise();if(!a)return i(R.g.createError(l.g.ERROR_NOT_ALLOWED,"setTags() - no enterprise found",Pi));var o=r.getToken();if(!o)return i(R.g.createError(l.g.ERROR_NOT_ALLOWED,"setTags() - no token found",Pi));for(var s=[],c=0;c<e.length;c+=1){if(!e[c].hasOwnProperty("id"))return i(R.g.createError(l.g.ERROR_BAD_PARAMETER,"setTags() - wrong tags",Pi));s.push(e[c].id)}ti.updateWebconfTags(a.getId(),t.webconfId,s,o).then((function(){return n()})).catch((function(e){return i(R.g.createError(l.g.ERROR_OTHER,"setTags() - cannot set tags",Pi,{fromError:e}))}))}))}}])&&Li(t.prototype,n),i&&Li(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(Ci),Bi=function(){return ei.getActiveApiKey()+":"};function zi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}v.Y.get("ConversationCatalog");var Wi=null,Vi=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==Wi)throw"Cannot construct singleton ConversationCatalog";this.conversationList=new Map,this.conferenceList=new Map,Wi=this}var t,n,i;return t=e,n=[{key:"deleteConversation",value:function(e){return!!(R.g.isTypeof(e,"string")&&e.length>0)&&this.conversationList.delete(e)}},{key:"deleteConference",value:function(e){return!!(R.g.isTypeof(e,"string")&&e.length>0)&&this.conferenceList.delete(e)}},{key:"getOrCreateConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return null!=e&&""!==e?this.conversationList.has(e.toString())?n=this.conversationList.get(e.toString()):(n=new Ci(e.toString(),t),this.conversationList.set(e.toString(),n)):(n=new Ci(null,t),this.conversationList.set(n.getName(),n)),n}},{key:"getOrCreateConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return null!=e&&""!==e?this.conferenceList.has(e.toString())?n=this.conferenceList.get(e.toString()):(n=new Fi(e.toString(),t),this.conferenceList.set(e.toString(),n)):(n=new Fi(null,t),this.conferenceList.set(n.getName(),n)),n}},{key:"getConversations",value:function(){return this.conversationList}},{key:"getConferences",value:function(){return this.conferenceList}},{key:"isConference",value:function(e){return Hi(e).hasOwnProperty("apiKey")}},{key:"getNameFromTechnicalName",value:function(e){return Hi(e).name}}],i=[{key:"get",value:function(){return null===Wi&&(Wi=new e),Wi}}],n&&zi(t.prototype,n),i&&zi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Hi(e){var t=e.match(/^([^:]+)[:]([^:]+)$/);return null===t||t.length<3?{name:e}:{apiKey:t[1],name:t[2]}}function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Yi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ji(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ki(e)}var Zi=v.Y.get("Session"),$i=H.get(),er=new(Vt()),tr=_e.get(),nr=["rawData","whiteboardInvitation","fileTransferInvitation","conversationMessage","conversationData","dataChannelInvitation","contactMessage","contactData","customEvent","conversationInvitation","incomingCall","disconnect","error","contactListUpdate","reconnecting","reconnection","conversationJoinRequest","newMediaAvailableFromContact","whiteboardRoomMemberUpdate","incomingScreenSharingCall","pointerSharingInvitation","pointerLocationChanged","incomingScreenSharingCallInvitation","cloudEventOccurred","remoteAccessInvitation"],ir=new WeakMap,rr=new WeakMap,ar=null,or=new WeakMap,sr=new WeakMap,lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ki(r);if(a){var n=Ki(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xi(e)}(this,e)});function s(e){var t;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),t=o.call(this,Zi),Zi.debug("Create Session"),t.id=null,t.token=null,t.ccsToken=null,ir.set(Xi(t),e),rr.set(Xi(t),null),sr.set(Xi(t),{}),t.isRecording=!1,t.userData=new Qt,t.contactListUpdateListenerSetted=!1,t.waitingContactListUpdateEvent=[];var n=zn.get(),i=Vi.get(),r={};return t.invitationsMap=new Map,r.channelEvent=function(e){switch(e.detail.channelEvent){case"onChannelReconnecting":x.get(Xi(t)).emit("reconnecting",e);break;case"onChannelReconnect":x.get(Xi(t)).emit("reconnection",e);break;case"onChannelError":x.get(Xi(t)).emit("error",e);break;case"onChannelDisconnect":Zi.error("Session :: onChannelDisconnect"),x.get(Xi(t)).emit("disconnect",e)}},r.incomingCall=function(e){var i=n.getOrCreateContact(e.detail.callerId),r=e.detail.callId.toString();if("data"===e.detail.callType)if(Zi.info("Received file transfer invitation from "+i.getUsername()),R.g._private.dataCallsFileInfo.has(r)){var a=R.g._private.dataCallsFileInfo.get(r),o=null;t.invitationsMap.has(e.detail.callerId+"-sendfile-"+r)?(o=t.invitationsMap.get(e.detail.callerId+"-sendfile-"+r),Zi.debug("invitation already exist :",o)):(o=new Xe(i,r,a),t.invitationsMap.set(e.detail.callerId+"-sendfile-"+r,o)),x.get(Xi(t)).emit("fileTransferInvitation",o)}else R.g._private.dataChannelInvitations.has(r)?x.get(Xi(t)).emit("dataChannelInvitation",new St(i,r)):(Zi.debug("File information has not been received yet, putting invitation on hold"),R.g._private.dataCallsOnHold.set(r));else if("screenSharing"===e.detail.callType||"screenSharingWithAudio"===e.detail.callType)if(!0===apiRTC.session.apiCCWebRTCClient.webRTCClient.userAcceptOnIncomingScreenSharingCall){Zi.debug("Received screenSharingCallInvitation from "+i.getUsername());var s=new Ve(i,r,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});x.get(Xi(t)).emit("incomingScreenSharingCallInvitation",s)}else{Zi.debug("Received screenSharingCall from "+i.getUsername());var l=tr.getOrCreateCall(r,i,{started:!0,isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});x.get(Xi(t)).emit("incomingScreenSharingCall",l)}else{Zi.info("Received call invitation from "+i.getUsername());var c=new Ve(i,r,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});x.get(Xi(t)).emit("incomingCall",c)}},r.roomInvitation=function(e){var r=n.getOrCreateContact(e.detail.senderId);if("whiteBoard"===e.detail.roomType){if(null!==r){Zi.info("Received whiteboard invitation from "+r.getUsername());var a={};e.detail.cloudConvId&&(a.cloudConvId=e.detail.cloudConvId),!0===e.detail.webconf&&(a.webconf=!0),x.get(Xi(t)).emit("whiteboardInvitation",new tt(r,e.detail.roomId,a))}}else"pointerSharing"===e.detail.roomType&&(null===r||i.getConversations().has(e.detail.roomId)||i.getConferences().has(e.detail.roomId)||(Zi.info("Received pointer sharing invitation from "+r.getUsername()),x.get(Xi(t)).emit("pointerSharingInvitation",new Ot(r,e.detail.roomId,Xi(t)))))},r.roomMemberUpdate=function(e){var i,r=[],a=Yi(e.detail.contactList);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.push(n.getOrCreateContact(o.contactId))}}catch(e){a.e(e)}finally{a.f()}"whiteBoard"===e.detail.roomType&&(Zi.info("Received whiteboard room member update"),x.get(Xi(t)).emit("whiteboardRoomMemberUpdate",{contacts:r,roomId:e.detail.roomId,status:e.detail.status}))},r.receiveRoomMessage=function(e){if(Zi.debug("receiveRoomMessage",e),"pointerSharing"===e.detail.roomType&&"pointerLocation"===e.detail.message.type&&sr.get(Xi(t)).hasOwnProperty(e.detail.roomId)){var i={sender:n.getOrCreateContact(e.detail.senderId),source:e.detail.message.source,x:e.detail.message.x,y:e.detail.message.y};R.g.isPropertyTypeof(e.detail.message,"data","object")&&(i.data=e.detail.message.data),x.get(Xi(t)).emit("pointerLocationChanged",i)}},r.receiveIMMessage=function(e){var i=n.getOrCreateContact(e.detail.senderId);Zi.debug("Received IM from "+i.getUsername()+" : ",e.detail.message),x.get(Xi(t)).emit("contactMessage",{sender:i,content:e.detail.message,uuid:e.detail.UUCSeq,time:e.detail.time})},r.receiveData=function(e){var r=n.getOrCreateContact(e.detail.senderId),a=e.detail.data;if(void 0!==a){var o=null;if(void 0!==a.roomname&&(o=i.isConference(a.roomname)?i.getOrCreateConference(i.getNameFromTechnicalName(a.roomname)):i.getOrCreateConversation(i.getNameFromTechnicalName(a.roomname))),Zi.trace("Received data from "+r.getId(),e.detail),x.get(Xi(t)).emit("rawData",{sender:r,content:a}),void 0!==a.event)switch(a.event){case l.g.INVITATION_ANSWER_IDENTIFIER:case l.g.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:break;case l.g.CONTACT_SEND_DATA_IDENTIFIER:Zi.debug("Received contact data from "+r.getUsername(),a.content),x.get(Xi(t)).emit("contactData",{sender:r,content:a.content});break;case l.g.CONVERSATION_SEND_DATA_IDENTIFIER:void 0!==a.roomname&&(Zi.debug("Received conversation data from "+r.getUsername(),a.content),x.get(Xi(t)).emit("conversationData",{sender:r,conversation:o,content:a.content}));break;case l.g.CONTACT_NEW_MEDIA_IDENTIFIER:x.get(Xi(t)).emit("newMediaAvailableFromContact",{sender:r,media:a.media});break;case l.g.CONTACT_DATACHANNEL_INVITATION:Zi.debug("Received datachannel invitation from "+r.getUsername()),R.g._private.dataChannelInvitations.set(a.callId.toString(),!0),R.g._private.dataCallsOnHold.has(a.callId.toString())&&x.get(Xi(t)).emit("dataChannelInvitation",new St(r,a.callId.toString()));break;case l.g.CONTACT_SEND_FILEINFO_IDENTIFIER:Zi.debug("Received file info from "+r.getUsername(),a.fileInfo);var s=a.callId.toString();if(R.g._private.dataCallsFileInfo.set(s,a.fileInfo),R.g._private.dataCallsOnHold.has(s)){var c=null;t.invitationsMap.has(r.getId()+"-sendfile-"+s)?(c=t.invitationsMap.get(r.getId()+"-sendfile-"+s),Zi.debug("invitation already exist :",c)):(c=new Xe(r,s,a.fileInfo),t.invitationsMap.set(e.detail.callerId+"-sendfile-"+s,c)),x.get(Xi(t)).emit("fileTransferInvitation",c)}else Zi.debug("no dataCallsOnHold");break;case l.g.CONVERSATION_INVITATION_IDENTIFIER:if(void 0!==a.roomname){Zi.info("Received conversation invitation from "+r.getUsername());var u={session:Xi(t)};a.hasOwnProperty("password")&&(u.password=a.password),o?(a.hasOwnProperty("friendlyName")&&o.name===o.friendlyName&&(o.friendlyName=a.friendlyName),x.get(Xi(t)).emit("conversationInvitation",new fe(r,a,o,u))):x.get(Xi(t)).emit("conversationInvitation",new fe(r,a,null,u))}break;case l.g.CONVERSATION_JOIN_REQUEST_IDENTIFIER:Zi.info("Received conversation join request from "+r.getUsername()),o?x.get(Xi(t)).emit("conversationJoinRequest",new Rt(r,o,a.invitationId)):x.get(Xi(t)).emit("conversationJoinRequest",new Rt(r,null,null));break;case l.g.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER:case l.g.CONVERSATION_CLOSED_IDENTIFIER:break;case l.g.CONTACT_REMOTEACCESS_INVITATION_IDENTIFIER:if(Zi.debug("Received remote access invitation"),null===apiRTC.session.remoteAccessInvitation){var d=new zt(r,a,o,{});apiRTC.session.remoteAccessInvitation=d,x.get(Xi(t)).emit("remoteAccessInvitation",d)}else Zi.error("remoteAccess session is already ongoing");break;case l.g.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER:case l.g.CONTACT_REMOTEACCESS_STOP_IDENTIFIER:case l.g.CONTACT_REMOTEACCESS_APP_MESSAGE:case l.g.CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE:break;default:var f={event:a.event,content:a,sender:r};null!==o&&(f.conversation=o),x.get(Xi(t)).emit("customEvent",f)}else if(void 0!==a.command)switch(a.command){case"userWaiting":case"userWaiting-new":Zi.info("Received conversation join request from "+r.getUsername()),o?x.get(Xi(t)).emit("conversationJoinRequest",new Rt(r,o,null)):x.get(Xi(t)).emit("conversationJoinRequest",new Rt(r,null,null))}}else Zi.debug("Received data undefined, leaving process")},r.receiveGroupChatMessage=function(e){var r=n.getOrCreateContact(e.detail.senderId),a=null,o=e.detail.groupChatId.toString();if(void 0!==o&&(a=i.isConference(o)?i.getOrCreateConference(i.getNameFromTechnicalName(o)):i.getOrCreateConversation(i.getNameFromTechnicalName(o))),null!==a){Zi.debug("Received conversation message from "+r.getUsername(),e.detail.message);var s={sender:r,conversation:a,content:e.detail.message};R.g.isTypeof(e.detail,"metadata","object")&&(s.metadata=e.detail.metadata),x.get(Xi(t)).emit("conversationMessage",s)}},r.cloudEventOccurred=function(e){var n={topic:e.detail.topic,target:e.detail.target};x.get(Xi(t)).emit("cloudEventOccurred",n)},r.callEstablished=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();Zi.debug("callEstablished",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&n.manageCallEstablishedEvent(e)}else Zi.debug("callEstablished",e.detail)},r.remoteStreamAdded=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();Zi.debug("remoteStreamAdded",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&n.manageRemoteStreamAddedEvent(e)}else Zi.debug("remoteStreamAdded",e.detail)},r.remoteStreamRemoved=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();Zi.debug("remoteStreamRemoved",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&n.manageRemoteStreamRemovedEvent(e)}else Zi.debug("remoteStreamRemoved",e.detail)},r.userMediaSuccess=function(e){var t=null;if(void 0!==e.detail.callId&&null!==e.detail.callId){t=e.detail.callId.toString(),Zi.debug("userMediaSuccess",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&n.manageUserMediaSuccessEvent(e)}else Zi.debug("userMediaSuccess",e.detail)},r.onCallStatsUpdate=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString(),n=tr.getCall(t,null,{});null!==n&&n.manageCallStatsUpdateEvent(e)}else Zi.debug("onCallStatsUpdate",e.detail)},r.error=function(e){if(Zi.debug("error",e.detail),null!==e.detail.roomName&&void 0!==e.detail.roomName){Zi.debug("error on conversation :",e.detail,e.detail.roomName,e.detail.callId);var n=null;void 0!==e.detail.roomName&&null!==(n=i.isConference(e.detail.roomName)?i.getOrCreateConference(i.getNameFromTechnicalName(e.detail.roomName)):i.getOrCreateConversation(i.getNameFromTechnicalName(e.detail.roomName)))&&n.manageErrorEvent(e)}else if(void 0!==e.detail.callId){var r=e.detail.callId.toString();Zi.debug("error",e.detail,r);var a=tr.getCall(r,null,{});null!==a&&(a.manageErrorEvent(e),"RECORDING_FAILED"===e.detail.errorCode&&tr.removeCallFromList(a.getId()))}else Zi.debug("error",e.detail),x.get(Xi(t)).emit("error",e.detail)},r.disconnectionWarning=function(e){if(null!==e.detail.roomName){Zi.debug("disconnectionWarning on conversation :",e.detail,e.detail.roomName,e.detail.callId);var t=null;void 0!==e.detail.roomName&&null!==(t=i.isConference(e.detail.roomName)?i.getOrCreateConference(i.getNameFromTechnicalName(e.detail.roomName)):i.getOrCreateConversation(i.getNameFromTechnicalName(e.detail.roomName)))&&t.manageDisconnectionWarningEvent(e)}else if(e.detail.callId){var n=e.detail.callId.toString();Zi.debug("disconnectionWarning",e.detail,n);var r=tr.getCall(n,null,{});null!==r&&r.manageDisconnectionWarningEvent(e)}else Zi.debug("disconnectionWarning",e.detail)},r.hangup=function(e){if(e.detail.callId){var t=e.detail.callId.toString();Zi.debug("hangup",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&(n.manageHangupEvent(e),!1===n.isRecorded()&&tr.removeCallFromList(n.getId()))}else Zi.debug("hangup",e.detail)},r.recordedStreamsAvailable=function(e){if(e.detail.userId2){var t=n.getOrCreateContact(e.detail.userId2),i=tr.getCall(null,t);i&&(i.manageRecordAvailableEvent(e),tr.removeCallFromList(i.getId()))}else Zi.debug("recordedStreamsAvailable",e.detail)},r.desktopCapture=function(e){if(e.detail.callId){var t=e.detail.callId.toString();Zi.warn("desktopCapture",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&(n.manageDesktopCaptureEvent(e),tr.removeCallFromList(n.getId()))}else Zi.debug("desktopCapture",e.detail)},r.userMediaError=function(e){if(e.detail.callId){var t=e.detail.callId.toString();Zi.warn("userMediaError",e.detail,t);var n=tr.getCall(t,null,{});null!==n&&(n.manageUserMediaErrorEvent(e),!1===e.detail.tryAudioCallActivated&&tr.removeCallFromList(n.getId()))}else Zi.debug("userMediaError",e.detail)},Zi.debug("av apiRTCManager onEvent ..."),$i.onEvent("disconnectionWarning",r.disconnectionWarning).onEvent("incomingCall",r.incomingCall).onEvent("roomInvitation",r.roomInvitation).onEvent("roomMemberUpdate",r.roomMemberUpdate).onEvent("receiveRoomMessage",r.receiveRoomMessage).onEvent("receiveIMMessage",r.receiveIMMessage).onEvent("receiveData",r.receiveData).onEvent("receiveGroupChatMessage",r.receiveGroupChatMessage).onEvent("cloudEventOccurred",r.cloudEventOccurred).onEvent("callEstablished",r.callEstablished).onEvent("remoteStreamAdded",r.remoteStreamAdded).onEvent("remoteStreamRemoved",r.remoteStreamRemoved).onEvent("userMediaSuccess",r.userMediaSuccess).onEvent("onCallStatsUpdate",r.onCallStatsUpdate).onEvent("error",r.error).onEvent("hangup",r.hangup).onEvent("recordedStreamsAvailable",r.recordedStreamsAvailable).onEvent("desktopCapture",r.desktopCapture).onEvent("userMediaError",r.userMediaError),apiRTC.addEventListener("channelEvent",r.channelEvent),n.onUpdate((function(e){!1===t.contactListUpdateListenerSetted&&(Zi.debug("No listener for contactListUpdate, storing event ..."),t.waitingContactListUpdateEvent.push(e)),x.get(Xi(t)).emit("contactListUpdate",e)})),or.set(Xi(t),r),t}return t=s,n=[{key:"getToken",value:function(){return this.token}},{key:"getApzToken",value:function(){var e=null;return void 0!==apiRTC.session&&null!==apiRTC.session&&(e=apiRTC.session.JWTApzToken),e}},{key:"getId",value:function(){return this.id}},{key:"getUserAgent",value:function(){return ir.get(this)}},{key:"getContact",value:function(e){return Zi.warn("getContact() - Method deprecated, use Session.getOrCreateContact() instead"),zn.get().getOrCreateContact(e)}},{key:"getOrCreateContact",value:function(e){return zn.get().getOrCreateContact(e)}},{key:"createConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zi.warn("createConversation() - Method deprecated, use Session.getConversation() instead"),this.getConversation(e,t)}},{key:"getConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zi.trace("Getting conversation "+e,t),Vi.get().getOrCreateConversation(e)}},{key:"getConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zi.trace("Getting conference "+e,t),Vi.get().getOrCreateConference(e)}},{key:"getOrCreateConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Vi.get().getNameFromTechnicalName(e);return Vi.get().isConference(e)?Vi.get().getOrCreateConference(n,t):Vi.get().getOrCreateConversation(n,t)}},{key:"getOrCreateConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getOrCreateConversation(e,t)}},{key:"getActiveConversations",value:function(){var e,t={},n=Vi.get().getConversations(),i=Yi(n.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value,a=n.get(r);a.isJoined()&&(t[r]=a)}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"getActiveConferences",value:function(){var e,t={},n=Vi.get().getConferences(),i=Yi(n.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value,a=n.get(r);a.isJoined()&&(t[r]=a)}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"getWhiteboardClient",value:function(){return Zi.trace("getWhiteboardClient()"),$i.whiteBoardClient}},{key:"setUserData",value:function(e){this.userData.setProps(e).setToSession()}},{key:"setUsername",value:function(e){this.userData.setProp("username",e).setToSession()}},{key:"setPhotoUrl",value:function(e){this.userData.setProp("photo_url",e).setToSession()}},{key:"getUserData",value:function(){return this.userData}},{key:"getUsername",value:function(){return null!==this.userData.get("username")?this.userData.get("username"):null!==this.userData.get("nickname")?this.userData.get("nickname"):this.id.toString()}},{key:"getPhotoUrl",value:function(){return null!==this.userData.get("photo_url")?this.userData.get("photo_url"):null!==this.userData.get("photoUrl")?this.userData.get("photoUrl"):null}},{key:"subscribeToGroup",value:function(e){if(this.getSubscribedPresenceGroup().includes(e)){Zi.debug("Already subscribed to this group");var t=apiCC.session.subscribeToPresenceGroupAddedByApiRTC.indexOf(e);-1!==t&&apiCC.session.subscribeToPresenceGroupAddedByApiRTC.splice(t,1)}else $i.apiRTCSession.subscribePresenceGroup([e])}},{key:"unsubscribeToGroup",value:function(e){this.getSubscribedPresenceGroup().includes(e)?$i.unsubscribeToPresenceGroup(e):Zi.debug("Not subscribed to this group")}},{key:"joinGroup",value:function(e){if(this.getPresenceGroup().includes(e)){Zi.debug("Already joined this group");var t=apiCC.session.presenceGroupAddedByApiRTC.indexOf(e);-1!==t&&apiCC.session.presenceGroupAddedByApiRTC.splice(t,1)}else $i.joinAndSubscribeToPresenceGroup(e)}},{key:"leaveGroup",value:function(e){this.getPresenceGroup().includes(e)?$i.leaveAndUnsubscribeToPresenceGroup(e):Zi.debug("Group was not joined")}},{key:"subscribeToCloudEvent",value:function(e,t){$i.subscribeToCloudEvent(e,t)}},{key:"unsubscribeToCloudEvent",value:function(e,t){$i.unsubscribeToCloudEvent(e,t)}},{key:"joinConversationSpace",value:function(e){$i.apiRTCSession.joinConversationSpace(e)}},{key:"leaveConversationSpace",value:function(e){$i.apiRTCSession.leaveConversationSpace(e)}},{key:"getContacts",value:function(e){Zi.trace("getContacts()");var t,n={},i=zn.get().getContacts(e),r=Yi(i.keys());try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=i.get(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getContactsArray",value:function(e){Zi.log("getContactsArray");var t=zn.get().getContacts(e);return Array.from(t.values())}},{key:"getOnlineContactsArray",value:function(e){Zi.log("getOnlineContactsArray");var t=zn.get().getOnlineContacts(e);return Array.from(t.values())}},{key:"getCall",value:function(e){return Zi.trace("getCall()"),_e.get().getCall(e)}},{key:"getCalls",value:function(){Zi.trace("getCalls()");var e,t={},n=_e.get().getCalls(),i=Yi(n.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value;t[r]=n.get(r)}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"disconnect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{invalidateUserToken:!0};return new Promise((function(n,i){if(Zi.info("disconnect()"),null===e.token&&null===e.id)Zi.error("disconnect() - Session is already disconnected"),i("disconnect() - Session is already disconnected");else{var r,a=Yi(Vi.get().getConversations().keys());try{for(a.s();!(r=a.n()).done;){var o=r.value;o.status===l.g.CONVERSATION_STATUS_JOINED&&o.leave()}}catch(e){a.e(e)}finally{a.f()}if(clearInterval(rr.get(e)),rr.set(e,null),null!==e.token&&t.hasOwnProperty("invalidateUserToken")&&t.invalidateUserToken)er.invalidateUserToken(e.token).then((function(){ar=null,t.invalidateApiCCId=!0,$i.disconnect(t),e.id=null,e.token=null;for(var i=or.get(e),r=0,a=Object.keys(i);r<a.length;r++){var o=a[r];Zi.info("Session, removing apiRTCManager event :",o);var s=i[o];$i.removeEventListener(o,s)}n()})).catch((function(e){Zi.error("disconnect() - An error occured during disconnection",e),i(new Error("disconnect() - An error occured during disconnection"))}));else{ar=null,$i.disconnect(t),e.id=null;for(var s=or.get(e),c=0,u=Object.keys(s);c<u.length;c++){var d=u[c];Zi.info("Session, removing apiRTCManager event :",d);var f=s[d];$i.removeEventListener(d,f)}n()}}}))}},{key:"cloudRequest",value:function(e,t,n){return er.cloudRequest(e,t,n)}},{key:"sendRawData",value:function(e,t){return new Promise((function(n,i){null!=e?$i.sendData(e.getId(),t).then(n).catch((function(e){switch(e){case l.g.ERROR_TIMED_OUT:i(R.g.createError(l.g.ERROR_TIMED_OUT,"sendRawData() - Data transmission timed out ",Zi));break;case l.g.ERROR_NOT_FOUND:i(R.g.createError(l.g.ERROR_NOT_FOUND,"sendRawData() - Contact was not found ",Zi));break;default:i(R.g.createError(l.g.ERROR_OTHER,"sendRawData() - Data transmission timed out ",Zi))}})):i(R.g.createError(l.g.ERROR_OTHER,"sendRawData() - Contact undefined",Zi))}))}},{key:"startRecordingOutgoingStream",value:function(e,t){this.isRecording?Zi.error("startRecordingOutgoingStream() - already recording"):($i.webRTCClient.startRecording(e,t),this.isRecording=!0)}},{key:"stopRecordingOutgoingStream",value:function(){var e=this;return new Promise((function(t,n){e.isRecording?(e.isRecording=!1,$i.onceEvent("MCURecordedStreamsAvailable",(function(e){t({filename:e.detail.recordedFileName,url:l.g.RECORD_PLAY_URL+e.detail.recordedFileName})})),$i.webRTCClient.stopRecording()):(Zi.error("stopRecordingOutgoingStream() - not recording"),n(new Error("stopRecordingOutgoingStream() - not recording")))}))}},{key:"init",value:function(e){var t=this;this.id=e,ar=this,null===rr.get(this)&&rr.set(this,setInterval((function(){ur(t)}),3e4))}},{key:"setMCUServer",value:function(e){$i.webRTCClient.setMCUConnector(e)}},{key:"allowMultipleCalls",value:function(e){$i.webRTCClient.setAllowMultipleCalls(e)}},{key:"setCallStatsMonitoringEnabled",value:function(e,t){$i.webRTCClient.enableCallStatsMonitoring(e,t)}},{key:"setQualityEvaluatingEnabled",value:function(e,t){$i.webRTCClient.enableQualityEvaluating(e,t)}},{key:"getContactFromWebSession",value:function(e){var t=this;return new Promise((function(n,i){er.getSessionHistory(e,t.getToken()).then((function(e){"1"!==e.exist.toString()?i(R.g.createError(l.g.ERROR_NOT_FOUND,"No such web session",Zi)):e.user1.toString()===t.getId()?n(t.getContact(e.user2)):e.user2.toString()===t.getId()?n(t.getContact(e.user1)):i(R.g.createError(l.g.ERROR_UNAUTHORIZED,"User has no access to this web session",Zi))})).catch((function(e){e.hasOwnProperty("code")?i({code:e.code,error:e.error}):e.hasOwnProperty("http_code")?e.http_code.toString().startsWith("4")?i(R.g.createError(l.g.ERROR_OTHER,"Error while getting contact from websession",Zi)):i(R.g.createError(l.g.ERROR_SERVER_UNAVAILABLE,"Error while getting contact from websession",Zi)):i(R.g.createError(l.g.ERROR_OTHER,"Error while getting contact from websession",Zi))}))}))}},{key:"joinPointerSharingRoom",value:function(e){var t=this;return new Promise((function(n,i){if(sr.get(t).hasOwnProperty(e))return i(R.g.createError(l.g.ERROR_WRONG_STATE,"joinPointerSharingRoom() - cannot join pointer sharing room again",Zi));$i.pointerSharingClient.joinRoom(e,{success:function(e){var i=new cr(t,e);sr.get(t)[e]=i,n(i)},failure:function(e,t){i("timeout"===e?R.g.createError(l.g.ERROR_TIMED_OUT,"joinPointerSharingRoom() - cannot join pointer sharing room",Zi):R.g.createError(l.g.ERROR_OTHER,"joinPointerSharingRoom() - cannot join pointer sharing room",Zi))}})}))}},{key:"getSubscribedPresenceGroup",value:function(){return void 0!==apiCC&&null!==apiCC.session&&void 0!==apiCC.session?apiCC.session.subscribeToPresenceGroup:[]}},{key:"getPresenceGroup",value:function(){return void 0!==apiCC&&null!==apiCC.session&&void 0!==apiCC.session?apiCC.session.presenceGroup:[]}}],i=[{key:"getAvailableEvents",value:function(){return nr}},{key:"getActiveSession",value:function(){return ar}}],n&&Qi(t.prototype,n),i&&Qi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O),cr=function(e,t){this.session=e,this.roomId=t,this.getRoomId=function(){return this.roomId},this.isActive=function(){return null!==this.session&&null!==this.roomId&&$i.pointerSharingClient.roomActive(this.roomId)},this.leaveRoom=function(){var e=this;return new Promise((function(t,n){if(null===e.session||null===e.roomId)return n(R.g.createError(l.g.ERROR_WRONG_STATE,"leaveRoom() - cannot leave room again",Zi));$i.pointerSharingClient.leaveRoom(e.roomId),delete sr.get(e.session)[e.roomId],e.session=null,e.roomId=null,t()}))},this.invite=function(e,t){var n=this;return new Promise((function(i,r){if(null===n.session||null===n.roomId)return r(R.g.createError(l.g.ERROR_WRONG_STATE,"invite() - cannot invite",Zi));$i.pointerSharingClient.inviteInRoom(n.roomId,e.getId(),t),i()}))},this.sendPointerLocation=function(e,t,n,i){var r=this;return new Promise((function(a,o){return null===r.session||null===r.roomId?o(R.g.createError(l.g.ERROR_WRONG_STATE,"sendPointerLocation() - cannot send pointer location",Zi)):$i.pointerSharingClient.sendPointerLocation(r.roomId,e,t,n,i)?void a():o(R.g.createError(l.g.ERROR_WRONG_STATE,"sendPointerLocation() - cannot send pointer location",Zi))}))}},ur=function(e){for(var t=e.getActiveConferences(),n=0,i=Object.keys(t);n<i.length;n++){var r=t[i[n]];er.updateConferencePresence(r,e,$i.getActiveApiKey())}},dr=s(7618);function fr(e){var t="function"==typeof Map?new Map:void 0;return fr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return hr(e,arguments,kr(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Er(i,e)},fr(e)}function hr(e,t,n){return hr=Ar()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Er(r,n.prototype),r},hr.apply(null,arguments)}function pr(){return pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kr(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},pr.apply(this,arguments)}function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function mr(){mr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),o=new I(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,r,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==t&&n.call(m,r)&&(p=m);var v=h.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(r,a,o,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==gr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,n){function a(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(a,a):a()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),s(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new y(l(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),s(v,o,"Generator"),s(v,r,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function vr(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){vr(a,i,r,o,s,"next",e)}function s(e){vr(a,i,r,o,s,"throw",e)}o(void 0)}))}}function yr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ir(e,t,n){return t&&Sr(e.prototype,t),n&&Sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}function Er(e,t){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Er(e,t)}function Mr(e){var t=Ar();return function(){var n,i=kr(e);if(t){var r=kr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}(this,n)}}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}var xr=v.Y.get("Stream"),Dr=H.get(),Or=Vi.get(),Lr=["stopped","trackStopped","audioAmplitude","audioAmplitudeInfo","muteStateChange","activeStateChange","backgroundSubstractionStopVisibilityChange","backgroundSubstractionStopComputeTime","AIESnapshot","AIELog","flowStatusChanged","audioFlowStatusChanged","videoFlowStatusChanged","remoteAudioFlowStatusChanged","remoteVideoFlowStatusChanged","release","constraintsChanged"],_r=new Map,Nr=new WeakMap,jr=new WeakMap,Pr=new WeakMap,Ur=new WeakMap,Fr={},Br=function(e){Tr(n,e);var t=Mr(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(wr(this,n),i=t.call(this,xr),!0!==r.constructor)throw new Error("Stream constructor should not be used directly, please use a static method of class Stream such as : createStreamFromUserMedia, createStreamFromMediaStream, createScreensharingStream");if(delete r.constructor,!r.hasOwnProperty("type"))throw new Error("Cannot create Stream with no type");if(xr.debug("Create Stream with options",r),i.data=e,i.audioInput=r.hasOwnProperty("audioInput")?r.audioInput:null,i.videoInput=r.hasOwnProperty("videoInput")?r.videoInput:null,i.audioFilterIsApplied=!1,i.videoFilterIsApplied=!1,i.audioAppliedFilter="none",i.videoAppliedFilter="none",i.originalMediaTrack=null,r.hasOwnProperty("userMediaStreamId")?(i.userMediaStreamId=r.userMediaStreamId,i.isRemote=!1,_r.set(i.userMediaStreamId,Rr(i))):(i.userMediaStreamId=null,i.isRemote=!0),R.g.isPropertyTypeof(r,"streamId","number")?i.streamId=r.streamId:null!==i.userMediaStreamId?i.streamId=Number(i.userMediaStreamId):void 0!==Number.MAX_SAFE_INTEGER?i.streamId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER):i.streamId=Math.floor(1024*Math.random()*1024*1024),i.contact=r.hasOwnProperty("contact")?r.contact:null,r.hasOwnProperty("callId")?(i.callId=r.callId,i.callAudioAvailable=r.callAudioAvailable,i.callAudioActive=r.callAudioActive,i.callAudioMuted=r.callAudioMuted,i.callAudioSilent=r.callAudioSilent,i.callVideoAvailable=r.callVideoAvailable,i.callVideoActive=r.callVideoActive,i.callVideoMuted=r.callVideoMuted,i.callVideoSilent=r.callVideoSilent):i.callId=null,i.publishedInConversations=new Map,i.mediaRecorder=null,i.recordedBlobs=[],Nr.set(Rr(i),!!r.hasOwnProperty("screensharing")&&r.screensharing),jr.set(Rr(i),null),Pr.set(Rr(i),null),i.screensharingRemoteAccessStream=!1,apiRTC.userAgentInstance.apiRTCStreamsList.set(i.streamId,Rr(i)),i.type=r.type,i.visibilityChangeHandlerWhenTorchOn=function(e){if(xr.debug("visibilityChangeHandlerWhenTorchOn :",document.visibilityState),"hidden"===document.visibilityState&&(xr.debug("visibilitychange is now hidden"),"Android"===apiRTC.osName)){var t={video:{advanced:[{torch:!1}]}};i.informContactsOfChangedConstraints(t),i.emitConstraintsChanged(t),document.removeEventListener("visibilitychange",i.visibilityChangeHandlerWhenTorchOn,!1)}},"IE"!==apiRTC.browser&&null!==i.data){var a,o=function(e){e.addEventListener("ended",(function(t){Fr.hasOwnProperty(e.id)||(x.get(Rr(i)).emit("trackStopped",{type:e.kind,id:e.id,reason:"ended"}),Fr[e.id]=!0)}))},s=yr(i.data.getVideoTracks());try{for(s.s();!(a=s.n()).done;)o(a.value)}catch(e){s.e(e)}finally{s.f()}var l,c=yr(i.data.getAudioTracks());try{for(c.s();!(l=c.n()).done;)o(l.value)}catch(e){c.e(e)}finally{c.f()}}var u={};if(R.g.isTypeof(i.userMediaStreamId,"string")?(u.userMediaStop=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId){var t={streamId:i.streamId,userMediaStreamId:i.userMediaStreamId};x.get(Rr(i)).emit("stopped",t);var n=Ur.get(Rr(i));if(n)for(var r in n)apiRTC.removeEventListener(r,n[r])}},u.localStreamUpdated=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId&&null===e.detail.callId){if(e.detail.changeList.indexOf("audioIsMuted")>=0){var t={streamId:i.streamId,userMediaStreamId:i.userMediaStreamId,type:"audio",muted:e.detail.audioIsMuted};x.get(Rr(i)).emit("muteStateChange",t),i.sendAudioFlowStatusChanged(),i.sendFlowStatusChanged("audio")}if(e.detail.changeList.indexOf("videoIsMuted")>=0){var n={streamId:i.streamId,userMediaStreamId:i.userMediaStreamId,type:"video",muted:e.detail.videoIsMuted};x.get(Rr(i)).emit("muteStateChange",n),i.sendVideoFlowStatusChanged(),i.sendFlowStatusChanged("video")}e.detail.changeList.indexOf("audioIsSilent")>=0&&(i.sendAudioFlowStatusChanged(),i.sendFlowStatusChanged("audio")),e.detail.changeList.indexOf("videoIsSilent")>=0&&(i.sendVideoFlowStatusChanged(),i.sendFlowStatusChanged("video"))}},u.backgroundSubstractionStopVisibilityChange=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId){var t={streamId:i.streamId,userMediaStreamId:i.userMediaStreamId};x.get(Rr(i)).emit("backgroundSubstractionStopVisibilityChange",t)}},u.backgroundSubstractionStopComputeTime=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId){var t={streamId:i.streamId,userMediaStreamId:i.userMediaStreamId};x.get(Rr(i)).emit("backgroundSubstractionStopComputeTime",t)}},u.AIESnapshot=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId){var t=e.detail.image;x.get(Rr(i)).emit("AIESnapshot",t)}},u.AIELog=function(e){if(e.detail.userMediaStreamId===i.userMediaStreamId){var t=e.detail.log;x.get(Rr(i)).emit("AIELog",t)}}):R.g.isTypeof(i.callId,"string")&&(u.hangup=function(e){if("remote"===e.detail.hangupType&&e.detail.callId===i.callId){var t={streamId:i.streamId,callId:i.callId};x.get(Rr(i)).emit("stopped",t);var n=Ur.get(Rr(i));for(var r in n)apiRTC.removeEventListener(r,n[r])}},u.remoteStreamUpdated=function(e){if(e.detail.callId===i.callId){if(e.detail.changeList.indexOf("audioIsActive")>=0){i.callAudioActive=e.detail.audioIsActive;var t={streamId:i.streamId,callId:i.callId,type:"audio",active:e.detail.audioIsActive};x.get(Rr(i)).emit("activeStateChange",t)}if(e.detail.changeList.indexOf("audioIsMuted")>=0){i.callAudioMuted=e.detail.audioIsMuted;var n={streamId:i.streamId,callId:i.callId,type:"audio",muted:e.detail.audioIsMuted};x.get(Rr(i)).emit("muteStateChange",n),i.sendRemoteAudioFlowStatusChanged({enabled:!e.detail.audioIsMuted,muted:e.detail.audioIsSilent}),i.sendFlowStatusChangedForRemote("audio",{enabled:!e.detail.audioIsMuted,muted:e.detail.audioIsSilent})}if(e.detail.changeList.indexOf("videoIsActive")>=0){i.callVideoActive=e.detail.videoIsActive;var r={streamId:i.streamId,callId:i.callId,type:"video",active:e.detail.videoIsActive};x.get(Rr(i)).emit("activeStateChange",r)}if(e.detail.changeList.indexOf("videoIsMuted")>=0){i.callVideoMuted=e.detail.videoIsMuted;var a={streamId:i.streamId,callId:i.callId,type:"video",muted:e.detail.videoIsMuted};x.get(Rr(i)).emit("muteStateChange",a),i.sendRemoteVideoFlowStatusChanged({enabled:!e.detail.videoIsMuted,muted:e.detail.videoIsSilent}),i.sendFlowStatusChangedForRemote("video",{enabled:!e.detail.videoIsMuted,muted:e.detail.videoIsSilent})}e.detail.changeList.indexOf("audioIsSilent")>=0&&(i.callAudioSilent=e.detail.audioIsSilent,i.sendRemoteAudioFlowStatusChanged({enabled:!e.detail.audioIsMuted,muted:e.detail.audioIsSilent}),i.sendFlowStatusChangedForRemote("audio",{enabled:!e.detail.audioIsMuted,muted:e.detail.audioIsSilent})),e.detail.changeList.indexOf("videoIsSilent")>=0&&(i.callVideoSilent=e.detail.videoIsSilent,i.sendRemoteVideoFlowStatusChanged({enabled:!e.detail.videoIsMuted,muted:e.detail.videoIsSilent}),i.sendFlowStatusChangedForRemote("video",{enabled:!e.detail.videoIsMuted,muted:e.detail.videoIsSilent})),e.detail.changeList.indexOf("audioIsSilentLocally")>=0&&(i.sendAudioFlowStatusChanged(),i.sendFlowStatusChanged("audio")),e.detail.changeList.indexOf("videoIsSilentLocally")>=0&&(i.sendVideoFlowStatusChanged(),i.sendFlowStatusChanged("video"))}}),Object.keys(u).length>0)for(var d in Ur.set(Rr(i),u),u)apiRTC.addEventListener(d,u[d]);return i}return Ir(n,[{key:"getContact",value:function(){return this.contact}},{key:"getData",value:function(){return this.data}},{key:"getConversations",value:function(){var e,t=[],n=yr(this.publishedInConversations.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(Or.getConversations(i))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"isScreensharing",value:function(){return Nr.get(this)}},{key:"isScreensharingRemoteAccess",value:function(){return this.screensharingRemoteAccessStream}},{key:"hasData",value:function(){return null!==this.data}},{key:"hasVideo",value:function(){return this.callId?this.callVideoAvailable&&this.callVideoActive:!!this.hasData()&&this.data.getVideoTracks().length>0}},{key:"hasAudio",value:function(){return this.callId?this.callAudioAvailable&&this.callAudioActive:!!this.hasData()&&this.data.getAudioTracks().length>0}},{key:"isVideoMuted",value:function(){if(this.callId)return this.callVideoSilent;if(this.hasData()){var e=this.data.getVideoTracks();if(e&&e.length>0)return e[0].muted}return!0}},{key:"isVideoEnabled",value:function(){if(this.callId)return!this.callVideoMuted;if(this.hasData()){var e=this.data.getVideoTracks();return e&&e.length>0&&e[0].enabled}return!1}},{key:"isAudioMuted",value:function(){if(this.callId)return this.callAudioSilent;if(this.hasData()){var e=this.data.getAudioTracks();if(e&&e.length>0)return e[0].muted}return!0}},{key:"isAudioEnabled",value:function(){if(this.callId)return!this.callAudioMuted;if(this.hasData()){var e=this.data.getAudioTracks();return e&&e.length>0&&e[0].enabled}return!1}},{key:"getType",value:function(){return this.type}},{key:"release",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("noiseReduction"===this.childType&&void 0!==this.parent){apiCC.audioProcessor.stopAudioNodeCtx(this.parent.nodeCtx);var t=apiCC.getUserMediaStream(this.parent.userMediaStreamId);apiCC.audioProcessor.listenToAudio(this.parent.data,t)}this.hasData()&&(this.releaseAudio(),this.releaseVideo(),this.data=null,this.userMediaStreamId&&(apiCC.releaseUserMediaStream(this.userMediaStreamId),_r.delete(this.userMediaStreamId))),x.get(this).emit("release",{streamId:this.streamId,userMediaStreamId:this.userMediaStreamId}),!1!==e.releaseChildrenStream&&this.releaseAllChildren(),!1!==e.releaseParentStream&&void 0!==this.parent&&(xr.debug("release parent is also requested"),this.parent.release(e)),xr.debug("Removing in apiRTCStreamsList :",this.streamId),apiRTC.userAgentInstance.apiRTCStreamsList.delete(this.streamId)}},{key:"releaseAudio",value:function(){var e=this;this.hasData()&&(this.disableAudioAnalysis(),this.data.getAudioTracks().forEach((function(t){t.stop(),Fr.hasOwnProperty(t.id)||(x.get(e).emit("trackStopped",{type:t.kind,id:t.id,reason:"releaseAudio"}),Fr[t.id]=!0)})))}},{key:"releaseVideo",value:function(){var e=this;this.hasData()&&this.data.getVideoTracks().forEach((function(t){t.stop(),Fr.hasOwnProperty(t.id)||(x.get(e).emit("trackStopped",{type:t.kind,id:t.id,reason:"releaseVideo"}),Fr[t.id]=!0)}))}},{key:"muteAudio",value:function(){xr.warn("This method is deprecated now, please use Stream.disableAudio() instead"),this.disableAudio()}},{key:"muteVideo",value:function(){xr.warn("This method is deprecated now, please use Stream.disableVideo() instead"),this.disableVideo()}},{key:"unmuteAudio",value:function(){xr.warn("This method is deprecated now, please use Stream.enableAudio() instead"),this.enableAudio()}},{key:"unmuteVideo",value:function(){xr.warn("This method is deprecated now, please use Stream.enableVideo() instead"),this.enableVideo()}},{key:"sendStreamRequest",value:function(e,t,n){var i={};i.streamId=this.streamId;var r=this.publishedInConversations.keys();i.roomname=r.next().value,this.contact.sendRequest(e,i).then((function(){return t()})).catch((function(e){return xr.error("Error on sendRequest :",e),n()}))}},{key:"enableAudio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(){var n=br(mr().mark((function n(i,r){var a;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==e.isAudioEnabled()||!1!==e.isRemote){n.next=3;break}return xr.debug("audio already enabled"),n.abrupt("return",i());case 3:if(!e.userMediaStreamId){n.next=16;break}if(a=apiCC.getUserMediaStream(e.userMediaStreamId)){n.next=7;break}return n.abrupt("return",r());case 7:if(a.unMuteAudioOnStreams("enabled"),void 0===e.parent){n.next=12;break}return xr.debug("this is a child stream, need to unmute parent if necessary"),n.next=12,e.parent.enableAudio();case 12:return void 0!==e.childrens&&e.childrens.forEach(function(){var e=br(mr().mark((function e(t,n){return mr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enableAudio();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.abrupt("return",i());case 16:if(!e.callId){n.next=29;break}if(!0!==t){n.next=23;break}xr.debug("enableAudio remote with applyRemotely"),xr.debug("this.contact :",e.contact),e.sendStreamRequest(l.g.CONTACT_ENABLE_AUDIO_REQUEST,i,r),n.next=28;break;case 23:if(e.hasData()){n.next=25;break}return n.abrupt("return",r());case 25:e.data.getAudioTracks().forEach((function(e){e.enabled=!0})),e.sendAudioFlowStatusChanged(),e.sendFlowStatusChanged("audio");case 28:return n.abrupt("return",i());case 29:return n.abrupt("return",r());case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"disableAudio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(){var n=br(mr().mark((function n(i,r){var a;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1!==e.isAudioEnabled()||!1!==e.isRemote){n.next=3;break}return xr.debug("audio already disabled"),n.abrupt("return",i());case 3:if(!e.userMediaStreamId){n.next=16;break}if(a=apiCC.getUserMediaStream(e.userMediaStreamId)){n.next=7;break}return n.abrupt("return",r());case 7:if(a.muteAudioOnStreams("enabled"),void 0===e.parent){n.next=12;break}return xr.debug("this is a child stream, need to mute parent if necessary"),n.next=12,e.parent.disableAudio();case 12:return void 0!==e.childrens&&e.childrens.forEach(function(){var e=br(mr().mark((function e(t,n){return mr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.disableAudio();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.abrupt("return",i());case 16:if(!e.callId){n.next=29;break}if(!0!==t){n.next=23;break}xr.debug("disableAudio remote with applyRemotely"),xr.debug("this.contact :",e.contact),e.sendStreamRequest(l.g.CONTACT_DISABLE_AUDIO_REQUEST,i,r),n.next=28;break;case 23:if(e.hasData()){n.next=25;break}return n.abrupt("return",r());case 25:e.data.getAudioTracks().forEach((function(e){e.enabled=!1})),e.sendAudioFlowStatusChanged(),e.sendFlowStatusChanged("audio");case 28:return n.abrupt("return",i());case 29:return n.abrupt("return",r());case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"enableVideo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(){var n=br(mr().mark((function n(i,r){var a;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==e.isVideoEnabled()||!1!==e.isRemote){n.next=3;break}return xr.debug("video already enabled"),n.abrupt("return",i());case 3:if(!e.userMediaStreamId){n.next=16;break}if(a=apiCC.getUserMediaStream(e.userMediaStreamId)){n.next=7;break}return n.abrupt("return",r());case 7:if(a.unMuteVideoOnStreams("enabled"),void 0===e.parent){n.next=12;break}return xr.debug("this is a child stream, need to unmute parent if necessary"),n.next=12,e.parent.enableVideo();case 12:return void 0!==e.childrens&&e.childrens.forEach(function(){var e=br(mr().mark((function e(t,n){return mr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enableVideo();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.abrupt("return",i());case 16:if(!e.callId){n.next=29;break}if(!0!==t){n.next=23;break}xr.debug("enableVideo remote with applyRemotely"),xr.debug("this.contact :",e.contact),e.sendStreamRequest(l.g.CONTACT_ENABLE_VIDEO_REQUEST,i,r),n.next=28;break;case 23:if(e.hasData()){n.next=25;break}return n.abrupt("return",r());case 25:e.data.getVideoTracks().forEach((function(e){e.enabled=!0})),e.sendVideoFlowStatusChanged(),e.sendFlowStatusChanged("video");case 28:return n.abrupt("return",i());case 29:return n.abrupt("return",r());case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"disableVideo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(){var n=br(mr().mark((function n(i,r){var a;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1!==e.isVideoEnabled()||!1!==e.isRemote){n.next=3;break}return xr.debug("video already disabled"),n.abrupt("return",i());case 3:if(!e.userMediaStreamId){n.next=16;break}if(a=apiCC.getUserMediaStream(e.userMediaStreamId)){n.next=7;break}return n.abrupt("return",r());case 7:if(a.muteVideoOnStreams("enabled"),void 0===e.parent){n.next=12;break}return xr.debug("this is a child stream, need to mute parent if necessary"),n.next=12,e.parent.disableVideo();case 12:return void 0!==e.childrens&&e.childrens.forEach(function(){var e=br(mr().mark((function e(t,n){return mr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.disableVideo();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.abrupt("return",i());case 16:if(!e.callId){n.next=29;break}if(!0!==t){n.next=23;break}xr.debug("disableVideo remote with applyRemotely"),xr.debug("this.contact :",e.contact),e.sendStreamRequest(l.g.CONTACT_DISABLE_VIDEO_REQUEST,i,r),n.next=28;break;case 23:if(e.hasData()){n.next=25;break}return n.abrupt("return",r());case 25:e.data.getVideoTracks().forEach((function(e){e.enabled=!1})),e.sendVideoFlowStatusChanged(),e.sendFlowStatusChanged("video");case 28:return n.abrupt("return",i());case 29:return n.abrupt("return",r());case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getAudioFlowStatus",value:function(){var e={};return this.data.getAudioTracks().forEach((function(t){e.enabled=t.enabled,e.muted=t.muted})),e}},{key:"getVideoFlowStatus",value:function(){var e={};return this.data.getVideoTracks().forEach((function(t){e.enabled=t.enabled,e.muted=t.muted})),e}},{key:"getRemoteAudioFlowStatus",value:function(){var e=this;return new Promise((function(t,n){if(!e.isRemote)return n("Please use this function on a remote Stream");if(xr.debug("getRemoteAudioFlowStatus()"),null===e.contact)return n("No contact associated");var i=e.addPendingPromise("getRemoteAudioFlowStatus",t,n);e.contact.sendCustomEvent(l.g.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:e.callId,streamId:e.getId(),timeout:i})}))}},{key:"getRemoteVideoFlowStatus",value:function(){var e=this;return new Promise((function(t,n){if(!e.isRemote)return n("Please use this function on a remote Stream");if(xr.debug("getRemoteVideoFlowStatus()"),null===e.contact)return n("No contact associated");var i=e.addPendingPromise("getRemoteVideoFlowStatus",t,n);e.contact.sendCustomEvent(l.g.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:e.callId,streamId:e.getId(),timeout:i})}))}},{key:"attachToElement",value:function(e){xr.debug("attachToElement"),Dr.attachMediaStream(e,this.data)}},{key:"addInDiv",value:function(e,t,n,i,r){xr.debug("addInDiv"),Dr.addStreamInDiv(this.data,this.type,e,t,n,i,r)}},{key:"removeFromDiv",value:function(e,t){xr.debug("removeFromDiv"),Dr.removeElementFromDiv(e,t)}},{key:"startRecord",value:function(e){return xr.info("startRecord :",e),apiCC.recordMgr.record(this.data,e)}},{key:"stopRecord",value:function(){return xr.info("stopRecord() - Stopping record"),apiCC.recordMgr.stop()}},{key:"pauseRecord",value:function(){return xr.info("pauseRecord() - Pausing record"),apiCC.recordMgr.pause()}},{key:"resumeRecord",value:function(){return xr.info("resumeRecord() - Resuming record"),apiCC.recordMgr.resume()}},{key:"enableAudioAnalysis",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xr.info("enableAudioAnalysis()");var n=R.g.getAudioContext(),i=null,r=!1,a=Pr.get(this),o=jr.get(this);n?this.hasData()?null!==a||null!==o?xr.error("enableAudioAnalysis() - Audio analysis already enabled"):(a=n.createMediaStreamSource(this.data),(o=n.createScriptProcessor(2048,1,1)).connect(n.destination),o.onaudioprocess=function(){var n,a=new Uint8Array(o.analyser.frequencyBinCount),s=0;o.analyser.getByteFrequencyData(a);var c,u=yr(a);try{for(u.s();!(c=u.n()).done;)s+=c.value}catch(e){u.e(e)}finally{u.f()}n=s/a.length,x.get(e).emit("audioAmplitude",n);var d=0;a.sort((function(e,t){return t-e})),a=a.slice(0,50);for(var f=0;f<a.length;f++)d+=a[f];n=d/a.length;var h="number"==typeof t.threshold?t.threshold:l.g.STREAM_AUDIO_ANALYSIS_THRESHOLD;n>h&&(r||(r=!0,x.get(e).emit("audioAmplitudeInfo",{amplitude:n,isSpeaking:!0})),null!==i&&clearTimeout(i),i=setTimeout((function(){x.get(e).emit("audioAmplitudeInfo",{amplitude:n,isSpeaking:!1}),r=!1}),1e3))},o.analyser=n.createAnalyser(),o.analyser.smoothingTimeConstant=.5,o.analyser.fftSize=1024,a.connect(o.analyser),o.analyser.connect(o),jr.set(this,o),Pr.set(this,a)):xr.error("enableAudioAnalysis() - Stream has no data, unable to enable audio analysis"):xr.error("enableAudioAnalysis() - AudioContext is not available, unable to enable audio analysis")}},{key:"disableAudioAnalysis",value:function(){xr.info("disableAudioAnalysis()");var e=Pr.get(this),t=jr.get(this);null!==e&&e.disconnect(),null!==t&&(t.analyser.disconnect(),t.disconnect()),jr.set(this,null),Pr.set(this,null)}},{key:"takeSnapshot",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xr.info("takeSnapshot()");var n=null,i=null;return new Promise((function(r,a){if(e.hasData()){e.hasVideo()||xr.warn("takeSnapshot() - This stream does not have a video track"),n=document.createElement("video"),i=function(e){if(o.width=n.videoWidth,o.height=n.videoHeight,t.hasOwnProperty("width")&&(o.width=t.width),t.hasOwnProperty("height")&&(o.height=t.height),t.hasOwnProperty("filters")){for(var i=[],a=0,l=Object.keys(t.filters);a<l.length;a++){var c=l[a];i.push(c+"("+t.filters[c]+")")}s.filter=i.join(" ")}s.drawImage(n,0,0,o.width,o.height),!0===e&&n.remove(),t.hasOwnProperty("output")&&"blob"===t.output?void 0!==t.outputMimeType?(xr.debug("options.outputMimeType is defined :",t.outputMimeType),o.toBlob((function(e){r(e)}),t.outputMimeType,t.outputQualityArgument)):o.toBlob((function(e){r(e)}),"image/png"):void 0!==t.outputMimeType?(xr.debug("options.outputMimeType is defined :",t.outputMimeType),r(o.toDataURL(t.outputMimeType,t.outputQualityArgument))):r(o.toDataURL("image/png"))};var o=document.createElement("canvas"),s=o.getContext("2d");void 0===t.divId||null===t.divId?setTimeout((function(){e.attachToElement(n),n.addEventListener("canplay",(function(){i(!0)})),n.muted=!0,n.play()}),1e3):null===(n=document.getElementById(t.divId))?xr.error("divId not found for snapshot"):i(!1)}else{var l="takeSnapshot() - Stream has no data, cannot get snapshot";xr.error(l),a(new Error(l))}}))}},{key:"getId",value:function(){return String(this.streamId)}},{key:"getOwner",value:function(){return this.contact?this.contact:lr.getActiveSession().getUserAgent()}},{key:"getLabels",value:function(){var e={};return this.hasData()&&this.data.getAudioTracks().length>0&&(e.audioSourceLabel="",this.data.getAudioTracks()[0].label&&(e.audioSourceLabel=this.data.getAudioTracks()[0].label)),this.hasData()&&this.data.getVideoTracks().length>0&&(e.videoSourceLabel="",this.data.getVideoTracks()[0].label&&(e.videoSourceLabel=this.data.getVideoTracks()[0].label)),xr.debug("getLabels:",e),e}},{key:"checkImageCaptureCompatibility",value:function(){return"undefined"==typeof ImageCapture}},{key:"getLocalMediaStreamTrack",value:function(){var e=null;return 1===this.data.getVideoTracks().length&&(e=this.data.getVideoTracks()[0]),e}},{key:"getLocalMediaStreamAudioTrack",value:function(){var e=null;return 1===this.data.getAudioTracks().length&&(e=this.data.getAudioTracks()[0]),e}},{key:"informContactsOfChangedConstraints",value:function(e){var t,n=Vi.get().getConversations(),i=yr(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value,a=n.get(r).getContactsArray(),o=void 0;for(o=0;o<a.length;o++)a[o].sendCustomEvent(l.g.CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:this.callId,streamId:this.getId(),constraints:e,mediaStreamId:this.data.id})}}catch(e){i.e(e)}finally{i.f()}if(null!==this.callId){xr.debug("This stream is used in a call, send CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER to remote");var s=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callId);null!==s&&lr.getActiveSession().getOrCreateContact(s.remoteId).sendCustomEvent(l.g.CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:this.callId,streamId:this.getId(),constraints:e,mediaStreamId:this.data.id})}}},{key:"applyConstraints",value:function(e){var t=this;return new Promise((function(n,i){if(t.isRemote){if(xr.debug("applyConstraints() on a remote stream"),null===t.contact)return i("No contact associated");var r=t.addPendingPromise("applyConstraints",n,i);t.contact.sendCustomEvent(l.g.CONTACT_APPLY_CONSTRAINTS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:t.callId,streamId:t.getId(),timeout:r,constraints:e})}else{if(xr.debug("applyConstraints() local"),!MediaStreamTrack.prototype.hasOwnProperty("applyConstraints"))return i("Navigator not compatible with this function");var a=null,o=null;if(void 0===e)return i("Missing argument");if(void 0!==e.audio){var s=t.getLocalMediaStreamAudioTrack();null!==s&&(a=s.applyConstraints(e.audio))}if(void 0!==e.video){var c=t.getLocalMediaStreamTrack();null!==c&&(o=c.applyConstraints(e.video))}Promise.all([a,o]).then((function(i){return xr.debug("Constraints applied :",e),e&&e.video&&e.video.advanced&&!0===e.video.advanced[0].torch?(xr.debug("Torch to true:",e),document.addEventListener("visibilitychange",t.visibilityChangeHandlerWhenTorchOn,!1)):e&&e.video&&e.video.advanced&&!1===e.video.advanced[0].torch&&(xr.debug("Torch to false:",e),document.removeEventListener("visibilitychange",t.visibilityChangeHandlerWhenTorchOn,!1)),t.informContactsOfChangedConstraints(e),n()})).catch((function(e){return xr.error("reject Promise all :",e),i(e)}))}}))}},{key:"applyConstraint",value:function(e,t){xr.error("Due to a certain amount of problems with this function it has been desactivated, please use Stream.applyConstraints instead")}},{key:"setCapability",value:function(e,t){xr.error("Due to a certain amount of problems with this function it has been desactivated, please use Stream.applyConstraints instead")}},{key:"getSettings",value:function(){var e=this;return new Promise((function(t,n){if(!e.isRemote)return xr.debug("getSettings()"),MediaStreamTrack.prototype.hasOwnProperty("getSettings")?t({audio:e.getStreamTrackSettings(e.getLocalMediaStreamAudioTrack()),video:e.getStreamTrackSettings(e.getLocalMediaStreamTrack())}):n("Navigator not compatible with this function");if(xr.debug("getSettings() on a remote stream"),null===e.contact)return n("No contact associated");var i=e.addPendingPromise("getSettings",t,n);e.contact.sendCustomEvent(l.g.CONTACT_GET_SETTINGS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:e.callId,streamId:e.getId(),timeout:i})}))}},{key:"getStreamTrackSettings",value:function(e){if(null!==e)return e.getSettings()}},{key:"getCapabilities",value:function(){var e=this;return new Promise((function(t,n){if(!e.isRemote)return xr.debug("getCapabilities()"),MediaStreamTrack.prototype.hasOwnProperty("getCapabilities")?t({audio:e.getStreamTrackCapabilities(e.getLocalMediaStreamAudioTrack()),video:e.getStreamTrackCapabilities(e.getLocalMediaStreamTrack())}):n("Navigator not compatible with this function");if(xr.debug("getCapabilities() on a remote stream"),null===e.contact)return n("No contact associated");var i=e.addPendingPromise("getCapabilities",t,n);e.contact.sendCustomEvent(l.g.CONTACT_GET_CAPABILITIES_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:e.callId,streamId:e.getId(),timeout:i})}))}},{key:"getStreamTrackCapabilities",value:function(e){return null!==e?e.getCapabilities():{}}},{key:"getConstraints",value:function(){var e=this;return new Promise((function(t,n){if(!e.isRemote)return xr.debug("getConstraints()"),MediaStreamTrack.prototype.hasOwnProperty("getConstraints")?t({audio:e.getStreamTrackConstraints(e.getLocalMediaStreamAudioTrack()),video:e.getStreamTrackConstraints(e.getLocalMediaStreamTrack())}):n("Navigator not compatible with this function");if(xr.debug("getConstraints() on a remote stream"),null===e.contact)return n("No contact associated");var i=e.addPendingPromise("getConstraints",t,n);e.contact.sendCustomEvent(l.g.CONTACT_GET_CONSTRAINTS_IDENTIFIER,{requesterId:lr.getActiveSession().getUserAgent().userId,callId:e.callId,streamId:e.getId(),timeout:i})}))}},{key:"getStreamTrackConstraints",value:function(e){return null!==e?e.getConstraints():{}}},{key:"takePhoto",value:function(){var e=this;return new Promise((function(t,n){if(xr.debug("takePhoto()"),e.checkImageCaptureCompatibility())n("Your navigator is not compatible with takePhoto()");else{var i=e.getLocalMediaStreamTrack();null!==i?new ImageCapture(i).takePhoto().then((function(e){var n=new Image;n.src=URL.createObjectURL(e),t(n)})).catch((function(e){n("takePhoto() error: ",e)})):n("No local mediaStreamTrack found")}}))}},{key:"activateAIAnnotations",value:function(){var e=this.getStreamAIE();null!==e&&e.activateAnnotations()}},{key:"stopAIAnnotations",value:function(){var e=this.getStreamAIE();null!==e&&e.stopAnnotations()}},{key:"activateAILogs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"!=typeof e)return xr.error("minLogPeriod parameter must be an integer");var t=this.getStreamAIE();null!==t&&t.activateLogs(e)}},{key:"stopAILogs",value:function(){var e=this.getStreamAIE();null!==e&&e.stopLogs()}},{key:"activateAISnapshots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"!=typeof e)return xr.error("minSnapshotPeriod parameter must be an integer");var t=this.getStreamAIE();null!==t&&t.activateSnapshots(e)}},{key:"stopAISnapshots",value:function(){var e=this.getStreamAIE();null!==e&&e.stopSnapshots()}},{key:"getStreamAIE",value:function(){var e=null;if(void 0!==apiCC){var t=apiCC.getUserMediaStream(this.userMediaStreamId);if(null!==t.mediaFilterManager){var n=t.mediaFilterManager.filters;Object.values(n).forEach((function(t){null!==t.streamAIE&&(e=t.streamAIE)})),null===e&&xr.error("Applied filter is not an AI filter")}else xr.error("No filter applied on stream")}return e}},{key:"addChildren",value:function(e,t){this.childrenTypeExists(t)?xr.error("This stream already has a sub instance running for this"):(void 0===this.childrens&&(this.childrens=[]),this.childrens.push(e))}},{key:"releaseChildren",value:function(e){void 0!==this.childrens&&this.childrens.forEach((function(t,n){t.childType===e&&t.release({releaseParentStream:!1})}))}},{key:"releaseAllChildren",value:function(){xr.debug("releaseAllChildren"),void 0!==this.childrens&&this.childrens.forEach((function(e,t){e.release({releaseParentStream:!1})}))}},{key:"removeChildren",value:function(e){var t=this;void 0!==this.childrens&&this.childrens.forEach((function(n,i){if(n.childType===e)return t.childrens.splice(i,1)}))}},{key:"childrenTypeExists",value:function(e){var t=!1;return void 0!==this.childrens&&this.childrens.forEach((function(n){n.childType===e&&(t=!0)})),t}},{key:"createChildStreamFromStream",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){xr.debug("createChildStreamFromStream");var o={};o.type=l.g.STREAM_TYPE_NO_INPUT,e.getAudioTracks().length>0&&(o.type=l.g.STREAM_TYPE_AUDIO),e.getVideoTracks().length>0&&(o.type=l.g.STREAM_TYPE_VIDEO);var s=n;apiRTC.createUserMediaStream({type:"media",stream:e,success:function(e){xr.debug("[createChildStreamFromStream] success; userMediaStreamId: "+e.userMediaStreamId),o.constructor=!0,o.userMediaStreamId=e.userMediaStreamId;var n=new zr(e.stream,o,s,t);n.parentStreamCtx=i,!0===i.audioFilterIsApplied&&(n.audioFilterIsApplied=i.audioFilterIsApplied,n.audioAppliedFilter=i.audioAppliedFilter),!0===i.videoFilterIsApplied&&(n.videoFilterIsApplied=i.videoFilterIsApplied,n.videoAppliedFilter=i.videoAppliedFilter),r(n)},failure:function(e,t){xr.debug("[createChildStreamFromStream] failure :",t),a()},childStreamType:t})}))}},{key:"applyMuteStatusFromParent",value:function(){var e=this,t=0;this.data.getAudioTracks().forEach((function(n){n.enabled=e.parent.data.getAudioTracks()[t].enabled,t++}));var n=0;this.data.getVideoTracks().forEach((function(t){t.enabled=e.parent.data.getVideoTracks()[n].enabled,n++}))}},{key:"loadTFLiteModule",value:function(){return new Promise((function(e,t){var n;if(n=dr.feature.simd?"https://cdn.apizee.com/apiRTC/lib/tflite/tflite-simd.js":"https://cdn.apizee.com/apiRTC/lib/tflite/tflite.js",!1===apiRTC.userAgentInstance.tFLiteModuleLoaded){xr.debug("loading tflite");var i={async:!0,numRetries:20,reqdelay:200,success:function(){xr.debug("loaded successfully",dr.feature.simd),dr.feature.simd?createTFLiteSIMDModule().then((function(t){apiRTC.userAgentInstance.tFLiteSIMDModule=t,apiRTC.userAgentInstance.tFLiteModuleLoaded=!0,e(t)})):createTFLiteModule().then((function(t){apiRTC.userAgentInstance.tFLiteSIMDModule=t,apiRTC.userAgentInstance.tFLiteModuleLoaded=!0,e(t)}))},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){xr.warn("Blur API module loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs([n],"blur-api",i)}else xr.debug("tflite already loaded and TFLiteSIMDModule already created"),e(apiRTC.userAgentInstance.tFLiteSIMDModule)}))}},{key:"setupTFLiteModule",value:function(e){return new Promise((function(t,n){xr.debug("setupTFLiteModule"),!1===apiRTC.userAgentInstance.modelLoadedInModule?(xr.debug("loading model landscape"),fetch("https://cdn.apizee.com/apiRTC/lib/tflite/models/selfie_segmentation_landscape.tflite").then((function(n){if(!n.ok)throw new Error("Failed to download tflite model!");xr.debug("loaded successfully");var i=e._getModelBufferMemoryOffset();n.arrayBuffer().then((function(n){e.HEAPU8.set(new Uint8Array(n),i),e._loadModel(n.byteLength),xr.debug("module setup complete"),apiRTC.userAgentInstance.modelLoadedInModule=!0,apiRTC.userAgentInstance.tFLiteSIMDModule=e,t(e)}))})).catch((function(e){xr.error("Something went wrong during tflite model loading..",e)}))):(xr.debug("model landscape already loaded in module"),t(apiRTC.userAgentInstance.tFLiteSIMDModule))}))}},{key:"onMaskFrameTimer",value:function(e){e.data.id===this.blurVariables.TIMEOUT_TICK&&this.renderMask()}},{key:"renderMask",value:function(){this.resizeSource(),this.runInference(),this.runPostProcessing(),this.blurVariables.maskFrameTimerWorker.postMessage({id:this.blurVariables.SET_TIMEOUT,timeMs:1e3/30})}},{key:"resizeSource",value:function(){this.blurVariables.segmentationMaskCtx.drawImage(this.blurVariables.inputVideoElement,0,0,this.blurVariables.inputVideoElement.width,this.blurVariables.inputVideoElement.height,0,0,this.blurVariables.width,this.blurVariables.height);for(var e=this.blurVariables.segmentationMaskCtx.getImageData(0,0,this.blurVariables.width,this.blurVariables.height),t=this.blurVariables.tfliteModel._getInputMemoryOffset()/4,n=0;n<this.blurVariables.segmentationPixelCount;n++)this.blurVariables.tfliteModel.HEAPF32[t+3*n]=e.data[4*n]/255,this.blurVariables.tfliteModel.HEAPF32[t+3*n+1]=e.data[4*n+1]/255,this.blurVariables.tfliteModel.HEAPF32[t+3*n+2]=e.data[4*n+2]/255}},{key:"runInference",value:function(){this.blurVariables.tfliteModel._runInference();for(var e=this.blurVariables.tfliteModel._getOutputMemoryOffset()/4,t=0;t<this.blurVariables.segmentationPixelCount;t++){var n=this.blurVariables.tfliteModel.HEAPF32[e+t];this.blurVariables.segmentationMask.data[4*t+3]=255*n}this.blurVariables.segmentationMaskCtx.putImageData(this.blurVariables.segmentationMask,0,0)}},{key:"runPostProcessing",value:function(){var e=this.blurVariables.firstVideoTrack.getSettings?this.blurVariables.firstVideoTrack.getSettings():this.blurVariables.firstVideoTrack.getConstraints(),t=e.height,n=e.width;if(this.blurVariables.outputCanvasElement.height=t,this.blurVariables.outputCanvasElement.width=n,this.blurVariables.outputCanvasCtx.globalCompositeOperation="copy",this.blurVariables.outputCanvasCtx.filter="image"===this.blurVariables.virtualBackground?"blur(4px)":"blur(8px)",this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.segmentationMaskCanvas,0,0,this.blurVariables.width,this.blurVariables.height,0,0,this.blurVariables.inputVideoElement.width,this.blurVariables.inputVideoElement.height),this.blurVariables.outputCanvasCtx.globalCompositeOperation="source-in",this.blurVariables.outputCanvasCtx.filter="none",this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.inputVideoElement,0,0),this.blurVariables.outputCanvasCtx.globalCompositeOperation="destination-over","image"===this.blurVariables.virtualBackground)if(this.blurVariables.outputCanvasElement.width/this.blurVariables.outputCanvasElement.height===this.blurVariables.imageRatio)this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.virtualImage,0,0,this.blurVariables.virtualImage.width,this.blurVariables.virtualImage.height,0,0,this.blurVariables.outputCanvasElement.width,this.blurVariables.outputCanvasElement.height);else if(this.blurVariables.imageRatio>1){var i=this.blurVariables.virtualImage.height*(this.blurVariables.outputCanvasElement.width/this.blurVariables.outputCanvasElement.height),r=this.blurVariables.virtualImage.height,a=Math.abs(this.blurVariables.virtualImage.width-i)/2;i>this.blurVariables.virtualImage.width&&(i=this.blurVariables.virtualImage.width,a=0),this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.virtualImage,a,0,i,r,0,0,this.blurVariables.outputCanvasElement.width,this.blurVariables.outputCanvasElement.height)}else{var o=this.blurVariables.virtualImage.width,s=this.blurVariables.virtualImage.width/(this.blurVariables.outputCanvasElement.width/this.blurVariables.outputCanvasElement.height),l=Math.abs(this.blurVariables.virtualImage.height-s)/2;s>this.blurVariables.virtualImage.height&&(s=this.blurVariables.virtualImage.height,l=0),this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.virtualImage,0,l,o,s,0,0,this.blurVariables.outputCanvasElement.width,this.blurVariables.outputCanvasElement.height)}else this.blurVariables.outputCanvasCtx.filter="blur(15px)",this.blurVariables.outputCanvasCtx.drawImage(this.blurVariables.inputVideoElement,0,0)}},{key:"startSelfieSegmentation",value:function(){var e=this;return new Promise((function(t,n){xr.debug("startSelfieSegmentation"),e.loadTFLiteModule().then((function(i){e.setupTFLiteModule(i).then((function(i){if(e.blurVariables.tfliteModel=i,e.blurVariables.firstVideoTrack=e.data.getVideoTracks()[0],null!==e.blurVariables.firstVideoTrack&&void 0!==e.blurVariables.firstVideoTrack){var r=e.blurVariables.firstVideoTrack.getSettings?e.blurVariables.firstVideoTrack.getSettings():e.blurVariables.firstVideoTrack.getConstraints(),a=r.height,o=r.frameRate,s=r.width;e.blurVariables.height=144,e.blurVariables.width=256,e.blurVariables.frameRate=o,e.blurVariables.segmentationPixelCount=e.blurVariables.width*e.blurVariables.height,e.onMaskFrameTimer=e.onMaskFrameTimer.bind(e),e.blurVariables.outputCanvasElement=document.createElement("canvas"),e.blurVariables.outputCanvasElement.getContext("2d"),e.blurVariables.inputVideoElement=document.createElement("video"),e.blurVariables.SET_TIMEOUT=1,e.blurVariables.CLEAR_TIMEOUT=2,e.blurVariables.TIMEOUT_TICK=3,e.blurVariables.maskFrameTimerWorker=new Worker(URL.createObjectURL(new Blob(["\n                                        var timer;\n                                        onmessage = function(request) {\n                                            switch (request.data.id) {\n                                            case ".concat(e.blurVariables.SET_TIMEOUT,": {\n                                                timer = setTimeout(() => {\n                                                    postMessage({ id: ").concat(e.blurVariables.TIMEOUT_TICK," });\n                                                }, request.data.timeMs);\n                                                break;\n                                            }\n                                            case ").concat(e.blurVariables.CLEAR_TIMEOUT,": {\n                                                if (timer) {\n                                                    clearTimeout(timer);\n                                                }\n                                                break;\n                                            }\n                                            }\n                                        };\n                                    ")],{type:"application/javascript"})),{name:"Blur effect worker"}),e.blurVariables.maskFrameTimerWorker.onmessage=e.onMaskFrameTimer,e.blurVariables.segmentationMask=new ImageData(e.blurVariables.width,e.blurVariables.height),e.blurVariables.segmentationMaskCanvas=document.createElement("canvas"),e.blurVariables.segmentationMaskCanvas.width=e.blurVariables.width,e.blurVariables.segmentationMaskCanvas.height=e.blurVariables.height,e.blurVariables.segmentationMaskCtx=e.blurVariables.segmentationMaskCanvas.getContext("2d"),e.blurVariables.outputCanvasElement.width=parseInt(s,10),e.blurVariables.outputCanvasElement.height=parseInt(a,10),e.blurVariables.outputCanvasCtx=e.blurVariables.outputCanvasElement.getContext("2d"),e.blurVariables.inputVideoElement.width=parseInt(s,10),e.blurVariables.inputVideoElement.height=parseInt(a,10),e.blurVariables.inputVideoElement.autoplay=!0,e.blurVariables.inputVideoElement.srcObject=e.data,e.blurVariables.inputVideoElement.onloadeddata=function(){e.blurVariables.inputVideoElement.muted=!0,e.blurVariables.maskFrameTimerWorker.postMessage({id:e.blurVariables.SET_TIMEOUT,timeMs:1e3/30})},t(e.blurVariables.outputCanvasElement.captureStream(parseInt(e.blurVariables.frameRate,10)))}else n("No video track on stream")})).catch((function(){return xr.error("Catch on setupTFLiteModule"),n("Catch on setupTFLiteModule")}))})).catch((function(){return xr.error("Catch on loadTFLiteModule"),n("Catch on loadTFLiteModule")}))}))}},{key:"stopSelfieSegmentation",value:function(){xr.debug("stopSelfieSegmentation"),this.blurVariables.maskFrameTimerWorker.postMessage({id:this.blurVariables.CLEAR_TIMEOUT}),this.blurVariables.maskFrameTimerWorker.terminate()}},{key:"checkChildTypeConditions",value:function(){return void 0!==this.childType&&this.videoFilterIsApplied?"This stream is already a childStream : need to remove previous applied effect : "+this.childType:this.childrenTypeExists("blur")?"This stream already has a blur sub instance running : need to unblur()":this.childrenTypeExists("backgroundImage")?"This stream already has a backgroundImage sub instance running : need to unBackgroundImage()":MediaStreamTrack.prototype.hasOwnProperty("getSettings")&&MediaStreamTrack.prototype.hasOwnProperty("getConstraints")?"OK":"Navigator not compatible with this function"}},{key:"blur",value:function(){var e=this;return new Promise((function(t,n){var i=e.checkChildTypeConditions();if("OK"!==i)return n(i);if("OFF"===apiCC.userAgentInstance.getCapabilities().backgroundRemoval)return n("Navigator not compatible with this function");var r=e;e.blurVariables={},e.blurVariables.virtualBackground="blur",e.startSelfieSegmentation().then((function(i){var a,o=yr(r.data.getAudioTracks());try{for(o.s();!(a=o.n()).done;){var s=a.value;i.addTrack(s.clone())}}catch(e){o.e(e)}finally{o.f()}var l={audioFilterIsApplied:e.audioFilterIsApplied,audioAppliedFilter:e.audioAppliedFilter,videoFilterIsApplied:e.videoFilterIsApplied,videoAppliedFilter:e.videoAppliedFilter,childType:e.childType};r.createChildStreamFromStream(i,"blur",l).then((function(n){return e.addChildren(n,"blur"),n.applyMuteStatusFromParent(),t(n)})).catch((function(){return xr.error("Catch on createChildStreamFromStream blur"),n("error on createChildStreamFromStream")}))})).catch((function(e){return xr.error("Catch on startSelfieSegmentation blur : ",e),n(e)}))}))}},{key:"unblur",value:function(){var e=this;return new Promise((function(t,n){if("OFF"===apiCC.userAgentInstance.getCapabilities().backgroundRemoval)return n("Navigator not compatible with this function");if("blur"===e.childType){xr.debug("This is the blurred stream : applying process with parent stream");var i=e.parent;return i.stopSelfieSegmentation(),i.releaseChildren("blur"),i.removeChildren("blur"),t(i)}return e.childrenTypeExists("blur")?(xr.debug("This is the parent stream : applying process with this stream"),e.stopSelfieSegmentation(),e.releaseChildren("blur"),e.removeChildren("blur"),t(e)):(xr.debug("No blurred instance found for this stream"),n("No blurred instance found for this stream"))}))}},{key:"backgroundImage",value:function(e){var t=this;return xr.debug("backgroundImage",e),new Promise((function(n,i){var r=t.checkChildTypeConditions();if("OK"!==r)return i(r);if("OFF"===apiCC.userAgentInstance.getCapabilities().backgroundRemoval)return i("Navigator not compatible with this function");var a=t;t.blurVariables={},t.blurVariables.virtualBackground="image",t.blurVariables.virtualImage=new Image,t.blurVariables.virtualImage.crossOrigin="anonymous",t.blurVariables.virtualImage.src=e,t.blurVariables.virtualImage.onload=function(){t.blurVariables.imageRatio=t.blurVariables.virtualImage.width/t.blurVariables.virtualImage.height,t.startSelfieSegmentation().then((function(e){var r,o=yr(a.data.getAudioTracks());try{for(o.s();!(r=o.n()).done;){var s=r.value;e.addTrack(s.clone())}}catch(e){o.e(e)}finally{o.f()}var l={audioFilterIsApplied:t.audioFilterIsApplied,audioAppliedFilter:t.audioAppliedFilter,videoFilterIsApplied:t.videoFilterIsApplied,videoAppliedFilter:t.videoAppliedFilter,childType:t.childType};a.createChildStreamFromStream(e,"backgroundImage",l).then((function(e){return t.addChildren(e,"backgroundImage"),e.applyMuteStatusFromParent(),n(e)})).catch((function(){return xr.error("Catch on createChildStreamFromStream bck"),i("error on createChildStreamFromStream")}))})).catch((function(e){return xr.error("Catch on startSelfieSegmentation bck : ",e),i(e)}))},t.blurVariables.virtualImage.onerror=function(){return xr.debug("Error on image loading"),i("Error on image loading")}}))}},{key:"unBackgroundImage",value:function(){var e=this;return xr.debug("unBackgroundImage"),new Promise((function(t,n){if("OFF"===apiCC.userAgentInstance.getCapabilities().backgroundRemoval)return n("Navigator not compatible with this function");if("backgroundImage"===e.childType){xr.debug("This is the backgroundImage stream : applying process with parent stream");var i=e.parent;return i.stopSelfieSegmentation(),i.releaseChildren("backgroundImage"),i.removeChildren("backgroundImage"),t(i)}return e.childrenTypeExists("backgroundImage")?(xr.debug("This is the parent stream : applying process with this stream"),e.stopSelfieSegmentation(),e.releaseChildren("backgroundImage"),e.removeChildren("backgroundImage"),t(e)):(xr.debug("No background image instance found for this stream"),n("No background image instance found for this stream"))}))}},{key:"applyVideoProcessor",value:function(e,t){var n=this;return new Promise((function(i,r){if("none"!==e&&"blur"!==e&&"backgroundImage"!==e)return r(new Wr("Requested videoProcessorType is not correct","none",n));var a=n,o="none",s=null,l=n,c=!1;if("noiseReduction"===n.childType&&!0===n.videoFilterIsApplied&&(xr.debug("This is a noised reduced stream ... applying filter on parent"),l=n.parent,n.release({releaseParentStream:!1}),c=!0),void 0!==l.childType&&!0===l.videoFilterIsApplied&&("blur"===l.childType?o="blur":"backgroundImage"===l.childType&&(o="backgroundImage"),a=l.parent,s=l),l.childrenTypeExists("blur")&&(o="blur",l.childrens.forEach((function(e){s=e}))),l.childrenTypeExists("backgroundImage")&&(o="backgroundImage",l.childrens.forEach((function(e){s=e}))),xr.debug("actual applied effect =",o),"none"===e&&"none"===o)return r(new Wr("Requested videoProcessorType none and no effect applied","none",a));if("none"===e&&"blur"===o)xr.debug("need to unblur"),a.unblur().then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Vr(t,e.audioAppliedFilter,a))}))})).catch((function(e){return xr.error("Catch on unblur: ",e),r(new Wr(e,"none",a))}));else if("none"===e&&"backgroundImage"===o)xr.debug("need to unBackgroundImage"),a.unBackgroundImage().then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Vr(t,e.audioAppliedFilter,a))}))})).catch((function(e){return xr.error("Catch on unBackgroundImage :",e),r(new Wr(e,"none",a))}));else if("blur"===e&&"none"===o)xr.debug("need to blur"),a.blur().then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Vr(t,e.audioAppliedFilter,a))}))})).catch((function(e){return xr.error("Catch on blur :",e),r(new Wr(e,"none",a))}));else{if("blur"===e&&"blur"===o)return r(new Wr("Requested videoProcessorType blur and blur already applied","blur",s));if("blur"===e&&"backgroundImage"===o){xr.debug("need to unBackgroundImage then blur");var u=a.blurVariables.virtualImage.src;a.unBackgroundImage().then((function(e){e.blur().then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Vr(t,e.audioAppliedFilter,a))}))})).catch((function(e){xr.warn("Catch on blur - unBackgroundImage to blur :",e),xr.debug("Reactivating previous effect : backgroundImage"),a.backgroundImage(u).then((function(e){if(xr.warn("Could not apply blur effect, background restored"),!0!==c)return r(new Wr("Could not apply blur effect, background restored","backgroundImage",e));e.startNoiseReduction().then((function(e){return r(new Wr("Could not apply blur effect, background restored","backgroundImage",e))})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply blur effect, background restored","backgroundImage",e))}))})).catch((function(e){return xr.error("Could not apply blur effect and error in restoring background :",e),r(new Wr("Could not apply blur effect and error in restoring background","none",a))}))}))})).catch((function(e){return xr.error("Catch on unBackgroundImage :",e),r(new Wr(e,"none",a))}))}else if("backgroundImage"===e&&"none"===o){if(xr.debug("need to backgroundImage"),void 0===t||void 0===t.backgroundImageUrl)return r(new Wr("Error options.backgroundImageUrl is not defined","none",a));a.backgroundImage(t.backgroundImageUrl).then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply blur effect, background restored","backgroundImage",e))}))})).catch((function(e){return xr.error("Catch on backgroundImage :",e),r(new Wr(e,"none",a))}))}else if("backgroundImage"===e&&"blur"===o)xr.debug("need to unblur then backgroundImage"),a.unblur().then((function(e){e.backgroundImage(t.backgroundImageUrl).then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply blur effect, background restored","backgroundImage",e))}))})).catch((function(e){xr.warn("Catch on backgroundImage - unBackgroundImage to blur :",e),xr.debug("Reactivating previous effect : blur"),a.blur().then((function(e){if(!0!==c)return xr.warn("Could not apply background effect, blur restored"),r(new Wr("Could not apply background effect, blur restored","blur",e));e.startNoiseReduction().then((function(e){return r(new Wr("Could not apply background effect, blur restored","blur",e))})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply background effect, blur restored","blur",e))}))})).catch((function(e){return xr.error("Could not apply background effect and error in restoring blur :",e),r(new Wr("Could not apply background effect and error in restoring blur","none",a))}))}))})).catch((function(e){return xr.error("Catch on unblur :",e),r(new Wr(e,"none",a))}));else if("backgroundImage"===e&&"backgroundImage"===o){var d=a.blurVariables.virtualImage.src;if(!1===t.backgroundImageUrl.startsWith("data:image")&&d.substring(d.lastIndexOf("/")+1)===t.backgroundImageUrl.substring(t.backgroundImageUrl.lastIndexOf("/")+1))return xr.debug("Same background image is already applied"),r(new Wr("Requested videoProcessorType backgroundImage and backgroundImage with the same image already applied","backgroundImage",s));xr.debug("New background image is to be applied"),a.unBackgroundImage().then((function(e){e.backgroundImage(t.backgroundImageUrl).then((function(e){if(!0!==c)return i(e);e.startNoiseReduction().then((function(e){return i(e)})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply background effect, blur restored","blur",e))}))})).catch((function(e){xr.warn("Catch on backgroundImage - change background image :",e),xr.debug("Reactivating previous effect : backgroundImage"),a.backgroundImage(d).then((function(e){if(!0!==c)return r(new Wr("Could not apply new image on background, former background restored","backgroundImage",e));e.startNoiseReduction().then((function(e){return xr.warn("Could not apply new image on background, former background restored"),r(new Wr("Could not apply new image on background, former background restored","backgroundImage",e))})).catch((function(t){return xr.error("Catch on startNoiseReduction :",t),r(new Wr("Could not apply background effect, blur restored","blur",e))}))})).catch((function(e){return xr.error("Could not apply new image on background and error in restoring former background :",e),r(new Wr("Could not apply new image on background and error in restoring former background","none",a))}))}))})).catch((function(e){return xr.error("Catch on unBackgroundImage :",e),r(new Wr(e,"none",a))}))}}}))}},{key:"checkAudioProcessorType",value:function(e){return"none"!==e&&"noiseReduction"!==e?"Requested audioProcessorType is not correct":"none"===e&&"noiseReduction"!==this.audioAppliedFilter?"Not a noised reduction stream":"OK"}},{key:"applyAudioProcessor",value:function(e){var t=this;return new Promise((function(n,i){var r=t,a="none",o="none",s=t.checkAudioProcessorType(e);if("OK"!==s)return i(new Vr(s,t.audioAppliedFilter,t));if("none"===e){if("noiseReduction"!==t.childType&&"noiseReduction"===t.parent.childType?(xr.debug("applying process on parent stream as this one must be a video effect stream"),r=t.parent,a=t.childType,void 0!==t.parent.blurVariables&&void 0!==t.parent.blurVariables.virtualImage&&(o=t.parent.blurVariables.virtualImage.src),t.release({releaseParentStream:!1})):xr.debug("no noiseReduction applied"),r.stopNoiseReduction(),"none"===a){xr.debug("Release noiseReduction stream");var l=t.parent;return r.release({releaseParentStream:!1}),n(l)}var c={backgroundImageUrl:o};r.parent.applyVideoProcessor(a,c).then((function(e){return xr.debug("Release noiseReduction stream"),r.release({releaseParentStream:!1}),n(e)})).catch((function(e){return xr.error("Catch on applyVideoProcessor() - reapply effect : ",e),i(new Vr("Error on restoring applied video filter",this.audioAppliedFilter,this))}))}else"noiseReduction"===e&&r.startNoiseReduction().then((function(e){return n(e)})).catch((function(e){return xr.error("Catch on startNoiseReduction :",e),i(new Vr(e,r.audioAppliedFilter,r))}))}))}},{key:"startNoiseReduction",value:function(){return apiCC.audioProcessor.startNoiseReduction(this)}},{key:"stopNoiseReduction",value:function(){apiCC.audioProcessor.stopAudioNodeCtx(this.parent.nodeCtx)}},{key:"createMediaStreamTrackProcessor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(xr.debug("mediaStreamTrackProcessor kind: ".concat(e?"audio":"video"," created")),e){var t=this.data.getAudioTracks();if(t.length)return new MediaStreamTrackProcessor({track:t[0]});throw new Error("No audio tracks found")}var n=this.data.getVideoTracks();if(n.length)return new MediaStreamTrackProcessor({track:n[0]});throw new Error("No video tracks found")}},{key:"createMediaStreamTrackGenerator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return xr.debug("mediaStreamTrackGenerator kind: ".concat(e?"audio":"video"," created")),e?new MediaStreamTrackGenerator({kind:"audio"}):new MediaStreamTrackGenerator({kind:"video"})}},{key:"loadSegmentationAPI",value:function(){return new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){xr.debug("Segmentation API loaded"),mergeReality.then(e)},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){xr.warn("Blur API model loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.apizee.com/apiRTC/lib/mergereality/v1.0/merge_reality.js"],"merge-reality",n)}))}},{key:"startMergeReality",value:function(e){var t=this;this.mergeRealityData={},this.mergeRealityLib=e,this.mergeRealityData.stop=!1,this.mergeRealityData.WIDTH=this.getSettings().width,this.mergeRealityData.HEIGHT=this.getSettings().height,this.mergeRealityData.WEBCAM_CANVAS=new OffscreenCanvas(this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT),this.mergeRealityData.WEBCAM_CTX=this.mergeRealityData.WEBCAM_CANVAS.getContext("2d",{alpha:!1}),this.mergeRealityData.MASK_CANVAS=new OffscreenCanvas(this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT),this.mergeRealityData.MASK_CTX=this.mergeRealityData.MASK_CANVAS.getContext("2d",{alpha:!0}),this.mergeRealityData.SCREEN_VIDEO=document.createElement("video"),this.mergeRealityData.BG_SUB=new this.mergeRealityLib.BackgroundSubtractor,this.mergeRealityData.background=new this.mergeRealityLib.BackgroundImage(this.mergeRealityData.WEBCAM_CTX.getImageData(0,0,this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT),this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT),this.mergeRealityData.MSTP=this.createMediaStreamTrackProcessor().readable,this.mergeRealityData.MSTG=this.createMediaStreamTrackGenerator(),this.mergeRealityData.SINK=this.mergeRealityData.MSTG.writable,this.mergeRealityData.MASK_TRANSFORMER=new TransformStream({transform:function(e,n){t.mergeRealityData.stop||(t.mergeRealityData.MASK_CTX.save(),t.mergeRealityData.MASK_CTX.clearRect(0,0,t.mergeRealityData.WIDTH,t.mergeRealityData.HEIGHT),t.mergeRealityData.WEBCAM_CTX.clearRect(0,0,t.mergeRealityData.WIDTH,t.mergeRealityData.HEIGHT),t.mergeRealityData.WEBCAM_CTX.drawImage(e,0,0),t.mergeRealityData.MASK_DATA=t.mergeRealityData.BG_SUB.computeMask(t.mergeRealityData.WEBCAM_CTX.getImageData(0,0,t.mergeRealityData.WIDTH,t.mergeRealityData.HEIGHT),t.mergeRealityData.background),t.mergeRealityData.RES=t.mergeRealityData.BG_SUB.applyTransparency(t.mergeRealityData.WEBCAM_CTX.getImageData(0,0,t.mergeRealityData.WIDTH,t.mergeRealityData.HEIGHT),t.mergeRealityData.MASK_DATA),t.mergeRealityData.MASK_CTX.putImageData(t.mergeRealityData.RES,0,0),t.mergeRealityData.MASK_CTX.globalCompositeOperation="destination-atop",t.mergeRealityData.MASK_CTX.drawImage(t.mergeRealityData.SCREEN_VIDEO,0,0,t.mergeRealityData.WIDTH,t.mergeRealityData.HEIGHT),t.mergeRealityData.MASK_CTX.restore(),n.enqueue(new VideoFrame(t.mergeRealityData.MASK_CANVAS))),e.close()}}),this.mergeRealityData.RES_MS=new MediaStream}},{key:"stopMergeReality",value:function(){this.mergeRealityData.stop=!0}},{key:"calibrateBackground",value:function(){this.childrenTypeExists("merge")?this.mergeRealityData.background=new this.mergeRealityLib.BackgroundImage(this.mergeRealityData.WEBCAM_CTX.getImageData(0,0,this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT),this.mergeRealityData.WIDTH,this.mergeRealityData.HEIGHT):xr.error("No merged instance found for this stream")}},{key:"mergeReality",value:function(e){var t=this;return new Promise((function(n,i){return void 0===window.MediaStreamTrackGenerator||void 0===window.MediaStreamTrackProcessor||void 0===window.TransformStream?i("Your browser does not support InsertableStreams"):t.childrenTypeExists("merge")?i("This stream already has a sub instance running for this"):void t.loadSegmentationAPI().then((function(i){t.startMergeReality(i),e.attachToElement(t.mergeRealityData.SCREEN_VIDEO),t.mergeRealityData.SCREEN_VIDEO.autoplay=!0,t.mergeRealityData.MSTP.pipeThrough(t.mergeRealityData.MASK_TRANSFORMER).pipeTo(t.mergeRealityData.SINK),t.mergeRealityData.RES_MS.addTrack(t.mergeRealityData.MSTG);var r,a=yr(t.data.getAudioTracks());try{for(a.s();!(r=a.n()).done;){var o=r.value;t.mergeRealityData.RES_MS.addTrack(o)}}catch(e){a.e(e)}finally{a.f()}var s=t,l={audioFilterIsApplied:t.audioFilterIsApplied,audioAppliedFilter:t.audioAppliedFilter,videoFilterIsApplied:t.videoFilterIsApplied,videoAppliedFilter:t.videoAppliedFilter,childType:t.childType};t.createChildStreamFromStream(t.mergeRealityData.RES_MS,"merge",l).then((function(e){s.addChildren(e,"merge"),e.applyMuteStatusFromParent(),n(e)})).catch((function(){xr.error("Catch on createChildStreamFromStream mergeReality")}))}))}))}},{key:"unmergeReality",value:function(){this.childrenTypeExists("merge")?(this.stopMergeReality(),this.releaseChildren("merge"),this.removeChildren("merge")):xr.error("No merged instance found for this stream")}},{key:"addPendingPromise",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;return apiCC.addPendingPromise(e,t,n,i)}},{key:"resolvePendingPromise",value:function(e,t){apiCC.resolvePendingPromise(e,t)}},{key:"rejectPendingPromise",value:function(e,t){apiCC.rejectPendingPromise(e,t)}},{key:"sendAudioFlowStatusChanged",value:function(){var e=this.getAudioFlowStatus();x.get(this).emit("audioFlowStatusChanged",e)}},{key:"sendVideoFlowStatusChanged",value:function(){var e=this.getVideoFlowStatus();x.get(this).emit("videoFlowStatusChanged",e)}},{key:"sendFlowStatusChanged",value:function(e){var t;"audio"===e?t=this.getAudioFlowStatus():"video"===e&&(t=this.getVideoFlowStatus()),t.type=e,x.get(this).emit("flowStatusChanged",t)}},{key:"sendFlowStatusChangedForRemote",value:function(e,t){t.type=e,x.get(this).emit("flowStatusChanged",t)}},{key:"sendRemoteAudioFlowStatusChanged",value:function(e){x.get(this).emit("remoteAudioFlowStatusChanged",e)}},{key:"sendRemoteVideoFlowStatusChanged",value:function(e){x.get(this).emit("remoteVideoFlowStatusChanged",e)}},{key:"emitConstraintsChanged",value:function(e){x.get(this).emit("constraintsChanged",e)}}],[{key:"getAvailableEvents",value:function(){return Lr}},{key:"createStreamFromUserMedia",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xr.debug("createStreamFromUserMedia"),xr.debug("audioInput :",e),xr.debug("videoInput :",t),xr.debug("constraints :",i),xr.debug("options :",r),new Promise((function(a,o){var s=!1!==e&&(null!==e||void 0===i||void 0!==i&&i.hasOwnProperty("audio")),c=!1!==t&&(null!==t||void 0===i||void 0!==i&&i.hasOwnProperty("video")),u={type:l.g.STREAM_TYPE_NO_INPUT,audioInput:e,videoInput:t},d="media";c?u.type=l.g.STREAM_TYPE_VIDEO:s&&(u.type=l.g.STREAM_TYPE_AUDIO),s&&!c?d="audio":!s&&c&&(d="videoOnly"),s&&!0===r.enhancedAudioActivated&&(xr.debug("Enhanced Audio is activated"),"Chrome"!==apiRTC.browser?xr.debug("enhancedAudioActivated option is only available for Chrome"):(void 0===i&&(i={}),i.audio&&"object"===gr(i.audio)||(i.audio={}),void 0===i.video&&(i.video={}),i.audio.echoCancellation=!1,i.audio.autoGainControl=!1,i.audio.noiseSuppression=!1)),apiRTC.createUserMediaStream({audioSourceId:e,videoSourceId:t,facingMode:r.facingMode,gum_config:i,filters:r.filters,type:d,success:function(e){xr.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId),u.constructor=!0,u.userMediaStreamId=e.userMediaStreamId,a(new n(e.stream,u))},failure:function(e,t){xr.debug("[createStreamFromUserMedia] failure :",t),o(t)},tryAudioOnlyAfterUserMediaError:r.tryAudioOnlyAfterUserMediaError})}))}},{key:"createStreamFromMediaStream",value:function(e){return xr.debug("createStreamFromMediaStream"),new Promise((function(t,i){var r={};r.type=l.g.STREAM_TYPE_NO_INPUT,e.getAudioTracks().length>0&&(r.type=l.g.STREAM_TYPE_AUDIO),e.getVideoTracks().length>0&&(r.type=l.g.STREAM_TYPE_VIDEO),apiRTC.createUserMediaStream({type:"media",stream:e,success:function(e){xr.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId),r.constructor=!0,r.userMediaStreamId=e.userMediaStreamId,t(new n(e.stream,r))},failure:function(e,t){xr.debug("[createStreamFromUserMedia] failure :",t),i()}})}))}},{key:"createScreensharingStream",value:function(e){return new Promise((function(t,i){apiRTC.createUserMediaStream({type:"screenSharing",captureSourceType:e,success:function(e){xr.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId);var i=new n(e.stream,{constructor:!0,type:l.g.STREAM_TYPE_VIDEO,userMediaStreamId:e.userMediaStreamId});Nr.set(i,!0),t(i)},failure:function(e,t){xr.debug("[createStreamFromUserMedia] failure :",t),i(t)}})}))}},{key:"createDisplayMediaStream",value:function(e,t){return new Promise((function(i,r){apiRTC.createUserMediaStream({type:"screenSharing",captureSourceType:e,displayMediaStreamConstraints:e,forceExtensionOnChrome:t,success:function(e){xr.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId);var t=new n(e.stream,{constructor:!0,type:l.g.STREAM_TYPE_VIDEO,userMediaStreamId:e.userMediaStreamId});Nr.set(t,!0),i(t)},failure:function(e,t){xr.debug("[createStreamFromUserMedia] failure :",t),r(t)}})}))}},{key:"getLocalStreams",value:function(){return _r.values()}},{key:"getStream",value:function(e){return null!=e&&_r.has(e.toString())?_r.get(e.toString()):null}}]),n}(O),zr=function(e){Tr(n,e);var t=Mr(n);function n(e,i,r,a){var o;return wr(this,n),(o=t.call(this,e,i)).parent=r,o.childType=a,"noiseReduction"===a&&(o.audioFilterIsApplied=!0,o.audioAppliedFilter=a),"blur"!==a&&"backgroundImage"!==a||(o.videoFilterIsApplied=!0,o.videoAppliedFilter=a),o}return Ir(n,[{key:"release",value:function(e){"blur"!==this.childType&&"backgroundImage"!==this.childType||this.parent.stopSelfieSegmentation(),this.parent.removeChildren(this.childType),void 0!==this.clonedStream&&(xr.debug("to be released ..."),this.clonedStream.getAudioTracks().forEach((function(e){e.stop()})),this.clonedStream.getVideoTracks().forEach((function(e){e.stop()}))),pr(kr(n.prototype),"release",this).call(this,e)}}]),n}(Br),Wr=function(e){Tr(n,e);var t=Mr(n);function n(e,i,r){var a;return wr(this,n),(a=t.call(this,e)).name=a.constructor.name,a.appliedVideoProcessorType=i,a.stream=r,a}return Ir(n)}(fr(Error)),Vr=function(e){Tr(n,e);var t=Mr(n);function n(e,i,r){var a;return wr(this,n),(a=t.call(this,e)).name=a.constructor.name,a.appliedAudioProcessorType=i,a.stream=r,a}return Ir(n)}(fr(Error));function Hr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Jr=v.Y.get("Session"),Qr=H.get(),qr=new(Vt()),Xr=zn.get(),Kr=Vi.get(),Zr=Symbol("ENTERPRISE_NOT_LOADED"),$r=Symbol("ENTERPRISE_LOADED"),ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ia=function(){function e(t,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jr.info("Create Enterprise"),!(i instanceof lr))throw"Cannot create Enterprise without a session";ea.set(this,i),na.set(this,n),ta.set(this,t),this.status=Zr}var t,n,i;return t=e,n=[{key:"getSession",value:function(){return ea.get(this)}},{key:"getId",value:function(){return ta.get(this).toString()}},{key:"getApiKey",value:function(){return na.get(this).toString()}},{key:"load",value:function(){var e=this;return new Promise((function(t,n){qr.getEnterpriseUserList(e.getId(),e.getSession().getToken()).then((function(n){Jr.info("Enterprise loaded!",n);var i,r=Hr(n.users);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(e.getSession().user.userId.toString()!==a.id.toString()){var o=Xr.getOrCreateContact(a.id);o.profile=a,o.enterprise=e,null===o.userData.get("username")&&o.userData.setProp("username",a.username),null===o.userData.get("photo_url")&&o.userData.setProp("photo_url",a.photo_url)}}}catch(e){r.e(e)}finally{r.f()}e.status=$r,t()})).catch((function(e){var t="load() - Enterprise load error",i={error:new Error(t),code:l.g.ERROR_OTHER};e.hasOwnProperty("code")?i.code=e.code:e.hasOwnProperty("http_code")&&(e.http_code.toString().startsWith("4")?i.code=l.g.ERROR_INVALID_CREDENTIALS:i.code=l.g.ERROR_SERVER_UNAVAILABLE),Jr.error(t,e),n(i)}))}))}},{key:"getContacts",value:function(){var e={};if(this.status!==$r)Jr.error("Enterprise is not loaded, unable to getContacts");else{var t,n=Xr.getContacts(),i=Hr(n.keys());try{for(i.s();!(t=i.n()).done;){var r=t.value,a=n.get(r);null!==a.enterprise&&a.enterprise.id.toString()===this.getId()&&(e[a.getId()]=a)}}catch(e){i.e(e)}finally{i.f()}}return e}},{key:"getConfiguration",value:function(){return null}},{key:"uploadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){Jr.info("uploadFile()"),t.status===$r?qr.uploadFile(e,t.getSession().getToken(),n).then((function(e){i(e.url)})).catch((function(e){Jr.error(e),r(e)})):(Jr.error("Enterprise is not loaded, cannot upload file"),r(new Error("Enterprise is not loaded, cannot upload file")))}))}},{key:"getAvailableConferences",value:function(){var e=this;return Jr.info("getAvailableConferences()"),new Promise((function(t,n){var i={};qr.getConferenceList(e.getSession().getToken()).then((function(e){var n,r=Hr(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;i[a.hash]=Kr.getOrCreateConference(a.hash),i[a.hash].friendlyName=a.friendlyName}}catch(e){r.e(e)}finally{r.f()}t(i)})).catch((function(e){Jr.error(e),n(e)}))}))}},{key:"getConference",value:function(e){var t=this;return new Promise((function(n,i){var r={};r.token=t.getSession().getToken(),qr.getWebconf(e,r).then((function(e){return n(Kr.getOrCreateConference(e.hash))})).catch((function(e){return Jr.error("getConference",e),i(e)}))}))}},{key:"createPrivateConference",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jr.info("createPrivateConference()"),new Promise((function(n,i){var r=t.hasOwnProperty("friendlyName")?t.friendlyName:R.g.guid(),a=null,o=e.getSession().getToken();qr.createConference(o,r,t).then((function(n){(a=Kr.getOrCreateConference(n.hash)).friendlyName=r;var i=t.hasOwnProperty("password")?t.password:"";return a.join({password:i,session:e.getSession()})})).then((function(){n(a)})).catch((function(e){var t="createPrivateConference() - Could not create conference";Jr.error(t,e),i(new Error(t))}))}))}},{key:"getTags",value:function(e){var t=this;return new Promise((function(n,i){var r={};e&&e.hasOwnProperty("webconfId")&&(r.webconfId=e.webconfId),qr.getEnterpriseTagList(t.getId(),t.getSession().getToken(),r).then((function(e){return e.hasOwnProperty("tags")&&Array.isArray(e.tags)?n(e.tags):i(R.g.createError(l.g.ERROR_OTHER,"getTags() - unexpected response",Jr))})).catch((function(e){return i(R.g.createError(l.g.ERROR_OTHER,"getTags() - cannot get tags",Jr,{fromError:e}))}))}))}}],i=[{key:"fetchEnterpriseInformation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.hasOwnProperty("cloudUrl")&&qr.setCloudURL(t.cloudUrl),qr.getEnterpriseInformation(t,e)}},{key:"fetchSiteAgents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){t.hasOwnProperty("cloudUrl")&&qr.setCloudURL(t.cloudUrl);var r=[];qr.getSiteAgents(Qr.getActiveApiKey(),e,t).then((function(e){var t,i=Hr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.push({contact:Xr.getOrCreateContact(a.id),title:a.title,nickname:a.nickname,isPrefered:a.isPrefered})}}catch(e){i.e(e)}finally{i.f()}n(r)})).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"fetchSiteAgents() - could not fetch site agents",Jr))}))}))}}],n&&Yr(t.prototype,n),i&&Yr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function aa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oa(e,t){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oa(e,t)}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function la(e){return la=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},la(e)}s(3123);var ca=v.Y.get("UserAgent"),ua=H.get(),da=new(Vt()),fa=new WeakMap,ha=["mediaDeviceChanged","externalJsLoadingStatus","ccsConnectionStatus","userMediaError"],pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}(s,e);var t,n,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=la(r);if(a){var n=la(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sa(e)}(this,e)});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),e=o.call(this,ca),ca.debug("Create UserAgent"),e.uri=t.hasOwnProperty("uri")?t.uri:null,e.userId=null,e.username=null,e.profile=null,e.preRegisterUserData=new Qt,e.callStatsMonitoringEnabled=null,e.callStatsMonitoringInterval=null,e.meshModeEnabled=null,e.apiRTCMediaDeviceDetectionEnabled=!!t.hasOwnProperty("apiRTCMediaDeviceDetectionEnabled")&&t.apiRTCMediaDeviceDetectionEnabled,e.apiRTCMediaDeviceDetectionDelay=t.hasOwnProperty("apiRTCMediaDeviceDetectionDelay")?t.apiRTCMediaDeviceDetectionDelay:l.g.APIRTC_MEDIA_DEVICE_DETECTION_DELAY,e.targetBandwidthUsage=0,e.videoBandwidthSettings={overallIncoming:3e3,overallOutgoing:3e3},e.currentSession=null,e.enterprise=null,e.capabilities={whiteboardCursor:"ON",mediaDeviceChanged:"ON",webRTCCompliant:"ON",screenSharingCompliant:"ON",qoSStatCompliant:"ON",backgroundRemoval:"ON",streamCapabilities:"ON",noiseReduction:"ON",remoteAccessUser:"ON"},e.browser=apiRTC.browser,e.browser_major_version=apiRTC.browser_major_version,e.browser_version=apiRTC.browser_version,e.osName=apiRTC.osName,e.osVersion=apiRTC.osVersion,e.browserInfo=apiRTC.browserInfo,e.browserDetails=apiRTC.browserDetails,e.tFLiteModuleLoaded=!1,e.tFLiteSIMDModule=null,e.modelLoadedInModule=!1,e.apiRTCStreamsList=new Map,fa.set(sa(e),null),ua.createWhiteBoard(),apiCC.activateScreenSharing(),apiRTC.addEventListener("mediaDeviceChanged",(function(t){x.get(sa(e)).emit("mediaDeviceChanged",{added:t.detail.diff.added,removed:t.detail.diff.removed,updated:t.detail.diff.updated,updateReason:t.detail.updateReason,firstMediaDeviceListInitialization:t.detail.firstMediaDeviceListInitialization})}),"UserAgent"),apiRTC.addEventListener("externalJsLoadingStatus",(function(t){x.get(sa(e)).emit("externalJsLoadingStatus",{extjs:t.detail.extjs,status:t.detail.status})}),"UserAgent"),apiRTC.addEventListener("channelEvent",(function(t){var n=null;"onChannelOpened"===t.detail.channelEvent?n="connected":"onChannelDisconnect"===t.detail.channelEvent?n="disconnected":"onChannelReconnecting"===t.detail.channelEvent?n="retry":("onChannelConnectError"===t.detail.channelEvent||"onChannelError"===t.detail.channelEvent)&&(n="error"),null!==n&&x.get(sa(e)).emit("ccsConnectionStatus",{status:n})}),"UserAgent"),apiRTC.addEventListener("userMediaError",(function(t){var n={error:t.detail.error};"media"===t.detail.callType?(n.audio=!0,n.video=!0,n.screenSharing=!1):"audio"===t.detail.callType?(n.audio=!0,n.video=!1,n.screenSharing=!1):"videoOnly"===t.detail.callType?(n.audio=!1,n.video=!0,n.screenSharing=!1):"screenSharing"===t.detail.callType?(n.audio=!1,n.video=!0,n.screenSharing=!0):"screenSharingWithAudio"===t.detail.callType&&(n.audio=!0,n.video=!0,n.screenSharing=!0),x.get(sa(e)).emit("userMediaError",n)}),"UserAgent"),e.checkUACapabilities(),"OFF"===e.capabilities.mediaDeviceChanged&&(ca.debug("mediaDeviceChanged is not supported"),!0===e.apiRTCMediaDeviceDetectionEnabled&&(ca.debug("apiRTCMediaDeviceDetectionEnabled is activated, starting process"),setInterval((function(){apiCC.mediaDeviceMgr.getMediaDevices()}),e.apiRTCMediaDeviceDetectionDelay))),apiRTC.userAgentInstance=sa(e),e}return t=s,n=[{key:"fetchUserMediaDevices",value:function(){return ca.warn("DEPRECATION WARNING : fetchUserMediaDevices() is now deprecated, use getUserMediaDevices() instead"),new Promise((function(e,t){"IE"===apiCC.browser&&apiCC.browser_version>8?(apiCC.getMediaDevicesWithCB(apiCC.mediaDeviceMgr.gotSources),e(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray)):apiCC.getMediaDevices().then((function(t){apiCC.mediaDeviceMgr.gotSources(t),e(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray)})).catch((function(){ca.log("Error on MediaDeviceManager::getMediaDevices"),apiCC.mediaDeviceMgr.gotSources(null),t(R.g.createError(l.g.ERROR_OTHER,"fetchUserMediaDevices() - Could not get media devices",ca))}))}))}},{key:"getUserMediaDevices",value:function(){return apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray}},{key:"createStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ca.info("createStream() with option :",e),Br.createStreamFromUserMedia(e.audioInputId,e.videoInputId,e.constraints,e)}},{key:"createStreamFromMediaStream",value:function(e){return ca.info("createStreamFromMediaStream()"),Br.createStreamFromMediaStream(e)}},{key:"fetchNetworkInformation_v2",value:function(e,t){ca.debug("fetchNetworkInformation Version 2 :",e);var n=da.cloudUrl;null!=e&&(n=e);var i={testServer:n,httpPing:{},upload:{},download:{}};return null!=t&&Array.isArray(t)?(apiRTC.bandwidthRatingThresholds=t,ca.debug("New bandwidthRatingThresholds is defined :",apiRTC.bandwidthRatingThresholds)):ca.debug("Using default bandwidthRatingThresholds :",apiRTC.bandwidthRatingThresholds),apiRTC.bandwidthTestServer=n,ca.info("Start Network test"),new Promise((function(e,t){apiRTC.testUserPing((function(n,r){null!==n?t(n):(i.httpPing=r,apiRTC.testUserUpload(25e4,(function(n,r){null!==n?t(n):(i.upload.kbps=8*r.kBPerSec,i.upload.rating=r.rating,apiRTC.testUserUploadLoop(5e5,i.upload,(function(n,r){null!==n?t(n):(i.upload.kbps=8*r.kBPerSec,i.upload.rating=r.rating,apiRTC.testUserDownload(256,(function(n,r){null!==n?t(n):(i.download.kbps=8*r.kBPerSec,i.download.rating=r.rating,apiRTC.testUserDownloadLoop(1e3,i.download,(function(n,r){null!==n?t(n):(i.download.kbps=8*r.kBPerSec,i.download.rating=r.rating,e(i))})))})))})))})))}))}))}},{key:"fetchNetworkInformation_v1",value:function(e,t){ca.debug("fetchNetworkInformation Version 1 :",e);var n=da.cloudUrl;null!=e&&(n=e);var i={testServer:n,httpPing:{},upload:{},download:{}};return null!=t&&Array.isArray(t)?(apiRTC.bandwidthRatingThresholds=t,ca.debug("New bandwidthRatingThresholds is defined :",apiRTC.bandwidthRatingThresholds)):ca.debug("Using default bandwidthRatingThresholds :",apiRTC.bandwidthRatingThresholds),apiRTC.bandwidthTestServer=n,ca.info("Start Network test"),new Promise((function(e,t){apiRTC.testUserPing((function(n,r){null!==n?t(n):(i.httpPing=r,apiRTC.testUserUpload(25e4,(function(n,r){null!==n?t(n):(i.upload.kbps=8*r.kBPerSec,i.upload.rating=r.rating,i.upload.kbps>=1e3&&apiRTC.testUserUpload(5e5,(function(e,n){null!==e?t(e):(i.upload.kbps=8*n.kBPerSec,i.upload.rating=n.rating)})),apiRTC.testUserDownload(256,(function(n,r){null!==n?t(n):(i.download.kbps=8*r.kBPerSec,i.download.rating=r.rating,i.download.kbps>=500&&i.download.kbps<1500?apiRTC.testUserDownload(500,(function(n,r){null!==n?t(n):(i.download.kbps=8*r.kBPerSec,i.download.rating=r.rating,e(i))})):i.download.kbps>=1500?apiRTC.testUserDownload(768,(function(n,r){null!==n?t(n):(i.download.kbps=8*r.kBPerSec,i.download.rating=r.rating,e(i))})):e(i))})))})))}))}))}},{key:"fetchNetworkInformation",value:function(e,t){return this.fetchNetworkInformation_v1(e,t)}},{key:"fetchGeolocationInformation",value:function(e){return null==e&&(e={enableHighAccuracy:!1,timeout:1/0,maximumAge:0}),new Promise((function(t,n){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t(e)}),(function(e){n(e)}),e)}))}},{key:"setUserData",value:function(e){this.currentSession&&this.currentSession.setUserData(e)}},{key:"setUsername",value:function(e){this.currentSession?this.currentSession.setUsername(e):this.preRegisterUserData.setProp("username",e)}},{key:"setPhotoUrl",value:function(e){this.currentSession?this.currentSession.setPhotoUrl(e):this.preRegisterUserData.setProp("photo_url",e)}},{key:"getUserData",value:function(){return this.currentSession?this.currentSession.getUserData():this.preRegisterUserData}},{key:"getUsername",value:function(){return this.currentSession?this.currentSession.getUsername():null!==this.preRegisterUserData.get("username")?this.preRegisterUserData.get("username"):null!==this.preRegisterUserData.get("nickname")?this.preRegisterUserData.get("nickname"):this.username}},{key:"getPhotoUrl",value:function(){return this.currentSession?this.currentSession.getPhotoUrl():null!==this.preRegisterUserData.get("photo_url")?this.preRegisterUserData.get("photo_url"):null!==this.preRegisterUserData.get("photoUrl")?this.preRegisterUserData.get("photoUrl"):null}},{key:"fetchProfileInformation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,r){var a=null;null===t.profile||n?t.userId&&null!==(a=ua.getActiveApiKey())?da.getUserProfile(a,t.userId,e).then((function(e){t.profile=e,i(e)})).catch(r):r("fetchProfileInformation() - missing registration"):i(t.profile)}))}},{key:"getEnterprise",value:function(){return fa.get(this)}},{key:"getCurrentSession",value:function(){return this.currentSession}},{key:"getEventCenter",value:function(){return apiRTC.eventCenter}},{key:"startWhiteboard",value:function(e,t){ca.trace("startWhiteboard()"),ua.whiteBoardClient.start(),ua.whiteBoardClient.setCanvas(e),null!=t&&ua.whiteBoardClient.setUserCursorColor(t)}},{key:"stopWhiteboard",value:function(){ca.trace("stopWhiteboard()"),ua.whiteBoardClient.stop()}},{key:"getWhiteboardClient",value:function(){return ca.trace("getWhiteboardClient()"),ua.whiteBoardClient}},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){if(ca.info("Register "+e.uri),t.hasOwnProperty("uri")&&(e.uri=t.uri),t.hasOwnProperty("cloudUrl")&&da.setCloudURL(t.cloudUrl),t.hasOwnProperty("cloudFetchRetries")&&da.setFetchRetries(t.cloudFetchRetries),t.hasOwnProperty("cloudFetchRetryDelay")&&da.setFetchRetryDelay(t.cloudFetchRetryDelay),null!==e.uri)if(e.currentSession)i(R.g.createError(l.g.ERROR_APIRTC_SESSION_ALREADY_ON,"register() - Session already ON",ca));else if(e.uri.startsWith("token:"))ma(e,t,n,i);else if(e.uri.startsWith("apizee:")||e.uri.startsWith("apirtc:"))ga(e,t,n,i);else if(e.uri.startsWith("apzkey:")||e.uri.startsWith("apiKey:"))va(e,t,n,i);else{var r=e.uri.split(":")[0];i(R.g.createError(l.g.ERROR_REGISTRATION_URI_INVALID,"register() - prefix invalid used for uri :"+r,ca))}else i(R.g.createError(l.g.ERROR_REGISTRATION_URI_INVALID,"register() - Cannot register UserAgent, no uri was specified",ca))}))}},{key:"unregister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{invalidateUserToken:!0,unregister:!0};return new Promise((function(n,i){null!==e.currentSession?e.currentSession.disconnect(t).then((function(){e.currentSession=null,fa.set(e,null),n()})).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"unregister() - unregistration error",ca))})):i(R.g.createError(l.g.ERROR_OTHER,"unregister() - no current session",ca))}))}},{key:"isRegistered",value:function(){return null!==this.currentSession}},{key:"getDefaultDevices",value:function(){return{audioInput:apiCC.mediaDeviceMgr.defaultAudioInput,audioOutput:apiCC.mediaDeviceMgr.defaultAudioOuput,videoInput:apiCC.mediaDeviceMgr.defaultVideoInput}}},{key:"enableCallStatsMonitoring",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};["chrome","firefox","safari"].indexOf(apiCC.browserDetails.type)<0?ca.warn("enableCallStatsMonitoring() is only supported on Chrome, Firefox and Safari, support on other browsers will be added soon"):!0===e?(this.callStatsMonitoringEnabled=!0,R.g.isPropertyTypeof(t,"interval","number")&&t.interval>=1e3&&(this.callStatsMonitoringInterval=t.interval),this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.enableCallStatsMonitoring(!0,this.callStatsMonitoringInterval)):(this.callStatsMonitoringEnabled=!1,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.enableCallStatsMonitoring(!1))}},{key:"enableActiveSpeakerDetecting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0===e?R.g.isPropertyTypeof(t,"threshold","number")&&t.threshold>0?apiRTC.enableActiveSpeakerDetecting(!0,t.threshold):apiRTC.enableActiveSpeakerDetecting(!0):apiRTC.enableActiveSpeakerDetecting(!1)}},{key:"enableMeshRoomMode",value:function(e){!1===e||!0===e?(this.meshModeEnabled=e,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.enableMeshRoomMode(e)):ca.error("Wrong value",e)}},{key:"setTargetBandwidthUsage",value:function(e){"number"!=typeof e&&!isNaN(e)&&e>0?(this.targetBandwidthUsage=e,this.isRegistered&&ua.webRTCClient.setVideoBandwidth(e)):ca.error("Unvalid target bandwidth usage value",e)}},{key:"setOverallIncomingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.overallIncoming=e,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setOverallIncomingVideoBandwidth(e)):(delete this.videoBandwidthSettings.overallIncoming,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setOverallIncomingVideoBandwidth(0))}},{key:"setOverallOutgoingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.overallOutgoing=e,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setOverallOutgoingVideoBandwidth(e)):(delete this.videoBandwidthSettings.overallOutgoing,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setOverallOutgoingVideoBandwidth(0))}},{key:"setPerCallIncomingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.perCallIncoming=e,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setPerCallIncomingVideoBandwidth(e)):(delete this.videoBandwidthSettings.perCallIncoming,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setPerCallIncomingVideoBandwidth(0))}},{key:"setPerCallOutgoingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.perCallOutgoing=e,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setPerCallOutgoingVideoBandwidth(e)):(delete this.videoBandwidthSettings.perCallOutgoing,this.isRegistered&&ua.webRTCClient&&ua.webRTCClient.setPerCallOutgoingVideoBandwidth(0))}},{key:"updateMediaOnCall",value:function(e,t){ua.webRTCClient.updateMediaDeviceOnCall(e,t)}},{key:"getCapabilities",value:function(){return this.capabilities}},{key:"getBrowser",value:function(){return this.browser}},{key:"getBrowserMajorVersion",value:function(){return this.browser_major_version}},{key:"getBrowserVersion",value:function(){return this.browser_version}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getBrowserInfo",value:function(){return this.browserInfo}},{key:"getBrowserDetails",value:function(){return this.browserDetails}},{key:"getCPUArchitecture",value:function(){return this.getUserData().cpuArchitecture}},{key:"getDeviceVendor",value:function(){return this.getUserData().deviceVendor}},{key:"getDeviceModel",value:function(){return this.getUserData().deviceModel}},{key:"getEngineName",value:function(){return this.getUserData().engineName}},{key:"getEngineVersion",value:function(){return this.getUserData().engineVersion}},{key:"checkUACapabilities",value:function(){ca.debug("checkUACapabilities"),"iOS"===apiRTC.osName&&(ca.debug("Deactivating whiteboardCursor for iOS"),this.capabilities.whiteboardCursor="OFF"),"Android"===apiRTC.osName&&"Chrome"===apiRTC.browser&&(ca.debug("mediaDeviceChanged not supported on Chrome/Android"),this.capabilities.mediaDeviceChanged="OFF"),"Safari"!==m.Xh&&"Mobile Safari"!==m.Xh||(ca.debug("mediaDeviceChanged not supported on Safari"),this.capabilities.mediaDeviceChanged="OFF"),!1===apiRTC.webRTCCompliant&&(ca.debug("WebRTC not compliant"),this.capabilities.webRTCCompliant="OFF"),!1===apiRTC.screenSharingCompliant&&(ca.debug("screenSharing not compliant"),this.capabilities.screenSharingCompliant="OFF"),!1===apiRTC.qoSStatCompliant&&(ca.debug("qoS Stat not compliant"),this.capabilities.qoSStatCompliant="OFF"),"Safari"!==m.Xh&&"Mobile Safari"!==m.Xh||(ca.debug("background removal not compliant"),this.capabilities.backgroundRemoval="ON",ca.debug("noiseReduction not compliant"),this.capabilities.noiseReduction="OFF"),"getCapabilities"in MediaStreamTrack.prototype||(ca.debug("Stream capabilities not compliant"),this.capabilities.streamCapabilities="OFF"),("Windows"!==apiRTC.osName&&"10"!==apiRTC.osVersion||"Windows"!==apiRTC.osName&&"11"!==apiRTC.osVersion)&&(ca.debug("remoteAccessUser not compliant"),this.capabilities.remoteAccessUser="OFF")}},{key:"startPrecallTest",value:function(e,t,n,i,r){ua.webRTCClient.startPrecallTest(e,t,n,i,r)}},{key:"sendLogToCloud",value:function(e,t,n,i){apiCC.sendLogToCloud(e,t,n,i)}},{key:"getStreamWithRoomNameAndCallId",value:function(e,t){ca.debug("getStreamWithRoomNameAndCallId");var n="NOT_FOUND";return apiRTC.userAgentInstance.apiRTCStreamsList.forEach((function(i){var r=0;if(void 0!==(r=i.publishedInConversations.get(e))&&r.toString()===t.toString())return ca.debug(" Stream is found"),n=i;ca.debug(" This is not the stream")})),n}},{key:"getStreamWithMediaStreamId",value:function(e){ca.debug("getStreamWithMediaStreamId");var t="NOT_FOUND";return apiRTC.userAgentInstance.apiRTCStreamsList.forEach((function(n){if(n.data.id===e.toString())return ca.debug(" Stream is found"),t=n;ca.debug(" This is not the stream")})),t}}],i=[{key:"getAvailableEvents",value:function(){return ha}}],n&&aa(t.prototype,n),i&&aa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(O),ga=function(e,t,n,i){var r=e.uri.split(":");ca.debug("register() - Registration using prefix :"+r[0]);var a=r[1];null!==t.password&&"string"==typeof t.password?da.authentication(a,t.password,t.captcha_token).then((function(n){return ba(e,n.token,t)})).then((function(e){n(e)})).catch((function(e){ca.error("registerPrefixApizee err : ",e.message);var t="register() - An error occured during cloud credentials registration :"+JSON.stringify(e),n=e;n.message=t,e.hasOwnProperty("code")?n.code=e.code:e.hasOwnProperty("http_code")&&(e.http_code.toString().startsWith("4")?n.code=l.g.ERROR_INVALID_CREDENTIALS:n.code=l.g.ERROR_SERVER_UNAVAILABLE),i(n)})):i(R.g.createError(l.g.ERROR_INVALID_CREDENTIALS,"register() - No password was specified for apizee: UserAgent registration",ca))},ma=function(e,t,n,i){ca.debug("register() - Registration using prefix :token:");var r=e.uri.split(":")[1];da.checkUserToken(r).then((function(n){return ba(e,r,t)})).then(n).catch((function(e){i(R.g.createError(l.g.ERROR_OTHER,"register() - An error occured during cloud token registration",ca))}))},va=function(e,t,n,i){var r=e.uri.split(":");ca.debug("register() - Registration using prefix :"+r[0]);var a=r[1];if(!a||"string"!=typeof a)return i(R.g.createError(l.g.ERROR_OTHER,"register() - Wrong apiKey",ca));new Promise((function(e,n){da.getPreferredCCS(a).then((function(n){t.ccs&&t.ccs!==n.ccs&&(ca.debug("Overloading CCS address with init option"),n.ccs=t.ccs),e(n)})).catch((function(){n(R.g.createError(l.g.ERROR_OTHER,"register() - Could not get preferred CCS",ca))}))})).then((function(n){e.currentSession=new lr(e),e.currentSession.user=e,e.currentSession.token=null,R.g.isPropertyTypeof(t,"nickname","string")?e.username=t.nickname:e.username="guest-"+R.g.guid().substr(0,13),e.preRegisterUserData.setProp("username",e.username),e.preRegisterUserData.setProp("userConfId",e.username+Date.now()),t.userData&&e.preRegisterUserData.setProps(t.userData);var i={apiKey:a,MCUActivated:!0,mcu:t.hasOwnProperty("mcu")?t.mcu:l.g.DEFAULT_MCU,nickname:e.username,ccsServer:n.ccs,bandwidthTestServer:da.cloudUrl,webRTCPluginActivated:!0,userData:e.preRegisterUserData,tryAudioOnlyAfterUserMediaError:!t.hasOwnProperty("tryAudioOnlyAfterUserMediaError")||t.tryAudioOnlyAfterUserMediaError,extJsLoadingRetryNb:t.extJsLoadingRetryNb,extJsLoadingRetryDelay:t.extJsLoadingRetryDelay,ccsConnectionRetryNb:t.ccsConnectionRetryNb,ccsConnectionRetryDelay:t.ccsConnectionRetryDelay,turnServerAddress:t.turnServerAddress,userAcceptOnIncomingDataCall:t.userAcceptOnIncomingDataCall,userAcceptOnIncomingScreenSharingCall:t.userAcceptOnIncomingScreenSharingCall,cloudIsSecured:n.secure};return t.hasOwnProperty("id")&&(i.apiCCId=t.id),R.g.isPropertyTypeof(t,"idPersistenceTimeout","number")&&t.idPersistenceTimeout>=0&&(i.apiCCIdPersistenceTimeout=t.idPersistenceTimeout),t.hasOwnProperty("groups")&&(i.presenceGroup=t.groups),t.hasOwnProperty("subscribeTo")&&(i.subscribeToPresenceGroup=t.subscribeTo),t.hasOwnProperty("contactDisconnectionDelay")&&(ca.debug("Setting contactDisconnectionDelay :",t.contactDisconnectionDelay),ua.contactDisconnectionDelay=t.contactDisconnectionDelay),i.idConversionActivated=!1,t.hasOwnProperty("idConversionActivated")&&(i.idConversionActivated=t.idConversionActivated),t.hasOwnProperty("conversationSpace")&&(i.conversationSpace=t.conversationSpace),t.hasOwnProperty("token")&&(i.token=t.token,e.currentSession.ccsToken=t.token),ua.initializeApiRTC(i)})).then((function(t){!1!==e.callStatsMonitoringEnabled&&!0!==e.callStatsMonitoringEnabled||ua.webRTCClient.enableCallStatsMonitoring(e.callStatsMonitoringEnabled,e.callStatsMonitoringInterval),!1!==e.meshModeEnabled&&!0!==e.meshModeEnabled||ua.webRTCClient.enableMeshRoomMode(e.meshModeEnabled),e.targetBandwidthUsage>0&&ua.webRTCClient.setVideoBandwidth(e.targetBandwidthUsage),e.videoBandwidthSettings.overallIncoming>0&&ua.webRTCClient.setOverallIncomingVideoBandwidth(e.videoBandwidthSettings.overallIncoming),e.videoBandwidthSettings.overallOutgoing>0&&ua.webRTCClient.setOverallOutgoingVideoBandwidth(e.videoBandwidthSettings.overallOutgoing),e.videoBandwidthSettings.perCallIncoming>0&&ua.webRTCClient.setPerCallIncomingVideoBandwidth(e.videoBandwidthSettings.perCallIncoming),e.videoBandwidthSettings.perCallOutgoing>0&&ua.webRTCClient.setPerCallOutgoingVideoBandwidth(e.videoBandwidthSettings.perCallOutgoing),e.userId=t,e.currentSession.init(t),ca.log("register() - APIRTC init OK",t),void 0!==ua.apiRTCSession.userData&&null!==ua.apiRTCSession.userData&&(e.currentSession.userData=new Qt(ua.apiRTCSession.userData)),n(e.currentSession)})).catch((function(t){i(R.g.createError(l.g.ERROR_APIRTC_INITIALISATION_FAILED,"register() - ApiRTC Initialization error : "+t,ca)),delete e.currentSession,e.currentSession=null}))},ba=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,r=null;return ca.debug("initializeCloudUASession :",n),new Promise((function(a,o){da.getConnectedUserInformation(t).then((function(t){if(r=t,ca.debug("Connected user information : ",t),e.currentSession=new lr(e),e.currentSession.user=e,e.currentSession.token=t.token,n.hasOwnProperty("idPersistenceTimeout")&&(e.currentSession.idPersistenceTimeout=n.idPersistenceTimeout),e.username=t.nickname,e.preRegisterUserData.setProp("username",e.username),e.preRegisterUserData.setProp("nickname",e.username),e.preRegisterUserData.setProp("photo_url",t.photo_url),t.mail&&e.preRegisterUserData.setProp("mail",t.mail),e.preRegisterUserData.setProp("userConfId",e.username+Date.now()),n.userData&&e.preRegisterUserData.setProps(n.userData),!n.hasOwnProperty("overLoadedApiRTCKey")||null===n.overLoadedApiRTCKey||void 0===n.overLoadedApiRTCKey||t.apiKey===n.overLoadedApiRTCKey)return e.userId=t.userId,i=new ia(t.enterpriseId,t.apiKey,e.currentSession),fa.set(e,i),i.load();ca.debug("overLoadedApiRTCKey is defined :",n.overLoadedApiRTCKey),i=new ia(t.enterpriseId,n.overLoadedApiRTCKey,e.currentSession),delete n.id,e.userId=null,fa.set(e,i),ca.debug("... no enterprise users data loading")})).then((function(){var t={apiKey:i.getApiKey(),ccsServer:n.ccs||r.ccs,MCUActivated:!0,mcu:n.hasOwnProperty("mcu")?n.mcu:l.g.DEFAULT_MCU,nickname:e.username,bandwidthTestServer:da.cloudUrl,webRTCPluginActivated:!0,apiCCId:n.hasOwnProperty("id")?n.id:e.userId,userData:e.preRegisterUserData,tryAudioOnlyAfterUserMediaError:!n.hasOwnProperty("tryAudioOnlyAfterUserMediaError")||n.tryAudioOnlyAfterUserMediaError,presenceGroup:["agent"],subscribeToPresenceGroup:["agent","visitor"],extJsLoadingRetryNb:n.extJsLoadingRetryNb,extJsLoadingRetryDelay:n.extJsLoadingRetryDelay,ccsConnectionRetryNb:n.ccsConnectionRetryNb,ccsConnectionRetryDelay:n.ccsConnectionRetryDelay,turnServerAddress:n.turnServerAddress,userAcceptOnIncomingDataCall:n.userAcceptOnIncomingDataCall,userAcceptOnIncomingScreenSharingCall:n.userAcceptOnIncomingScreenSharingCall};return R.g.isPropertyTypeof(n,"idPersistenceTimeout","number")&&n.idPersistenceTimeout>=0&&(t.apiCCIdPersistenceTimeout=n.idPersistenceTimeout),n.hasOwnProperty("groups")&&(t.presenceGroup=n.groups),n.hasOwnProperty("subscribeTo")&&(t.subscribeToPresenceGroup=n.subscribeTo),n.hasOwnProperty("contactDisconnectionDelay")&&(ca.debug("Setting contactDisconnectionDelay :",n.contactDisconnectionDelay),ua.contactDisconnectionDelay=n.contactDisconnectionDelay),t.idConversionActivated=!1,n.hasOwnProperty("idConversionActivated")&&(t.idConversionActivated=n.idConversionActivated),n.hasOwnProperty("conversationSpace")&&(t.conversationSpace=n.conversationSpace),ua.initializeApiRTC(t)})).then((function(t){!1!==e.callStatsMonitoringEnabled&&!0!==e.callStatsMonitoringEnabled||ua.webRTCClient.enableCallStatsMonitoring(e.callStatsMonitoringEnabled,e.callStatsMonitoringInterval),!1!==e.meshModeEnabled&&!0!==e.meshModeEnabled||ua.webRTCClient.enableMeshRoomMode(e.meshModeEnabled),e.targetBandwidthUsage>0&&ua.webRTCClient.setVideoBandwidth(e.targetBandwidthUsage),e.videoBandwidthSettings.overallIncoming>0&&ua.webRTCClient.setOverallIncomingVideoBandwidth(e.videoBandwidthSettings.overallIncoming),e.videoBandwidthSettings.overallOutgoing>0&&ua.webRTCClient.setOverallOutgoingVideoBandwidth(e.videoBandwidthSettings.overallOutgoing),e.videoBandwidthSettings.perCallIncoming>0&&ua.webRTCClient.setPerCallIncomingVideoBandwidth(e.videoBandwidthSettings.perCallIncoming),e.videoBandwidthSettings.perCallOutgoing>0&&ua.webRTCClient.setPerCallOutgoingVideoBandwidth(e.videoBandwidthSettings.perCallOutgoing),e.currentSession.init(t),ca.info("APIRTC init OK",t),void 0!==ua.apiRTCSession.userData&&null!==ua.apiRTCSession.userData&&(e.currentSession.userData=new Qt(ua.apiRTCSession.userData)),a(e.currentSession)})).catch((function(e){ca.error(e),o(e)}))}))},ya=v.Y.get("ResourcesLoader"),Ca=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadedJsLinks=[]}var t,n;return t=e,n=[{key:"loadjs",value:function(e){function t(t,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var i=this;ya.info("Load js resources",e),ya.debug("Already loaded js",this.loadedJsLinks);var r=n.success;if(0===(e=e.filter((function(e){return!i.loadedJsLinks.includes(e)}))).length)return ya.debug("Skip resources loading, all resources previously loaded"),void(r instanceof Function&&r());ya.debug("Filtered resources to load",e),n.success=function(){i.loadedJsLinks.push.apply(i.loadedJsLinks,e),r instanceof Function&&r()},a(e,t,n)}))},{key:"unloadjs",value:function(e){var t=this;ya.info("Unload js",e),e.forEach((function(e){var n=document.querySelector('script[src="'+e+'"]');void 0!==n&&(n.remove(),t.loadedJsLinks=t.loadedJsLinks.filter((function(t){return t!==e})))})),ya.debug("Scripts unloaded, currently loaded js",this.loadedJsLinks)}},{key:"reset",value:function(){unloadjs(this.loadedJsLinks),this.loadedJsLinks=[]}}],n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wa=v.Y.get("Init"),Sa=v.Y.get("MediaDeviceManager");function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}r=s.hmd(r),null!==console&&void 0!==console&&("undefined"!=typeof apiRTC_React?console.info&&console.info("Loading APIRTC_REACT_NATIVE_MODULE"):console.info&&console.info("Loading APIRTC_MODULE")),window.Prototype&&delete Array.prototype.toJSON;var Ta=new(Vt());C.version="5.0.20",C.utils={},C.eventCenter=new T,C.resourcesLoader=new Ca;for(var Ea=0,Ma=Object.keys(l.g);Ea<Ma.length;Ea++){var Ra=Ma[Ea];C[Ra]=l.g[Ra]}C.utils.EventEmitter=d,C.utils.EventCenter=T,C.MediaDevice=M,C.Stream=Br,C.Call=ke,C.Conversation=Ci,C.ConversationCall=Ln,C.Conference=Fi,C.Contact=Rn,C.Enterprise=ia,C.SentInvitation=nn,C.ReceivedInvitation=ae,C.ReceivedCallInvitation=Ve,C.ReceivedConversationJoinRequest=Rt,C.ReceivedConversationInvitation=fe,C.ReceivedFileTransferInvitation=Xe,C.ReceivedWhiteboardInvitation=tt,C.ReceivedDataChannelInvitation=St,C.ReceivedPointerSharingInvitation=Ot,C.PointerSharingRoom=cr,C.Session=lr,C.UserAgent=pa,C.UserData=Qt,C.CloudApi=Ta,C.DataChannel=pt,C.Observable=O,C.setLogLevel=function(e){v.Y.setLogLevel(e)};var Aa=!1;if(void 0===window.apiRTC){if("object"===Ia(r)&&r.exports)r.exports=C;else if(s.amdO){var ka=C;void 0===(i=function(){return window.apiRTC2=window.apiRTC=ka}.call(t,n,t,e))||(e.exports=i)}window.apiRTC2=window.apiRTC=window.apiCC=window.CC=C,Aa=!0}else console.info("APIRTC_MODULE already loaded with version :",apiRTC.version);s(4170),!0===Aa&&(C.init=function(e){var t,n;if(wa.info("apiRTC initialization, version is :"+apiCC.version),wa.info("osName :"+apiCC.osName),wa.info("osVersion :"+apiCC.osVersion),wa.info("browser :"+apiCC.browser),wa.info("browser_version :"+apiCC.browser_version),!0===(t=e.apiKey,n=!0,wa.info("apiKey :",t),-1!==t.indexOf("[")&&(n=!1),n))if(e.hasOwnProperty("apiCCId")&&null!==e.apiCCId&&""!==e.apiCCId&&!0!==function(e){if(null!==e){var t=e;if("number"==typeof t&&(t=String(t)),"string"==typeof t)return t.length<=128}return!1}(e.apiCCId))wa.error("apiCCId format is not correct, leaving connection process");else{var i="";if(i=void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol&&"https:"!=window.location.protocol?"http":"https","iOS"!==m.ag.name&&"Android"!==m.ag.name||(wa.log(m.ag.name+" detected forcing protocol to https"),i="https"),void 0===e.ccsServer?(wa.debug("Setting ccsServer"),void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol?"https:"==window.location.protocol||"iOS"===m.ag.name||"Android"===m.ag.name?e.ccsServer="ccs5.apizee.com:443":e.ccsServer="ccs5.apizee.com:80":e.ccsServer="ccs5.apizee.com:443"):wa.log("ccsServer is defined on init()"),null!==e.bandwidthTestServer&&void 0!==e.bandwidthTestServer?(wa.log("bandwidthTestServer is defined :",e.bandwidthTestServer),apiCC.bandwidthTestServer=e.bandwidthTestServer):wa.log("bandwidthTestServer is not defined"),void 0!==e.userData&&wa.log("userData :",e.userData),apiCC.extJsLoadingRetryNb=e.extJsLoadingRetryNb,apiCC.extJsLoadingRetryDelay=e.extJsLoadingRetryDelay,!1===apiCC.jsLoaded){apiCC.initApiKey=e.apiKey,apiCC.initApiCCId=e.apiCCId;var r=function(){wa.log("sio loaded"),apiCC.jsLoaded=!0,apiCC.session=new apiCC.ApiCCSession(e),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","loaded")},a={success:r,error:function(){wa.error("sio loading error"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","error")},retrycb:function(){wa.warn("sio retry"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","retry")}};apiCC.sioEmbedded?(window.rtcio=io,r()):apiRTC_sioLoader.load(i,e,a)}else wa.log("apiRTC JS Librairies already loaded"),wa.log("initParameters have changed, need to reload session connection"),apiCC.addEventListener("sessionReady",e.onReady),wa.log("initParameters.userData :",e.userData),void 0!==e.apiCCId&&""!==e.apiCCId&&null!==e.apiCCId||(wa.log("keeping apiCCId defined by apiRTC :"+e.apiCCId),e.apiCCId=apiCC.session.apiCCId),wa.log("initParameters.apiCCId :"+e.apiCCId),null!==e.userData&&void 0!==e.userData?(wa.log("userData is defined :",e.userData),apiCC.session.userData=e.userData):wa.log("userData is not defined"),wa.log("apiCC.session.userData :",apiCC.session.userData),null!==e.token&&void 0!==e.token?(wa.log("token is defined :"+e.token),apiCC.session.token=e.token):(wa.log("token is not defined"),apiCC.session.token=null),null!==e.conversationSpace&&void 0!==e.conversationSpace?(wa.log("conversationSpace is defined :"+e.conversationSpace),apiCC.session.conversationSpace=e.conversationSpace):(wa.log("conversationSpace is not defined"),apiCC.session.conversationSpace=null),apiCC.session.reOpenChannel(e.apiCCId,e.apiKey),null!==e.nickname&&void 0!==e.nickname?(wa.log("Nickname is defined :"+e.nickname),apiCC.session.nickname=e.nickname):(wa.log("Nickname is not defined, setting to apiCCId value :"+apiCC.session.apiCCId),apiCC.session.nickname=apiCC.session.apiCCId),null!==e.photoURL&&void 0!==e.photoURL?(wa.log("photoURL is defined :"+e.photoURL),apiCC.session.photoURL=e.photoURL):(wa.log("photoURL is not defined"),apiCC.session.photoURL=null),null!==e.presenceGroup&&void 0!==e.presenceGroup?(wa.log("presenceGroup is defined :"+e.presenceGroup),JSON.stringify(apiCC.session.presenceGroup)!==JSON.stringify(e.presenceGroup)&&(wa.log("presenceGroup updated on initParameters"),apiCC.session.channel.updatePresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldPresenceGroup&&(apiCC.session.channel.oldPresenceGroup=apiCC.session.presenceGroup),apiCC.session.channel.newPresenceGroup=e.presenceGroup,apiCC.session.presenceGroup=e.presenceGroup)):(wa.log('presenceGroup is not defined, setting to ["default"]'),JSON.stringify(apiCC.session.presenceGroup)!==JSON.stringify(["default"])&&(wa.log("presenceGroup updated on initParameters"),apiCC.session.channel.updatePresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldPresenceGroup&&(apiCC.session.channel.oldPresenceGroup=apiCC.session.presenceGroup),apiCC.session.channel.newPresenceGroup=["default"],apiCC.session.presenceGroup=["default"])),null!==e.subscribeToPresenceGroup&&void 0!==e.subscribeToPresenceGroup?(wa.log("subscribeToPresenceGroup is defined :"+e.subscribeToPresenceGroup),JSON.stringify(apiCC.session.subscribeToPresenceGroup)!==JSON.stringify(e.subscribeToPresenceGroup)&&(wa.log("subscribeToPresenceGroup updated on initParameters"),apiCC.session.channel.updateSubscribeToPresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldSubscribeToPresenceGroup&&(apiCC.session.channel.oldSubscribeToPresenceGroup=apiCC.session.subscribeToPresenceGroup),apiCC.session.channel.newSubscribeToPresenceGroup=e.subscribeToPresenceGroup,apiCC.session.subscribeToPresenceGroup=e.subscribeToPresenceGroup)):(wa.log('subscribeToPresenceGroup is not defined, setting to ["default"]'),JSON.stringify(apiCC.session.subscribeToPresenceGroup)!==JSON.stringify(["default"])&&(wa.log("subscribeToPresenceGroup updated on initParameters"),apiCC.session.channel.updateSubscribeToPresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldSubscribeToPresenceGroup&&(apiCC.session.channel.oldSubscribeToPresenceGroup=apiCC.session.subscribeToPresenceGroup),apiCC.session.channel.newSubscribeToPresenceGroup=["default"],apiCC.session.subscribeToPresenceGroup=["default"])),apiCC.initApiKey=e.apiKey,apiCC.initApiCCId=e.apiCCId}else wa.error("Apikey format is not correct, leaving connection process")},s(8560),C.mediaDeviceMgr=new function(){this.audioDevicePresent=!0,this.videoDevicePresent=!0,this.audioOutputPresent=!0,this.mediaSourceInfos=null,this.mediaDeviceChangedDetected=!1,this.mediaDeviceSourceInfosArray={audioinput:{},audiooutput:{},videoinput:{}},this.mediaDeviceSourceInfosArrayBeforeGotSources=null,this.defaultVideoInput=null,this.defaultAudioInput=null,this.defaultAudioOuput=null,this.realMediaDevicesListInitialization=!1,this.realMediaDevicesListInitializationWasAlreadyDone=!1,Sa.debug("MediaDeviceManager"),null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=function(e){Sa.debug("Media device have changed"),apiCC.mediaDeviceMgr.getMediaDevices("updatedOnDeviceChange")}),this.gotSources=function(e,t){Sa.debug("gotSources : sourceInfos :",e),apiCC.mediaDeviceMgr.audioDevicePresent=!1,apiCC.mediaDeviceMgr.videoDevicePresent=!1,apiCC.mediaDeviceMgr.audioOutputPresent=!1;var n=!1;apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources=apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray;var i={},r=!1;(0,b.fS)(apiCC.mediaDeviceMgr.mediaSourceInfos,e)||(Sa.debug("MediaDevices change detected"),n=!0);var a,o=null,s=0,l=0,c=0,u=null;if(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray={audioinput:{},audiooutput:{},videoinput:{}},apiCC.mediaDeviceMgr.mediaSourceInfos=e,null!==e)for(a=0;a!==e.length;++a)null!==(o=e[a]).deviceId&&""!==o.deviceId?(u=new M(o.deviceId,o.kind),null!==o.label&&void 0!==o.label&&(this.realMediaDevicesListInitialization=!0)):(Sa.debug("MediaDevices change but deviceId is not correct, using fakedeviceId :",a),u=new M(a,o.kind)),"audio"===o.kind||"audioinput"===o.kind?(apiCC.mediaDeviceMgr.audioDevicePresent||(apiCC.mediaDeviceMgr.audioDevicePresent=!0),u.label=o.label||"microphone "+ ++s,null===apiCC.mediaDeviceMgr.defaultAudioInput&&(apiCC.mediaDeviceMgr.defaultAudioInput=u),null!==o.getCapabilities&&void 0!==o.getCapabilities?u.capabilities=o.getCapabilities():Sa.debug("getCapabilities not defined")):"video"===o.kind||"videoinput"===o.kind?(apiCC.mediaDeviceMgr.videoDevicePresent||(apiCC.mediaDeviceMgr.videoDevicePresent=!0),u.label=o.label||"camera "+ ++l,null===apiCC.mediaDeviceMgr.defaultVideoInput&&(apiCC.mediaDeviceMgr.defaultVideoInput=u),null!==o.getCapabilities&&void 0!==o.getCapabilities?u.capabilities=o.getCapabilities():Sa.debug("getCapabilities not defined")):"audiooutput"===o.kind?(apiCC.mediaDeviceMgr.audioOutputPresent||(apiCC.mediaDeviceMgr.audioOutputPresent=!0),u.label=o.label||"audio output "+ ++c,null===apiCC.mediaDeviceMgr.defaultAudioOuput&&(apiCC.mediaDeviceMgr.defaultAudioOuput=u)):(u.label=o.label||"other source "+o.deviceId,Sa.trace("Detected some other kind of source : "+o.kind)),Sa.trace("Local device : "+u.label+" - "+u.id),void 0===apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[u.type]&&(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[u.type]={}),apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[u.type][u.id]=u;else Sa.warn("Media detection is not supported by browser, considering micro and camera present"),apiCC.mediaDeviceMgr.audioDevicePresent=!0,apiCC.mediaDeviceMgr.videoDevicePresent=!0,apiCC.mediaDeviceMgr.audioOutputPresent=!0;if(Sa.log("Audio device detected :"+apiCC.mediaDeviceMgr.audioDevicePresent),Sa.log("Video device detected :"+apiCC.mediaDeviceMgr.videoDevicePresent),Sa.log("audio Output device detected :"+apiCC.mediaDeviceMgr.audioOutputPresent),Sa.debug("mediaDeviceSourceInfosArray :",apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray),!1===apiCC.mediaDeviceMgr.audioDevicePresent?!1===apiCC.mediaDeviceMgr.videoDevicePresent?apiCC.myWebRTC_Event.createErrorEvent("Video device is not present","NO_AUDIO_NO_VIDEO_DEVICE"):apiCC.myWebRTC_Event.createErrorEvent("Audio device is not present","NO_AUDIO_DEVICE"):!1===apiCC.mediaDeviceMgr.videoDevicePresent&&apiCC.myWebRTC_Event.createErrorEvent("Video device is not present","NO_VIDEO_DEVICE"),(0,b.fS)(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources)||(Sa.debug("mediaDeviceSourceInfosArray change detected"),n=!0),!0===n){Sa.debug("fireMediaChangedEvent :",n);var d=this.getMediaDeviceListsDiff(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources);!0===this.realMediaDevicesListInitialization&&!1===this.realMediaDevicesListInitializationWasAlreadyDone&&(Sa.debug("This is the first real initialization of media device list"),r=!0),!0===this.realMediaDevicesListInitialization&&(this.realMediaDevicesListInitializationWasAlreadyDone=!0),this.mediaDeviceChangedDetected=!0,null!==apiCC.myWebRTC_Event&&apiCC.myWebRTC_Event.createMediaDeviceChangedEvent(d,t,r),Sa.debug("fireMediaChangedEvent :",apiCC.mediaDeviceMgr.mediaSourceInfos)}apiCC.session&&apiCC.session.apiCCWebRTCClient&&(apiCC.session.apiCCWebRTCClient.webRTCClient.setGumConfigWithDevicePresent(),i.audioDevicePresent=apiCC.mediaDeviceMgr.audioDevicePresent,i.videoDevicePresent=apiCC.mediaDeviceMgr.videoDevicePresent,apiCC.session.setUserData(i))},this.getMediaDevices=function(e){Sa.debug("MediaDeviceManager::getMediaDevices : updateReason :",e),"IE"===apiCC.browser&&apiCC.browser_version>8?apiCC.getMediaDevicesWithCB(apiCC.mediaDeviceMgr.gotSources):apiCC.getMediaDevices().then((function(t){apiCC.mediaDeviceMgr.gotSources(t,e)})).catch((function(){Sa.log("Error on MediaDeviceManager::getMediaDevices"),apiCC.mediaDeviceMgr.gotSources(null,e)}))},this.getMediaDeviceListsDiff=function(e,t){void 0!==t&&t||(t={}),void 0!==e&&e||(e={});for(var n=[],i=[],r=[],a=0,o=Object.keys(t);a<o.length;a++){var s=o[a];if(void 0===e[s])i[s]=t[s];else for(var l=0,c=Object.keys(t[s]);l<c.length;l++){var u=c[l];void 0===e[s][u]&&(void 0===i[s]&&(i[s]={}),i[s][u]=t[s][u])}}for(var d=0,f=Object.keys(e);d<f.length;d++)for(var h=f[d],p=0,g=Object.keys(e[h]);p<g.length;p++){var m=g[p];void 0!==t[h]&&void 0!==t[h][m]||(void 0===n[h]&&(n[h]={}),n[h][m]=e[h][m]),void 0!==t[h]&&void 0!==t[h][m]&&e[h][m].label!==t[h][m].label&&(void 0===r[h]&&(r[h]={}),r[h][m]=e[h][m])}return{added:Object.keys(n).length>0?n:null,removed:Object.keys(i).length>0?i:null,updated:Object.keys(r).length>0?r:null}}},C.mediaDeviceMgr.getMediaDevices(),C.webRTCCompliant=C.isWebRTCCompliant(),C.qoSStatCompliant=C.isQoSStatCompliant(),C.screenSharingCompliant=C.isScreenSharingCompliant());const xa=apiRTC},1549:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c}),n(6992),n(1532),n(1539),n(8783),n(3948),n(2772),n(4916),n(5306),n(2222),n(8733),n(3710),n(3161),n(9653),n(9070),n(9753),n(2526),n(1817),n(2165),n(1038),n(7042),n(8309);var i=n(3173);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=new Map,l=i.g.LOG_LEVEL_WARN,c=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.has(t))throw new Error("Cannot construct singleton Logger");this.category=t,s.set(t,this)}var t,n,a;return t=e,n=[{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_TRACE].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_DEBUG].concat(t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_DEBUG].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[i.g.LOG_LEVEL_ERROR].concat(t))}},{key:"logMessage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(null!==console&&void 0!==console){if(e<=l){var o="[".concat((new Date).toISOString(),"]");switch(e in i.g.LOG_LEVEL_LABELS&&(o+="[".concat(i.g.LOG_LEVEL_LABELS[e],"]")),o+=i.g.LOG_PREFIX+"(".concat(this.category,")"),e){case i.g.LOG_LEVEL_ERROR:var s;console.error&&(s=console).error.apply(s,[o].concat(r(n)));break;case i.g.LOG_LEVEL_WARN:var c;console.warn&&(c=console).warn.apply(c,[o].concat(r(n)));break;case i.g.LOG_LEVEL_INFO:var u;console.info&&(u=console).info.apply(u,[o].concat(r(n)));break;default:var d;console.log&&(d=console).log.apply(d,[o].concat(r(n)))}}"undefined"!=typeof apiCC&&apiCC.logStorageActivated&&e<=apiCC.logStorageLevel&&(n=function(e){var t,n=null,i=null;for(t=0;t<e.length;t++)"string"==typeof e[t]&&(-1!==e[t].indexOf('"type":"invite"')?-1===e[t].indexOf("candidate")?-1===e[t].indexOf("S->C:")?e[t]="invite C->S: without candidate":e[t]="invite S->C: without candidate":-1===e[t].indexOf("S->C:")?e[t]="invite C->S: with candidate":e[t]="invite S->C: with candidate":-1!==e[t].indexOf('"type":"200OK"')?-1===e[t].indexOf("candidate")?-1===e[t].indexOf("S->C:")?e[t]="200OK C->S: without candidate":e[t]="200OK S->C: without candidate":-1===e[t].indexOf("S->C:")?e[t]="200OK C->S: with candidate":e[t]="200OK S->C: with candidate":-1!==e[t].indexOf('"type":"candidate"')&&(-1===e[t].indexOf("S->C:")?(n=e[t].replace(/C->S: /g,""),i=JSON.parse(n),e[t]="candidate C->S:"+i.candidate):(n=e[t].replace(/onChannelMessage S->C: /g,""),i=JSON.parse(n),e[t]="candidate S->C:"+i.candidate)));return e}(n),apiCC.logStorage.push(JSON.stringify({name:"log",args:{0:"(".concat(this.category,")")+":"+n}})))}}}],a=[{key:"get",value:function(t){return s.has(t)?s.get(t):new e(t)}},{key:"setLogLevel",value:function(e){if(!Number.isInteger(e)||e<0)throw"Log level invalid";l=e}},{key:"getLogLevel",value:function(){return l}}],n&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},3173:(e,t,n)=>{"use strict";n.d(t,{g:()=>i}),n(2526),n(1817),n(1539);var i={LOG_PREFIX:"apiRTC",LOG_LEVEL_OFF:0,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL_TRACE:5,LOG_LEVEL_LABELS:{}};i.LOG_LEVEL_LABELS[i.LOG_LEVEL_ERROR]="ERROR",i.LOG_LEVEL_LABELS[i.LOG_LEVEL_WARN]="WARN",i.LOG_LEVEL_LABELS[i.LOG_LEVEL_INFO]="INFO",i.LOG_LEVEL_LABELS[i.LOG_LEVEL_DEBUG]="DEBUG",i.LOG_LEVEL_LABELS[i.LOG_LEVEL_TRACE]="TRACE",i.ERROR_OTHER=0,i.ERROR_INVALID_CREDENTIALS=1,i.ERROR_NETWORK_UNAVAILABLE=2,i.ERROR_SERVER_UNAVAILABLE=3,i.ERROR_UNAUTHORIZED=4,i.ERROR_APIRTC_INITIALISATION_FAILED=5,i.ERROR_APIRTC_SESSION_ALREADY_ON=6,i.ERROR_REGISTRATION_URI_INVALID=7,i.ERROR_NOT_FOUND=8,i.ERROR_BAD_PARAMETER=9,i.ERROR_INVITATION_STATE_INVALID=10,i.ERROR_TIMED_OUT=11,i.ERROR_STREAM_RECORD=12,i.ERROR_HTTP=13,i.ERROR_NOT_ALLOWED=14,i.ERROR_OPERATION_CANCELED=15,i.ERROR_WRONG_STATE=16,i.MEDIA_TYPE_PHOTO=0,i.MEDIA_TYPE_VIDEO=1,i.MEDIA_TYPE_AUDIO=2,i.MEDIA_TYPE_DOC=3,i.CONTACT_SEND_DATA_IDENTIFIER="contact_data",i.CONTACT_NEW_MEDIA_IDENTIFIER="contact_new_media",i.CONTACT_SEND_FILEINFO_IDENTIFIER="contact_file_info",i.CONTACT_DATACHANNEL_INVITATION="contact_datachannel_invitation",i.CONTACT_EVENTCENTER_DATA_REQUEST="contact_event_center_data_request",i.CONTACT_EVENTCENTER_DATA_ANSWER="contact_event_center_data_answer",i.CONTACT_GET_CAPABILITIES_IDENTIFIER="contact_get_capabilities",i.CONTACT_GET_CAPABILITIES_RESULT_IDENTIFIER="contact_get_capabilities_result",i.CONTACT_GET_SETTINGS_IDENTIFIER="contact_get_settings",i.CONTACT_GET_SETTINGS_RESULT_IDENTIFIER="contact_get_settings_result",i.CONTACT_GET_CONSTRAINTS_IDENTIFIER="contact_get_constraints",i.CONTACT_GET_CONSTRAINTS_RESULT_IDENTIFIER="contact_get_constraints_result",i.CONTACT_CHANGED_CONSTRAINTS_IDENTIFIER="contact_changed_constraints",i.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_IDENTIFIER="contact_get_remote_audio_flow_status",i.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_IDENTIFIER="contact_get_remote_video_flow_status",i.CONTACT_GET_REMOTE_AUDIO_FLOW_STATUS_RESULT_IDENTIFIER="contact_get_remote_audio_flow_status_result",i.CONTACT_GET_REMOTE_VIDEO_FLOW_STATUS_RESULT_IDENTIFIER="contact_get_remote_video_flow_status_result",i.CONTACT_GET_REMOTE_ERROR="contact_get_remote_error",i.CONTACT_APPLY_CONSTRAINTS_IDENTIFIER="contact_apply_constraints_identifier",i.CONTACT_APPLY_CONSTRAINTS_RESULT_IDENTIFIER="contact_apply_constraints_result_identifier",i.CONTACT_DISABLE_AUDIO_REQUEST="contact_disable_audio_request",i.CONTACT_DISABLE_AUDIO_ANSWER="contact_disable_audio_answer",i.CONTACT_ENABLE_AUDIO_REQUEST="contact_enable_audio_request",i.CONTACT_ENABLE_AUDIO_ANSWER="contact_enable_audio_answer",i.CONTACT_DISABLE_VIDEO_REQUEST="contact_disable_video_request",i.CONTACT_DISABLE_VIDEO_ANSWER="contact_disable_video_answer",i.CONTACT_ENABLE_VIDEO_REQUEST="contact_enable_video_request",i.CONTACT_ENABLE_VIDEO_ANSWER="contact_enable_video_answer",i.CONTACT_STREAM_UPDATED_INFO="contact_stream_updated_info",i.CONTACT_REMOTEACCESS_INVITATION_IDENTIFIER="contact_remote_access_invite",i.CONTACT_REMOTEACCESS_ANSWER_IDENTIFIER="contact_remote_access_answer",i.CONTACT_REMOTEACCESS_STOP_IDENTIFIER="contact_remote_access_stop",i.CONTACT_REMOTEACCESS_APP_STATUS_MESSAGE="contact_remote_access_app_status_message",i.CONTACT_REMOTEACCESS_APP_MESSAGE="contact_remote_access_app_message",i.CONVERSATION_ACCESS_GRANTED="GRANTED",i.CONVERSATION_NEED_MODERATOR_ACCEPTATION="NEED_MODERATOR_ACCEPTATION",i.CONVERSATION_ROLE_MODERATOR="moderator",i.CONVERSATION_ROLE_CONTRIBUTOR="contributor",i.CONVERSATION_ROLE_GUEST="guest",i.CONVERSATION_WAITING_ROOM_PREFIX="waiting-room-",i.CONVERSATION_SEND_DATA_IDENTIFIER="conv_data",i.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER="conv_persistent_data_update",i.CONVERSATION_JOIN_REQUEST_IDENTIFIER="conv_join_req",i.CONVERSATION_JOIN_ANSWER_IDENTIFIER="conv_join_ans",i.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER="conv_moderator_connected",i.CONVERSATION_NEW_MEDIA_IDENTIFIER="conv_new_media",i.CONVERSATION_CLOSED_IDENTIFIER="conv_closed",i.CONVERSATION_INVITATION_IDENTIFIER="conv_invite",i.INVITATION_ANSWER_IDENTIFIER="invite_ans",i.RECORD_BASE_URL="https://data2.apizee.com:10000/videoManager",i.RECORD_PLAY_URL=i.RECORD_BASE_URL+"?action=play&recordedFileName=",i.DEFAULT_MCU="mcu4.apizee.com",i.DEFAULT_TURNADDRESS="mp1.apizee.com",i.CALL_STATUS_WAITING_FOR_CALLEE=Symbol("CALL_STATUS_WAITING_FOR_CALLEE"),i.CALL_STATUS_ONGOING=Symbol("CALL_STATUS_ONGOING"),i.CALL_STATUS_ENDED=Symbol("CALL_STATUS_ENDED"),i.DATACHANNEL_STATUS_WAITING=Symbol("DATACHANNEL_STATUS_WAITING"),i.DATACHANNEL_STATUS_ONGOING=Symbol("DATACHANNEL_STATUS_ONGOING"),i.DATACHANNEL_STATUS_ENDED=Symbol("DATACHANNEL_STATUS_ENDED"),i.DATACHANNEL_TYPE_RECEIVE=Symbol("DATACHANNEL_TYPE_RECEIVE"),i.DATACHANNEL_TYPE_SEND=Symbol("DATACHANNEL_TYPE_SEND"),i.CONVERSATION_STATUS_JOINED=Symbol("CONVERSATION_STATUS_JOINED"),i.CONVERSATION_STATUS_NOT_JOINED=Symbol("CONVERSATION_STATUS_NOT_JOINED"),i.CONVERSATION_STATUS_WAITING=Symbol("CONVERSATION_STATUS_WAITING"),i.CONVERSATION_STATUS_JOINING=Symbol("CONVERSATION_STATUS_JOINING"),i.CONVERSATION_WHITEBOARD_STARTED=Symbol("CONVERSATION_WHITEBOARD_STARTED"),i.CONVERSATION_WHITEBOARD_NOT_STARTED=Symbol("CONVERSATION_WHITEBOARD_NOT_STARTED"),i.STATE_IDLE=Symbol("STATE_IDLE"),i.STATE_JOINING=Symbol("STATE_JOINING"),i.STATE_ACTIVE=Symbol("STATE_ACTIVE"),i.STATE_LEAVING=Symbol("STATE_LEAVING"),i.INVITATION_STATUS_ACCEPTED=Symbol("INVITATION_STATUS_ACCEPTED"),i.INVITATION_STATUS_DECLINED=Symbol("INVITATION_STATUS_DECLINED"),i.INVITATION_STATUS_STANDBY=Symbol("INVITATION_STATUS_STANDBY"),i.INVITATION_STATUS_EXPIRED=Symbol("INVITATION_STATUS_EXPIRED"),i.INVITATION_STATUS_CANCELLED=Symbol("INVITATION_STATUS_CANCELLED"),i.INVITATION_STATUS_ENDED=Symbol("INVITATION_STATUS_ENDED"),i.STREAM_TYPE_NO_INPUT="no_input",i.STREAM_TYPE_AUDIO="audio",i.STREAM_TYPE_VIDEO="video",i.STREAM_AUDIO_ANALYSIS_THRESHOLD=100,i.STREAM_AUDIO_NOISE_REDUCTION_VAI={soft:.7,medium:.8,hard:.9},i.CONTACT_DISCONNECTION_DELAY=1e4,i.CONVERSATION_JOIN_REQUEST_INTERVAL=5e3,i.APIRTC_MEDIA_DEVICE_DETECTION_DELAY=1e4,i.CONVERSATION_GROUP_CHAT_MEMBER_UPDATE_DELAY=5e3,i.CONVERSATION_WHITEBOARD_START_DELAY=5e3,i.CONVERSATION_RECORDING_STARTED_DELAY=1e4,i.CONVERSATION_RECORDING_STOPPED_DELAY=5e3,i.CONVERSATION_STREAMING_STARTED_DELAY=1e4,i.CONVERSATION_STREAMING_STOPPED_DELAY=1e4,i.CONVERSATION_PARTICIPANT_EJECTION_DELAY=5e3,i.JOIN_WAITING_ROOM_PRESENCE_GROUP_TIMEOUT=3e3},1215:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){return 3===arguments.length?a(arguments[0],arguments[1],arguments[2]):"null"===t?null===e:"array"===t?null!==e&&"object"===i(e)&&Array.isArray(e):null!==e&&i(e)===t}function a(e,t,n){if(null!==t&&"object"===i(t)&&Array.isArray(t)&&t.length>=1){var o=t[0];if(t.length>1)return r(e,"object")&&r(o,"string")&&e.hasOwnProperty(o)&&r(e[o],"object")&&a(e[o],t.slice(1),n);t=o}return"undefined"===n?r(e,"object")&&r(t,"string")&&!e.hasOwnProperty(t)&&r(e[t],n):r(e,"object")&&r(t,"string")&&e.hasOwnProperty(t)&&r(e[t],n)}n.d(t,{g:()=>o}),n(4916),n(5306),n(3710),n(1539),n(9714),n(7941),n(9575),n(6716),n(9554),n(9601),n(6992),n(1532),n(8783),n(3948),n(9753),n(7042),n(3843),n(2564),n(2526),n(1817),n(2165);var o={assignObject:function(e,t){var n,i,r;for(null==e&&(e={}),n=1;n<arguments.length;n+=1)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e},throttle:function(e,t){var n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,l=function(){s=!1===a.leading?0:Date.now(),o=null,r=e.apply(n,i),o||(n=i=null)};return function(){var c=Date.now();s||!1!==a.leading||(s=c);var u=t-(c-s);return n=this,i=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,r=e.apply(n,i),o||(n=i=null)):o||!1===a.trailing||(o=setTimeout(l,u)),r}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},hashString:function(e){for(var t=0,n=0,i=e.length;n<i;)t=(t<<5)-t+e.charCodeAt(n++)|0;return Math.abs(t)},arrayBuffertoString:function(e){var t=new DataView(e);return new TextDecoder("utf-8").decode(t)},getAudioContext:function(){return apiRTC.audioProcessor.getOrCreateAudioContext()},parseRecordingEvent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(["roomName","callId","recordType","convId","mediaId","mediaURL","recordedFileName"].forEach((function(e){t.hasOwnProperty(e)&&(n[e]=String(t[e]))})),"AUDIO-ONLY"===t.mediaType?(n.audioOnly=!0,n.videoOnly=!1):"VIDEO-ONLY"===t.mediaType?(n.audioOnly=!1,n.videoOnly=!0):(n.audioOnly=!1,n.videoOnly=!1),"composite"===n.recordType&&t.hasOwnProperty("descriptor")){var i={};Object.assign(i,t.descriptor),i.hasOwnProperty("mode")?n.mode=i.mode:n.mode="complete",i.hasOwnProperty("labelEnabled")?(n.labelEnabled=!0===i.labelEnabled,!0===n.labelEnabled&&i.hasOwnProperty("labels")&&(n.labels=i.labels)):n.labelEnabled=!1}return n},paramsToQueryString:function(e){for(var t="",n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];t+=""===t?"?":"&",null===e[r]||void 0===e[r]?console.warn("apiRTC Utils - paramsToQueryString : "+r+" is undefined!"):t+=r+"="+e[r].toString()}return t},createError:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n&&n.error(t);var a={code:e};return t instanceof String?a.error=new Error(t):t instanceof Error?a.error=t:a.error=new Error(String(t)),r(i,"object")&&(i.hasOwnProperty("fromError")&&(a.fromError=i.fromError),i.hasOwnProperty("httpCode")&&(a.httpCode=i.httpCode)),a},isSet:function(e){return null!=e},isTypeof:r,isPropertyTypeof:a,_private:{dataCallsOnHold:new Map,dataChannelInvitations:new Map,dataCallsFileInfo:new Map}}},9662:(e,t,n)=>{var i=n(614),r=n(6330),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},9483:(e,t,n)=>{var i=n(4411),r=n(6330),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a constructor")}},6077:(e,t,n)=>{var i=n(614),r=String,a=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},1223:(e,t,n)=>{var i=n(5112),r=n(30),a=n(3070).f,o=i("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},1530:(e,t,n)=>{"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:(e,t,n)=>{var i=n(7976),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},9670:(e,t,n)=>{var i=n(111),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},4019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,n)=>{var i=n(7293);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:(e,t,n)=>{"use strict";var i,r,a,o=n(4019),s=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),f=n(648),h=n(6330),p=n(8880),g=n(8052),m=n(3070).f,v=n(7976),b=n(9518),y=n(7674),C=n(5112),w=n(9711),S=n(9909),I=S.enforce,T=S.get,E=l.Int8Array,M=E&&E.prototype,R=l.Uint8ClampedArray,A=R&&R.prototype,k=E&&b(E),x=M&&b(M),D=Object.prototype,O=l.TypeError,L=C("toStringTag"),_=w("TYPED_ARRAY_TAG"),N=o&&!!y&&"Opera"!==f(l.opera),j=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=b(e);if(u(t)){var n=T(t);return n&&d(n,"TypedArrayConstructor")?n.TypedArrayConstructor:F(t)}},B=function(e){if(!u(e))return!1;var t=f(e);return d(P,t)||d(U,t)};for(i in P)(a=(r=l[i])&&r.prototype)?I(a).TypedArrayConstructor=r:N=!1;for(i in U)(a=(r=l[i])&&r.prototype)&&(I(a).TypedArrayConstructor=r);if((!N||!c(k)||k===Function.prototype)&&(k=function(){throw O("Incorrect invocation")},N))for(i in P)l[i]&&y(l[i],k);if((!N||!x||x===D)&&(x=k.prototype,N))for(i in P)l[i]&&y(l[i].prototype,x);if(N&&b(A)!==x&&y(A,x),s&&!d(x,L))for(i in j=!0,m(x,L,{get:function(){return u(this)?this[_]:void 0}}),P)l[i]&&p(l[i],_,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:j&&_,aTypedArray:function(e){if(B(e))return e;throw O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||v(k,e)))return e;throw O(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(s){if(n)for(var r in P){var a=l[r];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}x[e]&&!n||g(x,e,n?t:N&&M[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(s){if(y){if(n)for(i in P)if((r=l[i])&&d(r,e))try{delete r[e]}catch(e){}if(k[e]&&!n)return;try{return g(k,e,n?t:N&&k[e]||t)}catch(e){}}for(i in P)!(r=l[i])||r[e]&&!n||g(r,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!u(e))return!1;var t=f(e);return"DataView"===t||d(P,t)||d(U,t)},isTypedArray:B,TypedArray:k,TypedArrayPrototype:x}},3331:(e,t,n)=>{"use strict";var i=n(7854),r=n(1702),a=n(9781),o=n(4019),s=n(6530),l=n(8880),c=n(9190),u=n(7293),d=n(5787),f=n(9303),h=n(7466),p=n(7067),g=n(1179),m=n(9518),v=n(7674),b=n(8006).f,y=n(3070).f,C=n(1285),w=n(1589),S=n(8003),I=n(9909),T=s.PROPER,E=s.CONFIGURABLE,M=I.get,R=I.set,A="ArrayBuffer",k="Wrong index",x=i.ArrayBuffer,D=x,O=D&&D.prototype,L=i.DataView,_=L&&L.prototype,N=Object.prototype,j=i.Array,P=i.RangeError,U=r(C),F=r([].reverse),B=g.pack,z=g.unpack,W=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},H=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return B(e,23,4)},J=function(e){return B(e,52,8)},Q=function(e,t){y(e.prototype,t,{get:function(){return M(this)[t]}})},q=function(e,t,n,i){var r=p(n),a=M(e);if(r+t>a.byteLength)throw P(k);var o=M(a.buffer).bytes,s=r+a.byteOffset,l=w(o,s,s+t);return i?l:F(l)},X=function(e,t,n,i,r,a){var o=p(n),s=M(e);if(o+t>s.byteLength)throw P(k);for(var l=M(s.buffer).bytes,c=o+s.byteOffset,u=i(+r),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(o){var K=T&&x.name!==A;if(u((function(){x(1)}))&&u((function(){new x(-1)}))&&!u((function(){return new x,new x(1.5),new x(NaN),K&&!E})))K&&E&&l(x,"name",A);else{(D=function(e){return d(this,O),new x(p(e))}).prototype=O;for(var Z,$=b(x),ee=0;$.length>ee;)(Z=$[ee++])in D||l(D,Z,x[Z]);O.constructor=D}v&&m(_)!==N&&v(_,N);var te=new L(new D(2)),ne=r(_.setInt8);te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||c(_,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else O=(D=function(e){d(this,O);var t=p(e);R(this,{bytes:U(j(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,_=(L=function(e,t,n){d(this,_),d(e,O);var i=M(e).byteLength,r=f(t);if(r<0||r>i)throw P("Wrong offset");if(r+(n=void 0===n?i-r:h(n))>i)throw P("Wrong length");R(this,{buffer:e,byteLength:n,byteOffset:r}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=r)}).prototype,a&&(Q(D,"byteLength"),Q(L,"buffer"),Q(L,"byteLength"),Q(L,"byteOffset")),c(_,{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z(q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,W,t)},setUint8:function(e,t){X(this,1,e,W,t)},setInt16:function(e,t){X(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});S(D,A),S(L,"DataView"),e.exports={ArrayBuffer:D,DataView:L}},1048:(e,t,n)=>{"use strict";var i=n(7908),r=n(1400),a=n(6244),o=n(5117),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),l=a(n),c=r(e,l),u=r(t,l),d=arguments.length>2?arguments[2]:void 0,f=s((void 0===d?l:r(d,l))-u,l-c),h=1;for(u<c&&c<u+f&&(h=-1,u+=f-1,c+=f-1);f-- >0;)u in n?n[c]=n[u]:o(n,c),c+=h,u+=h;return n}},1285:(e,t,n)=>{"use strict";var i=n(7908),r=n(1400),a=n(6244);e.exports=function(e){for(var t=i(this),n=a(t),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},8533:(e,t,n)=>{"use strict";var i=n(2092).forEach,r=n(9341)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},7745:(e,t,n)=>{var i=n(6244);e.exports=function(e,t){for(var n=0,r=i(t),a=new e(r);r>n;)a[n]=t[n++];return a}},8457:(e,t,n)=>{"use strict";var i=n(9974),r=n(6916),a=n(7908),o=n(3411),s=n(7659),l=n(4411),c=n(6244),u=n(6135),d=n(8554),f=n(1246),h=Array;e.exports=function(e){var t=a(e),n=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,p>2?arguments[2]:void 0));var v,b,y,C,w,S,I=f(t),T=0;if(!I||this===h&&s(I))for(v=c(t),b=n?new this(v):h(v);v>T;T++)S=m?g(t[T],T):t[T],u(b,T,S);else for(w=(C=d(t,I)).next,b=n?new this:[];!(y=r(w,C)).done;T++)S=m?o(C,g,[y.value,T],!0):y.value,u(b,T,S);return b.length=T,b}},1318:(e,t,n)=>{var i=n(5656),r=n(1400),a=n(6244),o=function(e){return function(t,n,o){var s,l=i(t),c=a(l),u=r(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var i=n(9974),r=n(1702),a=n(8361),o=n(7908),s=n(6244),l=n(5417),c=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,g,m,v){for(var b,y,C=o(p),w=a(C),S=i(g,m),I=s(w),T=0,E=v||l,M=t?E(p,I):n||f?E(p,0):void 0;I>T;T++)if((h||T in w)&&(y=S(b=w[T],T,C),e))if(t)M[T]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return T;case 2:c(M,b)}else switch(e){case 4:return!1;case 7:c(M,b)}return d?-1:r||u?u:M}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6583:(e,t,n)=>{"use strict";var i=n(2104),r=n(5656),a=n(9303),o=n(6244),s=n(9341),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=u||!d;e.exports=f?function(e){if(u)return i(c,this,arguments)||0;var t=r(this),n=o(t),s=n-1;for(arguments.length>1&&(s=l(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},1194:(e,t,n)=>{var i=n(7293),r=n(5112),a=n(7392),o=r("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var i=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},3671:(e,t,n)=>{var i=n(9662),r=n(7908),a=n(8361),o=n(6244),s=TypeError,l=function(e){return function(t,n,l,c){i(n);var u=r(t),d=a(u),f=o(u),h=e?f-1:0,p=e?-1:1;if(l<2)for(;;){if(h in d){c=d[h],h+=p;break}if(h+=p,e?h<0:f<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=p)h in d&&(c=n(c,d[h],h,u));return c}};e.exports={left:l(!1),right:l(!0)}},1589:(e,t,n)=>{var i=n(1400),r=n(6244),a=n(6135),o=Array,s=Math.max;e.exports=function(e,t,n){for(var l=r(e),c=i(t,l),u=i(void 0===n?l:n,l),d=o(s(u-c,0)),f=0;c<u;c++,f++)a(d,f,e[c]);return d.length=f,d}},206:(e,t,n)=>{var i=n(1702);e.exports=i([].slice)},4362:(e,t,n)=>{var i=n(1589),r=Math.floor,a=function(e,t){var n=e.length,l=r(n/2);return n<8?o(e,t):s(e,a(i(e,0,l),t),a(i(e,l),t),t)},o=function(e,t){for(var n,i,r=e.length,a=1;a<r;){for(i=a,n=e[a];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==a++&&(e[i]=n)}return e},s=function(e,t,n,i){for(var r=t.length,a=n.length,o=0,s=0;o<r||s<a;)e[o+s]=o<r&&s<a?i(t[o],n[s])<=0?t[o++]:n[s++]:o<r?t[o++]:n[s++];return e};e.exports=a},7475:(e,t,n)=>{var i=n(3157),r=n(4411),a=n(111),o=n(5112)("species"),s=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===s||i(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},5417:(e,t,n)=>{var i=n(7475);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},3411:(e,t,n)=>{var i=n(9670),r=n(9212);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},7072:(e,t,n)=>{var i=n(5112)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},4326:(e,t,n)=>{var i=n(1702),r=i({}.toString),a=i("".slice);e.exports=function(e){return a(r(e),8,-1)}},648:(e,t,n)=>{var i=n(1694),r=n(614),a=n(4326),o=n(5112)("toStringTag"),s=Object,l="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?n:l?a(t):"Object"==(i=a(t))&&r(t.callee)?"Arguments":i}},5631:(e,t,n)=>{"use strict";var i=n(3070).f,r=n(30),a=n(9190),o=n(9974),s=n(5787),l=n(408),c=n(654),u=n(6340),d=n(9781),f=n(2423).fastKey,h=n(9909),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){s(e,h),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=i&&l(i,e[c],{that:e,AS_ENTRIES:n})})),h=u.prototype,m=g(t),v=function(e,t,n){var i,r,a=m(e),o=b(e,t);return o?o.value=n:(a.last=o={index:r=f(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),d?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},b=function(e,t){var n,i=m(e),r=f(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),i=b(t,e);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),d?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=m(this),i=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(h,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&i(h,"size",{get:function(){return m(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=g(t),a=g(i);c(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},9320:(e,t,n)=>{"use strict";var i=n(1702),r=n(9190),a=n(2423).getWeakData,o=n(9670),s=n(111),l=n(5787),c=n(408),u=n(2092),d=n(2597),f=n(9909),h=f.set,p=f.getterFor,g=u.find,m=u.findIndex,v=i([].splice),b=0,y=function(e){return e.frozen||(e.frozen=new C)},C=function(){this.entries=[]},w=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};C.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var n=w(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e((function(e,r){l(e,f),h(e,{type:t,id:b++,frozen:void 0}),null!=r&&c(r,e[i],{that:e,AS_ENTRIES:n})})),f=u.prototype,g=p(t),m=function(e,t,n){var i=g(e),r=a(o(t),!0);return!0===r?y(i).set(t,n):r[i.id]=n,e};return r(f,{delete:function(e){var t=g(this);if(!s(e))return!1;var n=a(e);return!0===n?y(t).delete(e):n&&d(n,t.id)&&delete n[t.id]},has:function(e){var t=g(this);if(!s(e))return!1;var n=a(e);return!0===n?y(t).has(e):n&&d(n,t.id)}}),r(f,n?{get:function(e){var t=g(this);if(s(e)){var n=a(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),u}}},7710:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),a=n(1702),o=n(4705),s=n(8052),l=n(2423),c=n(408),u=n(5787),d=n(614),f=n(111),h=n(7293),p=n(7072),g=n(8003),m=n(9587);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),y=v?"set":"add",C=r[e],w=C&&C.prototype,S=C,I={},T=function(e){var t=a(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(C)||!(b||w.forEach&&!h((function(){(new C).entries().next()})))))S=n.getConstructor(t,e,v,y),l.enable();else if(o(e,!0)){var E=new S,M=E[y](b?{}:-0,1)!=E,R=h((function(){E.has(1)})),A=p((function(e){new C(e)})),k=!b&&h((function(){for(var e=new C,t=5;t--;)e[y](t,t);return!e.has(-0)}));A||((S=t((function(e,t){u(e,w);var n=m(new C,e,S);return null!=t&&c(t,n[y],{that:n,AS_ENTRIES:v}),n}))).prototype=w,w.constructor=S),(R||k)&&(T("delete"),T("has"),v&&T("get")),(k||M)&&T(y),b&&w.clear&&delete w.clear}return I[e]=S,i({global:!0,constructor:!0,forced:S!=C},I),g(S,e),b||n.setStrong(S,e,v),S}},9920:(e,t,n)=>{var i=n(2597),r=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var s=r(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];i(e,d)||n&&i(n,d)||l(e,d,c(t,d))}}},4964:(e,t,n)=>{var i=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var i=n(3383).IteratorPrototype,r=n(30),a=n(9114),o=n(8003),s=n(7497),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:a(+!c,n)}),o(e,u,!1,!0),s[u]=l,e}},8880:(e,t,n)=>{var i=n(9781),r=n(3070),a=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var i=n(4948),r=n(3070),a=n(9114);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},5573:(e,t,n)=>{"use strict";var i=n(1702),r=n(7293),a=n(6650).start,o=RangeError,s=Math.abs,l=Date.prototype,c=l.toISOString,u=i(l.getTime),d=i(l.getUTCDate),f=i(l.getUTCFullYear),h=i(l.getUTCHours),p=i(l.getUTCMilliseconds),g=i(l.getUTCMinutes),m=i(l.getUTCMonth),v=i(l.getUTCSeconds);e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!r((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(u(this)))throw o("Invalid time value");var e=this,t=f(e),n=p(e),i=t<0?"-":t>9999?"+":"";return i+a(s(t),i?6:4,0)+"-"+a(m(e)+1,2,0)+"-"+a(d(e),2,0)+"T"+a(h(e),2,0)+":"+a(g(e),2,0)+":"+a(v(e),2,0)+"."+a(n,3,0)+"Z"}:c},7045:(e,t,n)=>{var i=n(6339),r=n(3070);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},8052:(e,t,n)=>{var i=n(614),r=n(3070),a=n(6339),o=n(3072);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(i(n)&&a(n,c,s),s.global)l?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9190:(e,t,n)=>{var i=n(8052);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},3072:(e,t,n)=>{var i=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},654:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),a=n(1913),o=n(6530),s=n(614),l=n(4994),c=n(9518),u=n(7674),d=n(8003),f=n(8880),h=n(8052),p=n(5112),g=n(7497),m=n(3383),v=o.PROPER,b=o.CONFIGURABLE,y=m.IteratorPrototype,C=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),S="keys",I="values",T="entries",E=function(){return this};e.exports=function(e,t,n,o,p,m,M){l(n,t,o);var R,A,k,x=function(e){if(e===p&&N)return N;if(!C&&e in L)return L[e];switch(e){case S:case I:case T:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",O=!1,L=e.prototype,_=L[w]||L["@@iterator"]||p&&L[p],N=!C&&_||x(p),j="Array"==t&&L.entries||_;if(j&&(R=c(j.call(new e)))!==Object.prototype&&R.next&&(a||c(R)===y||(u?u(R,y):s(R[w])||h(R,w,E)),d(R,D,!0,!0),a&&(g[D]=E)),v&&p==I&&_&&_.name!==I&&(!a&&b?f(L,"name",I):(O=!0,N=function(){return r(_,this)})),p)if(A={values:x(I),keys:m?N:x(S),entries:x(T)},M)for(k in A)(C||O||!(k in L))&&h(L,k,A[k]);else i({target:t,proto:!0,forced:C||O},A);return a&&!M||L[w]===N||h(L,w,N,{name:p}),g[t]=N,A}},7235:(e,t,n)=>{var i=n(857),r=n(2597),a=n(6061),o=n(3070).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},5117:(e,t,n)=>{"use strict";var i=n(6330),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var i=n(7854),r=n(111),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var i=n(317)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},8886:(e,t,n)=>{var i=n(8113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},256:(e,t,n)=>{var i=n(8113);e.exports=/MSIE|Trident/.test(i)},1528:(e,t,n)=>{var i=n(8113),r=n(7854);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},6833:(e,t,n)=>{var i=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:(e,t,n)=>{var i=n(4326),r=n(7854);e.exports="process"==i(r.process)},1036:(e,t,n)=>{var i=n(8113);e.exports=/web0s(?!.*chrome)/i.test(i)},8113:(e,t,n)=>{var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,n)=>{var i,r,a=n(7854),o=n(8113),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},8008:(e,t,n)=>{var i=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),r=n(1236).f,a=n(8880),o=n(8052),s=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,f,h,p=e.target,g=e.global,m=e.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(h=r(n,u))&&h.value:n[u],!c(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,u,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var i=n(1702),r=n(8052),a=n(2261),o=n(7293),s=n(5112),l=n(8880),c=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),h=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!p||n){var g=i(/./[f]),m=t(f,""[e],(function(e,t,n,r,o){var s=i(e),l=t.exec;return l===a||l===u.exec?h&&!o?{done:!0,value:g(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(u,f,m[1])}d&&l(u[f],"sham",!0)}},6677:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:(e,t,n)=>{var i=n(4374),r=Function.prototype,a=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(a):function(){return o.apply(a,arguments)})},9974:(e,t,n)=>{var i=n(1702),r=n(9662),a=n(4374),o=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:(e,t,n)=>{"use strict";var i=n(1702),r=n(9662),a=n(111),o=n(2597),s=n(206),l=n(4374),c=Function,u=i([].concat),d=i([].join),f={},h=function(e,t,n){if(!o(f,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";f[t]=c("C,a","return new C("+d(i,",")+")")}return f[t](e,n)};e.exports=l?c.bind:function(e){var t=r(this),n=t.prototype,i=s(arguments,1),o=function(){var n=u(i,s(arguments));return this instanceof o?h(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},6916:(e,t,n)=>{var i=n(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:(e,t,n)=>{var i=n(9781),r=n(2597),a=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,s=r(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!i||i&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},1702:(e,t,n)=>{var i=n(4374),r=Function.prototype,a=r.bind,o=r.call,s=i&&a.bind(o,o);e.exports=i?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,n)=>{var i=n(7854),r=n(614);e.exports=function(e,t){return arguments.length<2?function(e){return r(e)?e:void 0}(i[e]):i[e]&&i[e][t]}},1246:(e,t,n)=>{var i=n(648),r=n(8173),a=n(7497),o=n(5112)("iterator");e.exports=function(e){if(null!=e)return r(e,o)||r(e,"@@iterator")||a[i(e)]}},8554:(e,t,n)=>{var i=n(6916),r=n(9662),a=n(9670),o=n(6330),s=n(1246),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return a(i(n,e));throw l(o(e)+" is not iterable")}},8173:(e,t,n)=>{var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},647:(e,t,n)=>{var i=n(1702),r=n(7908),a=Math.floor,o=i("".charAt),s=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,f){var h=n+e.length,p=i.length,g=u;return void 0!==d&&(d=r(d),g=c),s(f,g,(function(r,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,h);case"<":c=d[l(s,1,-1)];break;default:var u=+s;if(0===u)return r;if(u>p){var f=a(u/10);return 0===f?r:f<=p?void 0===i[f-1]?o(s,1):i[f-1]+o(s,1):r}c=i[u-1]}return void 0===c?"":c}))}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var i=n(1702),r=n(7908),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var i=n(7854);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),r=n(7293),a=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:e=>{var t=Array,n=Math.abs,i=Math.pow,r=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,l){var c,u,d,f=t(l),h=8*l-s-1,p=(1<<h)-1,g=p>>1,m=23===s?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,b=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,c=p):(c=r(a(e)/o),e*(d=i(2,-c))<1&&(c--,d*=2),(e+=c+g>=1?m/d:m*i(2,1-g))*d>=2&&(c++,d/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*d-1)*i(2,s),c+=g):(u=e*i(2,g-1)*i(2,s),c=0));s>=8;)f[b++]=255&u,u/=256,s-=8;for(c=c<<s|u,h+=s;h>0;)f[b++]=255&c,c/=256,h-=8;return f[--b]|=128*v,f},unpack:function(e,t){var n,r=e.length,a=8*r-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=r-1,u=e[c--],d=127&u;for(u>>=7;l>0;)d=256*d+e[c--],l-=8;for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)n=256*n+e[c--],l-=8;if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=i(2,t),d-=s}return(u?-1:1)*n*i(2,d-t)}}},8361:(e,t,n)=>{var i=n(1702),r=n(7293),a=n(4326),o=Object,s=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},9587:(e,t,n)=>{var i=n(614),r=n(111),a=n(7674);e.exports=function(e,t,n){var o,s;return a&&i(o=t.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},2788:(e,t,n)=>{var i=n(1702),r=n(614),a=n(5465),o=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},2423:(e,t,n)=>{var i=n(2109),r=n(1702),a=n(3501),o=n(111),s=n(2597),l=n(3070).f,c=n(8006),u=n(1156),d=n(2050),f=n(9711),h=n(6677),p=!1,g=f("meta"),m=0,v=function(e){l(e,g,{value:{objectID:"O"+m++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},p=!0;var e=c.f,t=r([].splice),n={};n[g]=1,e(n).length&&(c.f=function(n){for(var i=e(n),r=0,a=i.length;r<a;r++)if(i[r]===g){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return h&&p&&d(e)&&!s(e,g)&&v(e),e}};a[g]=!0},9909:(e,t,n)=>{var i,r,a,o=n(8536),s=n(7854),l=n(1702),c=n(111),u=n(8880),d=n(2597),f=n(5465),h=n(6200),p=n(3501),g="Object already initialized",m=s.TypeError,v=s.WeakMap;if(o||f.state){var b=f.state||(f.state=new v),y=l(b.get),C=l(b.has),w=l(b.set);i=function(e,t){if(C(b,e))throw new m(g);return t.facade=e,w(b,e,t),t},r=function(e){return y(b,e)||{}},a=function(e){return C(b,e)}}else{var S=h("state");p[S]=!0,i=function(e,t){if(d(e,S))throw new m(g);return t.facade=e,u(e,S,t),t},r=function(e){return d(e,S)?e[S]:{}},a=function(e){return d(e,S)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var i=n(5112),r=n(7497),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},3157:(e,t,n)=>{var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var i=n(1702),r=n(7293),a=n(614),o=n(648),s=n(5005),l=n(2788),c=function(){},u=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=i(f.exec),p=!f.exec(c),g=function(e){if(!a(e))return!1;try{return d(c,u,e),!0}catch(e){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},5032:(e,t,n)=>{var i=n(2597);e.exports=function(e){return void 0!==e&&(i(e,"value")||i(e,"writable"))}},4705:(e,t,n)=>{var i=n(7293),r=n(614),a=/#|\.prototype\./,o=function(e,t){var n=l[s(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},5988:(e,t,n)=>{var i=n(111),r=Math.floor;e.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&r(e)===e}},111:(e,t,n)=>{var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var i=n(111),r=n(4326),a=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},2190:(e,t,n)=>{var i=n(5005),r=n(614),a=n(7976),o=n(3307),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,s(e))}},408:(e,t,n)=>{var i=n(9974),r=n(6916),a=n(9670),o=n(6330),s=n(7659),l=n(6244),c=n(7976),u=n(8554),d=n(1246),f=n(9212),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var m,v,b,y,C,w,S,I=n&&n.that,T=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),M=!(!n||!n.IS_ITERATOR),R=!(!n||!n.INTERRUPTED),A=i(t,I),k=function(e){return m&&f(m,"normal",e),new p(!0,e)},x=function(e){return T?(a(e),R?A(e[0],e[1],k):A(e[0],e[1])):R?A(e,k):A(e)};if(E)m=e.iterator;else if(M)m=e;else{if(!(v=d(e)))throw h(o(e)+" is not iterable");if(s(v)){for(b=0,y=l(e);y>b;b++)if((C=x(e[b]))&&c(g,C))return C;return new p(!1)}m=u(e,v)}for(w=E?e.next:m.next;!(S=r(w,m)).done;){try{C=x(S.value)}catch(e){f(m,"throw",e)}if("object"==typeof C&&C&&c(g,C))return C}return new p(!1)}},9212:(e,t,n)=>{var i=n(6916),r=n(9670),a=n(8173);e.exports=function(e,t,n){var o,s;r(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=i(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return r(o),n}},3383:(e,t,n)=>{"use strict";var i,r,a,o=n(7293),s=n(614),l=n(30),c=n(9518),u=n(8052),d=n(5112),f=n(1913),h=d("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(r=c(c(a)))!==Object.prototype&&(i=r):p=!0),null==i||o((function(){var e={};return i[h].call(e)!==e}))?i={}:f&&(i=l(i)),s(i[h])||u(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var i=n(7466);e.exports=function(e){return i(e.length)}},6339:(e,t,n)=>{var i=n(7293),r=n(614),a=n(2597),o=n(9781),s=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,d=c.get,f=Object.defineProperty,h=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return a(i,"source")||(i.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&d(this).source||l(this)}),"toString")},403:e=>{var t=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*n}},4758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},5948:(e,t,n)=>{var i,r,a,o,s,l,c,u,d=n(7854),f=n(9974),h=n(1236).f,p=n(261).set,g=n(6833),m=n(1528),v=n(1036),b=n(5268),y=d.MutationObserver||d.WebKitMutationObserver,C=d.document,w=d.process,S=d.Promise,I=h(d,"queueMicrotask"),T=I&&I.value;T||(i=function(){var e,t;for(b&&(e=w.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():a=void 0,e}}a=void 0,e&&e.enter()},g||b||v||!y||!C?!m&&S&&S.resolve?((c=S.resolve(void 0)).constructor=S,u=f(c.then,c),o=function(){u(i)}):b?o=function(){w.nextTick(i)}:(p=f(p,d),o=function(){p(i)}):(s=!0,l=C.createTextNode(""),new y(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},735:(e,t,n)=>{var i=n(133);e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},133:(e,t,n)=>{var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},590:(e,t,n)=>{var i=n(7293),r=n(5112),a=n(1913),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var i=n(7854),r=n(614),a=n(2788),o=i.WeakMap;e.exports=r(o)&&/native code/.test(a(o))},8523:(e,t,n)=>{"use strict";var i=n(9662),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},3929:(e,t,n)=>{var i=n(7850),r=TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},3009:(e,t,n)=>{var i=n(7854),r=n(7293),a=n(1702),o=n(1340),s=n(3111).trim,l=n(1361),c=i.parseInt,u=i.Symbol,d=u&&u.iterator,f=/^[+-]?0x/i,h=a(f.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||d&&!r((function(){c(Object(d))}));e.exports=p?function(e,t){var n=s(o(e));return c(n,t>>>0||(h(f,n)?16:10))}:c},1574:(e,t,n)=>{"use strict";var i=n(9781),r=n(1702),a=n(6916),o=n(7293),s=n(1956),l=n(5181),c=n(5296),u=n(7908),d=n(8361),f=Object.assign,h=Object.defineProperty,p=r([].concat);e.exports=!f||o((function(){if(i&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=r}))?function(e,t){for(var n=u(e),r=arguments.length,o=1,f=l.f,h=c.f;r>o;)for(var g,m=d(arguments[o++]),v=f?p(s(m),f(m)):s(m),b=v.length,y=0;b>y;)g=v[y++],i&&!a(h,m,g)||(n[g]=m[g]);return n}:f},30:(e,t,n)=>{var i,r=n(9670),a=n(6048),o=n(748),s=n(3501),l=n(490),c=n(317),u=n(6200)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&i?h(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):h(i);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[u]=e):n=p(),void 0===t?n:a.f(n,t)}},6048:(e,t,n)=>{var i=n(9781),r=n(3353),a=n(3070),o=n(9670),s=n(5656),l=n(1956);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),r=l(t),c=r.length,u=0;c>u;)a.f(e,n=r[u++],i[n]);return e}},3070:(e,t,n)=>{var i=n(9781),r=n(4664),a=n(3353),o=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=u(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),r=n(6916),a=n(5296),o=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!r(a.f,e,t),e[t])}},1156:(e,t,n)=>{var i=n(4326),r=n(5656),a=n(8006).f,o=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==i(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(r(e))}},8006:(e,t,n)=>{var i=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var i=n(2597),r=n(614),a=n(7908),o=n(6200),s=n(8544),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},2050:(e,t,n)=>{var i=n(7293),r=n(111),a=n(4326),o=n(7556),s=Object.isExtensible,l=i((function(){s(1)}));e.exports=l||o?function(e){return!!r(e)&&(!o||"ArrayBuffer"!=a(e))&&(!s||s(e))}:s},7976:(e,t,n)=>{var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:(e,t,n)=>{var i=n(1702),r=n(2597),a=n(5656),o=n(1318).indexOf,s=n(3501),l=i([].push);e.exports=function(e,t){var n,i=a(e),c=0,u=[];for(n in i)!r(s,n)&&r(i,n)&&l(u,n);for(;t.length>c;)r(i,n=t[c++])&&(~o(u,n)||l(u,n));return u}},1956:(e,t,n)=>{var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var i=n(1702),r=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e(n,i):n.__proto__=i,n}}():void 0)},4699:(e,t,n)=>{var i=n(9781),r=n(1702),a=n(1956),o=n(5656),s=r(n(5296).f),l=r([].push),c=function(e){return function(t){for(var n,r=o(t),c=a(r),u=c.length,d=0,f=[];u>d;)n=c[d++],i&&!s(r,n)||l(f,e?[n,r[n]]:r[n]);return f}};e.exports={entries:c(!0),values:c(!1)}},288:(e,t,n)=>{"use strict";var i=n(1694),r=n(648);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(e,t,n)=>{var i=n(6916),r=n(614),a=n(111),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!a(s=i(n,e)))return s;if(r(n=e.valueOf)&&!a(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!a(s=i(n,e)))return s;throw o("Can't convert object to primitive value")}},3887:(e,t,n)=>{var i=n(5005),r=n(1702),a=n(8006),o=n(5181),s=n(9670),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},857:(e,t,n)=>{var i=n(7854);e.exports=i},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3702:(e,t,n)=>{var i=n(7854),r=n(2492),a=n(614),o=n(4705),s=n(2788),l=n(5112),c=n(7871),u=n(1913),d=n(7392),f=r&&r.prototype,h=l("species"),p=!1,g=a(i.PromiseRejectionEvent),m=o("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===d)return!0;if(u&&(!f.catch||!f.finally))return!0;if(d>=51&&/native code/.test(e))return!1;var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[h]=i,!(p=n.then((function(){}))instanceof i)||!t&&c&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},2492:(e,t,n)=>{var i=n(7854);e.exports=i.Promise},9478:(e,t,n)=>{var i=n(9670),r=n(111),a=n(8523);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},612:(e,t,n)=>{var i=n(2492),r=n(7072),a=n(3702).CONSTRUCTOR;e.exports=a||!r((function(e){i.all(e).then(void 0,(function(){}))}))},2626:(e,t,n)=>{var i=n(3070).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},8572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7651:(e,t,n)=>{var i=n(6916),r=n(9670),a=n(614),o=n(4326),s=n(2261),l=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=i(n,e,t);return null!==c&&r(c),c}if("RegExp"===o(e))return i(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var i,r,a=n(6916),o=n(1702),s=n(1340),l=n(7066),c=n(2999),u=n(2309),d=n(30),f=n(9909).get,h=n(9441),p=n(7168),g=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,b=o("".charAt),y=o("".indexOf),C=o("".replace),w=o("".slice),S=(r=/b*/g,a(m,i=/a/,"a"),a(m,r,"a"),0!==i.lastIndex||0!==r.lastIndex),I=c.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(S||T||I||h||p)&&(v=function(e){var t,n,i,r,o,c,u,h=this,p=f(h),E=s(e),M=p.raw;if(M)return M.lastIndex=h.lastIndex,t=a(v,M,E),h.lastIndex=M.lastIndex,t;var R=p.groups,A=I&&h.sticky,k=a(l,h),x=h.source,D=0,O=E;if(A&&(k=C(k,"y",""),-1===y(k,"g")&&(k+="g"),O=w(E,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(E,h.lastIndex-1))&&(x="(?: "+x+")",O=" "+O,D++),n=new RegExp("^(?:"+x+")",k)),T&&(n=new RegExp("^"+x+"$(?!\\s)",k)),S&&(i=h.lastIndex),r=a(m,A?n:h,O),A?r?(r.input=w(r.input,D),r[0]=w(r[0],D),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:S&&r&&(h.lastIndex=h.global?r.index+r[0].length:i),T&&r&&r.length>1&&a(g,r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&R)for(r.groups=c=d(null),o=0;o<R.length;o++)c[(u=R[o])[0]]=r[u[1]];return r}),e.exports=v},7066:(e,t,n)=>{"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:(e,t,n)=>{var i=n(6916),r=n(2597),a=n(7976),o=n(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||r(e,"flags")||!a(s,e)?t:i(o,e)}},2999:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp,a=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||i((function(){return!r("a","y").sticky})),s=a||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:e=>{var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7152:(e,t,n)=>{var i=n(7854),r=n(2104),a=n(614),o=n(8113),s=n(206),l=n(8053),c=/MSIE .\./.test(o),u=i.Function,d=function(e){return c?function(t,n){var i=l(arguments.length,1)>2,o=a(t)?t:u(t),c=i?s(arguments,2):void 0;return e(i?function(){r(o,this,c)}:o,n)}:e};e.exports={setTimeout:d(i.setTimeout),setInterval:d(i.setInterval)}},6340:(e,t,n)=>{"use strict";var i=n(5005),r=n(3070),a=n(5112),o=n(9781),s=a("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var i=n(3070).f,r=n(2597),a=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},6200:(e,t,n)=>{var i=n(2309),r=n(9711),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},5465:(e,t,n)=>{var i=n(7854),r=n(3072),a="__core-js_shared__",o=i[a]||r(a,{});e.exports=o},2309:(e,t,n)=>{var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.4",mode:i?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,n)=>{var i=n(9670),r=n(9483),a=n(5112)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[a])?t:r(n)}},8710:(e,t,n)=>{var i=n(1702),r=n(9303),a=n(1340),o=n(4488),s=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,d=a(o(t)),f=r(n),h=d.length;return f<0||f>=h?e?"":void 0:(i=l(d,f))<55296||i>56319||f+1===h||(u=l(d,f+1))<56320||u>57343?e?s(d,f):i:e?c(d,f,f+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},6650:(e,t,n)=>{var i=n(1702),r=n(7466),a=n(1340),o=n(8415),s=n(4488),l=i(o),c=i("".slice),u=Math.ceil,d=function(e){return function(t,n,i){var o,d,f=a(s(t)),h=r(n),p=f.length,g=void 0===i?" ":a(i);return h<=p||""==g?f:((d=l(g,u((o=h-p)/g.length))).length>o&&(d=c(d,0,o)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},3197:(e,t,n)=>{"use strict";var i=n(1702),r=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,c=i(o.exec),u=Math.floor,d=String.fromCharCode,f=i("".charCodeAt),h=i([].join),p=i([].push),g=i("".replace),m=i("".split),v=i("".toLowerCase),b=function(e){return e+22+75*(e<26)},y=function(e,t,n){var i=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),i+=36;return u(i+36*e/(e+38))},C=function(e){var t=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=f(e,n++);if(r>=55296&&r<=56319&&n<i){var a=f(e,n++);56320==(64512&a)?p(t,((1023&r)<<10)+(1023&a)+65536):(p(t,r),n--)}else p(t,r)}return t}(e);var n,i,a=e.length,o=128,c=0,g=72;for(n=0;n<e.length;n++)(i=e[n])<128&&p(t,d(i));var m=t.length,v=m;for(m&&p(t,"-");v<a;){var C=r;for(n=0;n<e.length;n++)(i=e[n])>=o&&i<C&&(C=i);var w=v+1;if(C-o>u((r-c)/w))throw l(s);for(c+=(C-o)*w,o=C,n=0;n<e.length;n++){if((i=e[n])<o&&++c>r)throw l(s);if(i==o){for(var S=c,I=36;;){var T=I<=g?1:I>=g+26?26:I-g;if(S<T)break;var E=S-T,M=36-T;p(t,d(b(T+E%M))),S=u(E/M),I+=36}p(t,d(b(S))),g=y(c,w,v==m),c=0,v++}}c++,o++}return h(t,"")};e.exports=function(e){var t,n,i=[],r=m(g(v(e),o,"."),".");for(t=0;t<r.length;t++)n=r[t],p(i,c(a,n)?"xn--"+C(n):n);return h(i,".")}},8415:(e,t,n)=>{"use strict";var i=n(9303),r=n(1340),a=n(4488),o=RangeError;e.exports=function(e){var t=r(a(this)),n="",s=i(e);if(s<0||s==1/0)throw o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},3111:(e,t,n)=>{var i=n(1702),r=n(4488),a=n(1340),o=n(1361),s=i("".replace),l="["+o+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e){return function(t){var n=a(r(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,u,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},6532:(e,t,n)=>{var i=n(6916),r=n(5005),a=n(5112),o=n(8052);e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return i(n,this)}),{arity:1})}},261:(e,t,n)=>{var i,r,a,o,s=n(7854),l=n(2104),c=n(9974),u=n(614),d=n(2597),f=n(7293),h=n(490),p=n(206),g=n(317),m=n(8053),v=n(6833),b=n(5268),y=s.setImmediate,C=s.clearImmediate,w=s.process,S=s.Dispatch,I=s.Function,T=s.MessageChannel,E=s.String,M=0,R={};try{i=s.location}catch(e){}var A=function(e){if(d(R,e)){var t=R[e];delete R[e],t()}},k=function(e){return function(){A(e)}},x=function(e){A(e.data)},D=function(e){s.postMessage(E(e),i.protocol+"//"+i.host)};y&&C||(y=function(e){m(arguments.length,1);var t=u(e)?e:I(e),n=p(arguments,1);return R[++M]=function(){l(t,void 0,n)},r(M),M},C=function(e){delete R[e]},b?r=function(e){w.nextTick(k(e))}:S&&S.now?r=function(e){S.now(k(e))}:T&&!v?(o=(a=new T).port2,a.port1.onmessage=x,r=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!f(D)?(r=D,s.addEventListener("message",x,!1)):r="onreadystatechange"in g("script")?function(e){h.appendChild(g("script")).onreadystatechange=function(){h.removeChild(this),A(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:y,clear:C}},863:(e,t,n)=>{var i=n(1702);e.exports=i(1..valueOf)},1400:(e,t,n)=>{var i=n(9303),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},4599:(e,t,n)=>{var i=n(7593),r=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw r("Can't convert number to bigint");return BigInt(t)}},7067:(e,t,n)=>{var i=n(9303),r=n(7466),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw a("Wrong length or index");return n}},5656:(e,t,n)=>{var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9303:(e,t,n)=>{var i=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:(e,t,n)=>{var i=n(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(4488),r=Object;e.exports=function(e){return r(i(e))}},4590:(e,t,n)=>{var i=n(3002),r=RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw r("Wrong offset");return n}},3002:(e,t,n)=>{var i=n(9303),r=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw r("The argument can't be less than 0");return t}},7593:(e,t,n)=>{var i=n(6916),r=n(111),a=n(2190),o=n(8173),s=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,l=o(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,n)=>{var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:(e,t,n)=>{var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:(e,t,n)=>{var i=n(648),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9843:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),a=n(6916),o=n(9781),s=n(3832),l=n(260),c=n(3331),u=n(5787),d=n(9114),f=n(8880),h=n(5988),p=n(7466),g=n(7067),m=n(4590),v=n(4948),b=n(2597),y=n(648),C=n(111),w=n(2190),S=n(30),I=n(7976),T=n(7674),E=n(8006).f,M=n(7321),R=n(2092).forEach,A=n(6340),k=n(3070),x=n(1236),D=n(9909),O=n(9587),L=D.get,_=D.set,N=D.enforce,j=k.f,P=x.f,U=Math.round,F=r.RangeError,B=c.ArrayBuffer,z=B.prototype,W=c.DataView,V=l.NATIVE_ARRAY_BUFFER_VIEWS,H=l.TYPED_ARRAY_TAG,G=l.TypedArray,Y=l.TypedArrayPrototype,J=l.aTypedArrayConstructor,Q=l.isTypedArray,q="BYTES_PER_ELEMENT",X="Wrong length",K=function(e,t){J(e);for(var n=0,i=t.length,r=new e(i);i>n;)r[n]=t[n++];return r},Z=function(e,t){j(e,t,{get:function(){return L(this)[t]}})},$=function(e){var t;return I(z,e)||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},ee=function(e,t){return Q(e)&&!w(t)&&t in e&&h(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?d(2,e[t]):P(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&C(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};o?(V||(x.f=te,k.f=ne,Z(Y,"buffer"),Z(Y,"byteOffset"),Z(Y,"byteLength"),Z(Y,"length")),i({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,h=r[l],v=h,b=v&&v.prototype,y={},w=function(e,t){j(e,t,{get:function(){return function(e,t){var n=L(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=L(e);n&&(i=(i=U(i))<0?0:i>255?255:255&i),r.view[d](t*o+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};V?s&&(v=t((function(e,t,n,i){return u(e,b),O(C(t)?$(t)?void 0!==i?new h(t,m(n,o),i):void 0!==n?new h(t,m(n,o)):new h(t):Q(t)?K(v,t):a(M,v,t):new h(g(t)),e,v)})),T&&T(v,G),R(E(h),(function(e){e in v||f(v,e,h[e])})),v.prototype=b):(v=t((function(e,t,n,i){u(e,b);var r,s,l,c=0,d=0;if(C(t)){if(!$(t))return Q(t)?K(v,t):a(M,v,t);r=t,d=m(n,o);var f=t.byteLength;if(void 0===i){if(f%o)throw F(X);if((s=f-d)<0)throw F(X)}else if((s=p(i)*o)+d>f)throw F(X);l=s/o}else l=g(t),r=new B(s=l*o);for(_(e,{buffer:r,byteOffset:d,byteLength:s,length:l,view:new W(r)});c<l;)w(e,c++)})),T&&T(v,G),b=v.prototype=S(Y)),b.constructor!==v&&f(b,"constructor",v),N(b).TypedArrayConstructor=v,H&&f(b,H,l);var I=v!=h;y[l]=v,i({global:!0,constructor:!0,forced:I,sham:!V},y),q in v||f(v,q,o),q in b||f(b,q,o),A(l)}):e.exports=function(){}},3832:(e,t,n)=>{var i=n(7854),r=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new s(2),1,void 0).length}))},3074:(e,t,n)=>{var i=n(7745),r=n(6304);e.exports=function(e,t){return i(r(e),t)}},7321:(e,t,n)=>{var i=n(9974),r=n(6916),a=n(9483),o=n(7908),s=n(6244),l=n(8554),c=n(1246),u=n(7659),d=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,f,h,p,g,m=a(this),v=o(e),b=arguments.length,y=b>1?arguments[1]:void 0,C=void 0!==y,w=c(v);if(w&&!u(w))for(g=(p=l(v,w)).next,v=[];!(h=r(g,p)).done;)v.push(h.value);for(C&&b>2&&(y=i(y,arguments[2])),n=s(v),f=new(d(m))(n),t=0;n>t;t++)f[t]=C?y(v[t],t):v[t];return f}},6304:(e,t,n)=>{var i=n(260),r=n(6707),a=i.aTypedArrayConstructor,o=i.getTypedArrayConstructor;e.exports=function(e){return a(r(e,o(e)))}},9711:(e,t,n)=>{var i=n(1702),r=0,a=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+a,36)}},3307:(e,t,n)=>{var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var i=n(9781),r=n(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},6061:(e,t,n)=>{var i=n(5112);t.f=i},5112:(e,t,n)=>{var i=n(7854),r=n(2309),a=n(2597),o=n(9711),s=n(133),l=n(3307),c=r("wks"),u=i.Symbol,d=u&&u.for,f=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):f(t)}return c[e]}},1361:e=>{e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8264:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),a=n(3331),o=n(6340),s=a.ArrayBuffer;i({global:!0,constructor:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},9575:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),a=n(7293),o=n(3331),s=n(9670),l=n(1400),c=n(7466),u=n(6707),d=o.ArrayBuffer,f=o.DataView,h=f.prototype,p=r(d.prototype.slice),g=r(h.getUint8),m=r(h.setUint8);i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var n=s(this).byteLength,i=l(e,n),r=l(void 0===t?n:t,n),a=new(u(this,d))(c(r-i)),o=new f(this),h=new f(a),v=0;i<r;)m(h,v++,g(o,i++));return a}})},2222:(e,t,n)=>{"use strict";var i=n(2109),r=n(7293),a=n(3157),o=n(111),s=n(7908),l=n(6244),c=n(7207),u=n(6135),d=n(5417),f=n(1194),h=n(5112),p=n(7392),g=h("isConcatSpreadable"),m=p>=51||!r((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=f("concat"),b=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,arity:1,forced:!m||!v},{concat:function(e){var t,n,i,r,a,o=s(this),f=d(o,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(b(a=-1===t?o:arguments[t]))for(r=l(a),c(h+r),n=0;n<r;n++,h++)n in a&&u(f,h,a[n]);else c(h+1),u(f,h++,a);return f.length=h,f}})},3290:(e,t,n)=>{var i=n(2109),r=n(1285),a=n(1223);i({target:"Array",proto:!0},{fill:r}),a("fill")},7327:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).findIndex,a=n(1223),o="findIndex",s=!0;o in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9826:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).find,a=n(1223),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9554:(e,t,n)=>{"use strict";var i=n(2109),r=n(8533);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},1038:(e,t,n)=>{var i=n(2109),r=n(8457);i({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:r})},6699:(e,t,n)=>{"use strict";var i=n(2109),r=n(1318).includes,a=n(7293),o=n(1223);i({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),a=n(1318).indexOf,o=n(9341),s=r([].indexOf),l=!!s&&1/s([1],1,-0)<0,c=o("indexOf");i({target:"Array",proto:!0,forced:l||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:a(this,e,t)}})},9753:(e,t,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(e,t,n)=>{"use strict";var i=n(5656),r=n(1223),a=n(7497),o=n(9909),s=n(3070).f,l=n(654),c=n(1913),u=n(9781),d="Array Iterator",f=o.set,h=o.getterFor(d);e.exports=l(Array,"Array",(function(e,t){f(this,{type:d,target:i(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var p=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!c&&u&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},9600:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),a=n(8361),o=n(5656),s=n(9341),l=r([].join),c=a!=Object,u=s("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(e){return l(o(this),void 0===e?",":e)}})},4986:(e,t,n)=>{var i=n(2109),r=n(6583);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},1249:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,n)=>{"use strict";var i=n(2109),r=n(3157),a=n(4411),o=n(111),s=n(1400),l=n(6244),c=n(5656),u=n(6135),d=n(5112),f=n(1194),h=n(206),p=f("slice"),g=d("species"),m=Array,v=Math.max;i({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,i,d,f=c(this),p=l(f),b=s(e,p),y=s(void 0===t?p:t,p);if(r(f)&&(n=f.constructor,(a(n)&&(n===m||r(n.prototype))||o(n)&&null===(n=n[g]))&&(n=void 0),n===m||void 0===n))return h(f,b,y);for(i=new(void 0===n?m:n)(v(y-b,0)),d=0;b<y;b++,d++)b in f&&u(i,d,f[b]);return i.length=d,i}})},2707:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),a=n(9662),o=n(7908),s=n(6244),l=n(5117),c=n(1340),u=n(7293),d=n(4362),f=n(9341),h=n(8886),p=n(256),g=n(7392),m=n(8008),v=[],b=r(v.sort),y=r(v.push),C=u((function(){v.sort(void 0)})),w=u((function(){v.sort(null)})),S=f("sort"),I=!u((function(){if(g)return g<70;if(!(h&&h>3)){if(p)return!0;if(m)return m<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)v.push({k:t+i,v:n})}for(v.sort((function(e,t){return t.v-e.v})),i=0;i<v.length;i++)t=v[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:C||!w||!S||!I},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(I)return void 0===e?b(t):b(t,e);var n,i,r=[],u=s(t);for(i=0;i<u;i++)i in t&&y(r,t[i]);for(d(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=r.length,i=0;i<n;)t[i]=r[i++];for(;i<u;)l(t,i++);return t}})},561:(e,t,n)=>{"use strict";var i=n(2109),r=n(7908),a=n(1400),o=n(9303),s=n(6244),l=n(7207),c=n(5417),u=n(6135),d=n(5117),f=n(1194)("splice"),h=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,i,f,g,m,v,b=r(this),y=s(b),C=a(e,y),w=arguments.length;for(0===w?n=i=0:1===w?(n=0,i=y-C):(n=w-2,i=p(h(o(t),0),y-C)),l(y+n-i),f=c(b,i),g=0;g<i;g++)(m=C+g)in b&&u(f,g,b[m]);if(f.length=i,n<i){for(g=C;g<y-i;g++)v=g+n,(m=g+i)in b?b[v]=b[m]:d(b,v);for(g=y;g>y-i+n;g--)d(b,g-1)}else if(n>i)for(g=y-i;g>C;g--)v=g+n-1,(m=g+i-1)in b?b[v]=b[m]:d(b,v);for(g=0;g<n;g++)b[g+C]=arguments[g+2];return b.length=y-i+n,f}})},3690:(e,t,n)=>{var i=n(2109),r=n(3331);i({global:!0,constructor:!0,forced:!n(4019)},{DataView:r.DataView})},6716:(e,t,n)=>{n(3690)},3843:(e,t,n)=>{var i=n(2109),r=n(1702),a=Date,o=r(a.prototype.getTime);i({target:"Date",stat:!0},{now:function(){return o(new a)}})},8733:(e,t,n)=>{var i=n(2109),r=n(5573);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},5735:(e,t,n)=>{"use strict";var i=n(2109),r=n(7293),a=n(7908),o=n(7593);i({target:"Date",proto:!0,arity:1,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},3710:(e,t,n)=>{var i=n(1702),r=n(8052),a=Date.prototype,o="Invalid Date",s=i(a.toString),l=i(a.getTime);String(new Date(NaN))!=o&&r(a,"toString",(function(){var e=l(this);return e==e?s(this):o}))},4812:(e,t,n)=>{var i=n(2109),r=n(7065);i({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},8309:(e,t,n)=>{var i=n(9781),r=n(6530).EXISTS,a=n(1702),o=n(3070).f,s=Function.prototype,l=a(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(c.exec);i&&!r&&o(s,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},8862:(e,t,n)=>{var i=n(2109),r=n(5005),a=n(2104),o=n(6916),s=n(1702),l=n(7293),c=n(3157),u=n(614),d=n(111),f=n(2190),h=n(206),p=n(133),g=r("JSON","stringify"),m=s(/./.exec),v=s("".charAt),b=s("".charCodeAt),y=s("".replace),C=s(1..toString),w=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,T=!p||l((function(){var e=r("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),E=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),M=function(e,t){var n=h(arguments),i=t;if((d(t)||void 0!==e)&&!f(e))return c(t)||(t=function(e,t){if(u(i)&&(t=o(i,this,e,t)),!f(t))return t}),n[1]=t,a(g,null,n)},R=function(e,t,n){var i=v(n,t-1),r=v(n,t+1);return m(S,e)&&!m(I,r)||m(I,e)&&!m(S,i)?"\\u"+C(b(e,0),16):e};g&&i({target:"JSON",stat:!0,arity:3,forced:T||E},{stringify:function(e,t,n){var i=h(arguments),r=a(T?M:g,null,i);return E&&"string"==typeof r?y(r,w,R):r}})},3706:(e,t,n)=>{var i=n(7854);n(8003)(i.JSON,"JSON",!0)},9098:(e,t,n)=>{"use strict";n(7710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},1532:(e,t,n)=>{n(9098)},658:(e,t,n)=>{n(2109)({target:"Math",stat:!0},{log10:n(403)})},2703:(e,t,n)=>{n(8003)(Math,"Math",!0)},9653:(e,t,n)=>{"use strict";var i=n(9781),r=n(7854),a=n(1702),o=n(4705),s=n(8052),l=n(2597),c=n(9587),u=n(7976),d=n(2190),f=n(7593),h=n(7293),p=n(8006).f,g=n(1236).f,m=n(3070).f,v=n(863),b=n(3111).trim,y="Number",C=r.Number,w=C.prototype,S=r.TypeError,I=a("".slice),T=a("".charCodeAt),E=function(e){var t,n,i,r,a,o,s,l,c=f(e,"number");if(d(c))throw S("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(t=T(c,0))||45===t){if(88===(n=T(c,2))||120===n)return NaN}else if(48===t){switch(T(c,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=(a=I(c,2)).length,s=0;s<o;s++)if((l=T(a,s))<48||l>r)return NaN;return parseInt(a,i)}return+c};if(o(y,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var M,R=function(e){var t=arguments.length<1?0:C(function(e){var t=f(e,"number");return"bigint"==typeof t?t:E(t)}(e)),n=this;return u(w,n)&&h((function(){v(n)}))?c(Object(t),n,R):t},A=i?p(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;A.length>k;k++)l(C,M=A[k])&&!l(R,M)&&m(R,M,g(C,M));R.prototype=w,w.constructor=R,s(r,y,R,{constructor:!0})}},3161:(e,t,n)=>{n(2109)({target:"Number",stat:!0},{isInteger:n(5988)})},4363:(e,t,n)=>{n(2109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},9601:(e,t,n)=>{var i=n(2109),r=n(1574);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},8011:(e,t,n)=>{n(2109)({target:"Object",stat:!0,sham:!n(9781)},{create:n(30)})},9070:(e,t,n)=>{var i=n(2109),r=n(9781),a=n(3070).f;i({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!r},{defineProperty:a})},9720:(e,t,n)=>{var i=n(2109),r=n(4699).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},5003:(e,t,n)=>{var i=n(2109),r=n(7293),a=n(5656),o=n(1236).f,s=n(9781),l=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},9660:(e,t,n)=>{var i=n(2109),r=n(133),a=n(7293),o=n(5181),s=n(7908);i({target:"Object",stat:!0,forced:!r||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},489:(e,t,n)=>{var i=n(2109),r=n(7293),a=n(7908),o=n(9518),s=n(8544);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},7941:(e,t,n)=>{var i=n(2109),r=n(7908),a=n(1956);i({target:"Object",stat:!0,forced:n(7293)((function(){a(1)}))},{keys:function(e){return a(r(e))}})},8304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(e,t,n)=>{var i=n(1694),r=n(8052),a=n(288);i||r(Object.prototype,"toString",a,{unsafe:!0})},2479:(e,t,n)=>{var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},1058:(e,t,n)=>{var i=n(2109),r=n(3009);i({global:!0,forced:parseInt!=r},{parseInt:r})},821:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),a=n(9662),o=n(8523),s=n(2534),l=n(408);i({target:"Promise",stat:!0,forced:n(612)},{all:function(e){var t=this,n=o.f(t),i=n.resolve,c=n.reject,u=s((function(){var n=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,o[a]=e,--u||i(o))}),c)})),--u||i(o)}));return u.error&&c(u.value),n.promise}})},4164:(e,t,n)=>{"use strict";var i=n(2109),r=n(1913),a=n(3702).CONSTRUCTOR,o=n(2492),s=n(5005),l=n(614),c=n(8052),u=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(o)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},3401:(e,t,n)=>{"use strict";var i,r,a,o=n(2109),s=n(1913),l=n(5268),c=n(7854),u=n(6916),d=n(8052),f=n(7674),h=n(8003),p=n(6340),g=n(9662),m=n(614),v=n(111),b=n(5787),y=n(6707),C=n(261).set,w=n(5948),S=n(842),I=n(2534),T=n(8572),E=n(9909),M=n(2492),R=n(3702),A=n(8523),k="Promise",x=R.CONSTRUCTOR,D=R.REJECTION_EVENT,O=R.SUBCLASSING,L=E.getterFor(k),_=E.set,N=M&&M.prototype,j=M,P=N,U=c.TypeError,F=c.document,B=c.process,z=A.f,W=z,V=!!(F&&F.createEvent&&c.dispatchEvent),H="unhandledrejection",G=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},Y=function(e,t){var n,i,r,a=t.value,o=1==t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&K(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),r=!0)),n===e.promise?c(U("Promise-chain cycle")):(i=G(n))?u(i,n,l,c):l(n)):c(a)}catch(e){d&&!r&&d.exit(),c(e)}},J=function(e,t){e.notified||(e.notified=!0,w((function(){for(var n,i=e.reactions;n=i.get();)Y(n,e);e.notified=!1,t&&!e.rejection&&q(e)})))},Q=function(e,t,n){var i,r;V?((i=F.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!D&&(r=c["on"+e])?r(i):e===H&&S("Unhandled promise rejection",n)},q=function(e){u(C,c,(function(){var t,n=e.facade,i=e.value;if(X(e)&&(t=I((function(){l?B.emit("unhandledRejection",i,n):Q(H,n,i)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},K=function(e){u(C,c,(function(){var t=e.facade;l?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},Z=function(e,t,n){return function(i){e(t,i,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,J(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var i=G(t);i?w((function(){var n={done:!1};try{u(i,t,Z(ee,n,e),Z($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){$({done:!1},t,e)}}};if(x&&(P=(j=function(e){b(this,P),g(e),u(i,this);var t=L(this);try{e(Z(ee,t),Z($,t))}catch(e){$(t,e)}}).prototype,(i=function(e){_(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=d(P,"then",(function(e,t){var n=L(this),i=z(y(this,j));return n.parent=!0,i.ok=!m(e)||e,i.fail=m(t)&&t,i.domain=l?B.domain:void 0,0==n.state?n.reactions.add(i):w((function(){Y(i,n)})),i.promise})),r=function(){var e=new i,t=L(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z($,t)},A.f=z=function(e){return e===j||void 0===e?new r(e):W(e)},!s&&m(M)&&N!==Object.prototype)){a=N.then,O||d(N,"then",(function(e,t){var n=this;return new j((function(e,t){u(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}f&&f(N,P)}o({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:j}),h(j,k,!1,!0),p(k)},8674:(e,t,n)=>{n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),a=n(9662),o=n(8523),s=n(2534),l=n(408);i({target:"Promise",stat:!0,forced:n(612)},{race:function(e){var t=this,n=o.f(t),i=n.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){r(o,t,e).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},683:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),a=n(8523);i({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return r(t.reject,void 0,e),t.promise}})},6294:(e,t,n)=>{"use strict";var i=n(2109),r=n(5005),a=n(1913),o=n(2492),s=n(3702).CONSTRUCTOR,l=n(9478),c=r("Promise"),u=a&&!s;i({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},2419:(e,t,n)=>{var i=n(2109),r=n(5005),a=n(2104),o=n(7065),s=n(9483),l=n(9670),c=n(111),u=n(30),d=n(7293),f=r("Reflect","construct"),h=Object.prototype,p=[].push,g=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),m=!d((function(){f((function(){}))})),v=g||m;i({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!g)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return a(p,i,t),new(a(o,e,i))}var r=n.prototype,d=u(c(r)?r:h),v=a(e,d,t);return c(v)?v:d}})},4819:(e,t,n)=>{var i=n(2109),r=n(6916),a=n(111),o=n(9670),s=n(5032),l=n(1236),c=n(9518);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,u,d=arguments.length<3?t:arguments[2];return o(t)===d?t[n]:(i=l.f(t,n))?s(i)?i.value:void 0===i.get?void 0:r(i.get,d):a(u=c(t))?e(u,n,d):void 0}})},4603:(e,t,n)=>{var i=n(9781),r=n(7854),a=n(1702),o=n(4705),s=n(9587),l=n(8880),c=n(8006).f,u=n(7976),d=n(7850),f=n(1340),h=n(4706),p=n(2999),g=n(2626),m=n(8052),v=n(7293),b=n(2597),y=n(9909).enforce,C=n(6340),w=n(5112),S=n(9441),I=n(7168),T=w("match"),E=r.RegExp,M=E.prototype,R=r.SyntaxError,A=a(M.exec),k=a("".charAt),x=a("".replace),D=a("".indexOf),O=a("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_=/a/g,N=/a/g,j=new E(_)!==_,P=p.MISSED_STICKY,U=p.UNSUPPORTED_Y;if(o("RegExp",i&&(!j||P||S||I||v((function(){return N[T]=!1,E(_)!=_||E(N)==N||"/a/i"!=E(_,"i")}))))){for(var F=function(e,t){var n,i,r,a,o,c,p=u(M,this),g=d(e),m=void 0===t,v=[],C=e;if(!p&&g&&m&&e.constructor===F)return e;if((g||u(M,e))&&(e=e.source,m&&(t=h(C))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),C=e,S&&"dotAll"in _&&(i=!!t&&D(t,"s")>-1)&&(t=x(t,/s/g,"")),n=t,P&&"sticky"in _&&(r=!!t&&D(t,"y")>-1)&&U&&(t=x(t,/y/g,"")),I&&(a=function(e){for(var t,n=e.length,i=0,r="",a=[],o={},s=!1,l=!1,c=0,u="";i<=n;i++){if("\\"===(t=k(e,i)))t+=k(e,++i);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:A(L,O(e,i+1))&&(i+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===u||b(o,u))throw new R("Invalid capture group name");o[u]=!0,a[a.length]=[u,c],l=!1,u="";continue}l?u+=t:r+=t}return[r,a]}(e),e=a[0],v=a[1]),o=s(E(e,t),p?this:M,F),(i||r||v.length)&&(c=y(o),i&&(c.dotAll=!0,c.raw=F(function(e){for(var t,n=e.length,i=0,r="",a=!1;i<=n;i++)"\\"!==(t=k(e,i))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+k(e,++i);return r}(e),n)),r&&(c.sticky=!0),v.length&&(c.groups=v)),e!==C)try{l(o,"source",""===C?"(?:)":C)}catch(e){}return o},B=c(E),z=0;B.length>z;)g(F,E,B[z++]);M.constructor=F,F.prototype=M,m(r,"RegExp",F,{constructor:!0})}C("RegExp")},4916:(e,t,n)=>{"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:(e,t,n)=>{"use strict";var i=n(6530).PROPER,r=n(8052),a=n(9670),o=n(1340),s=n(7293),l=n(4706),c="toString",u=RegExp.prototype.toString,d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=i&&u.name!=c;(d||f)&&r(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(l(e))}),{unsafe:!0})},7227:(e,t,n)=>{"use strict";n(7710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},189:(e,t,n)=>{n(7227)},2023:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),a=n(3929),o=n(4488),s=n(1340),l=n(4964),c=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var i=n(8710).charAt,r=n(1340),a=n(9909),o=n(654),s="String Iterator",l=a.set,c=a.getterFor(s);o(String,"String",(function(e){l(this,{type:s,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},4723:(e,t,n)=>{"use strict";var i=n(6916),r=n(7007),a=n(9670),o=n(7466),s=n(1340),l=n(4488),c=n(8173),u=n(1530),d=n(7651);r("match",(function(e,t,n){return[function(t){var n=l(this),r=null==t?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](s(n))},function(e){var i=a(this),r=s(e),l=n(t,i,r);if(l.done)return l.value;if(!i.global)return d(i,r);var c=i.unicode;i.lastIndex=0;for(var f,h=[],p=0;null!==(f=d(i,r));){var g=s(f[0]);h[p]=g,""===g&&(i.lastIndex=u(r,o(i.lastIndex),c)),p++}return 0===p?null:h}]}))},5306:(e,t,n)=>{"use strict";var i=n(2104),r=n(6916),a=n(1702),o=n(7007),s=n(7293),l=n(9670),c=n(614),u=n(9303),d=n(7466),f=n(1340),h=n(4488),p=n(1530),g=n(8173),m=n(647),v=n(7651),b=n(5112)("replace"),y=Math.max,C=Math.min,w=a([].concat),S=a([].push),I=a("".indexOf),T=a("".slice),E="$0"==="a".replace(/./,"$0"),M=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,n){var a=M?"$":"$0";return[function(e,n){var i=h(this),a=null==e?void 0:g(e,b);return a?r(a,e,i,n):r(t,f(i),e,n)},function(e,r){var o=l(this),s=f(e);if("string"==typeof r&&-1===I(r,a)&&-1===I(r,"$<")){var h=n(t,o,s,r);if(h.done)return h.value}var g=c(r);g||(r=f(r));var b=o.global;if(b){var E=o.unicode;o.lastIndex=0}for(var M=[];;){var R=v(o,s);if(null===R)break;if(S(M,R),!b)break;""===f(R[0])&&(o.lastIndex=p(s,d(o.lastIndex),E))}for(var A,k="",x=0,D=0;D<M.length;D++){for(var O=f((R=M[D])[0]),L=y(C(u(R.index),s.length),0),_=[],N=1;N<R.length;N++)S(_,void 0===(A=R[N])?A:String(A));var j=R.groups;if(g){var P=w([O],_,L,s);void 0!==j&&S(P,j);var U=f(i(r,void 0,P))}else U=m(O,s,L,_,j,r);L>=x&&(k+=T(s,x,L)+U,x=L+O.length)}return k+T(s,x)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!E||M)},4765:(e,t,n)=>{"use strict";var i=n(6916),r=n(7007),a=n(9670),o=n(4488),s=n(1150),l=n(1340),c=n(8173),u=n(7651);r("search",(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](l(n))},function(e){var i=a(this),r=l(e),o=n(t,i,r);if(o.done)return o.value;var c=i.lastIndex;s(c,0)||(i.lastIndex=0);var d=u(i,r);return s(i.lastIndex,c)||(i.lastIndex=c),null===d?-1:d.index}]}))},3123:(e,t,n)=>{"use strict";var i=n(2104),r=n(6916),a=n(1702),o=n(7007),s=n(7850),l=n(9670),c=n(4488),u=n(6707),d=n(1530),f=n(7466),h=n(1340),p=n(8173),g=n(1589),m=n(7651),v=n(2261),b=n(2999),y=n(7293),C=b.UNSUPPORTED_Y,w=4294967295,S=Math.min,I=[].push,T=a(/./.exec),E=a(I),M=a("".slice);o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=h(c(this)),o=void 0===n?w:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!s(e))return r(t,a,e,o);for(var l,u,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,b=new RegExp(e.source,p+"g");(l=r(v,b,a))&&!((u=b.lastIndex)>m&&(E(f,M(a,m,l.index)),l.length>1&&l.index<a.length&&i(I,f,g(l,1)),d=l[0].length,m=u,f.length>=o));)b.lastIndex===l.index&&b.lastIndex++;return m===a.length?!d&&T(b,"")||E(f,""):E(f,M(a,m)),f.length>o?g(f,0,o):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t,[function(t,n){var i=c(this),o=null==t?void 0:p(t,e);return o?r(o,t,i,n):r(a,h(i),t,n)},function(e,i){var r=l(this),o=h(e),s=n(a,r,o,i,a!==t);if(s.done)return s.value;var c=u(r,RegExp),p=r.unicode,g=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(C?"g":"y"),v=new c(C?"^(?:"+r.source+")":r,g),b=void 0===i?w:i>>>0;if(0===b)return[];if(0===o.length)return null===m(v,o)?[o]:[];for(var y=0,I=0,T=[];I<o.length;){v.lastIndex=C?0:I;var R,A=m(v,C?M(o,I):o);if(null===A||(R=S(f(v.lastIndex+(C?I:0)),o.length))===y)I=d(o,I,p);else{if(E(T,M(o,y,I)),T.length===b)return T;for(var k=1;k<=A.length-1;k++)if(E(T,A[k]),T.length===b)return T;I=y=R}}return E(T,M(o,y)),T}]}),!!y((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),C)},6755:(e,t,n)=>{"use strict";var i,r=n(2109),a=n(1702),o=n(1236).f,s=n(7466),l=n(1340),c=n(3929),u=n(4488),d=n(4964),f=n(1913),h=a("".startsWith),p=a("".slice),g=Math.min,m=d("startsWith");r({target:"String",proto:!0,forced:!(!f&&!m&&(i=o(String.prototype,"startsWith"),i&&!i.writable)||m)},{startsWith:function(e){var t=l(u(this));c(e);var n=s(g(arguments.length>1?arguments[1]:void 0,t.length)),i=l(e);return h?h(t,i,n):p(t,n,n+i.length)===i}})},2443:(e,t,n)=>{n(7235)("asyncIterator")},4032:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),a=n(6916),o=n(1702),s=n(1913),l=n(9781),c=n(133),u=n(7293),d=n(2597),f=n(7976),h=n(9670),p=n(5656),g=n(4948),m=n(1340),v=n(9114),b=n(30),y=n(1956),C=n(8006),w=n(1156),S=n(5181),I=n(1236),T=n(3070),E=n(6048),M=n(5296),R=n(8052),A=n(2309),k=n(6200),x=n(3501),D=n(9711),O=n(5112),L=n(6061),_=n(7235),N=n(6532),j=n(8003),P=n(9909),U=n(2092).forEach,F=k("hidden"),B="Symbol",z=P.set,W=P.getterFor(B),V=Object.prototype,H=r.Symbol,G=H&&H.prototype,Y=r.TypeError,J=r.QObject,Q=I.f,q=T.f,X=w.f,K=M.f,Z=o([].push),$=A("symbols"),ee=A("op-symbols"),te=A("wks"),ne=!J||!J.prototype||!J.prototype.findChild,ie=l&&u((function(){return 7!=b(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=Q(V,t);i&&delete V[t],q(e,t,n),i&&e!==V&&q(V,t,i)}:q,re=function(e,t){var n=$[e]=b(G);return z(n,{type:B,tag:e,description:t}),l||(n.description=t),n},ae=function(e,t,n){e===V&&ae(ee,t,n),h(e);var i=g(t);return h(n),d($,i)?(n.enumerable?(d(e,F)&&e[F][i]&&(e[F][i]=!1),n=b(n,{enumerable:v(0,!1)})):(d(e,F)||q(e,F,v(1,{})),e[F][i]=!0),ie(e,i,n)):q(e,i,n)},oe=function(e,t){h(e);var n=p(t),i=y(n).concat(ue(n));return U(i,(function(t){l&&!a(se,n,t)||ae(e,t,n[t])})),e},se=function(e){var t=g(e),n=a(K,this,t);return!(this===V&&d($,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d($,t)||d(this,F)&&this[F][t])||n)},le=function(e,t){var n=p(e),i=g(t);if(n!==V||!d($,i)||d(ee,i)){var r=Q(n,i);return!r||!d($,i)||d(n,F)&&n[F][i]||(r.enumerable=!0),r}},ce=function(e){var t=X(p(e)),n=[];return U(t,(function(e){d($,e)||d(x,e)||Z(n,e)})),n},ue=function(e){var t=e===V,n=X(t?ee:p(e)),i=[];return U(n,(function(e){!d($,e)||t&&!d(V,e)||Z(i,$[e])})),i};c||(R(G=(H=function(){if(f(G,this))throw Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=D(e),n=function(e){this===V&&a(n,ee,e),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),ie(this,t,v(1,e))};return l&&ne&&ie(V,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return W(this).tag})),R(H,"withoutSetter",(function(e){return re(D(e),e)})),M.f=se,T.f=ae,E.f=oe,I.f=le,C.f=w.f=ce,S.f=ue,L.f=function(e){return re(O(e),e)},l&&(q(G,"description",{configurable:!0,get:function(){return W(this).description}}),s||R(V,"propertyIsEnumerable",se,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),U(y(te),(function(e){_(e)})),i({target:B,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?b(e):oe(b(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),N(),j(H,B),x[F]=!0},1817:(e,t,n)=>{"use strict";var i=n(2109),r=n(9781),a=n(7854),o=n(1702),s=n(2597),l=n(614),c=n(7976),u=n(1340),d=n(3070).f,f=n(9920),h=a.Symbol,p=h&&h.prototype;if(r&&l(h)&&(!("description"in p)||void 0!==h().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};f(m,h),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(h("test")),b=o(p.toString),y=o(p.valueOf),C=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),S=o("".slice);d(p,"description",{configurable:!0,get:function(){var e=y(this),t=b(e);if(s(g,e))return"";var n=v?S(t,7,-1):w(t,C,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:m})}},763:(e,t,n)=>{var i=n(2109),r=n(5005),a=n(2597),o=n(1340),s=n(2309),l=n(735),c=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=r("Symbol")(t);return c[t]=n,u[n]=t,n}})},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(e,t,n)=>{var i=n(2109),r=n(2597),a=n(2190),o=n(6330),s=n(2309),l=n(735),c=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(r(c,e))return c[e]}})},3680:(e,t,n)=>{var i=n(5005),r=n(7235),a=n(8003);r("toStringTag"),a(i("Symbol"),"Symbol")},2990:(e,t,n)=>{"use strict";var i=n(1702),r=n(260),a=i(n(1048)),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).every,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:(e,t,n)=>{"use strict";var i=n(260),r=n(1285),a=n(4599),o=n(648),s=n(6916),l=n(1702),c=n(7293),u=i.aTypedArray,d=i.exportTypedArrayMethod,f=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var n="Big"===f(o(this),0,3)?a(e):+e;return s(r,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},5035:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).filter,a=n(3074),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",(function(e){var t=r(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).findIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).find,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).forEach,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:(e,t,n)=>{"use strict";var i=n(260),r=n(1318).includes,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:(e,t,n)=>{"use strict";var i=n(260),r=n(1318).indexOf,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:(e,t,n)=>{"use strict";var i=n(7854),r=n(7293),a=n(1702),o=n(260),s=n(6992),l=n(5112)("iterator"),c=i.Uint8Array,u=a(s.values),d=a(s.keys),f=a(s.entries),h=o.aTypedArray,p=o.exportTypedArrayMethod,g=c&&c.prototype,m=!r((function(){g[l].call([1])})),v=!!g&&g.values&&g[l]===g.values&&"values"===g.values.name,b=function(){return u(h(this))};p("entries",(function(){return f(h(this))}),m),p("keys",(function(){return d(h(this))}),m),p("values",b,m||!v,{name:"values"}),p(l,b,m||!v,{name:"values"})},8867:(e,t,n)=>{"use strict";var i=n(260),r=n(1702),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=r([].join);o("join",(function(e){return s(a(this),e)}))},7789:(e,t,n)=>{"use strict";var i=n(260),r=n(2104),a=n(6583),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return r(a,o(this),t>1?[e,arguments[1]]:[e])}))},3739:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).map,a=n(6304),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("map",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},4483:(e,t,n)=>{"use strict";var i=n(260),r=n(3671).right,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return r(a(this),e,t,t>1?arguments[1]:void 0)}))},9368:(e,t,n)=>{"use strict";var i=n(260),r=n(3671).left,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return r(a(this),e,t,t>1?arguments[1]:void 0)}))},2056:(e,t,n)=>{"use strict";var i=n(260),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=r(t).length,i=o(n/2),a=0;a<i;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},3462:(e,t,n)=>{"use strict";var i=n(7854),r=n(6916),a=n(260),o=n(6244),s=n(4590),l=n(7908),c=n(7293),u=i.RangeError,d=i.Int8Array,f=d&&d.prototype,h=f&&f.set,p=a.aTypedArray,g=a.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return r(h,e,{length:1,0:3},1),3!==e[1]})),v=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(m)return r(h,this,n,t);var i=this.length,a=o(n),c=0;if(a+t>i)throw u("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!m||v)},678:(e,t,n)=>{"use strict";var i=n(260),r=n(6304),a=n(7293),o=n(206),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),i=r(this),a=0,l=n.length,c=new i(l);l>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},7462:(e,t,n)=>{"use strict";var i=n(260),r=n(2092).some,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:(e,t,n)=>{"use strict";var i=n(7854),r=n(1702),a=n(7293),o=n(9662),s=n(4362),l=n(260),c=n(8886),u=n(256),d=n(7392),f=n(8008),h=l.aTypedArray,p=l.exportTypedArrayMethod,g=i.Uint16Array,m=g&&r(g.prototype.sort),v=!(!m||a((function(){m(new g(2),null)}))&&a((function(){m(new g(2),{})}))),b=!!m&&!a((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(f)return f<602;var e,t,n=new g(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));p("sort",(function(e){return void 0!==e&&o(e),b?m(this,e):s(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||v)},5021:(e,t,n)=>{"use strict";var i=n(260),r=n(7466),a=n(1400),o=n(6304),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),i=n.length,l=a(e,i);return new(o(n))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?i:a(t,i))-l))}))},2974:(e,t,n)=>{"use strict";var i=n(7854),r=n(2104),a=n(260),o=n(7293),s=n(206),l=i.Int8Array,c=a.aTypedArray,u=a.exportTypedArrayMethod,d=[].toLocaleString,f=!!l&&o((function(){d.call(new l(1))}));u("toLocaleString",(function(){return r(d,f?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!o((function(){l.prototype.toLocaleString.call([1,2])})))},5016:(e,t,n)=>{"use strict";var i=n(260).exportTypedArrayMethod,r=n(7293),a=n(7854),o=n(1702),s=a.Uint8Array,l=s&&s.prototype||{},c=[].toString,u=o([].join);r((function(){c.call({})}))&&(c=function(){return u(this)});var d=l.toString!=c;i("toString",c,d)},2472:(e,t,n)=>{n(9843)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},9743:(e,t,n)=>{n(9843)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}),!0)},1202:(e,t,n)=>{"use strict";var i,r=n(7854),a=n(1702),o=n(9190),s=n(2423),l=n(7710),c=n(9320),u=n(111),d=n(2050),f=n(9909).enforce,h=n(8536),p=!r.ActiveXObject&&"ActiveXObject"in r,g=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=l("WeakMap",g,c);if(h&&p){i=c.getConstructor(g,"WeakMap",!0),s.enable();var v=m.prototype,b=a(v.delete),y=a(v.has),C=a(v.get),w=a(v.set);o(v,{delete:function(e){if(u(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new i),b(this,e)||t.frozen.delete(e)}return b(this,e)},has:function(e){if(u(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new i),y(this,e)||t.frozen.has(e)}return y(this,e)},get:function(e){if(u(e)&&!d(e)){var t=f(this);return t.frozen||(t.frozen=new i),y(this,e)?C(this,e):t.frozen.get(e)}return C(this,e)},set:function(e,t){if(u(e)&&!d(e)){var n=f(this);n.frozen||(n.frozen=new i),y(this,e)?w(this,e,t):n.frozen.set(e,t)}else w(this,e,t);return this}})}},4129:(e,t,n)=>{n(1202)},4747:(e,t,n)=>{var i=n(7854),r=n(8324),a=n(8509),o=n(8533),s=n(8880),l=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in r)r[c]&&l(i[c]&&i[c].prototype);l(a)},3948:(e,t,n)=>{var i=n(7854),r=n(8324),a=n(8509),o=n(6992),s=n(8880),l=n(5112),c=l("iterator"),u=l("toStringTag"),d=o.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(t){e[c]=d}if(e[u]||s(e,u,t),r[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(t){e[n]=o[n]}}};for(var h in r)f(i[h]&&i[h].prototype,h);f(a,"DOMTokenList")},6815:(e,t,n)=>{var i=n(2109),r=n(7854),a=n(7152).setInterval;i({global:!0,bind:!0,forced:r.setInterval!==a},{setInterval:a})},8417:(e,t,n)=>{var i=n(2109),r=n(7854),a=n(7152).setTimeout;i({global:!0,bind:!0,forced:r.setTimeout!==a},{setTimeout:a})},2564:(e,t,n)=>{n(6815),n(8417)},5556:(e,t,n)=>{"use strict";n(6992);var i=n(2109),r=n(7854),a=n(6916),o=n(1702),s=n(9781),l=n(590),c=n(8052),u=n(9190),d=n(8003),f=n(4994),h=n(9909),p=n(5787),g=n(614),m=n(2597),v=n(9974),b=n(648),y=n(9670),C=n(111),w=n(1340),S=n(30),I=n(9114),T=n(8554),E=n(1246),M=n(8053),R=n(5112),A=n(4362),k=R("iterator"),x="URLSearchParams",D="URLSearchParamsIterator",O=h.set,L=h.getterFor(x),_=h.getterFor(D),N=Object.getOwnPropertyDescriptor,j=function(e){if(!s)return r[e];var t=N(r,e);return t&&t.value},P=j("fetch"),U=j("Request"),F=j("Headers"),B=U&&U.prototype,z=F&&F.prototype,W=r.RegExp,V=r.TypeError,H=r.decodeURIComponent,G=r.encodeURIComponent,Y=o("".charAt),J=o([].join),Q=o([].push),q=o("".replace),X=o([].shift),K=o([].splice),Z=o("".split),$=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=W("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return H(e)}catch(t){return e}},re=function(e){var t=q(e,ee," "),n=4;try{return H(t)}catch(e){for(;n;)t=q(t,ne(n--),ie);return t}},ae=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return oe[e]},le=function(e){return q(G(e),ae,se)},ce=f((function(e,t){O(this,{type:D,iterator:T(L(e).entries),kind:t})}),"Iterator",(function(){var e=_(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(C(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?$(e,1):e:w(e)))};ue.prototype={type:x,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,o,s,l,c=E(e);if(c)for(n=(t=T(e,c)).next;!(i=a(n,t)).done;){if(o=(r=T(y(i.value))).next,(s=a(o,r)).done||(l=a(o,r)).done||!a(o,r).done)throw V("Expected sequence with length 2");Q(this.entries,{key:w(s.value),value:w(l.value)})}else for(var u in e)m(e,u)&&Q(this.entries,{key:u,value:w(e[u])})},parseQuery:function(e){if(e)for(var t,n,i=Z(e,"&"),r=0;r<i.length;)(t=i[r++]).length&&(n=Z(t,"="),Q(this.entries,{key:re(X(n)),value:re(J(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],Q(n,le(e.key)+"="+le(e.value));return J(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){p(this,fe),O(this,new ue(arguments.length>0?arguments[0]:void 0))},fe=de.prototype;if(u(fe,{append:function(e,t){M(arguments.length,2);var n=L(this);Q(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){M(arguments.length,1);for(var t=L(this),n=t.entries,i=w(e),r=0;r<n.length;)n[r].key===i?K(n,r,1):r++;t.updateURL()},get:function(e){M(arguments.length,1);for(var t=L(this).entries,n=w(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){M(arguments.length,1);for(var t=L(this).entries,n=w(e),i=[],r=0;r<t.length;r++)t[r].key===n&&Q(i,t[r].value);return i},has:function(e){M(arguments.length,1);for(var t=L(this).entries,n=w(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){M(arguments.length,1);for(var n,i=L(this),r=i.entries,a=!1,o=w(e),s=w(t),l=0;l<r.length;l++)(n=r[l]).key===o&&(a?K(r,l--,1):(a=!0,n.value=s));a||Q(r,{key:o,value:s}),i.updateURL()},sort:function(){var e=L(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=L(this).entries,i=v(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(fe,k,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),d(de,x),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:de}),!l&&g(F)){var he=o(z.has),pe=o(z.set),ge=function(e){if(C(e)){var t,n=e.body;if(b(n)===x)return t=e.headers?new F(e.headers):new F,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:I(0,w(n)),headers:I(0,t)})}return e};if(g(P)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return P(e,arguments.length>1?ge(arguments[1]):{})}}),g(U)){var me=function(e){return p(this,B),new U(e,arguments.length>1?ge(arguments[1]):{})};B.constructor=me,me.prototype=B,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:de,getState:L}},1637:(e,t,n)=>{n(5556)},8789:(e,t,n)=>{"use strict";n(8783);var i,r=n(2109),a=n(9781),o=n(590),s=n(7854),l=n(9974),c=n(1702),u=n(8052),d=n(7045),f=n(5787),h=n(2597),p=n(1574),g=n(8457),m=n(1589),v=n(8710).codeAt,b=n(3197),y=n(1340),C=n(8003),w=n(8053),S=n(5556),I=n(9909),T=I.set,E=I.getterFor("URL"),M=S.URLSearchParams,R=S.getState,A=s.URL,k=s.TypeError,x=s.parseInt,D=Math.floor,O=Math.pow,L=c("".charAt),_=c(/./.exec),N=c([].join),j=c(1..toString),P=c([].pop),U=c([].push),F=c("".replace),B=c([].shift),z=c("".split),W=c("".slice),V=c("".toLowerCase),H=c([].unshift),G="Invalid scheme",Y="Invalid host",J="Invalid port",Q=/[a-z]/i,q=/[\d+-.a-z]/i,X=/\d/,K=/^0x/i,Z=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,ae=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=D(e/256);return N(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=j(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},oe={},se=p({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},se,{"#":1,"?":1,"{":1,"}":1}),ce=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=v(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2==e.length&&_(Q,L(e,0))&&(":"==(n=L(e,1))||!t&&"|"==n)},he=function(e){var t;return e.length>1&&fe(W(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===V(e)},ge={},me={},ve={},be={},ye={},Ce={},we={},Se={},Ie={},Te={},Ee={},Me={},Re={},Ae={},ke={},xe={},De={},Oe={},Le={},_e={},Ne={},je=function(e,t,n){var i,r,a,o=y(e);if(t){if(r=this.parse(o))throw k(r);this.searchParams=null}else{if(void 0!==n&&(i=new je(n,!0)),r=this.parse(o,null,i))throw k(r);(a=R(new M)).bindURL(this),this.searchParams=a}};je.prototype={type:"URL",parse:function(e,t,n){var r,a,o,s,l,c=this,u=t||ge,d=0,f="",p=!1,v=!1,b=!1;for(e=y(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=F(e,ie,"")),e=F(e,re,""),r=g(e);d<=r.length;){switch(a=r[d],u){case ge:if(!a||!_(Q,a)){if(t)return G;u=ve;continue}f+=V(a),u=me;break;case me:if(a&&(_(q,a)||"+"==a||"-"==a||"."==a))f+=V(a);else{if(":"!=a){if(t)return G;f="",u=ve,d=0;continue}if(t&&(c.isSpecial()!=h(de,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=Ae:c.isSpecial()&&n&&n.scheme==c.scheme?u=be:c.isSpecial()?u=Se:"/"==r[d+1]?(u=ye,d++):(c.cannotBeABaseURL=!0,U(c.path,""),u=Le)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=a)return G;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Ne;break}u="file"==n.scheme?Ae:Ce;continue;case be:if("/"!=a||"/"!=r[d+1]){u=Ce;continue}u=Ie,d++;break;case ye:if("/"==a){u=Te;break}u=Oe;continue;case Ce:if(c.scheme=n.scheme,a==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())u=we;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",u=_e;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,u=Oe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",u=Ne}break;case we:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Oe;continue}u=Te}else u=Ie;break;case Se:if(u=Ie,"/"!=a||"/"!=L(f,d+1))continue;d++;break;case Ie:if("/"!=a&&"\\"!=a){u=Te;continue}break;case Te:if("@"==a){p&&(f="%40"+f),p=!0,o=g(f);for(var C=0;C<o.length;C++){var w=o[C];if(":"!=w||b){var S=ue(w,ce);b?c.password+=S:c.username+=S}else b=!0}f=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(p&&""==f)return"Invalid authority";d-=g(f).length+1,f="",u=Ee}else f+=a;break;case Ee:case Me:if(t&&"file"==c.scheme){u=xe;continue}if(":"!=a||v){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==f)return Y;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",u=De,t)return;continue}"["==a?v=!0:"]"==a&&(v=!1),f+=a}else{if(""==f)return Y;if(s=c.parseHost(f))return s;if(f="",u=Re,t==Me)return}break;case Re:if(!_(X,a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=f){var I=x(f,10);if(I>65535)return J;c.port=c.isSpecial()&&I===de[c.scheme]?null:I,f=""}if(t)return;u=De;continue}return J}f+=a;break;case Ae:if(c.scheme="file","/"==a||"\\"==a)u=ke;else{if(!n||"file"!=n.scheme){u=Oe;continue}if(a==i)c.host=n.host,c.path=m(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=m(n.path),c.query="",u=_e;else{if("#"!=a){he(N(m(r,d),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),u=Oe;continue}c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",u=Ne}}break;case ke:if("/"==a||"\\"==a){u=xe;break}n&&"file"==n.scheme&&!he(N(m(r,d),""))&&(fe(n.path[0],!0)?U(c.path,n.path[0]):c.host=n.host),u=Oe;continue;case xe:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&fe(f))u=Oe;else if(""==f){if(c.host="",t)return;u=De}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",u=De}continue}f+=a;break;case De:if(c.isSpecial()){if(u=Oe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=i&&(u=Oe,"/"!=a))continue}else c.fragment="",u=Ne;else c.query="",u=_e;break;case Oe:if(a==i||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(l=V(l=f))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||U(c.path,"")):pe(f)?"/"==a||"\\"==a&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&fe(f)&&(c.host&&(c.host=""),f=L(f,0)+":"),U(c.path,f)),f="","file"==c.scheme&&(a==i||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)B(c.path);"?"==a?(c.query="",u=_e):"#"==a&&(c.fragment="",u=Ne)}else f+=ue(a,le);break;case Le:"?"==a?(c.query="",u=_e):"#"==a?(c.fragment="",u=Ne):a!=i&&(c.path[0]+=ue(a,oe));break;case _e:t||"#"!=a?a!=i&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":ue(a,oe)):(c.fragment="",u=Ne);break;case Ne:a!=i&&(c.fragment+=ue(a,se))}d++}},parseHost:function(e){var t,n,i;if("["==L(e,0)){if("]"!=L(e,e.length-1))return Y;if(t=function(e){var t,n,i,r,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,f=function(){return L(e,d)};if(":"==f()){if(":"!=L(e,1))return;d+=2,u=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&_(ee,f());)t=16*t+x(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(i=0;f();){if(r=null,i>0){if(!("."==f()&&i<4))return;d++}if(!_(X,f()))return;for(;_(X,f());){if(a=x(f(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;d++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l}(W(e,1,-1)),!t)return Y;this.host=t}else if(this.isSpecial()){if(e=b(e),_(te,e))return Y;if(t=function(e){var t,n,i,r,a,o,s,l=z(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(a=10,r.length>1&&"0"==L(r,0)&&(a=_(K,r)?16:8,r=W(r,8==a?1:2)),""===r)o=0;else{if(!_(10==a?$:8==a?Z:ee,r))return e;o=x(r,a)}U(n,o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=O(256,5-t))return null}else if(o>255)return null;for(s=P(n),i=0;i<n.length;i++)s+=n[i]*O(256,3-i);return s}(e),null===t)return Y;this.host=t}else{if(_(ne,e))return Y;for(t="",n=g(e),i=0;i<n.length;i++)t+=ue(n[i],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=ae(r),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+N(o,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw k(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Pe(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Me)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=y(e))?this.port=null:this.parse(e,Re))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,De))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=y(e))?this.query=null:("?"==L(e,0)&&(e=W(e,1)),this.query="",this.parse(e,_e)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=y(e))?("#"==L(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Pe=function(e){var t=f(this,Ue),n=w(arguments.length,1)>1?arguments[1]:void 0,i=T(t,new je(e,!1,n));a||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Ue=Pe.prototype,Fe=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Ue,"href",Fe("serialize","setHref")),d(Ue,"origin",Fe("getOrigin")),d(Ue,"protocol",Fe("getProtocol","setProtocol")),d(Ue,"username",Fe("getUsername","setUsername")),d(Ue,"password",Fe("getPassword","setPassword")),d(Ue,"host",Fe("getHost","setHost")),d(Ue,"hostname",Fe("getHostname","setHostname")),d(Ue,"port",Fe("getPort","setPort")),d(Ue,"pathname",Fe("getPathname","setPathname")),d(Ue,"search",Fe("getSearch","setSearch")),d(Ue,"searchParams",Fe("getSearchParams")),d(Ue,"hash",Fe("getHash","setHash"))),u(Ue,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),A){var Be=A.createObjectURL,ze=A.revokeObjectURL;Be&&u(Pe,"createObjectURL",l(Be,A)),ze&&u(Pe,"revokeObjectURL",l(ze,A))}C(Pe,"URL"),r({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Pe})},285:(e,t,n)=>{n(8789)},3753:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},7987:function(e,t,n){var i,r;i=function(e){"use strict";var t,n,i={template:"[%t] %l:",levelFormatter:function(e){return e.toUpperCase()},nameFormatter:function(e){return e||"root"},timestampFormatter:function(e){return e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},r={},a={reg:function(e){if(!e||!e.getLogger)throw new TypeError("Argument is not a root logger");t=e},apply:function(e,n){if(!e||!e.setLevel)throw new TypeError("Argument is not a logger");var a=e.methodFactory,o=e.name||"",s=r[o]||r[""]||i;return r[o]||(e.methodFactory=function(e,t,n){var i=a(e,t,n),s=r[n]||r[""],l=-1!==s.template.indexOf("%t"),c=-1!==s.template.indexOf("%l"),u=-1!==s.template.indexOf("%n");return function(){for(var t="",a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];if(o||!r[n]){var h=s.timestampFormatter(new Date),p=s.levelFormatter(e),g=s.nameFormatter(n);s.format?t+=s.format(p,g,h):(t+=s.template,l&&(t=t.replace(/%t/,h)),c&&(t=t.replace(/%l/,p)),u&&(t=t.replace(/%n/,g))),d.length&&"string"==typeof d[0]?d[0]=t+" "+d[0]:d.unshift(t)}i.apply(void 0,d)}}),(n=n||{}).template&&(n.format=void 0),r[o]=function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e}({},s,n),e.setLevel(e.getLevel()),t||e.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),e}};return e&&(n=e.prefix,a.noConflict=function(){return e.prefix===a&&(e.prefix=n),a}),a},void 0===(r=i.call(t,n,t,e))||(e.exports=r)},2043:function(e,t,n){var i,r;!function(a,o){"use strict";i=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?a:void 0!==console[i]?r(console,i):void 0!==console.log?r(console,"log"):e)}function s(t,n){for(var r=0;r<i.length;r++){var a=i[r];this[a]=r<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function l(e,n,i){return function(){typeof console!==t&&(s.call(this,n,i),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||l.apply(this,arguments)}function u(e,n,r){var a,o=this;n=null==n?"WARN":n;var l="loglevel";function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(l)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||c,o.getLevel=function(){return a},o.setLevel=function(n,r){if("string"==typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,u()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=u();null==d&&(d=n),o.setLevel(d,!1)}var d=new u,f={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new u(e,d.getLevel(),d.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=h),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(r=i.call(t,n,t,e))||(e.exports=r)}()},7618:e=>{"use strict";function t(e,t){if(!i)return!1;const r=e.buffer;let a=d.get(r);if(null==a){if((a=n.validate(r))&&t)try{new n.Instance(new n.Module(r)).exports[0]()}catch(e){a=!1}d.set(r,a)}return a}const n=globalThis.WebAssembly,i="object"==typeof n,r=e=>void 0!==e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint8Array.of(0,97,115,109,1,0,0,0,...t)},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint32Array.of(1836278016,1,...t)},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(1610679297,33751040,...t,40239360,259)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(1,4,1,96,0,0,3,2,1,0,...t,11,0,10,4,110,97,109,101,2,3,1,0,0)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint16Array.of(24832,28019,1,0,1025,24577,0,515,1,...t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(...t,2842,4096,28164,28001,357,260,256,560,259,0)},d=new WeakMap,f=o(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),h=a(5,3,1,4,1,0,8,4,110,97,109,101,2,1,0),p=c(773,1,2561,269,11,65,65,65,3068,2816,2560,28164,28001,613,259,0),g=o(1610679297,33751040,134873089,100664833,185276736),m=a(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),v=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),b=u(3082,2561,17152,0,0,252),y=u(2058,1537,16640,49152),C=s(101318657,301990913,268438272,1835101700,17039717),w=l(5,4,1,3,1,1,10,7,1,5,0,254,3,0),S=s(84344833,6357249,17369600,4259847,186257917,1845758464),I=l(10,7,1,5,0,208,112,26);e.exports={support:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return i&&t(Uint32Array.of(1836278016,e))},get supportStreaming(){return i&&r(n.instantiateStreaming)},feature:{get bigInt(){return t(f,!0)},get bulk(){return t(p)},get exceptions(){return t(g)},get memory64(){return t(h)},get mutableGlobal(){return t(m)},get multiValue(){return t(v)},get saturateConversions(){return t(b)},get signExtensions(){return t(y)},get tailCall(){return t(C)},get threads(){return t(w)},get simd(){return t(S)},get references(){return t(I)},get typeReflection(){return i&&r(n.Memory.type)},get funcReferences(){return i&&r(n.Function)}}}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}return s.amdO={},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(1256)})(),e.exports=r()},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],l=a[1],c=new r(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],o=16383,s=0,c=i-r;s<c;s+=o)a.push(l(e,s,s+o>c?c:s+o));1===r?(t=e[i-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,i){for(var r,a,o=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=r)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},6382:(e,t,n)=>{"use strict";const i=n(4445),r=n(6900),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let i=s(n);const r=i.write(e,t);r!==n&&(i=i.slice(0,r));return i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return l.from(i,t,n);const r=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||X(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(r)return r;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let i=0;i<t;i+=1)n[i]=255&e[i];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,l.prototype),i}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(r)return i?-1:Y(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function v(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){let a,o=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){let i=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===i?0:a-i)){if(-1===i&&(i=a),a-i+1===l)return i*o}else-1!==i&&(a-=a-i),i=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){let n=!0;for(let i=0;i<l;i++)if(c(e,a+i)!==c(t,i)){n=!1;break}if(n)return a}return-1}function C(e,t,n,i){n=Number(n)||0;const r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;const a=t.length;let o;for(i>a/2&&(i=a/2),o=0;o<i;++o){const i=parseInt(t.substr(2*o,2),16);if(X(i))return o;e[n+o]=i}return o}function w(e,t,n,i){return Q(Y(t,e.length-n),e,n,i)}function S(e,t,n,i){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function I(e,t,n,i){return Q(J(t),e,n,i)}function T(e,t,n,i){return Q(function(e,t){let n,i,r;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function E(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);const i=[];let r=t;for(;r<n;){const t=e[r];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(r+o<=n){let n,i,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:n=e[r+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(a=l));break;case 3:n=e[r+1],i=e[r+2],128===(192&n)&&128===(192&i)&&(l=(15&t)<<12|(63&n)<<6|63&i,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:n=e[r+1],i=e[r+2],s=e[r+3],128===(192&n)&&128===(192&i)&&128===(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&i)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=o}return function(e){const t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=R));return n}(i)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const i=l.allocUnsafe(t);let r=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))r+t.length>i.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(i,r)):Uint8Array.prototype.set.call(i,t,r);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(i,r)}r+=t.length}return i},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,i,r){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0);const s=Math.min(a,o),c=this.slice(i,r),u=e.slice(t,n);for(let l=0;l<s;++l)if(c[l]!==u[l]){a=c[l],o=u[l];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function A(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function k(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function x(e,t,n){const i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);let r="";for(let a=t;a<n;++a)r+=K[e[a]];return r}function D(e,t,n){const i=e.slice(t,n);let r="";for(let a=0;a<i.length-1;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,i,r,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function _(e,t,n,i,r){W(t,i,r,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function N(e,t,n,i,r){W(t,i,r,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function j(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,a){return t=+t,n>>>=0,a||j(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,a){return t=+t,n>>>=0,a||j(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const i=this.subarray(e,t);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let i=this[e],r=1,a=0;for(;++a<t&&(r*=256);)i+=this[e+a]*r;return i},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let i=this[e+--t],r=1;for(;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Z((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const i=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const i=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let i=this[e],r=1,a=0;for(;++a<t&&(r*=256);)i+=this[e+a]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let i=t,r=1,a=this[e+--i];for(;i>0&&(r*=256);)a+=this[e+--i]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Z((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const i=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Z((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Z((function(e){return _(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}let r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}let r=n-1,a=1,o=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Z((function(e){return _(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);const r=i-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},l.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){const t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(r=t;r<n;++r)this[r]=e;else{const a=l.isBuffer(e)?e:l.from(e,i),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=a[r%o]}return this};const F={};function B(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function z(e){let t="",n=e.length;const i="-"===e[0]?1:0;for(;n>=i+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function W(e,t,n,i,r,a){if(e>n||e<t){const i="bigint"===typeof t?"n":"";let r;throw r=a>3?0===t||t===BigInt(0)?">= 0".concat(i," and < 2").concat(i," ** ").concat(8*(a+1)).concat(i):">= -(2".concat(i," ** ").concat(8*(a+1)-1).concat(i,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(i):">= ".concat(t).concat(i," and <= ").concat(n).concat(i),new F.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(i,r,a)}function V(e,t){if("number"!==typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){let i='The value of "'.concat(e,'" is out of range.'),r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=z(String(n)):"bigint"===typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=z(r)),r+="n"),i+=" It must be ".concat(t,". Received ").concat(r),i}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function Y(e,t){let n;t=t||1/0;const i=e.length;let r=null;const a=[];for(let o=0;o<i;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function J(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Q(e,t,n,i){let r;for(r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let r=0;r<16;++r)t[i+r]=e[n]+e[r]}return t}();function Z(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},7780:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],o=[],s=[],l=[],c=[],u=[],d=[],f=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,a=0;for(t=0;t<256;t++){var p=a^a<<1^a<<2^a<<3^a<<4;p=p>>>8^255&p^99,i[n]=p,r[p]=n;var g=e[n],m=e[g],v=e[m],b=257*e[p]^16843008*p;o[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,l[n]=b<<8|b>>>24,c[n]=b,b=16843009*v^65537*m^257*g^16843008*n,u[p]=b<<24|b>>>8,d[p]=b<<16|b>>>16,f[p]=b<<8|b>>>24,h[p]=b,n?(n=g^e[e[e[v^g]]],a^=e[e[a]]):n=a=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)o<n?a[o]=t[o]:(c=a[o-1],o%n?n>6&&o%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[o/n|0]<<24),a[o]=a[o-n]^c);for(var s=this._invKeySchedule=[],l=0;l<r;l++){if(o=r-l,l%4)var c=a[o];else c=a[o-4];s[l]=l<4||o<=4?c:u[i[c>>>24]]^d[i[c>>>16&255]]^f[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,h,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,a,o,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],h=4,p=1;p<l;p++){var g=i[c>>>24]^r[u>>>16&255]^a[d>>>8&255]^o[255&f]^n[h++],m=i[u>>>24]^r[d>>>16&255]^a[f>>>8&255]^o[255&c]^n[h++],v=i[d>>>24]^r[f>>>16&255]^a[c>>>8&255]^o[255&u]^n[h++],b=i[f>>>24]^r[c>>>16&255]^a[u>>>8&255]^o[255&d]^n[h++];c=g,u=m,d=v,f=b}g=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[h++],m=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[h++],v=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[h++],b=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[h++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=b},keySize:8});e.AES=t._createHelper(g)}(),a.AES)}()},6501:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib.BlockCipher,n=e.algo;const i=16,r=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,i=t>>16&255,r=t>>8&255,a=255&t,o=e.sbox[0][n]+e.sbox[1][i];return o^=e.sbox[2][r],o+=e.sbox[3][a],o}function c(e,t,n){let r,a=t,o=n;for(let s=0;s<i;++s)a^=e.pbox[s],o=l(e,a)^o,r=a,a=o,o=r;return r=a,a=o,o=r,o^=e.pbox[i],a^=e.pbox[i+1],{left:a,right:o}}function u(e,t,n){let r,a=t,o=n;for(let s=i+1;s>1;--s)a^=e.pbox[s],o=l(e,a)^o,r=a,a=o,o=r;return r=a,a=o,o=r,o^=e.pbox[1],a^=e.pbox[0],{left:a,right:o}}function d(e,t,n){for(let i=0;i<4;i++){e.sbox[i]=[];for(let t=0;t<256;t++)e.sbox[i][t]=o[i][t]}let a=0;for(let o=0;o<i+2;o++)e.pbox[o]=r[o]^t[a],a++,a>=n&&(a=0);let s=0,l=0,u=0;for(let r=0;r<i+2;r+=2)u=c(e,s,l),s=u.left,l=u.right,e.pbox[r]=s,e.pbox[r+1]=l;for(let i=0;i<4;i++)for(let t=0;t<256;t+=2)u=c(e,s,l),s=u.left,l=u.right,e.sbox[i][t]=s,e.sbox[i][t+1]=l;return!0}var f=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;d(s,t,n)}},encryptBlock:function(e,t){var n=c(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(f)}(),a.Blowfish)}()},2238:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8211),void(a.lib.Cipher||function(e){var t=a,n=t.lib,i=n.Base,r=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc,l=(s.Utf8,s.Base64),c=t.algo.EvpKDF,u=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:v}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),f=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var t=f.extend();function n(t,n,i){var r,a=this._iv;a?(r=a,this._iv=e):r=this._prevBlock;for(var o=0;o<i;o++)t[n+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize;n.call(this,e,t,r),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,a=e.slice(t,t+r);i.decryptBlock(e,t),n.call(this,e,t,r),this._prevBlock=a}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,a=i<<24|i<<16|i<<8|i,o=[],s=0;s<i;s+=4)o.push(a);var l=r.create(o,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?r.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=r.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),a=r.finalize(t),o=r.cfg;return g.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(t.kdf={}).OpenSSL={execute:function(e,t,n,i,a){if(i||(i=r.random(8)),a)o=c.create({keySize:t+n,hasher:a}).compute(e,i);else var o=c.create({keySize:t+n}).compute(e,i);var s=r.create(o.words.slice(t),4*n);return o.sigBytes=4*t,g.create({key:o,iv:s,salt:i})}},y=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:b}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize,i.salt,i.hasher);i.iv=r.iv;var a=v.encrypt.call(this,e,t,r.key,i);return a.mixIn(r),a},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt,i.hasher);return i.iv=r.iv,v.decrypt.call(this,e,t,r.key,i)}})}()))}()},4488:function(e,t,n){e.exports=function(){var e=e||function(e,t){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof n.g&&n.g.crypto&&(i=n.g.crypto),!i)try{i=n(477)}catch(m){}var r=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},l=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var a=0;a<r;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[i+a>>>2]|=o<<24-(i+a)%4*8}else for(var s=0;s<r;s+=4)t[i+s>>>2]=n[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,r=i.words,a=i.sigBytes,o=this.blockSize,s=a/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*l,a);if(l){for(var d=0;d<l;d+=o)this._doProcessBlock(r,d);n=r.splice(0,l),i.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e}()},8523:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(){var e=r,t=e.lib.WordArray;function n(e,n,i){for(var r=[],a=0,o=0;o<n;o++)if(o%4){var s=i[e.charCodeAt(o-1)]<<o%4*2|i[e.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=s<<24-a%4*8,a++}return t.create(r,a)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)r.push(i.charAt(o>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<i.length;a++)r[i.charCodeAt(a)]=a}var o=i.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return n(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}()},4646:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(){var e=r,t=e.lib.WordArray;function n(e,n,i){for(var r=[],a=0,o=0;o<n;o++)if(o%4){var s=i[e.charCodeAt(o-1)]<<o%4*2|i[e.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=s<<24-a%4*8,a++}return t.create(r,a)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,i=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var a=[],o=0;o<i;o+=3)for(var s=(n[o>>>2]>>>24-o%4*8&255)<<16|(n[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|n[o+2>>>2]>>>24-(o+2)%4*8&255,l=0;l<4&&o+.75*l<i;l++)a.push(r.charAt(s>>>6*(3-l)&63));var c=r.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e,t){void 0===t&&(t=!0);var i=e.length,r=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var o=0;o<r.length;o++)a[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var l=e.indexOf(s);-1!==l&&(i=l)}return n(e,i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),r.enc.Base64url)}()},8168:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var a=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],r=0;r<n;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return t.create(i,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a+=2){var o=i(t[a>>>2]>>>16-a%4*8&65535);r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],a=0;a<n;a++)r[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)}()},8211:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2002),n(4220),function(){var e=a,t=e.lib,n=t.Base,i=t.WordArray,r=e.algo,o=r.MD5,s=r.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,a=r.hasher.create(),o=i.create(),s=o.words,l=r.keySize,c=r.iterations;s.length<l;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var u=1;u<c;u++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*l,o}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),a.EvpKDF)}()},4708:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),function(e){var t=a,n=t.lib.CipherParams,i=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return n.create({ciphertext:t})}}}(),a.format.Hex)}()},4220:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),void function(){var e=r,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<i;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},6111:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(9749),n(4503),n(8168),n(8523),n(4646),n(4199),n(2002),n(6368),n(1641),n(7061),n(9092),n(6600),n(7423),n(4220),n(3930),n(8211),n(2238),n(1112),n(7962),n(8049),n(6380),n(8099),n(1884),n(9132),n(4423),n(548),n(4087),n(4708),n(7780),n(9475),n(9638),n(8875),n(1659),n(6501),a)}()},4503:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=e[r]<<24-r%4*8;t.call(this,i,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)}()},4199:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],m=e[t+5],v=e[t+6],b=e[t+7],y=e[t+8],C=e[t+9],w=e[t+10],S=e[t+11],I=e[t+12],T=e[t+13],E=e[t+14],M=e[t+15],R=a[0],A=a[1],k=a[2],x=a[3];R=c(R,A,k,x,o,7,s[0]),x=c(x,R,A,k,l,12,s[1]),k=c(k,x,R,A,h,17,s[2]),A=c(A,k,x,R,p,22,s[3]),R=c(R,A,k,x,g,7,s[4]),x=c(x,R,A,k,m,12,s[5]),k=c(k,x,R,A,v,17,s[6]),A=c(A,k,x,R,b,22,s[7]),R=c(R,A,k,x,y,7,s[8]),x=c(x,R,A,k,C,12,s[9]),k=c(k,x,R,A,w,17,s[10]),A=c(A,k,x,R,S,22,s[11]),R=c(R,A,k,x,I,7,s[12]),x=c(x,R,A,k,T,12,s[13]),k=c(k,x,R,A,E,17,s[14]),R=u(R,A=c(A,k,x,R,M,22,s[15]),k,x,l,5,s[16]),x=u(x,R,A,k,v,9,s[17]),k=u(k,x,R,A,S,14,s[18]),A=u(A,k,x,R,o,20,s[19]),R=u(R,A,k,x,m,5,s[20]),x=u(x,R,A,k,w,9,s[21]),k=u(k,x,R,A,M,14,s[22]),A=u(A,k,x,R,g,20,s[23]),R=u(R,A,k,x,C,5,s[24]),x=u(x,R,A,k,E,9,s[25]),k=u(k,x,R,A,p,14,s[26]),A=u(A,k,x,R,y,20,s[27]),R=u(R,A,k,x,T,5,s[28]),x=u(x,R,A,k,h,9,s[29]),k=u(k,x,R,A,b,14,s[30]),R=d(R,A=u(A,k,x,R,I,20,s[31]),k,x,m,4,s[32]),x=d(x,R,A,k,y,11,s[33]),k=d(k,x,R,A,S,16,s[34]),A=d(A,k,x,R,E,23,s[35]),R=d(R,A,k,x,l,4,s[36]),x=d(x,R,A,k,g,11,s[37]),k=d(k,x,R,A,b,16,s[38]),A=d(A,k,x,R,w,23,s[39]),R=d(R,A,k,x,T,4,s[40]),x=d(x,R,A,k,o,11,s[41]),k=d(k,x,R,A,p,16,s[42]),A=d(A,k,x,R,v,23,s[43]),R=d(R,A,k,x,C,4,s[44]),x=d(x,R,A,k,I,11,s[45]),k=d(k,x,R,A,M,16,s[46]),R=f(R,A=d(A,k,x,R,h,23,s[47]),k,x,o,6,s[48]),x=f(x,R,A,k,b,10,s[49]),k=f(k,x,R,A,E,15,s[50]),A=f(A,k,x,R,m,21,s[51]),R=f(R,A,k,x,I,6,s[52]),x=f(x,R,A,k,p,10,s[53]),k=f(k,x,R,A,w,15,s[54]),A=f(A,k,x,R,l,21,s[55]),R=f(R,A,k,x,y,6,s[56]),x=f(x,R,A,k,M,10,s[57]),k=f(k,x,R,A,v,15,s[58]),A=f(A,k,x,R,T,21,s[59]),R=f(R,A,k,x,g,6,s[60]),x=f(x,R,A,k,S,10,s[61]),k=f(k,x,R,A,h,15,s[62]),A=f(A,k,x,R,C,21,s[63]),a[0]=a[0]+R|0,a[1]=a[1]+A|0,a[2]=a[2]+k|0,a[3]=a[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var a=e.floor(i/4294967296),o=i;n[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,a,o){var s=e+(t&n|~t&i)+r+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,i,r,a,o){var s=e+(t&i|n&~i)+r+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,i,r,a,o){var s=e+(t^n^i)+r+o;return(s<<a|s>>>32-a)+t}function f(e,t,n,i,r,a,o){var s=e+(n^(t|~i))+r+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math),r.MD5)}()},1112:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.mode.CFB=function(){var e=a.lib.BlockCipherMode.extend();function t(e,t,n,i){var r,a=this._iv;a?(r=a.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r,i),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,a=e.slice(n,n+r);t.call(this,e,n,r,i),this._prevBlock=a}}),e}(),a.mode.CFB)}()},8049:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.mode.CTRGladman=function(){var e=a.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),n(o);var s=o.slice(0);i.encryptBlock(s,0);for(var l=0;l<r;l++)e[t+l]^=s[l]}});return e.Decryptor=i,e}(),a.mode.CTRGladman)}()},7962:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.mode.CTR=function(){var e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0);var o=a.slice(0);n.encryptBlock(o,0),a[i-1]=a[i-1]+1|0;for(var s=0;s<i;s++)e[t+s]^=o[s]}});return e.Decryptor=t,e}(),a.mode.CTR)}()},8099:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.mode.ECB=function(){var e=a.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),a.mode.ECB)}()},6380:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.mode.OFB=function(){var e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,a=this._keystream;r&&(a=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var o=0;o<i;o++)e[t+o]^=a[o]}});return e.Decryptor=t,e}(),a.mode.OFB)}()},1884:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,a=n+r-1;e.clamp(),e.words[a>>>2]|=r<<24-a%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Ansix923)}()},9132:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(a.lib.WordArray.random(i-1)).concat(a.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Iso10126)}()},4423:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.pad.Iso97971={pad:function(e,t){e.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(e,t)},unpad:function(e){a.pad.ZeroPadding.unpad(e),e.sigBytes--}},a.pad.Iso97971)}()},4087:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding)}()},548:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(2238),a.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},a.pad.ZeroPadding)}()},3930:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(6368),n(4220),function(){var e=a,t=e.lib,n=t.Base,i=t.WordArray,r=e.algo,o=r.SHA256,s=r.HMAC,l=r.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),a=i.create(),o=i.create([1]),l=a.words,c=o.words,u=n.keySize,d=n.iterations;l.length<u;){var f=r.update(t).finalize(o);r.reset();for(var h=f.words,p=h.length,g=f,m=1;m<d;m++){g=r.finalize(g),r.reset();for(var v=g.words,b=0;b<p;b++)h[b]^=v[b]}a.concat(f),c[0]++}return a.sigBytes=4*u,a}});e.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),a.PBKDF2)}()},1659:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib.StreamCipher,n=e.algo,i=[],r=[],o=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var a=t.words,o=a[0],s=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=u,i[3]^=f,i[4]^=c,i[5]^=d,i[6]^=u,i[7]^=f,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],a=65535&i,s=i>>>16,l=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&i)*i|0)+((65535&i)*i|0);o[n]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),a.RabbitLegacy)}()},8875:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib.StreamCipher,n=e.algo,i=[],r=[],o=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(t){var a=t.words,o=a[0],s=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=f,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=f,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],a=65535&i,s=i>>>16,l=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&i)*i|0)+((65535&i)*i|0);o[n]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),a.Rabbit)}()},9638:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var a=0;r<256;r++){var o=r%n,s=t[o>>>2]>>>24-o%4*8&255;a=(a+i[r]+s)%256;var l=i[r];i[r]=i[a],i[a]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[n],e[n]=a,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}e.RC4=t._createHelper(i);var o=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)r.call(this)}});e.RC4Drop=t._createHelper(o)}(),a.RC4)}()},7423:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=a.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a,o,h,C,w,S,I,T,E,M,R,A=this._hash.words,k=d.words,x=f.words,D=s.words,O=l.words,L=c.words,_=u.words;for(S=a=A[0],I=o=A[1],T=h=A[2],E=C=A[3],M=w=A[4],n=0;n<80;n+=1)R=a+e[t+D[n]]|0,R+=n<16?p(o,h,C)+k[0]:n<32?g(o,h,C)+k[1]:n<48?m(o,h,C)+k[2]:n<64?v(o,h,C)+k[3]:b(o,h,C)+k[4],R=(R=y(R|=0,L[n]))+w|0,a=w,w=C,C=y(h,10),h=o,o=R,R=S+e[t+O[n]]|0,R+=n<16?b(I,T,E)+x[0]:n<32?v(I,T,E)+x[1]:n<48?m(I,T,E)+x[2]:n<64?g(I,T,E)+x[3]:p(I,T,E)+x[4],R=(R=y(R|=0,_[n]))+M|0,S=M,M=E,E=y(T,10),T=I,I=R;R=A[1]+h+E|0,A[1]=A[2]+C+M|0,A[2]=A[3]+w+S|0,A[3]=A[4]+a+I|0,A[4]=A[0]+o+T|0,A[0]=R},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,a=r.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function b(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=a._createHelper(h),t.HmacRIPEMD160=a._createHmacHelper(h)}(Math),r.RIPEMD160)}()},2002:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(){var e=r,t=e.lib,n=t.WordArray,i=t.Hasher,a=e.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}var d=(i<<5|i>>>27)+l+o[c];d+=c<20?1518500249+(r&a|~r&s):c<40?1859775393+(r^a^s):c<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514,l=s,s=a,a=r<<30|r>>>2,r=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),r.SHA1)}()},1641:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(6368),function(){var e=a,t=e.lib.WordArray,n=e.algo,i=n.SHA256,r=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(r),e.HmacSHA224=i._createHmacHelper(r)}(),a.SHA224)}()},6368:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=c[h-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[h]=g+c[h-7]+v+c[h-16]}var b=i&r^i&a^r&a,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),C=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+l[h]+c[h];f=d,d=u,u=s,s=o+C|0,o=a,a=r,r=i,i=C+(y+b)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256)}()},6600:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(9749),function(e){var t=a,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.x64.Word,s=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,a=0;a<24;a++){for(var s=0,d=0,f=0;f<7;f++){if(1&r){var h=(1<<f)-1;h<32?d^=1<<h:s^=1<<h-32}128&r?r=r<<1^113:r<<=1}u[a]=o.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=o.create()}();var f=s.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var a=e[t+2*r],o=e[t+2*r+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(A=n[r]).high^=o,A.low^=a}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var h=0,p=0,g=0;g<5;g++)h^=(A=n[f+5*g]).high,p^=A.low;var m=d[f];m.high=h,m.low=p}for(f=0;f<5;f++){var v=d[(f+4)%5],b=d[(f+1)%5],y=b.high,C=b.low;for(h=v.high^(y<<1|C>>>31),p=v.low^(C<<1|y>>>31),g=0;g<5;g++)(A=n[f+5*g]).high^=h,A.low^=p}for(var w=1;w<25;w++){var S=(A=n[w]).high,I=A.low,T=l[w];T<32?(h=S<<T|I>>>32-T,p=I<<T|S>>>32-T):(h=I<<T-32|S>>>64-T,p=S<<T-32|I>>>64-T);var E=d[c[w]];E.high=h,E.low=p}var M=d[0],R=n[0];for(M.high=R.high,M.low=R.low,f=0;f<5;f++)for(g=0;g<5;g++){var A=n[w=f+5*g],k=d[w],x=d[(f+1)%5+5*g],D=d[(f+2)%5+5*g];A.high=k.high^~x.high&D.high,A.low=k.low^~x.low&D.low}A=n[0];var O=u[s];A.high^=O.high,A.low^=O.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var d=o[u],f=d.high,h=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(f)}return new i.init(c,s)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=r._createHelper(f),t.HmacSHA3=r._createHmacHelper(f)}(Math),a.SHA3)}()},9092:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(9749),n(7061),function(){var e=a,t=e.x64,n=t.Word,i=t.WordArray,r=e.algo,o=r.SHA512,s=r.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=o._createHelper(s),e.HmacSHA384=o._createHmacHelper(s)}(),a.SHA384)}()},7061:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(9749),function(){var e=a,t=e.lib.Hasher,n=e.x64,i=n.Word,r=n.WordArray,o=e.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5],d=n[6],f=n[7],h=i.high,p=i.low,g=r.high,m=r.low,v=a.high,b=a.low,y=o.high,C=o.low,w=s.high,S=s.low,I=u.high,T=u.low,E=d.high,M=d.low,R=f.high,A=f.low,k=h,x=p,D=g,O=m,L=v,_=b,N=y,j=C,P=w,U=S,F=I,B=T,z=E,W=M,V=R,H=A,G=0;G<80;G++){var Y,J,Q=c[G];if(G<16)J=Q.high=0|e[t+2*G],Y=Q.low=0|e[t+2*G+1];else{var q=c[G-15],X=q.high,K=q.low,Z=(X>>>1|K<<31)^(X>>>8|K<<24)^X>>>7,$=(K>>>1|X<<31)^(K>>>8|X<<24)^(K>>>7|X<<25),ee=c[G-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ae=c[G-7],oe=ae.high,se=ae.low,le=c[G-16],ce=le.high,ue=le.low;J=(J=(J=Z+oe+((Y=$+se)>>>0<$>>>0?1:0))+ie+((Y+=re)>>>0<re>>>0?1:0))+ce+((Y+=ue)>>>0<ue>>>0?1:0),Q.high=J,Q.low=Y}var de,fe=P&F^~P&z,he=U&B^~U&W,pe=k&D^k&L^D&L,ge=x&O^x&_^O&_,me=(k>>>28|x<<4)^(k<<30|x>>>2)^(k<<25|x>>>7),ve=(x>>>28|k<<4)^(x<<30|k>>>2)^(x<<25|k>>>7),be=(P>>>14|U<<18)^(P>>>18|U<<14)^(P<<23|U>>>9),ye=(U>>>14|P<<18)^(U>>>18|P<<14)^(U<<23|P>>>9),Ce=l[G],we=Ce.high,Se=Ce.low,Ie=V+be+((de=H+ye)>>>0<H>>>0?1:0),Te=ve+ge;V=z,H=W,z=F,W=B,F=P,B=U,P=N+(Ie=(Ie=(Ie=Ie+fe+((de+=he)>>>0<he>>>0?1:0))+we+((de+=Se)>>>0<Se>>>0?1:0))+J+((de+=Y)>>>0<Y>>>0?1:0))+((U=j+de|0)>>>0<j>>>0?1:0)|0,N=L,j=_,L=D,_=O,D=k,O=x,k=Ie+(me+pe+(Te>>>0<ve>>>0?1:0))+((x=de+Te|0)>>>0<de>>>0?1:0)|0}p=i.low=p+x,i.high=h+k+(p>>>0<x>>>0?1:0),m=r.low=m+O,r.high=g+D+(m>>>0<O>>>0?1:0),b=a.low=b+_,a.high=v+L+(b>>>0<_>>>0?1:0),C=o.low=C+j,o.high=y+N+(C>>>0<j>>>0?1:0),S=s.low=S+U,s.high=w+P+(S>>>0<U>>>0?1:0),T=u.low=T+B,u.high=I+F+(T>>>0<B>>>0?1:0),M=d.low=M+W,d.high=E+z+(M>>>0<W>>>0?1:0),A=f.low=A+H,f.high=R+V+(A>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),a.SHA512)}()},9475:function(e,t,n){!function(t,i,r){var a;e.exports=(a=n(4488),n(8523),n(4199),n(8211),n(2238),function(){var e=a,t=e.lib,n=t.WordArray,i=t.BlockCipher,r=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=r.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=o[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],a=0;a<16;a++){var c=r[a]=[],u=l[a];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],a=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((o^r[l])&u[l])>>>0];this._lBlock=o,this._rBlock=a^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(d);var p=r.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(n.create(t)),this._des2=d.createEncryptor(n.create(i)),this._des3=d.createEncryptor(n.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),a.TripleDES)}()},9749:function(e,t,n){!function(t,i){var r;e.exports=(r=n(4488),function(e){var t=r,n=t.lib,i=n.Base,a=n.WordArray,o=t.x64={};o.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),r)}()},6522:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(5237)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},5237:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,a,o=null;function s(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!s.enabled)return;const a=s,o=Number(new Date),l=o-(n||o);a.diff=l,a.prev=n,a.curr=o,n=o,i[0]=t.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");let c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";c++;const r=t.formatters[n];if("function"===typeof r){const t=i[c];e=r.call(a,t),i.splice(c,1),c--}return e})),t.formatArgs.call(a,i);(a.log||t.log).apply(a,i)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=i,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{o=e}}),"function"===typeof t.init&&t.init(s),s}function i(e,n){const i=t(this.namespace+("undefined"===typeof n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"===typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7789:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var r={};return n.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=i(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(a,n)(e[a],t[a],n):r[a]=i(t[a],n))})),r}function l(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):i(n,a)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},4823:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,i){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");i||(i={}),"object"===typeof n&&(i=n,n=""),n&&(i.code=n);try{return t(e,i)}catch(r){i.message=e.message,i.stack=e.stack;const n=function(){};n.prototype=Object.create(Object.getPrototypeOf(e));return t(new n,i)}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,i=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var r,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=l(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"===typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(a){i.once&&e.removeEventListener(t,r),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)i(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,a,o;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2450:function(e,t,n){var i,r,a;r=[],void 0===(a="function"===typeof(i=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){l(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):r(l.href)?i(e,t,n):a(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){a(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(r(e))i(e,n,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var a="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,f=d.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?i.apply(t,r):i)||(e.exports=a)},7919:e=>{e.exports=function(){if("undefined"===typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},219:(e,t,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?o:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=h(n);r&&r!==p&&e(t,r,i)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!i||!i[v])&&(!g||!g[v])&&(!s||!s[v])){var b=f(n,v);try{c(t,v,b)}catch(y){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,C=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case l:return e;default:return t}}case r:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=r,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===C||e.$$typeof===v)},t.typeOf=w},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},6900:(e,t)=>{t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+e[t+d],d+=f,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,i),a-=c}return(h?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l,c=8*a-r-1,u=(1<<c)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:a-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*g}},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},1270:(e,t,n)=>{var i=n(7475),r=function(e){var t="",n=Object.keys(e);return n.forEach((function(r,a){var o=e[r];(function(e){return/[height|width]$/.test(e)})(r=i(r))&&"number"===typeof o&&(o+="px"),t+=!0===o?r:!1===o?"not "+r:"("+r+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,i){t+=r(n),i<e.length-1&&(t+=", ")})),t):r(e)}},3536:function(e,t,n){var i;e=n.nmd(e),function(){var r,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",f]],b="[object Arguments]",y="[object Array]",C="[object Boolean]",w="[object Date]",S="[object Error]",I="[object Function]",T="[object GeneratorFunction]",E="[object Map]",M="[object Number]",R="[object Object]",A="[object Promise]",k="[object RegExp]",x="[object Set]",D="[object String]",O="[object Symbol]",L="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",j="[object Float32Array]",P="[object Float64Array]",U="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",z="[object Uint8Array]",W="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",G=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,X=RegExp(Q.source),K=RegExp(q.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(re.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Me="\\u2700-\\u27bf",Re="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",Oe="["+Te+"]",Le="["+xe+"]",_e="["+Ee+"]",Ne="\\d+",je="["+Me+"]",Pe="["+Re+"]",Ue="[^"+Te+xe+Ne+Me+Re+Ae+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^"+Te+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ae+"]",He="\\u200d",Ge="(?:"+Pe+"|"+Ue+")",Ye="(?:"+Ve+"|"+Ue+")",Je="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+_e+"|"+Fe+")"+"?",Xe="["+ke+"]?",Ke=Xe+qe+("(?:"+He+"(?:"+[Be,ze,We].join("|")+")"+Xe+qe+")*"),Ze="(?:"+[je,ze,We].join("|")+")"+Ke,$e="(?:"+[Be+_e+"?",_e,ze,We,Oe].join("|")+")",et=RegExp(De,"g"),tt=RegExp(_e,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+$e+Ke,"g"),it=RegExp([Ve+"?"+Pe+"+"+Je+"(?="+[Le,Ve,"$"].join("|")+")",Ye+"+"+Qe+"(?="+[Le,Ve+Ge,"$"].join("|")+")",Ve+"?"+Ge+"+"+Je,Ve+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ze].join("|"),"g"),rt=RegExp("["+He+Te+Ee+ke+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[j]=lt[P]=lt[U]=lt[F]=lt[B]=lt[z]=lt[W]=lt[V]=lt[H]=!0,lt[b]=lt[y]=lt[_]=lt[C]=lt[N]=lt[w]=lt[S]=lt[I]=lt[E]=lt[M]=lt[R]=lt[k]=lt[x]=lt[D]=lt[L]=!1;var ct={};ct[b]=ct[y]=ct[_]=ct[N]=ct[C]=ct[w]=ct[j]=ct[P]=ct[U]=ct[F]=ct[B]=ct[E]=ct[M]=ct[R]=ct[k]=ct[x]=ct[D]=ct[O]=ct[z]=ct[W]=ct[V]=ct[H]=!0,ct[S]=ct[I]=ct[L]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,bt=vt&&vt.exports===mt,yt=bt&&ht.process,Ct=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),wt=Ct&&Ct.isArrayBuffer,St=Ct&&Ct.isDate,It=Ct&&Ct.isMap,Tt=Ct&&Ct.isRegExp,Et=Ct&&Ct.isSet,Mt=Ct&&Ct.isTypedArray;function Rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function kt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function Lt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function _t(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Nt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function jt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Pt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function Ut(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Ft(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Bt=Jt("length");function zt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Wt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Wt(e,Gt,n)}function Ht(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function Gt(e){return e!==e}function Yt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:g}function Jt(e){return function(t){return null==t?r:t[e]}}function Qt(e){return function(t){return null==e?r:e[t]}}function qt(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function Xt(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Kt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Zt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Nt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,i=e.length;++n<i&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var an=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ut[e]}function ln(e){return rt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[r++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function gn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n=(t=null==t?gt:bn.defaults(gt.Object(),t,bn.pick(gt,ot))).Array,i=t.Date,se=t.Error,Te=t.Function,Ee=t.Math,Me=t.Object,Re=t.RegExp,Ae=t.String,ke=t.TypeError,xe=n.prototype,De=Te.prototype,Oe=Me.prototype,Le=t["__core-js_shared__"],_e=De.toString,Ne=Oe.hasOwnProperty,je=0,Pe=function(){var e=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Oe.toString,Fe=_e.call(Me),Be=gt._,ze=Re("^"+_e.call(Ne).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=bt?t.Buffer:r,Ve=t.Symbol,He=t.Uint8Array,Ge=We?We.allocUnsafe:r,Ye=un(Me.getPrototypeOf,Me),Je=Me.create,Qe=Oe.propertyIsEnumerable,qe=xe.splice,Xe=Ve?Ve.isConcatSpreadable:r,Ke=Ve?Ve.iterator:r,Ze=Ve?Ve.toStringTag:r,$e=function(){try{var e=da(Me,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,rt=i&&i.now!==gt.Date.now&&i.now,ut=t.setTimeout!==gt.setTimeout&&t.setTimeout,ht=Ee.ceil,pt=Ee.floor,mt=Me.getOwnPropertySymbols,vt=We?We.isBuffer:r,yt=t.isFinite,Ct=xe.join,Bt=un(Me.keys,Me),Qt=Ee.max,yn=Ee.min,Cn=i.now,wn=t.parseInt,Sn=Ee.random,In=xe.reverse,Tn=da(t,"DataView"),En=da(t,"Map"),Mn=da(t,"Promise"),Rn=da(t,"Set"),An=da(t,"WeakMap"),kn=da(Me,"create"),xn=An&&new An,Dn={},On=Pa(Tn),Ln=Pa(En),_n=Pa(Mn),Nn=Pa(Rn),jn=Pa(An),Pn=Ve?Ve.prototype:r,Un=Pn?Pn.valueOf:r,Fn=Pn?Pn.toString:r;function Bn(e){if(ts(e)&&!Ho(e)&&!(e instanceof Hn)){if(e instanceof Vn)return e;if(Ne.call(e,"__wrapped__"))return Ua(e)}return new Vn(e)}var zn=function(){function e(){}return function(t){if(!es(t))return{};if(Je)return Je(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Wn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Xn(e,t){var n=Ho(e),i=!n&&Vo(e),r=!n&&!i&&Qo(e),a=!n&&!i&&!r&&cs(e),o=n||i||r||a,s=o?Kt(e.length,Ae):[],l=s.length;for(var c in e)!t&&!Ne.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ba(c,l))||s.push(c);return s}function Kn(e){var t=e.length;return t?e[Qi(0,t-1)]:r}function Zn(e,t){return _a(kr(e),si(t,0,e.length))}function $n(e){return _a(kr(e))}function ei(e,t,n){(n!==r&&!Bo(e[t],n)||n===r&&!(t in e))&&ai(e,t,n)}function ti(e,t,n){var i=e[t];Ne.call(e,t)&&Bo(i,n)&&(n!==r||t in e)||ai(e,t,n)}function ni(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function ii(e,t,n,i){return fi(e,(function(e,r,a){t(i,e,n(e),a)})),i}function ri(e,t){return e&&xr(t,Ds(t),e)}function ai(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function oi(e,t){for(var i=-1,a=t.length,o=n(a),s=null==e;++i<a;)o[i]=s?r:Ms(e,t[i]);return o}function si(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function li(e,t,n,i,a,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!es(e))return e;var d=Ho(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return kr(e,s)}else{var f=pa(e),h=f==I||f==T;if(Qo(e))return Ir(e,l);if(f==R||f==b||h&&!a){if(s=c||h?{}:ma(e),!l)return c?function(e,t){return xr(e,ha(e),t)}(e,function(e,t){return e&&xr(t,Os(t),e)}(s,e)):function(e,t){return xr(e,fa(e),t)}(e,ri(s,e))}else{if(!ct[f])return a?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case _:return Tr(e);case C:case w:return new i(+e);case N:return function(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case j:case P:case U:case F:case B:case z:case W:case V:case H:return Er(e,n);case E:return new i;case M:case D:return new i(e);case k:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new i;case O:return r=e,Un?Me(Un.call(r)):{}}var r}(e,f,l)}}o||(o=new qn);var p=o.get(e);if(p)return p;o.set(e,s),os(e)?e.forEach((function(i){s.add(li(i,t,n,i,e,o))})):ns(e)&&e.forEach((function(i,r){s.set(r,li(i,t,n,r,e,o))}));var g=d?r:(u?c?ra:ia:c?Os:Ds)(e);return kt(g||e,(function(i,r){g&&(i=e[r=i]),ti(s,r,li(i,t,n,r,e,o))})),s}function ci(e,t,n){var i=n.length;if(null==e)return!i;for(e=Me(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function ui(e,t,n){if("function"!=typeof e)throw new ke(a);return xa((function(){e.apply(r,n)}),t)}function di(e,t,n,i){var r=-1,a=Lt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Nt(t,$t(n))),i?(a=_t,o=!1):t.length>=200&&(a=tn,o=!1,t=new Qn(t));e:for(;++r<s;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d===d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else a(t,d,i)||l.push(u)}return l}Bn.templateSettings={escape:Z,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Wn.prototype,Bn.prototype.constructor=Bn,Vn.prototype=zn(Wn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=zn(Wn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===o?r:n}return Ne.call(t,e)?t[e]:r},Gn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==r:Ne.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===r?o:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=ni(t,e);return!(n<0)&&(n==t.length-1?t.pop():qe.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=ni(t,e);return n<0?r:t[n][1]},Yn.prototype.has=function(e){return ni(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,i=ni(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Yn),string:new Gn}},Jn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Jn.prototype.get=function(e){return ca(this,e).get(e)},Jn.prototype.has=function(e){return ca(this,e).has(e)},Jn.prototype.set=function(e,t){var n=ca(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Yn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var i=n.__data__;if(!En||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(i)}return n.set(e,t),this.size=n.size,this};var fi=Lr(Ci),hi=Lr(wi,!0);function pi(e,t){var n=!0;return fi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function gi(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===r?s===s&&!ls(s):n(s,l)))var l=s,c=o}return c}function mi(e,t){var n=[];return fi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function vi(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=va),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?vi(s,t-1,n,i,r):jt(r,s):i||(r[r.length]=s)}return r}var bi=_r(),yi=_r(!0);function Ci(e,t){return e&&bi(e,t,Ds)}function wi(e,t){return e&&yi(e,t,Ds)}function Si(e,t){return Ot(t,(function(t){return Ko(e[t])}))}function Ii(e,t){for(var n=0,i=(t=yr(t,e)).length;null!=e&&n<i;)e=e[ja(t[n++])];return n&&n==i?e:r}function Ti(e,t,n){var i=t(e);return Ho(e)?i:jt(i,n(e))}function Ei(e){return null==e?e===r?"[object Undefined]":"[object Null]":Ze&&Ze in Me(e)?function(e){var t=Ne.call(e,Ze),n=e[Ze];try{e[Ze]=r;var i=!0}catch(o){}var a=Ue.call(e);i&&(t?e[Ze]=n:delete e[Ze]);return a}(e):function(e){return Ue.call(e)}(e)}function Mi(e,t){return e>t}function Ri(e,t){return null!=e&&Ne.call(e,t)}function Ai(e,t){return null!=e&&t in Me(e)}function ki(e,t,i){for(var a=i?_t:Lt,o=e[0].length,s=e.length,l=s,c=n(s),u=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Nt(f,$t(t))),u=yn(f.length,u),c[l]=!i&&(t||o>=120&&f.length>=120)?new Qn(l&&f):r}f=e[0];var h=-1,p=c[0];e:for(;++h<o&&d.length<u;){var g=f[h],m=t?t(g):g;if(g=i||0!==g?g:0,!(p?tn(p,m):a(d,m,i))){for(l=s;--l;){var v=c[l];if(!(v?tn(v,m):a(e[l],m,i)))continue e}p&&p.push(m),d.push(g)}}return d}function xi(e,t,n){var i=null==(e=Ra(e,t=yr(t,e)))?e:e[ja(qa(t))];return null==i?r:Rt(i,e,n)}function Di(e){return ts(e)&&Ei(e)==b}function Oi(e,t,n,i,a){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,i,a,o){var s=Ho(e),l=Ho(t),c=s?y:pa(e),u=l?y:pa(t),d=(c=c==b?R:c)==R,f=(u=u==b?R:u)==R,h=c==u;if(h&&Qo(e)){if(!Qo(t))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new qn),s||cs(e)?ta(e,t,n,i,a,o):function(e,t,n,i,r,a,o){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case C:case w:case M:return Bo(+e,+t);case S:return e.name==t.name&&e.message==t.message;case k:case D:return e==t+"";case E:var s=cn;case x:var l=1&i;if(s||(s=fn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=ta(s(e),s(t),i,r,a,o);return o.delete(e),u;case O:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var p=d&&Ne.call(e,"__wrapped__"),g=f&&Ne.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return o||(o=new qn),a(m,v,n,i,o)}}if(!h)return!1;return o||(o=new qn),function(e,t,n,i,a,o){var s=1&n,l=ia(e),c=l.length,u=ia(t),d=u.length;if(c!=d&&!s)return!1;var f=c;for(;f--;){var h=l[f];if(!(s?h in t:Ne.call(t,h)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);var v=s;for(;++f<c;){var b=e[h=l[f]],y=t[h];if(i)var C=s?i(y,b,h,t,e,o):i(b,y,h,e,t,o);if(!(C===r?b===y||a(b,y,n,i,o):C)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,a,o)}(e,t,n,i,Oi,a))}function Li(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Me(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var c=(l=n[a])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===r&&!(c in e))return!1}else{var f=new qn;if(i)var h=i(u,d,c,e,t,f);if(!(h===r?Oi(d,u,3,i,f):h))return!1}}return!0}function _i(e){return!(!es(e)||(t=e,Pe&&Pe in t))&&(Ko(e)?ze:be).test(Pa(e));var t}function Ni(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ho(e)?zi(e[0],e[1]):Bi(e):fl(e)}function ji(e){if(!Ia(e))return Bt(e);var t=[];for(var n in Me(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pi(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Me(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var i in e)("constructor"!=i||!t&&Ne.call(e,i))&&n.push(i);return n}function Ui(e,t){return e<t}function Fi(e,t){var i=-1,r=Yo(e)?n(e.length):[];return fi(e,(function(e,n,a){r[++i]=t(e,n,a)})),r}function Bi(e){var t=ua(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||Li(n,e,t)}}function zi(e,t){return Ca(e)&&Ta(t)?Ea(ja(e),t):function(n){var i=Ms(n,e);return i===r&&i===t?Rs(n,e):Oi(t,i,3)}}function Wi(e,t,n,i,a){e!==t&&bi(t,(function(o,s){if(a||(a=new qn),es(o))!function(e,t,n,i,a,o,s){var l=Aa(e,n),c=Aa(t,n),u=s.get(c);if(u)return void ei(e,n,u);var d=o?o(l,c,n+"",e,t,s):r,f=d===r;if(f){var h=Ho(c),p=!h&&Qo(c),g=!h&&!p&&cs(c);d=c,h||p||g?Ho(l)?d=l:Jo(l)?d=kr(l):p?(f=!1,d=Ir(c,!0)):g?(f=!1,d=Er(c,!0)):d=[]:rs(c)||Vo(c)?(d=l,Vo(l)?d=vs(l):es(l)&&!Ko(l)||(d=ma(c))):f=!1}f&&(s.set(c,d),a(d,c,i,o,s),s.delete(c));ei(e,n,d)}(e,t,s,n,Wi,i,a);else{var l=i?i(Aa(e,s),o,s+"",e,t,a):r;l===r&&(l=o),ei(e,s,l)}}),Os)}function Vi(e,t){var n=e.length;if(n)return ba(t+=t<0?n:0,n)?e[t]:r}function Hi(e,t,n){t=t.length?Nt(t,(function(e){return Ho(e)?function(t){return Ii(t,1===e.length?e[0]:e)}:e})):[il];var i=-1;t=Nt(t,$t(la()));var r=Fi(e,(function(e,n,r){var a=Nt(t,(function(t){return t(e)}));return{criteria:a,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;for(;++i<o;){var l=Mr(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=Ii(e,o);n(s,o)&&$i(a,yr(o,e),s)}return a}function Yi(e,t,n,i){var r=i?Ht:Vt,a=-1,o=t.length,s=e;for(e===t&&(t=kr(t)),n&&(s=Nt(e,$t(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&qe.call(s,l,1),qe.call(e,l,1);return e}function Ji(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;ba(r)?qe.call(e,r,1):dr(e,r)}}return e}function Qi(e,t){return e+pt(Sn()*(t-e+1))}function qi(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xi(e,t){return Da(Ma(e,t,il),e+"")}function Ki(e){return Kn(Bs(e))}function Zi(e,t){var n=Bs(e);return _a(n,si(t,0,n.length))}function $i(e,t,n,i){if(!es(e))return e;for(var a=-1,o=(t=yr(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var c=ja(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var d=l[c];(u=i?i(d,c,l):r)===r&&(u=es(d)?d:ba(t[a+1])?[]:{})}ti(l,c,u),l=l[c]}return e}var er=xn?function(e,t){return xn.set(e,t),e}:il,tr=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:il;function nr(e){return _a(Bs(e))}function ir(e,t,i){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(i=i>a?a:i)<0&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var o=n(a);++r<a;)o[r]=e[r+t];return o}function rr(e,t){var n;return fi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function ar(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!ls(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return or(e,t,il,n)}function or(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,l=null===t,c=ls(t),u=t===r;a<o;){var d=pt((a+o)/2),f=n(e[d]),h=f!==r,p=null===f,g=f===f,m=ls(f);if(s)var v=i||g;else v=u?g&&(i||h):l?g&&h&&(i||!p):c?g&&h&&!p&&(i||!m):!p&&!m&&(i?f<=t:f<t);v?a=d+1:o=d}return yn(o,4294967294)}function sr(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!Bo(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function lr(e){return"number"==typeof e?e:ls(e)?g:+e}function cr(e){if("string"==typeof e)return e;if(Ho(e))return Nt(e,cr)+"";if(ls(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ur(e,t,n){var i=-1,r=Lt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,r=_t;else if(a>=200){var c=t?null:qr(e);if(c)return fn(c);o=!1,r=tn,l=new Qn}else l=t?[]:s;e:for(;++i<a;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function dr(e,t){return null==(e=Ra(e,t=yr(t,e)))||delete e[ja(qa(t))]}function fr(e,t,n,i){return $i(e,t,n(Ii(e,t)),i)}function hr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?ir(e,i?0:a,i?a+1:r):ir(e,i?a+1:0,i?r:a)}function pr(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function gr(e,t,i){var r=e.length;if(r<2)return r?ur(e[0]):[];for(var a=-1,o=n(r);++a<r;)for(var s=e[a],l=-1;++l<r;)l!=a&&(o[a]=di(o[a]||s,e[l],t,i));return ur(vi(o,1),t,i)}function mr(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:r;n(s,e[i],l)}return s}function vr(e){return Jo(e)?e:[]}function br(e){return"function"==typeof e?e:il}function yr(e,t){return Ho(e)?e:Ca(e,t)?[e]:Na(bs(e))}var Cr=Xi;function wr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ir(e,t,n)}var Sr=nt||function(e){return gt.clearTimeout(e)};function Ir(e,t){if(t)return e.slice();var n=e.length,i=Ge?Ge(n):new e.constructor(n);return e.copy(i),i}function Tr(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Er(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Mr(e,t){if(e!==t){var n=e!==r,i=null===e,a=e===e,o=ls(e),s=t!==r,l=null===t,c=t===t,u=ls(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}function Rr(e,t,i,r){for(var a=-1,o=e.length,s=i.length,l=-1,c=t.length,u=Qt(o-s,0),d=n(c+u),f=!r;++l<c;)d[l]=t[l];for(;++a<s;)(f||a<o)&&(d[i[a]]=e[a]);for(;u--;)d[l++]=e[a++];return d}function Ar(e,t,i,r){for(var a=-1,o=e.length,s=-1,l=i.length,c=-1,u=t.length,d=Qt(o-l,0),f=n(d+u),h=!r;++a<d;)f[a]=e[a];for(var p=a;++c<u;)f[p+c]=t[c];for(;++s<l;)(h||a<o)&&(f[p+i[s]]=e[a++]);return f}function kr(e,t){var i=-1,r=e.length;for(t||(t=n(r));++i<r;)t[i]=e[i];return t}function xr(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(n[l],e[l],l,n,e):r;c===r&&(c=e[l]),a?ai(n,l,c):ti(n,l,c)}return n}function Dr(e,t){return function(n,i){var r=Ho(n)?At:ii,a=t?t():{};return r(n,e,la(i,2),a)}}function Or(e){return Xi((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ya(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Me(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}function Lr(e,t){return function(n,i){if(null==n)return n;if(!Yo(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Me(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function _r(e){return function(t,n,i){for(var r=-1,a=Me(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}function Nr(e){return function(t){var n=ln(t=bs(t))?gn(t):r,i=n?n[0]:t.charAt(0),a=n?wr(n,1).join(""):t.slice(1);return i[e]()+a}}function jr(e){return function(t){return Pt(Ks(Vs(t).replace(et,"")),e,"")}}function Pr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),i=e.apply(n,t);return es(i)?i:n}}function Ur(e){return function(t,n,i){var a=Me(t);if(!Yo(t)){var o=la(n,3);t=Ds(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Fr(e){return na((function(t){var n=t.length,i=n,o=Vn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new ke(a);if(o&&!l&&"wrapper"==oa(s))var l=new Vn([],!0)}for(i=l?i:n;++i<n;){var c=oa(s=t[i]),u="wrapper"==c?aa(s):r;l=u&&wa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[oa(u[0])].apply(l,u[3]):1==s.length&&wa(s)?l[c]():l.thru(s)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&Ho(i))return l.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function Br(e,t,i,a,o,s,l,c,u,f){var h=t&d,p=1&t,g=2&t,m=24&t,v=512&t,b=g?r:Pr(e);return function d(){for(var y=arguments.length,C=n(y),w=y;w--;)C[w]=arguments[w];if(m)var S=sa(d),I=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(C,S);if(a&&(C=Rr(C,a,o,m)),s&&(C=Ar(C,s,l,m)),y-=I,m&&y<f){var T=dn(C,S);return Jr(e,t,Br,d.placeholder,i,C,T,c,u,f-y)}var E=p?i:this,M=g?E[e]:e;return y=C.length,c?C=function(e,t){var n=e.length,i=yn(t.length,n),a=kr(e);for(;i--;){var o=t[i];e[i]=ba(o,n)?a[o]:r}return e}(C,c):v&&y>1&&C.reverse(),h&&u<y&&(C.length=u),this&&this!==gt&&this instanceof d&&(M=b||Pr(M)),M.apply(E,C)}}function zr(e,t){return function(n,i){return function(e,t,n,i){return Ci(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function Wr(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=cr(n),i=cr(i)):(n=lr(n),i=lr(i)),a=e(n,i)}return a}}function Vr(e){return na((function(t){return t=Nt(t,$t(la())),Xi((function(n){var i=this;return e(t,(function(e){return Rt(e,i,n)}))}))}))}function Hr(e,t){var n=(t=t===r?" ":cr(t)).length;if(n<2)return n?qi(t,e):t;var i=qi(t,ht(e/pn(t)));return ln(t)?wr(gn(i),0,e).join(""):i.slice(0,e)}function Gr(e){return function(t,i,a){return a&&"number"!=typeof a&&ya(t,i,a)&&(i=a=r),t=hs(t),i===r?(i=t,t=0):i=hs(i),function(e,t,i,r){for(var a=-1,o=Qt(ht((t-e)/(i||1)),0),s=n(o);o--;)s[r?o:++a]=e,e+=i;return s}(t,i,a=a===r?t<i?1:-1:hs(a),e)}}function Yr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Jr(e,t,n,i,a,o,s,l,d,f){var h=8&t;t|=h?c:u,4&(t&=~(h?u:c))||(t&=-4);var p=[e,t,a,h?o:r,h?s:r,h?r:o,h?r:s,l,d,f],g=n.apply(r,p);return wa(e)&&ka(g,p),g.placeholder=i,Oa(g,e,t)}function Qr(e){var t=Ee[e];return function(e,n){if(e=ms(e),(n=null==n?0:yn(ps(n),292))&&yt(e)){var i=(bs(e)+"e").split("e");return+((i=(bs(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var qr=Rn&&1/fn(new Rn([,-0]))[1]==h?function(e){return new Rn(e)}:ll;function Xr(e){return function(t){var n=pa(t);return n==E?cn(t):n==x?hn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Kr(e,t,i,o,h,p,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new ke(a);var b=o?o.length:0;if(b||(t&=-97,o=h=r),g=g===r?g:Qt(ps(g),0),m=m===r?m:ps(m),b-=h?h.length:0,t&u){var y=o,C=h;o=h=r}var w=v?r:aa(e),S=[e,t,i,o,h,y,C,p,g,m];if(w&&function(e,t){var n=e[1],i=t[1],r=n|i,a=r<131,o=i==d&&8==n||i==d&&n==f&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Rr(c,l,t[4]):l,e[4]=c?dn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ar(c,l,t[6]):l,e[6]=c?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);i&d&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(S,w),e=S[0],t=S[1],i=S[2],o=S[3],h=S[4],!(m=S[9]=S[9]===r?v?0:e.length:Qt(S[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)I=8==t||t==l?function(e,t,i){var a=Pr(e);return function o(){for(var s=arguments.length,l=n(s),c=s,u=sa(o);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:dn(l,u);return(s-=d.length)<i?Jr(e,t,Br,o.placeholder,r,l,d,r,r,i-s):Rt(this&&this!==gt&&this instanceof o?a:e,this,l)}}(e,t,m):t!=c&&33!=t||h.length?Br.apply(r,S):function(e,t,i,r){var a=1&t,o=Pr(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=r.length,d=n(u+l),f=this&&this!==gt&&this instanceof t?o:e;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++s];return Rt(f,a?i:this,d)}}(e,t,i,o);else var I=function(e,t,n){var i=1&t,r=Pr(e);return function t(){return(this&&this!==gt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,i);return Oa((w?er:ka)(I,S),e,t)}function Zr(e,t,n,i){return e===r||Bo(e,Oe[n])&&!Ne.call(i,n)?t:e}function $r(e,t,n,i,a,o){return es(e)&&es(t)&&(o.set(t,e),Wi(e,t,r,$r,o),o.delete(t)),e}function ea(e){return rs(e)?r:e}function ta(e,t,n,i,a,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&n?new Qn:r;for(o.set(e,t),o.set(t,e);++f<l;){var g=e[f],m=t[f];if(i)var v=s?i(m,g,f,t,e,o):i(g,m,f,e,t,o);if(v!==r){if(v)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(g===e||a(g,e,n,i,o)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!a(g,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function na(e){return Da(Ma(e,r,Ha),e+"")}function ia(e){return Ti(e,Ds,fa)}function ra(e){return Ti(e,Os,ha)}var aa=xn?function(e){return xn.get(e)}:ll;function oa(e){for(var t=e.name+"",n=Dn[t],i=Ne.call(Dn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function sa(e){return(Ne.call(Bn,"placeholder")?Bn:e).placeholder}function la(){var e=Bn.iteratee||rl;return e=e===rl?Ni:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ua(e){for(var t=Ds(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Ta(r)]}return t}function da(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return _i(n)?n:r}var fa=mt?function(e){return null==e?[]:(e=Me(e),Ot(mt(e),(function(t){return Qe.call(e,t)})))}:gl,ha=mt?function(e){for(var t=[];e;)jt(t,fa(e)),e=Ye(e);return t}:gl,pa=Ei;function ga(e,t,n){for(var i=-1,r=(t=yr(t,e)).length,a=!1;++i<r;){var o=ja(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&$o(r)&&ba(o,r)&&(Ho(e)||Vo(e))}function ma(e){return"function"!=typeof e.constructor||Ia(e)?{}:zn(Ye(e))}function va(e){return Ho(e)||Vo(e)||!!(Xe&&e&&e[Xe])}function ba(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,n){if(!es(n))return!1;var i=typeof t;return!!("number"==i?Yo(n)&&ba(t,n.length):"string"==i&&t in n)&&Bo(n[t],e)}function Ca(e,t){if(Ho(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Me(t))}function wa(e){var t=oa(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var i=aa(n);return!!i&&e===i[0]}(Tn&&pa(new Tn(new ArrayBuffer(1)))!=N||En&&pa(new En)!=E||Mn&&pa(Mn.resolve())!=A||Rn&&pa(new Rn)!=x||An&&pa(new An)!=L)&&(pa=function(e){var t=Ei(e),n=t==R?e.constructor:r,i=n?Pa(n):"";if(i)switch(i){case On:return N;case Ln:return E;case _n:return A;case Nn:return x;case jn:return L}return t});var Sa=Le?Ko:ml;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ta(e){return e===e&&!es(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Me(n)))}}function Ma(e,t,i){return t=Qt(t===r?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=Qt(r.length-t,0),s=n(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=n(t+1);++a<t;)l[a]=r[a];return l[t]=i(s),Rt(e,this,l)}}function Ra(e,t){return t.length<2?e:Ii(e,ir(t,0,-1))}function Aa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ka=La(er),xa=ut||function(e,t){return gt.setTimeout(e,t)},Da=La(tr);function Oa(e,t,n){var i=t+"";return Da(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return kt(v,(function(n){var i="_."+n[0];t&n[1]&&!Lt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(i),n)))}function La(e){var t=0,n=0;return function(){var i=Cn(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function _a(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Qi(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Na=function(e){var t=_o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,n,i,r){t.push(i?r.replace(he,"$1"):n||e)})),t}));function ja(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Pa(e){if(null!=e){try{return _e.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ua(e){if(e instanceof Hn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=kr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fa=Xi((function(e,t){return Jo(e)?di(e,vi(t,1,Jo,!0)):[]})),Ba=Xi((function(e,t){var n=qa(t);return Jo(n)&&(n=r),Jo(e)?di(e,vi(t,1,Jo,!0),la(n,2)):[]})),za=Xi((function(e,t){var n=qa(t);return Jo(n)&&(n=r),Jo(e)?di(e,vi(t,1,Jo,!0),r,n):[]}));function Wa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ps(n);return r<0&&(r=Qt(i+r,0)),Wt(e,la(t,3),r)}function Va(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=ps(n),a=n<0?Qt(i+a,0):yn(a,i-1)),Wt(e,la(t,3),a,!0)}function Ha(e){return(null==e?0:e.length)?vi(e,1):[]}function Ga(e){return e&&e.length?e[0]:r}var Ya=Xi((function(e){var t=Nt(e,vr);return t.length&&t[0]===e[0]?ki(t):[]})),Ja=Xi((function(e){var t=qa(e),n=Nt(e,vr);return t===qa(n)?t=r:n.pop(),n.length&&n[0]===e[0]?ki(n,la(t,2)):[]})),Qa=Xi((function(e){var t=qa(e),n=Nt(e,vr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?ki(n,r,t):[]}));function qa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Xa=Xi(Ka);function Ka(e,t){return e&&e.length&&t&&t.length?Yi(e,t):e}var Za=na((function(e,t){var n=null==e?0:e.length,i=oi(e,t);return Ji(e,Nt(t,(function(e){return ba(e,n)?+e:e})).sort(Mr)),i}));function $a(e){return null==e?e:In.call(e)}var eo=Xi((function(e){return ur(vi(e,1,Jo,!0))})),to=Xi((function(e){var t=qa(e);return Jo(t)&&(t=r),ur(vi(e,1,Jo,!0),la(t,2))})),no=Xi((function(e){var t=qa(e);return t="function"==typeof t?t:r,ur(vi(e,1,Jo,!0),r,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Jo(e))return t=Qt(e.length,t),!0})),Kt(t,(function(t){return Nt(e,Jt(t))}))}function ro(e,t){if(!e||!e.length)return[];var n=io(e);return null==t?n:Nt(n,(function(e){return Rt(t,r,e)}))}var ao=Xi((function(e,t){return Jo(e)?di(e,t):[]})),oo=Xi((function(e){return gr(Ot(e,Jo))})),so=Xi((function(e){var t=qa(e);return Jo(t)&&(t=r),gr(Ot(e,Jo),la(t,2))})),lo=Xi((function(e){var t=qa(e);return t="function"==typeof t?t:r,gr(Ot(e,Jo),r,t)})),co=Xi(io);var uo=Xi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ro(e,n)}));function fo(e){var t=Bn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=na((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return oi(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&ba(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:r}),new Vn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var go=Dr((function(e,t,n){Ne.call(e,n)?++e[n]:ai(e,n,1)}));var mo=Ur(Wa),vo=Ur(Va);function bo(e,t){return(Ho(e)?kt:fi)(e,la(t,3))}function yo(e,t){return(Ho(e)?xt:hi)(e,la(t,3))}var Co=Dr((function(e,t,n){Ne.call(e,n)?e[n].push(t):ai(e,n,[t])}));var wo=Xi((function(e,t,i){var r=-1,a="function"==typeof t,o=Yo(e)?n(e.length):[];return fi(e,(function(e){o[++r]=a?Rt(t,e,i):xi(e,t,i)})),o})),So=Dr((function(e,t,n){ai(e,n,t)}));function Io(e,t){return(Ho(e)?Nt:Fi)(e,la(t,3))}var To=Dr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Xi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ya(e,t[0],t[1])?t=[]:n>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Hi(e,vi(t,1),[])})),Mo=rt||function(){return gt.Date.now()};function Ro(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Kr(e,d,r,r,r,r,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new ke(a);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var ko=Xi((function(e,t,n){var i=1;if(n.length){var r=dn(n,sa(ko));i|=c}return Kr(e,i,t,n,r)})),xo=Xi((function(e,t,n){var i=3;if(n.length){var r=dn(n,sa(xo));i|=c}return Kr(t,i,e,n,r)}));function Do(e,t,n){var i,o,s,l,c,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new ke(a);function g(t){var n=i,a=o;return i=o=r,d=t,l=e.apply(a,n)}function m(e){var n=e-u;return u===r||n>=t||n<0||h&&e-d>=s}function v(){var e=Mo();if(m(e))return b(e);c=xa(v,function(e){var n=t-(e-u);return h?yn(n,s-(e-d)):n}(e))}function b(e){return c=r,p&&i?g(e):(i=o=r,l)}function y(){var e=Mo(),n=m(e);if(i=arguments,o=this,u=e,n){if(c===r)return function(e){return d=e,c=xa(v,t),f?g(e):l}(u);if(h)return Sr(c),c=xa(v,t),g(u)}return c===r&&(c=xa(v,t)),l}return t=ms(t)||0,es(n)&&(f=!!n.leading,s=(h="maxWait"in n)?Qt(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){c!==r&&Sr(c),d=0,i=u=o=c=r},y.flush=function(){return c===r?l:b(Mo())},y}var Oo=Xi((function(e,t){return ui(e,1,t)})),Lo=Xi((function(e,t,n){return ui(e,ms(t)||0,n)}));function _o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(_o.Cache||Jn),n}function No(e){if("function"!=typeof e)throw new ke(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}_o.Cache=Jn;var jo=Cr((function(e,t){var n=(t=1==t.length&&Ho(t[0])?Nt(t[0],$t(la())):Nt(vi(t,1),$t(la()))).length;return Xi((function(i){for(var r=-1,a=yn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return Rt(e,this,i)}))})),Po=Xi((function(e,t){var n=dn(t,sa(Po));return Kr(e,c,r,t,n)})),Uo=Xi((function(e,t){var n=dn(t,sa(Uo));return Kr(e,u,r,t,n)})),Fo=na((function(e,t){return Kr(e,f,r,r,r,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var zo=Yr(Mi),Wo=Yr((function(e,t){return e>=t})),Vo=Di(function(){return arguments}())?Di:function(e){return ts(e)&&Ne.call(e,"callee")&&!Qe.call(e,"callee")},Ho=n.isArray,Go=wt?$t(wt):function(e){return ts(e)&&Ei(e)==_};function Yo(e){return null!=e&&$o(e.length)&&!Ko(e)}function Jo(e){return ts(e)&&Yo(e)}var Qo=vt||ml,qo=St?$t(St):function(e){return ts(e)&&Ei(e)==w};function Xo(e){if(!ts(e))return!1;var t=Ei(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function Ko(e){if(!es(e))return!1;var t=Ei(e);return t==I||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zo(e){return"number"==typeof e&&e==ps(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=It?$t(It):function(e){return ts(e)&&pa(e)==E};function is(e){return"number"==typeof e||ts(e)&&Ei(e)==M}function rs(e){if(!ts(e)||Ei(e)!=R)return!1;var t=Ye(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_e.call(n)==Fe}var as=Tt?$t(Tt):function(e){return ts(e)&&Ei(e)==k};var os=Et?$t(Et):function(e){return ts(e)&&pa(e)==x};function ss(e){return"string"==typeof e||!Ho(e)&&ts(e)&&Ei(e)==D}function ls(e){return"symbol"==typeof e||ts(e)&&Ei(e)==O}var cs=Mt?$t(Mt):function(e){return ts(e)&&$o(e.length)&&!!lt[Ei(e)]};var us=Yr(Ui),ds=Yr((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Yo(e))return ss(e)?gn(e):kr(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=pa(e);return(t==E?cn:t==x?fn:Bs)(e)}function hs(e){return e?(e=ms(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function gs(e){return e?si(ps(e),0,m):0}function ms(e){if("number"==typeof e)return e;if(ls(e))return g;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||ye.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return xr(e,Os(e))}function bs(e){return null==e?"":cr(e)}var ys=Or((function(e,t){if(Ia(t)||Yo(t))xr(t,Ds(t),e);else for(var n in t)Ne.call(t,n)&&ti(e,n,t[n])})),Cs=Or((function(e,t){xr(t,Os(t),e)})),ws=Or((function(e,t,n,i){xr(t,Os(t),e,i)})),Ss=Or((function(e,t,n,i){xr(t,Ds(t),e,i)})),Is=na(oi);var Ts=Xi((function(e,t){e=Me(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ya(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Os(o),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===r||Bo(d,Oe[u])&&!Ne.call(e,u))&&(e[u]=o[u])}return e})),Es=Xi((function(e){return e.push(r,$r),Rt(_s,r,e)}));function Ms(e,t,n){var i=null==e?r:Ii(e,t);return i===r?n:i}function Rs(e,t){return null!=e&&ga(e,t,Ai)}var As=zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),el(il)),ks=zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),la),xs=Xi(xi);function Ds(e){return Yo(e)?Xn(e):ji(e)}function Os(e){return Yo(e)?Xn(e,!0):Pi(e)}var Ls=Or((function(e,t,n){Wi(e,t,n)})),_s=Or((function(e,t,n,i){Wi(e,t,n,i)})),Ns=na((function(e,t){var n={};if(null==e)return n;var i=!1;t=Nt(t,(function(t){return t=yr(t,e),i||(i=t.length>1),t})),xr(e,ra(e),n),i&&(n=li(n,7,ea));for(var r=t.length;r--;)dr(n,t[r]);return n}));var js=na((function(e,t){return null==e?{}:function(e,t){return Gi(e,t,(function(t,n){return Rs(e,n)}))}(e,t)}));function Ps(e,t){if(null==e)return{};var n=Nt(ra(e),(function(e){return[e]}));return t=la(t),Gi(e,n,(function(e,n){return t(e,n[0])}))}var Us=Xr(Ds),Fs=Xr(Os);function Bs(e){return null==e?[]:en(e,Ds(e))}var zs=jr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Xs(bs(e).toLowerCase())}function Vs(e){return(e=bs(e))&&e.replace(we,an).replace(tt,"")}var Hs=jr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=jr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Nr("toLowerCase");var Js=jr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=jr((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var qs=jr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Nr("toUpperCase");function Ks(e,t,n){return e=bs(e),(t=n?r:t)===r?function(e){return at.test(e)}(e)?function(e){return e.match(it)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Zs=Xi((function(e,t){try{return Rt(e,r,t)}catch(n){return Xo(n)?n:new se(n)}})),$s=na((function(e,t){return kt(t,(function(t){t=ja(t),ai(e,t,ko(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Fr(),nl=Fr(!0);function il(e){return e}function rl(e){return Ni("function"==typeof e?e:li(e,1))}var al=Xi((function(e,t){return function(n){return xi(n,e,t)}})),ol=Xi((function(e,t){return function(n){return xi(e,n,t)}}));function sl(e,t,n){var i=Ds(t),r=Si(t,i);null!=n||es(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Si(t,Ds(t)));var a=!(es(n)&&"chain"in n)||!!n.chain,o=Ko(e);return kt(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=kr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,jt([this.value()],arguments))})})),e}function ll(){}var cl=Vr(Nt),ul=Vr(Dt),dl=Vr(Ft);function fl(e){return Ca(e)?Jt(ja(e)):function(e){return function(t){return Ii(t,e)}}(e)}var hl=Gr(),pl=Gr(!0);function gl(){return[]}function ml(){return!1}var vl=Wr((function(e,t){return e+t}),0),bl=Qr("ceil"),yl=Wr((function(e,t){return e/t}),1),Cl=Qr("floor");var wl=Wr((function(e,t){return e*t}),1),Sl=Qr("round"),Il=Wr((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new ke(a);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ro,Bn.assign=ys,Bn.assignIn=Cs,Bn.assignInWith=ws,Bn.assignWith=Ss,Bn.at=Is,Bn.before=Ao,Bn.bind=ko,Bn.bindAll=$s,Bn.bindKey=xo,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ho(e)?e:[e]},Bn.chain=fo,Bn.chunk=function(e,t,i){t=(i?ya(e,t,i):t===r)?1:Qt(ps(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=n(ht(a/t));o<a;)l[s++]=ir(e,o,o+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jt(Ho(i)?kr(i):[i],vi(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new ke(a);return[n(e[0]),e[1]]})):[],Xi((function(n){for(var i=-1;++i<t;){var r=e[i];if(Rt(r[0],this,n))return Rt(r[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ds(e);return function(n){return ci(n,e,t)}}(li(e,1))},Bn.constant=el,Bn.countBy=go,Bn.create=function(e,t){var n=zn(e);return null==t?n:ri(n,t)},Bn.curry=function e(t,n,i){var a=Kr(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,i){var a=Kr(t,l,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Bn.debounce=Do,Bn.defaults=Ts,Bn.defaultsDeep=Es,Bn.defer=Oo,Bn.delay=Lo,Bn.difference=Fa,Bn.differenceBy=Ba,Bn.differenceWith=za,Bn.drop=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,(t=n||t===r?1:ps(t))<0?0:t,i):[]},Bn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,0,(t=i-(t=n||t===r?1:ps(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?hr(e,la(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?hr(e,la(t,3),!0):[]},Bn.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=ps(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:ps(i))<0&&(i+=a),i=n>i?0:gs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Bn.filter=function(e,t){return(Ho(e)?Ot:mi)(e,la(t,3))},Bn.flatMap=function(e,t){return vi(Io(e,t),1)},Bn.flatMapDeep=function(e,t){return vi(Io(e,t),h)},Bn.flatMapDepth=function(e,t,n){return n=n===r?1:ps(n),vi(Io(e,t),n)},Bn.flatten=Ha,Bn.flattenDeep=function(e){return(null==e?0:e.length)?vi(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?vi(e,t=t===r?1:ps(t)):[]},Bn.flip=function(e){return Kr(e,512)},Bn.flow=tl,Bn.flowRight=nl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Bn.functions=function(e){return null==e?[]:Si(e,Ds(e))},Bn.functionsIn=function(e){return null==e?[]:Si(e,Os(e))},Bn.groupBy=Co,Bn.initial=function(e){return(null==e?0:e.length)?ir(e,0,-1):[]},Bn.intersection=Ya,Bn.intersectionBy=Ja,Bn.intersectionWith=Qa,Bn.invert=As,Bn.invertBy=ks,Bn.invokeMap=wo,Bn.iteratee=rl,Bn.keyBy=So,Bn.keys=Ds,Bn.keysIn=Os,Bn.map=Io,Bn.mapKeys=function(e,t){var n={};return t=la(t,3),Ci(e,(function(e,i,r){ai(n,t(e,i,r),e)})),n},Bn.mapValues=function(e,t){var n={};return t=la(t,3),Ci(e,(function(e,i,r){ai(n,i,t(e,i,r))})),n},Bn.matches=function(e){return Bi(li(e,1))},Bn.matchesProperty=function(e,t){return zi(e,li(t,1))},Bn.memoize=_o,Bn.merge=Ls,Bn.mergeWith=_s,Bn.method=al,Bn.methodOf=ol,Bn.mixin=sl,Bn.negate=No,Bn.nthArg=function(e){return e=ps(e),Xi((function(t){return Vi(t,e)}))},Bn.omit=Ns,Bn.omitBy=function(e,t){return Ps(e,No(la(t)))},Bn.once=function(e){return Ao(2,e)},Bn.orderBy=function(e,t,n,i){return null==e?[]:(Ho(t)||(t=null==t?[]:[t]),Ho(n=i?r:n)||(n=null==n?[]:[n]),Hi(e,t,n))},Bn.over=cl,Bn.overArgs=jo,Bn.overEvery=ul,Bn.overSome=dl,Bn.partial=Po,Bn.partialRight=Uo,Bn.partition=To,Bn.pick=js,Bn.pickBy=Ps,Bn.property=fl,Bn.propertyOf=function(e){return function(t){return null==e?r:Ii(e,t)}},Bn.pull=Xa,Bn.pullAll=Ka,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yi(e,t,la(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yi(e,t,r,n):e},Bn.pullAt=Za,Bn.range=hl,Bn.rangeRight=pl,Bn.rearg=Fo,Bn.reject=function(e,t){return(Ho(e)?Ot:mi)(e,No(la(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=la(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Ji(e,r),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new ke(a);return Xi(e,t=t===r?t:ps(t))},Bn.reverse=$a,Bn.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ps(t),(Ho(e)?Zn:Zi)(e,t)},Bn.set=function(e,t,n){return null==e?e:$i(e,t,n)},Bn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:$i(e,t,n,i)},Bn.shuffle=function(e){return(Ho(e)?$n:nr)(e)},Bn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=i):(t=null==t?0:ps(t),n=n===r?i:ps(n)),ir(e,t,n)):[]},Bn.sortBy=Eo,Bn.sortedUniq=function(e){return e&&e.length?sr(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?sr(e,la(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=r),(n=n===r?m:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=cr(t))&&ln(e)?wr(gn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new ke(a);return t=null==t?0:Qt(ps(t),0),Xi((function(n){var i=n[t],r=wr(n,0,t);return i&&jt(r,i),Rt(e,this,r)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ir(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ir(e,0,(t=n||t===r?1:ps(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,(t=i-(t=n||t===r?1:ps(t)))<0?0:t,i):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?hr(e,la(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?hr(e,la(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ke(a);return es(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Do(e,t,{leading:i,maxWait:t,trailing:r})},Bn.thru=ho,Bn.toArray=fs,Bn.toPairs=Us,Bn.toPairsIn=Fs,Bn.toPath=function(e){return Ho(e)?Nt(e,ja):ls(e)?[e]:kr(Na(bs(e)))},Bn.toPlainObject=vs,Bn.transform=function(e,t,n){var i=Ho(e),r=i||Qo(e)||cs(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:es(e)&&Ko(a)?zn(Ye(e)):{}}return(r?kt:Ci)(e,(function(e,i,r){return t(n,e,i,r)})),n},Bn.unary=function(e){return Ro(e,1)},Bn.union=eo,Bn.unionBy=to,Bn.unionWith=no,Bn.uniq=function(e){return e&&e.length?ur(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ur(e,la(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ur(e,r,t):[]},Bn.unset=function(e,t){return null==e||dr(e,t)},Bn.unzip=io,Bn.unzipWith=ro,Bn.update=function(e,t,n){return null==e?e:fr(e,t,br(n))},Bn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:fr(e,t,br(n),i)},Bn.values=Bs,Bn.valuesIn=function(e){return null==e?[]:en(e,Os(e))},Bn.without=ao,Bn.words=Ks,Bn.wrap=function(e,t){return Po(br(t),e)},Bn.xor=oo,Bn.xorBy=so,Bn.xorWith=lo,Bn.zip=co,Bn.zipObject=function(e,t){return mr(e||[],t||[],ti)},Bn.zipObjectDeep=function(e,t){return mr(e||[],t||[],$i)},Bn.zipWith=uo,Bn.entries=Us,Bn.entriesIn=Fs,Bn.extend=Cs,Bn.extendWith=ws,sl(Bn,Bn),Bn.add=vl,Bn.attempt=Zs,Bn.camelCase=zs,Bn.capitalize=Ws,Bn.ceil=bl,Bn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=ms(n))===n?n:0),t!==r&&(t=(t=ms(t))===t?t:0),si(ms(e),t,n)},Bn.clone=function(e){return li(e,4)},Bn.cloneDeep=function(e){return li(e,5)},Bn.cloneDeepWith=function(e,t){return li(e,5,t="function"==typeof t?t:r)},Bn.cloneWith=function(e,t){return li(e,4,t="function"==typeof t?t:r)},Bn.conformsTo=function(e,t){return null==t||ci(e,t,Ds(t))},Bn.deburr=Vs,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=yl,Bn.endsWith=function(e,t,n){e=bs(e),t=cr(t);var i=e.length,a=n=n===r?i:si(ps(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=Bo,Bn.escape=function(e){return(e=bs(e))&&K.test(e)?e.replace(q,on):e},Bn.escapeRegExp=function(e){return(e=bs(e))&&ae.test(e)?e.replace(re,"\\$&"):e},Bn.every=function(e,t,n){var i=Ho(e)?Dt:pi;return n&&ya(e,t,n)&&(t=r),i(e,la(t,3))},Bn.find=mo,Bn.findIndex=Wa,Bn.findKey=function(e,t){return zt(e,la(t,3),Ci)},Bn.findLast=vo,Bn.findLastIndex=Va,Bn.findLastKey=function(e,t){return zt(e,la(t,3),wi)},Bn.floor=Cl,Bn.forEach=bo,Bn.forEachRight=yo,Bn.forIn=function(e,t){return null==e?e:bi(e,la(t,3),Os)},Bn.forInRight=function(e,t){return null==e?e:yi(e,la(t,3),Os)},Bn.forOwn=function(e,t){return e&&Ci(e,la(t,3))},Bn.forOwnRight=function(e,t){return e&&wi(e,la(t,3))},Bn.get=Ms,Bn.gt=zo,Bn.gte=Wo,Bn.has=function(e,t){return null!=e&&ga(e,t,Ri)},Bn.hasIn=Rs,Bn.head=Ga,Bn.identity=il,Bn.includes=function(e,t,n,i){e=Yo(e)?e:Bs(e),n=n&&!i?ps(n):0;var r=e.length;return n<0&&(n=Qt(r+n,0)),ss(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Vt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ps(n);return r<0&&(r=Qt(i+r,0)),Vt(e,t,r)},Bn.inRange=function(e,t,n){return t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,n){return e>=yn(t,n)&&e<Qt(t,n)}(e=ms(e),t,n)},Bn.invoke=xs,Bn.isArguments=Vo,Bn.isArray=Ho,Bn.isArrayBuffer=Go,Bn.isArrayLike=Yo,Bn.isArrayLikeObject=Jo,Bn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Ei(e)==C},Bn.isBuffer=Qo,Bn.isDate=qo,Bn.isElement=function(e){return ts(e)&&1===e.nodeType&&!rs(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Yo(e)&&(Ho(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||cs(e)||Vo(e)))return!e.length;var t=pa(e);if(t==E||t==x)return!e.size;if(Ia(e))return!ji(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Oi(e,t)},Bn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Oi(e,t,r,n):!!i},Bn.isError=Xo,Bn.isFinite=function(e){return"number"==typeof e&&yt(e)},Bn.isFunction=Ko,Bn.isInteger=Zo,Bn.isLength=$o,Bn.isMap=ns,Bn.isMatch=function(e,t){return e===t||Li(e,t,ua(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Li(e,t,ua(t),n)},Bn.isNaN=function(e){return is(e)&&e!=+e},Bn.isNative=function(e){if(Sa(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _i(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=is,Bn.isObject=es,Bn.isObjectLike=ts,Bn.isPlainObject=rs,Bn.isRegExp=as,Bn.isSafeInteger=function(e){return Zo(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=os,Bn.isString=ss,Bn.isSymbol=ls,Bn.isTypedArray=cs,Bn.isUndefined=function(e){return e===r},Bn.isWeakMap=function(e){return ts(e)&&pa(e)==L},Bn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Ei(e)},Bn.join=function(e,t){return null==e?"":Ct.call(e,t)},Bn.kebabCase=Hs,Bn.last=qa,Bn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=ps(n))<0?Qt(i+a,0):yn(a,i-1)),t===t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,a):Wt(e,Gt,a,!0)},Bn.lowerCase=Gs,Bn.lowerFirst=Ys,Bn.lt=us,Bn.lte=ds,Bn.max=function(e){return e&&e.length?gi(e,il,Mi):r},Bn.maxBy=function(e,t){return e&&e.length?gi(e,la(t,2),Mi):r},Bn.mean=function(e){return Yt(e,il)},Bn.meanBy=function(e,t){return Yt(e,la(t,2))},Bn.min=function(e){return e&&e.length?gi(e,il,Ui):r},Bn.minBy=function(e,t){return e&&e.length?gi(e,la(t,2),Ui):r},Bn.stubArray=gl,Bn.stubFalse=ml,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=wl,Bn.nth=function(e,t){return e&&e.length?Vi(e,ps(t)):r},Bn.noConflict=function(){return gt._===this&&(gt._=Be),this},Bn.noop=ll,Bn.now=Mo,Bn.pad=function(e,t,n){e=bs(e);var i=(t=ps(t))?pn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Hr(pt(r),n)+e+Hr(ht(r),n)},Bn.padEnd=function(e,t,n){e=bs(e);var i=(t=ps(t))?pn(e):0;return t&&i<t?e+Hr(t-i,n):e},Bn.padStart=function(e,t,n){e=bs(e);var i=(t=ps(t))?pn(e):0;return t&&i<t?Hr(t-i,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(bs(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hs(e),t===r?(t=e,e=0):t=hs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=Sn();return yn(e+a*(t-e+dt("1e-"+((a+"").length-1))),t)}return Qi(e,t)},Bn.reduce=function(e,t,n){var i=Ho(e)?Pt:qt,r=arguments.length<3;return i(e,la(t,4),n,r,fi)},Bn.reduceRight=function(e,t,n){var i=Ho(e)?Ut:qt,r=arguments.length<3;return i(e,la(t,4),n,r,hi)},Bn.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ps(t),qi(bs(e),t)},Bn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var i=-1,a=(t=yr(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[ja(t[i])];o===r&&(i=a,o=n),e=Ko(o)?o.call(e):o}return e},Bn.round=Sl,Bn.runInContext=e,Bn.sample=function(e){return(Ho(e)?Kn:Ki)(e)},Bn.size=function(e){if(null==e)return 0;if(Yo(e))return ss(e)?pn(e):e.length;var t=pa(e);return t==E||t==x?e.size:ji(e).length},Bn.snakeCase=Js,Bn.some=function(e,t,n){var i=Ho(e)?Ft:rr;return n&&ya(e,t,n)&&(t=r),i(e,la(t,3))},Bn.sortedIndex=function(e,t){return ar(e,t)},Bn.sortedIndexBy=function(e,t,n){return or(e,t,la(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=ar(e,t);if(i<n&&Bo(e[i],t))return i}return-1},Bn.sortedLastIndex=function(e,t){return ar(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return or(e,t,la(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ar(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Bn.startCase=Qs,Bn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:si(ps(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},Bn.subtract=Il,Bn.sum=function(e){return e&&e.length?Xt(e,il):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,la(t,2)):0},Bn.template=function(e,t,n){var i=Bn.templateSettings;n&&ya(e,t,n)&&(t=r),e=bs(e),t=ws({},t,i,Zr);var a,o,s=ws({},t.imports,i.imports,Zr),l=Ds(s),c=en(s,l),u=0,d=t.interpolate||Se,f="__p += '",h=Re((t.escape||Se).source+"|"+d.source+"|"+(d===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,i,r,s,l){return i||(i=r),f+=e.slice(u,l).replace(Ie,sn),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(G,""):f).replace(Y,"$1").replace(J,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Zs((function(){return Te(l,p+"return "+f).apply(r,c)}));if(m.source=f,Xo(m))throw m;return m},Bn.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=m,i=yn(e,m);t=la(t),e-=m;for(var r=Kt(i,t);++n<e;)t(n);return r},Bn.toFinite=hs,Bn.toInteger=ps,Bn.toLength=gs,Bn.toLower=function(e){return bs(e).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(e){return e?si(ps(e),-9007199254740991,p):0===e?e:0},Bn.toString=bs,Bn.toUpper=function(e){return bs(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bs(e))&&(n||t===r))return Zt(e);if(!e||!(t=cr(t)))return e;var i=gn(e),a=gn(t);return wr(i,nn(i,a),rn(i,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===r))return e.slice(0,mn(e)+1);if(!e||!(t=cr(t)))return e;var i=gn(e);return wr(i,0,rn(i,gn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===r))return e.replace(oe,"");if(!e||!(t=cr(t)))return e;var i=gn(e);return wr(i,nn(i,gn(t))).join("")},Bn.truncate=function(e,t){var n=30,i="...";if(es(t)){var a="separator"in t?t.separator:a;n="length"in t?ps(t.length):n,i="omission"in t?cr(t.omission):i}var o=(e=bs(e)).length;if(ln(e)){var s=gn(e);o=s.length}if(n>=o)return e;var l=n-pn(i);if(l<1)return i;var c=s?wr(s,0,l).join(""):e.slice(0,l);if(a===r)return c+i;if(s&&(l+=c.length-l),as(a)){if(e.slice(l).search(a)){var u,d=c;for(a.global||(a=Re(a.source,bs(ge.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var f=u.index;c=c.slice(0,f===r?l:f)}}else if(e.indexOf(cr(a),l)!=l){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+i},Bn.unescape=function(e){return(e=bs(e))&&X.test(e)?e.replace(Q,vn):e},Bn.uniqueId=function(e){var t=++je;return bs(e)+t},Bn.upperCase=qs,Bn.upperFirst=Xs,Bn.each=bo,Bn.eachRight=yo,Bn.first=Ga,sl(Bn,function(){var e={};return Ci(Bn,(function(t,n){Ne.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),kt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===r?1:Qt(ps(n),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=yn(n,i.__takeCount__):i.__views__.push({size:yn(n,m),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),kt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(il)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Xi((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return xi(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(No(la(e)))},Hn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(m)},Ci(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Bn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Hn,c=s[0],u=l||Ho(t),d=function(e){var t=a.apply(Bn,jt([e],s));return i&&f?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,g=l&&!h;if(!o&&u){t=g?t:new Hn(this);var m=e.apply(t,s);return m.__actions__.push({func:ho,args:[d],thisArg:r}),new Vn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?i?m.value()[0]:m.value():m)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Ho(r)?r:[],e)}return this[n]((function(n){return t.apply(Ho(n)?n:[],e)}))}})),Ci(Hn.prototype,(function(e,t){var n=Bn[t];if(n){var i=n.name+"";Ne.call(Dn,i)||(Dn[i]=[]),Dn[i].push({name:t,func:n})}})),Dn[Br(r,2).name]=[{name:"wrapper",func:r}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=kr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=kr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=kr(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ho(e),i=t<0,r=n?e.length:0,a=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yn(t,e+o);break;case"takeRight":e=Qt(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,d=u.length,f=0,h=yn(l,this.__takeCount__);if(!n||!i&&r==l&&h==l)return pr(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var g=-1,m=e[c+=t];++g<d;){var v=u[g],b=v.iteratee,y=v.type,C=b(m);if(2==y)m=C;else if(!C){if(1==y)continue e;break e}}p[f++]=m}return p},Bn.prototype.at=po,Bn.prototype.chain=function(){return fo(this)},Bn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var i=Ua(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[$a],thisArg:r}),new Vn(t,this.__chain__)}return this.thru($a)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ke&&(Bn.prototype[Ke]=function(){return this}),Bn}();gt._=bn,(i=function(){return bn}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},7340:e=>{var t=1e3,n=60*t,i=60*n,r=24*i,a=7*r,o=365.25*r;function s(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*a;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var a=Math.abs(e);if(a>=r)return s(e,a,r,"day");if(a>=i)return s(e,a,i,"hour");if(a>=n)return s(e,a,n,"minute");if(a>=t)return s(e,a,t,"second");return e+" ms"}(e):function(e){var a=Math.abs(e);if(a>=r)return Math.round(e/r)+"d";if(a>=i)return Math.round(e/i)+"h";if(a>=n)return Math.round(e/n)+"m";if(a>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4275:(e,t,n)=>{let i;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:n.g):e=>(i||(i=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},5838:(e,t,n)=>{"use strict";var i=65536,r=4294967295;var a=n(9966).Buffer,o=n.g.crypto||n.g.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>r)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>i)for(var s=0;s<e;s+=i)o.getRandomValues(n.slice(s,s+i));else o.getRandomValues(n);if("function"===typeof t)return process.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},1151:function(e,t,n){var i;"undefined"!=typeof self&&self,e.exports=(i=n(5043),function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=i},function(e,t,n){"use strict";var i={linear:function(e,t,n,i){return(n-t)*e/i+t},easeInQuad:function(e,t,n,i){return(n-t)*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-(n-t)*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return(n-t)*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return(n-t)*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return(n-t)*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-(n-t)*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return(n-t)*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return(n-t)*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){var r=n-t;return-r*Math.cos(e/i*(Math.PI/2))+r+t},easeOutSine:function(e,t,n,i){return(n-t)*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-(n-t)/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0==e?t:(n-t)*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){var r=n-t;return e==i?t+r:r*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){var r=n-t;return 0===e?t:e===i?t+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,i){return-(n-t)*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return(n-t)*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,i){var r,a,o,s=n-t;return o=1.70158,0===e?t:1==(e/=i)?t+s:((a=0)||(a=.3*i),(r=s)<Math.abs(s)?(r=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)+t)},easeOutElastic:function(e,t,n,i){var r,a,o,s=n-t;return o=1.70158,0===e?t:1==(e/=i)?t+s:((a=0)||(a=.3*i),(r=s)<Math.abs(s)?(r=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/r),r*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/a)+s+t)},easeInOutElastic:function(e,t,n,i){var r,a,o,s=n-t;return o=1.70158,0===e?t:2==(e/=i/2)?t+s:((a=0)||(a=i*(.3*1.5)),(r=s)<Math.abs(s)?(r=s,o=a/4):o=a/(2*Math.PI)*Math.asin(s/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*.5+s+t)},easeInBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(n-t)*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(n-t)*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){var a=n-t;return void 0===r&&(r=1.70158),(e/=i/2)<1?a/2*(e*e*((1+(r*=1.525))*e-r))+t:a/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(e,t,n,r){var a=n-t;return a-i.easeOutBounce(r-e,0,a,r)+t},easeOutBounce:function(e,t,n,i){var r=n-t;return(e/=i)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var a=n-t;return e<r/2?.5*i.easeInBounce(2*e,0,a,r)+t:.5*i.easeOutBounce(2*e-r,0,a,r)+.5*a+t}};e.exports=i},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactConfetti",(function(){return B}));var i,r,a=n(0),o=n.n(a),s=n(1),l=n.n(s);function c(e,t){return e+Math.random()*(t-e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(i||(i={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(r||(r={}));var f=function(){function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"context",void 0),d(this,"radius",void 0),d(this,"x",void 0),d(this,"y",void 0),d(this,"w",void 0),d(this,"h",void 0),d(this,"vx",void 0),d(this,"vy",void 0),d(this,"shape",void 0),d(this,"angle",void 0),d(this,"angularSpin",void 0),d(this,"color",void 0),d(this,"rotateY",void 0),d(this,"rotationDirection",void 0),d(this,"getOptions",void 0),this.getOptions=n;var o,s,l=this.getOptions(),u=l.colors,f=l.initialVelocityX,h=l.initialVelocityY;this.context=t,this.x=i,this.y=a,this.w=c(5,20),this.h=c(5,20),this.radius=c(5,10),this.vx="number"==typeof f?c(-f,f):c(f.min,f.max),this.vy="number"==typeof h?c(-h,0):c(h.min,h.max),this.shape=(o=0,s=2,Math.floor(o+Math.random()*(s-o+1))),this.angle=c(0,360)*Math.PI/180,this.angularSpin=c(-.2,.2),this.color=u[Math.floor(Math.random()*u.length)],this.rotateY=c(0,1),this.rotationDirection=c(0,1)?r.Positive:r.Negative}var t,n,a;return t=e,(n=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,n=e.wind,a=e.friction,o=e.opacity,s=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=a,this.vy*=a,this.rotateY>=1&&this.rotationDirection===r.Positive?this.rotationDirection=r.Negative:this.rotateY<=-1&&this.rotationDirection===r.Negative&&(this.rotationDirection=r.Positive);var l=.1*this.rotationDirection;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case i.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case i.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case i.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&u(t.prototype,n),a&&u(t,a),e}();function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"canvas",void 0),h(this,"context",void 0),h(this,"getOptions",void 0),h(this,"x",0),h(this,"y",0),h(this,"w",0),h(this,"h",0),h(this,"lastNumberOfPieces",0),h(this,"tweenInitTime",Date.now()),h(this,"particles",[]),h(this,"particlesGenerated",0),h(this,"removeParticleAt",(function(e){i.particles.splice(e,1)})),h(this,"getParticle",(function(){var e=c(i.x,i.w+i.x),t=c(i.y,i.h+i.y);return new f(i.context,i.getOptions,e,t)})),h(this,"animate",(function(){var e=i.canvas,t=i.context,n=i.particlesGenerated,r=i.lastNumberOfPieces,a=i.getOptions(),o=a.run,s=a.recycle,l=a.numberOfPieces,c=a.debug,u=a.tweenFunction,d=a.tweenDuration;if(!o)return!1;var f=i.particles.length,h=s?f:n,p=Date.now();if(h<l){r!==l&&(i.tweenInitTime=p,i.lastNumberOfPieces=l);for(var g=i.tweenInitTime,m=u(p-g>d?d:Math.max(0,p-g),h,l,d),v=Math.round(m-h),b=0;b<v;b++)i.particles.push(i.getParticle());i.particlesGenerated+=v}return c&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(f),e.width-10,e.height-20)),i.particles.forEach((function(t,n){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(s&&h<=l?i.particles[n]=i.getParticle():i.removeParticleAt(n))})),f>0||h<l})),this.canvas=t;var r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:l.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},C=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"canvas",void 0),b(this,"context",void 0),b(this,"_options",void 0),b(this,"generator",void 0),b(this,"rafId",void 0),b(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:i.canvas.width,h:0}};i._options=m(m(m({},t),y),e),Object.assign(i,e.confettiSource)})),b(this,"update",(function(){var e=i.options,t=e.run,n=e.onConfettiComplete,r=i.canvas,a=i.context;t&&(a.fillStyle="white",a.clearRect(0,0,r.width,r.height)),i.generator.animate()?i.rafId=requestAnimationFrame(i.update):(n&&"function"==typeof n&&i.generator.particlesGenerated>0&&n.call(i,i),i._options.run=!1)})),b(this,"reset",(function(){i.generator&&i.generator.particlesGenerated>0&&(i.generator.particlesGenerated=0,i.generator.particles=[],i.generator.lastNumberOfPieces=0)})),b(this,"stop",(function(){i.options={run:!1},i.rafId&&(cancelAnimationFrame(i.rafId),i.rafId=void 0)})),this.canvas=t;var r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new p(this.canvas,(function(){return i.options})),this.options=n,this.update()}var t,n,i;return t=e,(n=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&v(t.prototype,n),i&&v(t,i),e}();function w(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=N(e);if(t){var r=N(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=o.a.createRef(),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,i,r=O(a);function a(e){var t;k(this,a);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return j(_(t=r.call.apply(r,[this,e].concat(i))),"canvas",o.a.createRef()),j(_(t),"confetti",void 0),t.canvas=e.canvasRef||P,t}return t=a,(n=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=F(this.props)[0];this.confetti=new C(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=F(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=M(F(this.props),2),t=e[0],n=e[1],i=E({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return o.a.createElement("canvas",I({width:t.width,height:t.height,ref:this.canvas},n,{style:i}))}}])&&x(t.prototype,n),i&&x(t,i),a}(a.Component);function F(e){var t={},n={},i=[].concat(w(Object.keys(y)),["confettiSource","drawShape","onConfettiComplete"]),r=["canvasRef"];for(var a in e){var o=e[a];i.includes(a)?t[a]=o:r.includes(a)?r[a]=o:n[a]=o}return[t,n,{}]}j(U,"defaultProps",E({},y)),j(U,"displayName","ReactConfetti");var B=o.a.forwardRef((function(e,t){return o.a.createElement(U,I({canvasRef:t},e))}));t.default=B}]).default)},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var j,P=Object.assign;function U(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case E:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){K(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,Te=null;function Ee(e){if(e=yr(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wr(t),Se(e.stateNode,e.type,t))}}function Me(e){Ie?Te?Te.push(e):Te=[e]:Ie=e}function Re(){if(Ie){var e=Ie,t=Te;if(Te=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function ke(){}var xe=!1;function De(e,t,n){if(xe)return e(t,n);xe=!0;try{return Ae(e,t,n)}finally{xe=!1,(null!==Ie||null!==Te)&&(ke(),Re())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(u)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Le=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(ue){Le=!1}function Ne(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Pe=null,Ue=!1,Fe=null,Be={onError:function(e){je=!0,Pe=e}};function ze(e,t,n,i,r,a,o,s,l){je=!1,Pe=null,Ne.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return He(r),e;if(o===i)return He(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Je=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,qe=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ke=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=dt(s):0!==(a&=o)&&(i=dt(a))}else 0!==(o=n&~r)?i=dt(o):0!==a&&(i=dt(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,It,Tt,Et,Mt=!1,Rt=[],At=null,kt=null,xt=null,Dt=new Map,Ot=new Map,Lt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Pt(e){var t=br(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ce=i,n.target.dispatchEvent(i),Ce=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Mt=!1,null!==At&&Ut(At)&&(At=null),null!==kt&&Ut(kt)&&(kt=null),null!==xt&&Ut(xt)&&(xt=null),Dt.forEach(Ft),Ot.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return zt(t,e)}if(0<Rt.length){zt(Rt[0],e);for(var n=1;n<Rt.length;n++){var i=Rt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==At&&zt(At,e),null!==kt&&zt(kt,e),null!==xt&&zt(xt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Pt(n),null===n.blockedOn&&Lt.shift()}var Vt=C.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,i){var r=yt,a=Vt.transition;Vt.transition=null;try{yt=1,Jt(e,t,n,i)}finally{yt=r,Vt.transition=a}}function Yt(e,t,n,i){var r=yt,a=Vt.transition;Vt.transition=null;try{yt=4,Jt(e,t,n,i)}finally{yt=r,Vt.transition=a}}function Jt(e,t,n,i){if(Ht){var r=qt(e,t,n,i);if(null===r)Hi(e,t,i,Qt,n),Nt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return At=jt(At,e,t,n,i,r),!0;case"dragenter":return kt=jt(kt,e,t,n,i,r),!0;case"mouseover":return xt=jt(xt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Dt.set(a,jt(Dt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Ot.set(a,jt(Ot.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Nt(e,i),4&t&&-1<_t.indexOf(e)){for(;null!==r;){var a=yr(r);if(null!==a&&wt(a),null===(a=qt(e,t,n,i))&&Hi(e,t,i,Qt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Qt=null;function qt(e,t,n,i){if(Qt=null,null!==(e=br(e=we(i))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Kt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,i=n.length,r="value"in Kt?Kt.value:Kt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=P({},cn,{view:0,detail:0}),fn=an(dn),hn=P({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),gn=an(P({},hn,{dataTransfer:0})),mn=an(P({},dn,{relatedTarget:0})),vn=an(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),Cn=an(P({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function En(){return Tn}var Mn=P({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=an(Mn),An=an(P({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(P({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),xn=an(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=P({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Ln=[9,13,27,32],_n=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var jn=u&&"TextEvent"in window&&!Nn,Pn=u&&(!_n||Nn&&8<Nn&&11>=Nn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,i){Me(i),0<(t=Yi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Qn(e){Ui(e,0)}function qn(e){if(J(Cr(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Zn=$n}else Zn=!1;Kn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Yn&&(Yn.detachEvent("onpropertychange",ni),Jn=Yn=null)}function ni(e){if("value"===e.propertyName&&qn(Jn)){var t=[];Gn(t,Jn,e,we(e)),De(Qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Jn=n,(Yn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Jn)}function ai(e,t){if("click"===e)return qn(t)}function oi(e,t){if("input"===e||"change"===e)return qn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=fi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ui(n,a);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,yi=!1;function Ci(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&hi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=Yi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Ii={},Ti={};function Ei(e){if(Ii[e])return Ii[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ti)return Ii[e]=n[t];return e}u&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Mi=Ei("animationend"),Ri=Ei("animationiteration"),Ai=Ei("animationstart"),ki=Ei("transitionend"),xi=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(e,t){xi.set(e,t),l(t,[e])}for(var Li=0;Li<Di.length;Li++){var _i=Di[Li];Oi(_i.toLowerCase(),"on"+(_i[0].toUpperCase()+_i.slice(1)))}Oi(Mi,"onAnimationEnd"),Oi(Ri,"onAnimationIteration"),Oi(Ai,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(ki,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Pi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var u=Pe;je=!1,Pe=null,Ue||(Ue=!0,Fe=u)}}(i,t,void 0,e),e.currentTarget=null}function Ui(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Pi(r,s,c),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Pi(r,s,c),a=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Vi(n,e,i,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[zi]){e[zi]=!0,o.forEach((function(t){"selectionchange"!==t&&(ji.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zi]||(t[zi]=!0,Bi("selectionchange",!1,t))}}function Vi(e,t,n,i){switch(Xt(t)){case 1:var r=Gt;break;case 4:r=Yt;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=br(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}De((function(){var i=a,r=we(n),o=[];e:{var s=xi.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Mi:case Ri:case Ai:l=vn;break;case ki:l=xn;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=i;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Oe(p,f))&&u.push(Gi(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,r),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ce||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:Cr(l),h=null==c?s:Cr(c),(s=new u(g,p+"leave",l,n,r)).target=d,s.relatedTarget=h,g=null,br(r)===i&&((u=new u(f,p+"enter",c,n,r)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Ji(h))p++;for(h=0,g=f;g;g=Ji(g))h++;for(;0<p-h;)u=Ji(u),p--;for(;0<h-p;)f=Ji(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Ji(u),f=Ji(f)}u=null}else u=null;null!==l&&Qi(o,s,l,u,!1),null!==c&&null!==d&&Qi(o,d,c,u,!0)}if("select"===(l=(s=i?Cr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(Hn(s))if(Kn)m=oi;else{m=ri;var v=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ai);switch(m&&(m=m(e,i))?Gn(o,m,n,r):(v&&v(e,s,i),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=i?Cr(i):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,Ci(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":Ci(o,n,r)}var b;if(_n)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Pn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=en()):(Zt="value"in(Kt=r)?Kt.value:Kt.textContent,Wn=!0)),0<(v=Yi(i,y)).length&&(y=new Cn(y,e,null,n,r),o.push({event:y,listeners:v}),b?y.data=b:null!==(b=zn(n))&&(y.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!_n&&Bn(e,t)?(e=en(),$t=Zt=Kt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Yi(i,"onBeforeInput")).length&&(r=new Cn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=b))}Ui(o,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Oe(e,n))&&i.unshift(Gi(e,a,r)),null!=(a=Oe(e,t))&&i.push(Gi(e,a,r))),e=e.return}return i}function Ji(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Oe(n,a))&&o.unshift(Gi(n,l,s)):r||null!=(l=Oe(n,a))&&o.push(Gi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Ki(e){return("string"===typeof e?e:""+e).replace(qi,"\n").replace(Xi,"")}function Zi(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(a(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Wt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Wt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),fr="__reactFiber$"+dr,hr="__reactProps$"+dr,pr="__reactContainer$"+dr,gr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function br(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[fr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[fr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wr(e){return e[hr]||null}var Sr=[],Ir=-1;function Tr(e){return{current:e}}function Er(e){0>Ir||(e.current=Sr[Ir],Sr[Ir]=null,Ir--)}function Mr(e,t){Ir++,Sr[Ir]=e.current,e.current=t}var Rr={},Ar=Tr(Rr),kr=Tr(!1),xr=Rr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Rr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Er(kr),Er(Ar)}function _r(e,t,n){if(Ar.current!==Rr)throw Error(a(168));Mr(Ar,t),Mr(kr,n)}function Nr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return P({},n,i)}function jr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,xr=Ar.current,Mr(Ar,e),Mr(kr,kr.current),!0}function Pr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Nr(e,t,xr),i.__reactInternalMemoizedMergedChildContext=e,Er(kr),Er(Ar),Mr(Ar,e)):Er(kr),Mr(kr,n)}var Ur=null,Fr=!1,Br=!1;function zr(e){null===Ur?Ur=[e]:Ur.push(e)}function Wr(){if(!Br&&null!==Ur){Br=!0;var e=0,t=yt;try{var n=Ur;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Ur=null,Fr=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Je($e,Wr),r}finally{yt=t,Br=!1}}return null}var Vr=[],Hr=0,Gr=null,Yr=0,Jr=[],Qr=0,qr=null,Xr=1,Kr="";function Zr(e,t){Vr[Hr++]=Yr,Vr[Hr++]=Gr,Gr=e,Yr=t}function $r(e,t,n){Jr[Qr++]=Xr,Jr[Qr++]=Kr,Jr[Qr++]=qr,qr=e;var i=Xr;e=Kr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xr=1<<32-ot(t)+r|n<<r|i,Kr=a+e}else Xr=1<<a|n<<r|i,Kr=e}function ea(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ta(e){for(;e===Gr;)Gr=Vr[--Hr],Vr[Hr]=null,Yr=Vr[--Hr],Vr[Hr]=null;for(;e===qr;)qr=Jr[--Qr],Jr[Qr]=null,Kr=Jr[--Qr],Jr[Qr]=null,Xr=Jr[--Qr],Jr[Qr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qr?{id:Xr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=cr(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ra)return ua(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=cr(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cr(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ia;e;)e=cr(e.nextSibling)}function ha(){ia=na=null,ra=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=C.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Tr(null),ba=null,ya=null,Ca=null;function wa(){Ca=ya=ba=null}function Sa(e){var t=va.current;Er(va),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ba=e,Ca=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Cs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ba)throw Error(a(308));ya=e,ba.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Ma=null;function Ra(e){null===Ma?Ma=[e]:Ma.push(e)}function Aa(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ra(t)):(n.next=r.next,r.next=n),t.interleaved=n,ka(e,i)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _a(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&kl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,ka(e,n)}return null===(r=i.interleaved)?(t.next=t,Ra(i)):(t.next=r.next,r.next=t),i.interleaved=t,ka(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}function ja(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pa(e,t,n,i){var r=e.updateQueue;xa=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((i&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=P({},d,f);break e;case 2:xa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Pl|=o,e.lanes=o,e.memoizedState=d}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Fa=(new i.Component).refs;function Ba(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),a=La(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=_a(e,a,r))&&(ic(t,e,r,i),Na(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),a=La(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=_a(e,a,r))&&(ic(t,e,r,i),Na(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=La(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_a(e,r,i))&&(ic(t,e,i,n),Na(t,e,i))}};function Wa(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function Va(e,t,n){var i=!1,r=Rr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(r=Or(t)?xr:Ar.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Dr(e,r):Rr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Fa,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ea(a):(a=Or(t)?xr:Ar.current,r.context=Dr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&za.enqueueReplaceState(r,r.state,null),Pa(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===Fa&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Uc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===I?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((i=r(t,n.props)).ref=Ya(e,t,n),i.return=e,i):((i=Nc(n.type,n.key,n.props,null,e.mode,i)).ref=Ya(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=jc(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=jc(t,e.mode,n,null)).return=e,t;Ja(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case S:return n.key===r?u(e,t,n,i):null;case O:return h(e,t,(r=n._init)(n._payload),i)}if(te(n)||N(n))return null!==r?null:d(e,t,n,i,null);Ja(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case S:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case O:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||N(i))return d(t,e=e.get(n)||null,i,r,null);Ja(t,i)}return null}function g(r,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(r,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(r,d),ra&&Zr(r,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(r,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return ra&&Zr(r,g),c}for(d=i(r,d);g<s.length;g++)null!==(m=p(d,r,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),ra&&Zr(r,g),c}function m(r,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=h(r,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(r,g),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y,g=v}if(b.done)return n(r,g),ra&&Zr(r,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=f(r,b.value,c))&&(s=o(b,s,m),null===d?u=b:d.sibling=b,d=b);return ra&&Zr(r,m),u}for(g=i(r,g);!b.done;m++,b=l.next())null!==(b=p(g,r,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(r,e)})),ra&&Zr(r,m),u}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===I){if(7===u.tag){n(i,u.sibling),(a=r(u,o.props.children)).return=i,i=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===u.type){n(i,u.sibling),(a=r(u,o.props)).ref=Ya(i,u,o),a.return=i,i=a;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===I?((a=jc(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Nc(o.type,o.key,o.props,null,i.mode,l)).ref=Ya(i,a,o),l.return=i,i=l)}return s(i);case S:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Fc(o,i.mode,l)).return=i,i=a}return s(i);case O:return e(i,a,(u=o._init)(o._payload),l)}if(te(o))return g(i,a,o,l);if(N(o))return m(i,a,o,l);Ja(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Uc(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var Xa=qa(!0),Ka=qa(!1),Za={},$a=Tr(Za),eo=Tr(Za),to=Tr(Za);function no(e){if(e===Za)throw Error(a(174));return e}function io(e,t){switch(Mr(to,t),Mr(eo,e),Mr($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er($a),Mr($a,t)}function ro(){Er($a),Er(eo),Er(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Mr(eo,e),Mr($a,n))}function oo(e){eo.current===e&&(Er($a),Er(eo))}var so=Tr(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=C.ReactCurrentDispatcher,ho=C.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,bo=!1,yo=!1,Co=0,wo=0;function So(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function To(e,t,n,i,r,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),yo){o=0;do{if(yo=!1,Co=0,25<=o)throw Error(a(301));o+=1,vo=mo=null,t.updateQueue=null,fo.current=cs,e=n(i,r)}while(yo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,bo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==Co;return Co=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function Ro(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Ao(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=Ro(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=mo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=i):c=c.next=f,go.lanes|=d,Pl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=i:c.next=l,si(i,t.memoizedState)||(Cs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,go.lanes|=o,Pl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=Ro(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(Cs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Do(){}function Oo(e,t){var n=go,i=Ro(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,Cs=!0),i=i.queue,Ho(No.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,_o.bind(null,n,i,r,t),void 0,null),null===xl)throw Error(a(349));0!==(30&po)||Lo(n,t,r)}return r}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,i){t.value=n,t.getSnapshot=i,jo(t)&&Po(e)}function No(e,t,n){return n((function(){jo(t)&&Po(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Po(e){var t=ka(e,1);null!==t&&ic(t,e,1,-1)}function Uo(e){var t=Mo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,go,e),[t.memoizedState,e]}function Fo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Bo(){return Ro().memoizedState}function zo(e,t,n,i){var r=Mo();go.flags|=e,r.memoizedState=Fo(1|t,n,void 0,void 0===i?null:i)}function Wo(e,t,n,i){var r=Ro();i=void 0===i?null:i;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==i&&Io(i,o.deps))return void(r.memoizedState=Fo(t,n,a,i))}go.flags|=e,r.memoizedState=Fo(1|t,n,a,i)}function Vo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Wo(2048,8,e,t)}function Go(e,t){return Wo(4,2,e,t)}function Yo(e,t){return Wo(4,4,e,t)}function Jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Jo.bind(null,t,e),n)}function qo(){}function Xo(e,t){var n=Ro();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Io(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Ro();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Io(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=n):(si(n,t)||(n=gt(),go.lanes|=n,Pl|=n,e.baseState=!0),t)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=ho.transition;ho.transition={};try{e(!1),t()}finally{yt=n,ho.transition=i}}function es(){return Ro().memoizedState}function ts(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=Aa(e,t,n,i))){ic(n,e,i,tc()),as(n,t,i)}}function ns(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,Ra(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Aa(e,t,r,i))&&(ic(n,e,i,r=tc()),as(n,t,i))}}function is(e){var t=e.alternate;return e===go||null!==t&&t===go}function rs(e,t){yo=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}var os={readContext:Ea,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Mo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Mo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,go,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:Uo,useDebugValue:qo,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=go,r=Mo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===xl)throw Error(a(349));0!==(30&po)||Lo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Vo(No.bind(null,i,o,e),[e]),i.flags|=2048,Fo(9,_o.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Mo(),t=xl.identifierPrefix;if(ra){var n=Kr;t=":"+t+"R"+(n=(Xr&~(1<<32-ot(Xr)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Yo,useMemo:Ko,useReducer:ko,useRef:Bo,useState:function(){return ko(Ao)},useDebugValue:qo,useDeferredValue:function(e){return Zo(Ro(),mo.memoizedState,e)},useTransition:function(){return[ko(Ao)[0],Ro().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Yo,useMemo:Ko,useReducer:xo,useRef:Bo,useState:function(){return xo(Ao)},useDebugValue:qo,useDeferredValue:function(e){var t=Ro();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[xo(Ao)[0],Ro().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",i=t;do{n+=z(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gl||(Gl=!0,Yl=i),fs(0,t)},n}function gs(e,t,n){(n=La(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof i&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Mc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,_a(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ys=C.ReactCurrentOwner,Cs=!1;function ws(e,t,n,i){t.child=null===e?Ka(t,null,n,i):Xa(t,e.child,n,i)}function Ss(e,t,n,i,r){n=n.render;var a=t.ref;return Ta(t,r),i=To(e,t,n,i,a,r),n=Eo(),null===e||Cs?(ra&&n&&ea(t),t.flags|=1,ws(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function Is(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Gs(e,t,r)}return t.flags|=1,(e=_c(a,i)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Gs(e,t,r);0!==(131072&e.flags)&&(Cs=!0)}}return Rs(e,t,n,i,r)}function Es(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(_l,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mr(_l,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Mr(_l,Ll),Ll|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Mr(_l,Ll),Ll|=i;return ws(e,t,r,n),t.child}function Ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rs(e,t,n,i,r){var a=Or(n)?xr:Ar.current;return a=Dr(t,a),Ta(t,r),n=To(e,t,n,i,a,r),i=Eo(),null===e||Cs?(ra&&i&&ea(t),t.flags|=1,ws(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function As(e,t,n,i,r){if(Or(n)){var a=!0;jr(t)}else a=!1;if(Ta(t,r),null===t.stateNode)Hs(e,t),Va(t,n,i),Ga(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Dr(t,c=Or(n)?xr:Ar.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&Ha(t,o,i,c),xa=!1;var f=t.memoizedState;o.state=f,Pa(t,i,o,r),l=t.memoizedState,s!==i||f!==l||kr.current||xa?("function"===typeof u&&(Ba(t,n,u,i),l=t.memoizedState),(s=xa||Wa(t,n,s,i,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Dr(t,l=Or(n)?xr:Ar.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Ha(t,o,i,l),xa=!1,f=t.memoizedState,o.state=f,Pa(t,i,o,r);var p=t.memoizedState;s!==d||f!==p||kr.current||xa?("function"===typeof h&&(Ba(t,n,h,i),p=t.memoizedState),(c=xa||Wa(t,n,c,i,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return ks(e,t,n,i,a,r)}function ks(e,t,n,i,r,a){Ms(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Pr(t,n,!1),Gs(e,t,a);i=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=i.state,r&&Pr(t,n,!0),t.child}function xs(e){var t=e.stateNode;t.pendingContext?_r(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_r(0,t.context,!1),io(e,t.containerInfo)}function Ds(e,t,n,i,r){return ha(),pa(r),t.flags|=256,ws(e,t,n,i),t.child}var Os,Ls,_s,Ns,js={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var i,r=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Mr(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Pc(l,r,0,null),e=jc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=js,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,i=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Pc({mode:"visible",children:i.children},r,0,null),(o=jc(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ps(s),t.memoizedState=js,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Bs(e,t,s,i=ds(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),Cs||l){if(null!==(i=xl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,ka(e,r),ic(i,e,r,-1))}return mc(),Bs(e,t,s,i=ds(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=cr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Jr[Qr++]=Xr,Jr[Qr++]=Kr,Jr[Qr++]=qr,Xr=e.id,Kr=e.overflow,qr=t),t=Fs(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=_c(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=_c(i,s):(s=jc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Ps(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=js,r}return e=(s=e.child).sibling,r=_c(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fs(e,t){return(t=Pc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,i){return null!==i&&pa(i),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ia(e.return,t,n)}function Ws(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Vs(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(ws(e,t,i.children,n),0!==(2&(i=so.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Mr(so,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ws(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===lo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Qs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:case 17:return Or(t.type)&&Lr(),Js(t),null;case 3:return i=t.stateNode,ro(),Er(kr),Er(Ar),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ls(e,t),Js(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)_s(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Js(t),null}if(e=no($a.current),da(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[fr]=t,i[hr]=o,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)Fi(Ni[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":X(i,o),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Fi("invalid",i);break;case"textarea":re(i,o),Fi("invalid",i)}for(var l in be(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":Y(i),$(i,o,!0);break;case"textarea":Y(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[fr]=t,e[hr]=i,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)Fi(Ni[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":X(e,i),r=q(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=P({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(o in be(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fi("scroll",e):null!=u&&y(e,o,u,l))}switch(n){case"input":Y(e),$(e,i,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),da(t)){if(i=t.stateNode,n=t.memoizedProps,i[fr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=t,t.stateNode=i}return Js(t),null;case 13:if(Er(so),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fr]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Js(t),null);case 4:return ro(),Ls(e,t),null===e&&Wi(t.stateNode.containerInfo),Js(t),null;case 10:return Sa(t.type._context),Js(t),null;case 19:if(Er(so),null===(o=t.memoizedState))return Js(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Ys(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ys(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mr(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Vl&&(t.flags|=128,i=!0,Ys(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Js(t),null}else 2*Ke()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,i=!0,Ys(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=so.current,Mr(so,i?1&n|2:1&n),t):(Js(t),null);case 22:case 23:return fc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Or(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Er(kr),Er(Ar),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Er(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(so),null;case 4:return ro(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},_s=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":r=q(e,r),i=q(e,i),o=[];break;case"select":r=P({},r,{value:void 0}),i=P({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(u in be(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xs=!1,Ks=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ec(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Ec(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&tl(t,n,a)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[hr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||el(n,t);case 6:var i=dl,r=fl;dl=null,hl(e,t,n),fl=r,null!==(dl=i)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Wt(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=i,fl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Ks&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=i):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var i=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,r),dl=null,fl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(m){Ec(e,e.return,m)}try{il(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(m){Ec(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(r,o),ye(l,s);var u=ye(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(r,f):"dangerouslySetInnerHTML"===d?de(r,f):"children"===d?fe(r,f):y(r,d,f,u)}switch(l){case"input":Z(r,o);break;case"textarea":ae(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[hr]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Wl=Ke())),4&i&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,ml(t,e),Ks=u):ml(t,e),bl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){i=h,n=h.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(i,n,m)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){Sl(f);continue}}null!==p?(p.return=h,$s=p):Sl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{r=f.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),bl(e),4&i&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(fe(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,Cl(e,t,n)}function Cl(e,t,n){for(var i=0!==(1&e.mode);null!==$s;){var r=$s,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Xs;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Xs;var c=Ks;if(Xs=o,(Ks=l)&&!c)for($s=r;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?Il(r):null!==l?(l.return=o,$s=l):Il(r);for(;null!==a;)$s=a,Cl(a,t,n),a=a.sibling;$s=r,Xs=s,Ks=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,$s=a):wl(e)}}function wl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&al(t)}catch(h){Ec(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function Sl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Il(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Ec(t,r,l)}}var a=t.return;try{al(t)}catch(l){Ec(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Tl,El=Math.ceil,Ml=C.ReactCurrentDispatcher,Rl=C.ReactCurrentOwner,Al=C.ReactCurrentBatchConfig,kl=0,xl=null,Dl=null,Ol=0,Ll=0,_l=Tr(0),Nl=0,jl=null,Pl=0,Ul=0,Fl=0,Bl=null,zl=null,Wl=0,Vl=1/0,Hl=null,Gl=!1,Yl=null,Jl=null,Ql=!1,ql=null,Xl=0,Kl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&kl)?Ke():-1!==$l?$l:$l=Ke()}function nc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Ol?Ol&-Ol:null!==ga.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,n,i){if(50<Kl)throw Kl=0,Zl=null,Error(a(185));vt(e,n,i),0!==(2&kl)&&e===xl||(e===xl&&(0===(2&kl)&&(Ul|=n),4===Nl&&lc(e,Ol)),rc(e,i),1===n&&0===kl&&0===(1&t.mode)&&(Vl=Ke()+500,Fr&&Wr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=ft(e,e===xl?Ol:0);if(0===i)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fr=!0,zr(e)}(cc.bind(null,e)):zr(cc.bind(null,e)),or((function(){0===(6&kl)&&Wr()})),n=null;else{switch(Ct(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=xc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($l=-1,ec=0,0!==(6&kl))throw Error(a(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var i=ft(e,e===xl?Ol:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=kl;kl|=2;var o=gc();for(xl===e&&Ol===t||(Hl=null,Vl=Ke()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}wa(),Ml.current=o,kl=r,null!==Dl?t=0:(xl=null,Ol=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=oc(e,r))),1===t)throw n=jl,hc(e,0),lc(e,i),rc(e,Ke()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(o=pt(e))&&(i=o,t=oc(e,o))),1===t))throw n=jl,hc(e,0),lc(e,i),rc(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,zl,Hl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Wl+500-Ke())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(Sc.bind(null,e,zl,Hl),t);break}Sc(e,zl,Hl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){e.timeoutHandle=ir(Sc.bind(null,e,zl,Hl),i);break}Sc(e,zl,Hl);break;default:throw Error(a(329))}}}return rc(e,Ke()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&kl))throw Error(a(327));Ic();var t=ft(e,0);if(0===(1&t))return rc(e,Ke()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=jl,hc(e,0),lc(e,t),rc(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Hl),rc(e,Ke()),null}function uc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Vl=Ke()+500,Fr&&Wr())}}function dc(e){null!==ql&&0===ql.tag&&0===(6&kl)&&Ic();var t=kl;kl|=1;var n=Al.transition,i=yt;try{if(Al.transition=null,yt=1,e)return e()}finally{yt=i,Al.transition=n,0===(6&(kl=t))&&Wr()}}function fc(){Ll=_l.current,Er(_l)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:ro(),Er(kr),Er(Ar),uo();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Er(so);break;case 10:Sa(i.type._context);break;case 22:case 23:fc()}n=n.return}if(xl=e,Dl=e=_c(e.current,null),Ol=Ll=t,Nl=0,jl=null,Fl=Ul=Pl=0,zl=Bl=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(i=(n=Ma[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Ma=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(wa(),fo.current=os,bo){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}bo=!1}if(po=0,vo=mo=go=null,yo=!1,Co=0,Rl.current=null,null===n||null===n.return){Nl=1,jl=t,Dl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bs(v,s,l,0,t),pa(us(c,l));break e}}o=c=us(c,l),4!==Nl&&(Nl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:l=c;var b=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Jl||!Jl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(C){t=C,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Ml.current;return Ml.current=os,null===e?os:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===xl||0===(268435455&Pl)&&0===(268435455&Ul)||lc(xl,Ol)}function vc(e,t){var n=kl;kl|=2;var i=gc();for(xl===e&&Ol===t||(Hl=null,hc(e,t));;)try{bc();break}catch(r){pc(e,r)}if(wa(),kl=n,Ml.current=i,null!==Dl)throw Error(a(261));return xl=null,Ol=0,Nl}function bc(){for(;null!==Dl;)Cc(Dl)}function yc(){for(;null!==Dl&&!qe();)Cc(Dl)}function Cc(e){var t=Tl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wc(e):Dl=t,Rl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ll)))return void(Dl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Nl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Sc(e,t,n){var i=yt,r=Al.transition;try{Al.transition=null,yt=1,function(e,t,n,i){do{Ic()}while(null!==ql);if(0!==(6&kl))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===xl&&(Dl=xl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,xc(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var s=yt;yt=1;var l=kl;kl|=4,Rl.current=null,function(e,t){if(er=Ht,hi(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=s+r),f!==o||0!==i&&3!==f.nodeType||(c=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===r&&(l=s),h===o&&++d===i&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}g=nl,nl=!1}(e,n),vl(n,e),pi(tr),Ht=!!er,tr=er=null,e.current=n,yl(n,e,r),Xe(),kl=l,yt=s,Al.transition=o}else e.current=n;if(Ql&&(Ql=!1,ql=e,Xl=r),o=e.pendingLanes,0===o&&(Jl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,e=Yl,Yl=null,e;0!==(1&Xl)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===Zl?Kl++:(Kl=0,Zl=e):Kl=0,Wr()}(e,t,n,i)}finally{Al.transition=r,yt=i}return null}function Ic(){if(null!==ql){var e=Ct(Xl),t=Al.transition,n=yt;try{if(Al.transition=null,yt=16>e?16:e,null===ql)var i=!1;else{if(e=ql,ql=null,Xl=0,0!==(6&kl))throw Error(a(331));var r=kl;for(kl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var h=(d=$s).sibling,p=d.return;if(ol(d),d===u){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,$s=b;break e}$s=o.return}}var y=e.current;for($s=y;null!==$s;){var C=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==C)C.return=s,$s=C;else e:for(s=y;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){$s=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$s=w;break e}$s=l.return}}if(kl=r,Wr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(S){}i=!0}return i}finally{yt=n,Al.transition=t}}return!1}function Tc(e,t,n){e=_a(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Jl||!Jl.has(i))){t=_a(t,e=gs(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Mc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,xl===e&&(Ol&n)===n&&(4===Nl||3===Nl&&(130023424&Ol)===Ol&&500>Ke()-Wl?hc(e,0):Fl|=n),rc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=ka(e,t))&&(vt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Rc(e,n)}function xc(e,t){return Je(e,t)}function Dc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,i){return new Dc(e,t,n,i)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return jc(n.children,r,o,t);case T:s=8,r|=8;break;case E:return(e=Oc(12,n,t,2|r)).elementType=E,e.lanes=o,e;case k:return(e=Oc(13,n,t,r)).elementType=k,e.lanes=o,e;case x:return(e=Oc(19,n,t,r)).elementType=x,e.lanes=o,e;case L:return Pc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case R:s=9;break e;case A:s=11;break e;case D:s=14;break e;case O:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function jc(e,t,n,i){return(e=Oc(7,e,i,t)).lanes=n,e}function Pc(e,t,n,i){return(e=Oc(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,i,r,a,o,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Wc(e){if(!e)return Rr;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Or(n))return Nr(e,n,t)}return t}function Vc(e,t,n,i,r,a,o,s,l){return(e=zc(n,i,!0,e,0,a,0,s,l)).context=Wc(null),n=e.current,(a=La(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,_a(n,a,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function Hc(e,t,n,i){var r=t.current,a=tc(),o=nc(r);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=_a(r,t,o))&&(ic(e,r,o,a),Na(e,r,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||kr.current)Cs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Cs=!1,function(e,t,n){switch(t.tag){case 3:xs(t),ha();break;case 5:ao(t);break;case 1:Or(t.type)&&jr(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Mr(va,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Mr(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Mr(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Mr(so,1&so.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Vs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Mr(so,so.current),i)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);Cs=0!==(131072&e.flags)}else Cs=!1,ra&&0!==(1048576&t.flags)&&$r(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hs(e,t),e=t.pendingProps;var r=Dr(t,Ar.current);Ta(t,n),r=To(null,t,i,e,r,n);var o=Eo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(i)?(o=!0,jr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Da(t),r.updater=za,t.stateNode=r,r._reactInternals=t,Ga(t,i,e,n),t=ks(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),ws(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(i),e=ma(i,e),r){case 0:t=Rs(null,t,i,e,n);break e;case 1:t=As(null,t,i,e,n);break e;case 11:t=Ss(null,t,i,e,n);break e;case 14:t=Is(null,t,i,ma(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Rs(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 1:return i=t.type,r=t.pendingProps,As(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 3:e:{if(xs(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Oa(e,t),Pa(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,i,n,r=us(Error(a(423)),t));break e}if(i!==r){t=Ds(e,t,i,n,r=us(Error(a(424)),t));break e}for(ia=cr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=Ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),i===r){t=Gs(e,t,n);break e}ws(e,t,i,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Ms(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Xa(t,null,i,n):ws(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ss(e,t,i,r=t.elementType===i?r:ma(i,r),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Mr(va,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!kr.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ia(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ta(t,n),i=i(r=Ea(r)),t.flags|=1,ws(e,t,i,n),t.child;case 14:return r=ma(i=t.type,t.pendingProps),Is(e,t,i,r=ma(i.type,r),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ma(i,r),Hs(e,t),t.tag=1,Or(i)?(e=!0,jr(t)):e=!1,Ta(t,n),Va(t,i,r),Ga(t,i,r,n),ks(null,t,i,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}Hc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Gc(o);a.call(e)}}var o=Vc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pr]=o.current,Wi(8===e.nodeType?e.parentNode:e),dc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Gc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pr]=l.current,Wi(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,i)})),l}(n,t,e,r,i);return Gc(o)}Xc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Pt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ke()),0===(6&kl)&&(Vl=Ke()+500,Wr()))}break;case 13:dc((function(){var t=ka(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Jc(e,1)}},St=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)ic(t,e,134217728,tc());Jc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=ka(e,t);if(null!==n)ic(n,e,t,tc());Jc(e,t)}},Tt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(a(90));J(i),Z(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uc,ke=dc;var tu={usingClientEntryPoint:!1,Events:[yr,Cr,wr,Me,Re,uc]},nu={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var n=!1,i="",r=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Wi(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,o,s),e[pr]=t.current,Wi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},2861:e=>{"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"===typeof e||"undefined"===typeof e?"":"number"===typeof e?e.toString():"string"===typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n},5082:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case p:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return v(e)===a},t.isMemo=function(e){return v(e)===p}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},7082:function(e,t,n){var i;"undefined"!=typeof self&&self,e.exports=(i=n(5043),(()=>{"use strict";var e={156:e=>{e.exports=i}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{default:()=>d,useStopwatch:()=>c,useTime:()=>u,useTimer:()=>l});var e=n(156);class t{static expiryTimestamp(e){const t=new Date(e).getTime()>0;return t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}static onExpire(e){const t=e&&"function"==typeof e;return e&&!t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}class i{static getTimeFromSeconds(e){const t=Math.ceil(e),n=Math.floor(t/86400),i=Math.floor(t%86400/3600),r=Math.floor(t%3600/60);return{totalSeconds:t,seconds:Math.floor(t%60),minutes:r,hours:i,days:n}}static getSecondsFromExpiry(e,t){const n=e-(new Date).getTime();if(n>0){const e=n/1e3;return t?Math.round(e):e}return 0}static getSecondsFromPrevTime(e,t){const n=(new Date).getTime()-e;if(n>0){const e=n/1e3;return t?Math.round(e):e}return 0}static getSecondsFromTimeNow(){const e=new Date;return e.getTime()/1e3-60*e.getTimezoneOffset()}static getFormattedTimeFromSeconds(e,t){const{seconds:n,minutes:r,hours:a}=i.getTimeFromSeconds(e);let o="",s=a;return"12-hour"===t&&(o=a>=12?"pm":"am",s=a%12),{seconds:n,minutes:r,hours:s,ampm:o}}}function a(t,n){const i=(0,e.useRef)();(0,e.useEffect)((()=>{i.current=t})),(0,e.useEffect)((()=>{if(!n)return()=>{};const e=setInterval((()=>{i.current&&i.current()}),n);return()=>clearInterval(e)}),[n])}const o=1e3;function s(e){if(!t.expiryTimestamp(e))return null;const n=i.getSecondsFromExpiry(e),r=Math.floor(1e3*(n-Math.floor(n)));return r>0?r:o}function l(){let{expiryTimestamp:n,onExpire:r,autoStart:l=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[c,u]=(0,e.useState)(n),[d,f]=(0,e.useState)(i.getSecondsFromExpiry(c)),[h,p]=(0,e.useState)(l),[g,m]=(0,e.useState)(l),[v,b]=(0,e.useState)(s(c)),y=(0,e.useCallback)((()=>{t.onExpire(r)&&r(),p(!1),b(null)}),[r]),C=(0,e.useCallback)((()=>{p(!1)}),[]),w=(0,e.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];b(s(e)),m(t),p(t),u(e),f(i.getSecondsFromExpiry(e))}),[]),S=(0,e.useCallback)((()=>{const e=new Date;e.setMilliseconds(e.getMilliseconds()+1e3*d),w(e)}),[d,w]),I=(0,e.useCallback)((()=>{g?(f(i.getSecondsFromExpiry(c)),p(!0)):S()}),[c,g,S]);return a((()=>{v!==o&&b(o);const e=i.getSecondsFromExpiry(c);f(e),e<=0&&y()}),h?v:null),{...i.getTimeFromSeconds(d),start:I,pause:C,resume:S,restart:w,isRunning:h}}function c(){let{autoStart:t,offsetTimestamp:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[r,o]=(0,e.useState)(i.getSecondsFromExpiry(n,!0)||0),[s,l]=(0,e.useState)(new Date),[c,u]=(0,e.useState)(r+i.getSecondsFromPrevTime(s||0,!0)),[d,f]=(0,e.useState)(t);a((()=>{u(r+i.getSecondsFromPrevTime(s,!0))}),d?1e3:null);const h=(0,e.useCallback)((()=>{const e=new Date;l(e),f(!0),u(r+i.getSecondsFromPrevTime(e,!0))}),[r]),p=(0,e.useCallback)((()=>{o(c),f(!1)}),[c]),g=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=i.getSecondsFromExpiry(e,!0)||0,r=new Date;l(r),o(n),f(t),u(n+i.getSecondsFromPrevTime(r,!0))}),[]);return{...i.getTimeFromSeconds(c),start:h,pause:p,reset:g,isRunning:d}}function u(){let{format:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,e.useState)(i.getSecondsFromTimeNow());return a((()=>{r(i.getSecondsFromTimeNow())}),1e3),{...i.getFormattedTimeFromSeconds(n,t)}}function d(t){if((0,e.useEffect)((()=>{console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")}),[]),t.expiryTimestamp){const e=l(t);return{...e,startTimer:e.start,stopTimer:e.pause,resetTimer:()=>{}}}const n=c(t);return{...n,startTimer:n.start,stopTimer:n.pause,resetTimer:n.reset}}})(),r})())},7029:function(e,t,n){var i;i=function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var i=n("react"),r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,i){t.call(navigator,e,n,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),i=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),r=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(i||r||a)&&(this.canvas=null,this.ctx=null),(n||i)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var i=this.getCanvas(e);return i&&i.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var i=this.video.videoWidth,r=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=i/r;r=(i=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&r<n.minScreenshotHeight&&(i=(r=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||i,this.canvas.height=(null===e||void 0===e?void 0:e.height)||r,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,i=function(i,r){var a={video:"undefined"===typeof r||r};n.audio&&(a.audio="undefined"===typeof i||i),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)i(n.audioConstraints,n.videoConstraints);else{var r=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(n.audioConstraints);s&&(t=s);var l=a(n.videoConstraints);l&&(o=l),i(r(t),r(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(i){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,r=n.audio,s=(n.forceScreenshotSourceSize,n.disablePictureInPicture),l=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,d=n.children,f=o(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),h=l?a(a({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,p={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",a({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!r,playsInline:!0,ref:function(t){e.video=t},style:h},f)),d&&d(p))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(i.Component);t.default=l},react:function(t,n){t.exports=e}}).default},e.exports=i(n(5043))},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var C=y.prototype=new b;C.constructor=y,g(C,v.prototype),C.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!T.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:I.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,w(o)?(r="",null!=e&&(r=e.replace(R,"$&/")+"/"),k(o,t,r,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+A(s=e[c],c);l+=k(s,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=k(s=s.value,t,r,u=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var i=[],r=0;return k(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},L={transition:null},_={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:L,ReactCurrentOwner:I};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},9966:(e,t,n)=>{var i=n(6382),r=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(r.prototype),a(r,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(m=!1,C(e),!g)if(null!==i(c))g=!0,L(S);else{var t=i(u);null!==t&&_(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,b(M),M=-1),p=!0;var a=h;try{for(C(n),f=i(c);null!==f&&(!(f.expirationTime>n)||e&&!k());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===i(c)&&r(c),C(n)}else r(c);f=i(c)}if(null!==f)var l=!0;else{var d=i(u);null!==d&&_(w,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,T=!1,E=null,M=-1,R=5,A=-1;function k(){return!(t.unstable_now()-A<R)}function x(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?I():(T=!1,E=null)}}else T=!1}if("function"===typeof y)I=function(){y(x)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=x,I=function(){O.postMessage(null)}}else I=function(){v(x,0)};function L(e){E=e,T||(T=!0,I())}function _(e,n){M=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(m?(b(M),M=-1):m=!0,_(w,a-o))):(e.sortIndex=s,n(c,e),g||p||(g=!0,L(S))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3865:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),i=Math.min,r=Date.now;function a(e){return function(a,l,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=s);var d=r(),f=a[e],h=c.ease||o,p=isNaN(c.duration)?350:+c.duration,g=!1;return f===l?u(t,a[e]):requestAnimationFrame((function t(o){if(g)return u(n,a[e]);var s=r(),c=i(1,(s-d)/p),m=h(c);a[e]=m*(l-f)+f,c<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,a[e])}))})),function(){g=!0}}}function o(e){return.5*(1-Math.cos(Math.PI*e))}function s(){}e.exports={left:a("scrollLeft"),top:a("scrollTop")}},9496:function(e,t){var n,i,r;i=[],void 0===(r="function"===typeof(n=function(){function e(e){var t=getComputedStyle(e,null).getPropertyValue("overflow");return t.indexOf("scroll")>-1||t.indexOf("auto")>-1}function t(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=t.parentNode;n.parentNode;){if(e(n))return n;n=n.parentNode}return document.scrollingElement||document.documentElement}}return t})?n.apply(t,i):n)||(e.exports=r)},6593:(e,t,n)=>{const i=n(6522)("simple-peer"),r=n(7919),a=n(5838),o=n(9531),s=n(4275),l=n(4823),{Buffer:c}=n(6382),u=65536;function d(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class f extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=a(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||a(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||f.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},f.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"===typeof e.wrtc?e.wrtc:r(),!this._wrtc)throw"undefined"===typeof window?l(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):l(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void this.destroy(l(t,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"===typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"===typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(l(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{var n;!t.address||t.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):this.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(n){this.destroy(l(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(e)||new Map;let i=n.get(t);if(i)throw i.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");i=this._pc.addTrack(e,t),n.set(t,i),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const i=this._senderMap.get(e),r=i?i.get(n):null;if(!r)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,i),null!=r.replaceTrack?r.replaceTrack(t):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),i=n?n.get(t):null;if(!i)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{i.removed=!0,this._pc.removeTrack(i)}catch(r){"NS_ERROR_UNEXPECTED"===r.name?this._sendersAwaitingStable.push(i):this.destroy(l(r,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,s((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),s((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"===typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=u),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{const t=e.error instanceof Error?e.error:new Error("Datachannel error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));this.destroy(l(t,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(i){return this.destroy(l(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>u?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=d(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=d(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((n=>{const i=[];n.forEach((e=>{i.push(t(e))})),e(null,i)}),(t=>e(t))):this._pc.getStats.length>0?this._pc.getStats((n=>{if(this.destroyed)return;const i=[];n.result().forEach((e=>{const n={};e.names().forEach((t=>{n[t]=e.stat(t)})),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,i.push(t(n))})),e(null,i)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,n)=>{if(this.destroyed)return;t&&(n=[]);const i={},r={},a={};let o=!1;n.forEach((e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(r[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(a[e.id]=e)}));const s=e=>{o=!0;let t=r[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"===typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=i[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"===typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&s(a[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&s(e)})),o||Object.keys(a).length&&!Object.keys(r).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(l(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"number"!==typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>u||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=c.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),s((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],i.apply(null,e)}}f.WEBRTC_SUPPORT=!!r(),f.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},f.channelConfig={},e.exports=f},6556:e=>{"use strict";var t={};function n(e,n,i){i||(i=Error);var r=function(e){var t,i;function r(t,i,r){return e.call(this,function(e,t,i){return"string"===typeof n?n:n(e,t,i)}(t,i,r))||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(i);r.prototype.name=i.name,r.prototype.code=e,t[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,a,o,s;if("string"===typeof t&&(a="not ",t.substr(!o||o<0?0:+o,a.length)===a)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var l=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(i(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},7610:(e,t,n)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var r=n(7944),a=n(8696);n(6329)(c,r);for(var o=i(a.prototype),s=0;s<o.length;s++){var l=o[s];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);r.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},460:(e,t,n)=>{"use strict";e.exports=r;var i=n(438);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(6329)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},7944:(e,t,n)=>{"use strict";var i;e.exports=T,T.ReadableState=I;n(7284).EventEmitter;var r=function(e,t){return e.listeners(t).length},a=n(9365),o=n(6382).Buffer,s=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,c=n(300);l=c&&c.debuglog?c.debuglog("stream"):function(){};var u,d,f,h=n(7245),p=n(2836),g=n(8607).getHighWaterMark,m=n(6556).F,v=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,C=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(6329)(T,a);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function I(e,t,r){i=i||n(7610),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(9).I),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function T(e){if(i=i||n(7610),!(this instanceof T))return new T(e);var t=this instanceof i;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function E(e,t,n,i,r){l("readableAddChunk",t);var a,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}(e,c);else if(r||(a=function(e,t){var n;i=t,o.isBuffer(i)||i instanceof s||"string"===typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(c,t)),a)w(e,a);else if(c.objectMode||t&&t.length>0)if("string"===typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),i)c.endEmitted?w(e,new C):M(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?M(e,c,t,!1):D(e,c)):M(e,c,t,!1)}else i||(c.reading=!1,D(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function M(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),D(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=o.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},T.prototype.unshift=function(e){return E(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){u||(u=n(9).I);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(x,e))}function x(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function D(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function _(e){l("readable nexttick read 0"),e.read(0)}function N(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function B(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}T.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):k(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,r=t.needReadable;return l("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",r=!0),t.ended||t.reading?l("reading or ended",r=!1):r&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},T.prototype._read=function(e){w(this,new y("_read()"))},T.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:g;function o(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",d),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function s(){l("onend"),e.end()}i.endEmitted?process.nextTick(a):n.once("end",a),e.on("unpipe",o);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",c);var u=!1;function d(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==B(i.pipes,e))&&!u&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){l("onerror",t),g(),e.removeListener("error",f),0===r(e,"error")&&w(e,t)}function h(){e.removeListener("finish",p),g()}function p(){l("onfinish"),e.removeListener("close",h),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},T.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?k(this):i.reading||process.nextTick(_,this))),n},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),n},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(l("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause())))})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var a=0;a<S.length;a++)e.on(S[a],this.emit.bind(this,S[a]));return this._read=function(t){l("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"===typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(4095)),d(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=P,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(T.from=function(e,t){return void 0===f&&(f=n(5137)),f(T,e,t)})},438:(e,t,n)=>{"use strict";e.exports=u;var i=n(6556).F,r=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n(7610);function c(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}n(6329)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new r("_transform()"))},u.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},8696:(e,t,n)=>{"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=T,T.WritableState=I;var a={deprecate:n(2390)},o=n(9365),s=n(6382).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var c,u=n(2836),d=n(8607).getHighWaterMark,f=n(6556).F,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,C=f.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function S(){}function I(e,t,a){r=r||n(7610),e=e||{},"boolean"!==typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if("function"!==typeof r)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(process.nextTick(r,i),process.nextTick(x,e,t),e._writableState.errorEmitted=!0,w(e,i)):(r(i),e._writableState.errorEmitted=!0,w(e,i),x(e,t))}(e,n,i,t,r);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),i?process.nextTick(M,e,n,a,r):M(e,n,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(e){var t=this instanceof(r=r||n(7610));if(!t&&!c.call(T,this))return new T(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),o.call(this)}function E(e,t,n,i,r,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function M(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),x(e,t)}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,E(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(E(e,t,!1,t.objectMode?1:c.length,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(6329)(T,o),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===T&&(e&&e._writableState instanceof I)}})):c=function(e){return e instanceof this},T.prototype.pipe=function(){w(this,new m)},T.prototype.write=function(e,t,n){var i,r=this._writableState,a=!1,o=!r.objectMode&&(i=e,s.isBuffer(i)||i instanceof l);return o&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=S),r.ending?function(e,t){var n=new y;w(e,n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var r;return null===n?r=new b:"string"===typeof n||t.objectMode||(r=new h("chunk",["string","Buffer"],n)),!r||(w(e,r),process.nextTick(i,r),!1)}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,i,r,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=s.from(t,n));return t}(t,i,r);i!==o&&(n=!0,r="buffer",i=o)}var l=t.objectMode?1:i.length;t.length+=l;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,l,i,r,a);return c}(this,r,o,e,t,n)),a},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new C(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new p("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=u.destroy,T.prototype._undestroy=u.undestroy,T.prototype._destroy=function(e,t){t(e)}},4095:(e,t,n)=>{"use strict";var i;function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(7530),o=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[f].read();null!==n&&(e[u]=null,e[o]=null,e[s]=null,t(h(n,!1)))}}function g(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(i={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(h(void 0,!0))}))}));var n,i=this[u];if(i)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[c]?n(h(void 0,!0)):t[d](n,i)}),i)}}(i,this));else{var r=this[f].read();if(null!==r)return Promise.resolve(h(r,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,n=Object.create(v,(r(t={},f,{value:e,writable:!0}),r(t,o,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,l,{value:null,writable:!0}),r(t,c,{value:e._readableState.endEmitted,writable:!0}),r(t,d,{value:function(e,t){var i=n[f].read();i?(n[u]=null,n[o]=null,n[s]=null,e(h(i,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[u]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[o]=null,n[s]=null,t(e)),void(n[l]=e)}var i=n[o];null!==i&&(n[u]=null,n[o]=null,n[s]=null,i(h(void 0,!0))),n[c]=!0})),e.on("readable",g.bind(null,n)),n}},7245:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var l=n(6382).Buffer,c=n(5187).inspect,u=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,i;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,n,i,r=l.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,n=r,i=o,l.prototype.copy.call(t,n,i),o+=a.data.length,a=a.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,a=e>r.length?r.length:e;if(a===r.length?i+=r:i+=r.slice(0,e),0===(e-=a)){a===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(a));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,a),0===(e-=a)){a===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(a));break}++i}return this.length-=i,t}},{key:u,value:function(e,t){return c(this,r(r({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},2836:e=>{"use strict";function t(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,r){var a=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!r&&e?a._writableState?a._writableState.errorEmitted?process.nextTick(n,a):(a._writableState.errorEmitted=!0,process.nextTick(t,a,e)):process.nextTick(t,a,e):r?(process.nextTick(n,a),r(e)):process.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},7530:(e,t,n)=>{"use strict";var i=n(6556).F.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,a){if("function"===typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(a||r);var o=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){s=!1,c=!0,o||a.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,d=!0,s||a.call(t)},h=function(e){a.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new i),a.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new i),a.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",f),t.on("finish",u),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},5137:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},3074:(e,t,n)=>{"use strict";var i;var r=n(6556).F,a=r.ERR_MISSING_ARGS,o=r.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var u,d=function(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var f=t.map((function(e,r){var a=r<t.length-1;return function(e,t,r,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=n(7530)),i(e,{readable:t,writable:r},(function(e){if(e)return a(e);s=!0,a()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}(e,a,r>0,(function(e){u||(u=e),e&&f.forEach(l),a||(f.forEach(l),d(u))}))}));return t.reduce(c)}},8607:(e,t,n)=>{"use strict";var i=n(6556).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new i(r?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},9365:(e,t,n)=>{e.exports=n(7284).EventEmitter},9531:(e,t,n)=>{(t=e.exports=n(7944)).Stream=t,t.Readable=t,t.Writable=n(8696),t.Duplex=n(7610),t.Transform=n(438),t.PassThrough=n(460),t.finished=n(7530),t.pipeline=n(3074)},9:(e,t,n)=>{"use strict";var i=n(9966).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=o(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if(r=o(t[i]),r>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if(r=o(t[i]),r>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},3895:(e,t,n)=>{"use strict";var i=n(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,o=i.useRef,s=i.useEffect,l=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,u){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!s){if(s=!0,a=e,e=i(e),void 0!==u&&f.hasValue){var t=f.value;if(u(t,e))return o=t}return o=e}if(t=o,r(a,e))return t;var n=i(e);return void 0!==u&&u(t,n)?t:(a=e,o=n)}var a,o,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,i,u]);var h=a(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)},2390:(e,t,n)=>{function i(e){try{if(!n.g.localStorage)return!1}catch(i){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},477:()=>{},5187:()=>{},300:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>vs,hasStandardBrowserEnv:()=>bs,hasStandardBrowserWebWorkerEnv:()=>Cs});var t={};n.r(t),n.d(t,{Decoder:()=>gA,Encoder:()=>hA,PacketType:()=>fA,protocol:()=>dA});var i=n(5043),r=n.t(i,2),a=n(4391),o=n(579);function s(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function l(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(i&&(i+=" "),i+=t);return i}var c=n(7950),u=n.t(c,2);!function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".dropdown-menu .active:not(.form-control){color:#16181b;background-color:#eee}.dropdown-menu [data-active=true] a.dropdown-item,.dropdown-menu .dropdown-item:focus,.dropdown-menu li:focus .dropdown-item :not(.disabled){color:#16181b;background-color:#eee}.dropdown-menu li:focus{outline:none}.dropdown-menu.dropdown-menu-dark [data-active=true] a.dropdown-item,.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item{color:#fff;background-color:#1266f1}.btn-group.dropstart>.dropdown-menu{right:0!important}")),document.head.appendChild(e)}}catch(pn){console.error("vite-plugin-css-injected-by-js",pn)}}();const d=i.forwardRef(((e,t)=>{let{breakpoint:n,fluid:i,children:r,className:a,tag:s="div",...c}=e;const u=l("".concat(i?"container-fluid":"container".concat(n?"-"+n:"")),a);return(0,o.jsx)(s,{className:u,...c,ref:t,children:r})}));d.displayName="MDBContainer";const f=i.forwardRef(((e,t)=>{let{center:n,children:i,className:r,end:a,lg:s,md:c,offsetLg:u,offsetMd:d,offsetSm:f,order:h,size:p,sm:g,start:m,tag:v="div",xl:b,xxl:y,xs:C,...w}=e;const S=l(p&&"col-".concat(p),C&&"col-xs-".concat(C),g&&"col-sm-".concat(g),c&&"col-md-".concat(c),s&&"col-lg-".concat(s),b&&"col-xl-".concat(b),y&&"col-xxl-".concat(y),p||C||g||c||s||b||y?"":"col",h&&"order-".concat(h),m&&"align-self-start",n&&"align-self-center",a&&"align-self-end",f&&"offset-sm-".concat(f),d&&"offset-md-".concat(d),u&&"offset-lg-".concat(u),r);return(0,o.jsx)(v,{className:S,ref:t,...w,children:i})}));f.displayName="MDBCol";const h=i.forwardRef(((e,t)=>{let{className:n,color:i="primary",pill:r,light:a,dot:s,tag:c="span",children:u,notification:d,...f}=e;const h=l("badge",a?i&&"badge-".concat(i):i&&"bg-".concat(i),s&&"badge-dot",r&&"rounded-pill",d&&"badge-notification",n);return(0,o.jsx)(c,{className:h,ref:t,...f,children:u})}));h.displayName="MDBBadge";const p=e=>{let{...t}=e;const[n,r]=(0,i.useState)(!1),a=l("ripple-wave",n&&"active");return(0,i.useEffect)((()=>{const e=setTimeout((()=>{r(!0)}),50);return()=>{clearTimeout(e)}}),[]),(0,o.jsx)("div",{className:a,...t})},g=i.forwardRef(((e,t)=>{let{className:n,rippleTag:r="div",rippleCentered:a,rippleDuration:s=500,rippleUnbound:c,rippleRadius:u=0,rippleColor:d="dark",children:f,onMouseDown:h,...g}=e;const m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.useRef();return i.useEffect((()=>{t.forEach((e=>{e&&("function"==typeof e?e(r.current):e.current=r.current)}))}),[t]),r}(t,(0,i.useRef)(null)),v=[0,0,0],b=["primary","secondary","success","danger","warning","info","light","dark"],[y,C]=(0,i.useState)([]),[w,S]=(0,i.useState)(!1),I=l("ripple","ripple-surface",c&&"ripple-surface-unbound",w&&"ripple-surface-".concat(d),n),T=()=>{if(b.find((e=>e===(null==d?void 0:d.toLowerCase()))))return S(!0);{const e=E(d).join(",");return"radial-gradient(circle, ".concat("rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e)),")")}},E=e=>"transparent"===e.toLowerCase()?v:"#"===e[0]?(e=>(e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]))(e):(-1===e.indexOf("rgb")&&(e=(e=>{const t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n||(t.style.color=e,t.style.color===n||""===t.style.color)?v:(e=getComputedStyle(t).color,document.body.removeChild(t),e)})(e)),0===e.indexOf("rgb")?(e=>(e=e.match(/[.\d]+/g).map((e=>+Number(e))),e.length=3,e))(e):v),M=e=>{var t;const n=null==(t=m.current)?void 0:t.getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top,o=n.height,l=n.width,c={delay:s&&.5*s,duration:s&&s-.5*s},d=(e=>{const{offsetX:t,offsetY:n,height:i,width:r}=e,a=n<=i/2,o=t<=r/2,s=(e,t)=>Math.sqrt(e**2+t**2),l=n===i/2&&t===r/2,c=!0===a&&!1===o,u=!0===a&&!0===o,d=!1===a&&!0===o,f=!1===a&&!1===o,h={topLeft:s(t,n),topRight:s(r-t,n),bottomLeft:s(t,i-n),bottomRight:s(r-t,i-n)};let p=0;return l||f?p=h.topLeft:d?p=h.topRight:u?p=h.bottomRight:c&&(p=h.bottomLeft),2*p})({offsetX:a?o/2:i,offsetY:a?l/2:r,height:o,width:l}),f=u||d/2,h={left:"".concat(a?l/2-f:i-f,"px"),top:"".concat(a?o/2-f:r-f,"px"),height:"".concat(u?2*u:d,"px"),width:"".concat(u?2*u:d,"px"),transitionDelay:"0s, ".concat(c.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(c.duration,"ms")};return w?h:{...h,backgroundImage:"".concat(T())}};return(0,i.useEffect)((()=>{const e=setTimeout((()=>{y.length>0&&C(y.splice(1,y.length-1))}),s);return()=>{clearTimeout(e)}}),[s,y]),(0,o.jsxs)(r,{className:I,onMouseDown:e=>(e=>{const t=M(e),n=y.concat(t);C(n),h&&h(e)})(e),ref:m,...g,children:[f,y.map(((e,t)=>(0,o.jsx)(p,{style:e},t)))]})}));g.displayName="MDBRipple";const m=i.forwardRef(((e,t)=>{let{className:n,color:r="primary",outline:a,children:s,rounded:c,disabled:u,floating:d,size:f,href:h,block:p,active:m,toggle:v,noRipple:b,tag:y="button",role:C="button",...w}=e;const[S,I]=(0,i.useState)(m||!1);let T;const E=r&&["light","link"].includes(r)||a?"dark":"light";T="none"!==r?a?r?"btn-outline-".concat(r):"btn-outline-primary":r?"btn-".concat(r):"btn-primary":"";const M=l("none"!==r&&"btn",T,c&&"btn-rounded",d&&"btn-floating",f&&"btn-".concat(f),"".concat((h||"button"!==y)&&u?"disabled":""),p&&"btn-block",S&&"active",n);return h&&"a"!==y&&(y="a"),["hr","img","input"].includes(y)||b?(0,o.jsx)(y,{className:M,onClick:v?()=>{I(!S)}:void 0,disabled:!(!u||"button"!==y)||void 0,href:h,ref:t,role:C,...w,children:s}):(0,o.jsx)(g,{rippleTag:y,rippleColor:E,className:M,onClick:v?()=>{I(!S)}:void 0,disabled:!(!u||"button"!==y)||void 0,href:h,ref:t,role:C,...w,children:s})}));m.displayName="MDBBtn";const v=i.forwardRef(((e,t)=>{let n,{className:i,children:r,shadow:a,toolbar:s,size:c,vertical:u,tag:d="div",role:f="group",...h}=e;n=s?"btn-toolbar":u?"btn-group-vertical":"btn-group";const p=l(n,a&&"shadow-".concat(a),c&&"btn-group-".concat(c),i);return(0,o.jsx)(d,{className:p,ref:t,role:f,...h,children:r})}));v.displayName="MDBBtnGroup";const b=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",color:a,grow:s,size:c,...u}=e;const d=l("".concat(s?"spinner-grow":"spinner-border"),a&&"text-".concat(a),"".concat(c?s?"spinner-grow-"+c:"spinner-border-"+c:""),n);return(0,o.jsx)(r,{className:d,ref:t,...u,children:i})}));b.displayName="MDBSpinner";const y=i.forwardRef(((e,t)=>{let{className:n,children:i,border:r,background:a,tag:s="div",shadow:c,alignment:u,...d}=e;const f=l("card",r&&"border border-".concat(r),a&&"bg-".concat(a),c&&"shadow-".concat(c),u&&"text-".concat(u),n);return(0,o.jsx)(s,{className:f,ref:t,...d,children:i})}));y.displayName="MDBCard";const C=i.forwardRef(((e,t)=>{let{className:n,children:i,border:r,background:a,tag:s="div",...c}=e;const u=l("card-header",r&&"border-".concat(r),a&&"bg-".concat(a),n);return(0,o.jsx)(s,{className:u,...c,ref:t,children:i})}));C.displayName="MDBCardHeader";const w=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="p",...a}=e;const s=l("card-subtitle",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));w.displayName="MDBCardSubTitle";const S=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="h5",...a}=e;const s=l("card-title",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));S.displayName="MDBCardTitle";const I=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="p",...a}=e;const s=l("card-text",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));I.displayName="MDBCardText";const T=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("card-body",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));T.displayName="MDBCardBody";const E=i.forwardRef(((e,t)=>{let{className:n,children:i,border:r,background:a,tag:s="div",...c}=e;const u=l("card-footer",r&&"border-".concat(r),a&&"bg-".concat(a),n);return(0,o.jsx)(s,{className:u,...c,ref:t,children:i})}));E.displayName="MDBCardFooter";const M=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("card-img-overlay",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));M.displayName="MDBCardOverlay";const R=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("card-group",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));R.displayName="MDBCardGroup";const A=i.forwardRef(((e,t)=>{let{className:n,tag:i="ul",horizontal:r,horizontalSize:a,light:s,numbered:c,children:u,small:d,...f}=e;const h=l("list-group",r&&(a?"list-group-horizontal-".concat(a):"list-group-horizontal"),s&&"list-group-light",c&&"list-group-numbered",d&&"list-group-small",n);return(0,o.jsx)(i,{className:h,ref:t,...f,children:u})}));A.displayName="MDBListGroup";const k=i.forwardRef(((e,t)=>{let{className:n,tag:i="li",active:r,disabled:a,action:s,color:c,children:u,noBorders:d,...f}=e;const h="button"===i,p=l("list-group-item",r&&"active",a&&!h&&"disabled",s&&"list-group-item-action",c&&"list-group-item-".concat(c),d&&"border-0",n);return(0,o.jsx)(i,{className:p,disabled:h&&a,ref:t,...f,children:u})}));k.displayName="MDBListGroupItem";const x=i.forwardRef(((e,t)=>{let{around:n,between:i,bottom:r,center:a,children:s,className:c,evenly:u,end:d,middle:f,start:h,tag:p="div",top:g,...m}=e;const v=l("row",n&&"justify-content-around",i&&"justify-content-between",r&&"align-self-end",a&&"justify-content-center",u&&"justifty-content-evenly",d&&"justify-content-end",f&&"align-self-center",h&&"justify-content-start",g&&"align-self-start",c);return(0,o.jsx)(p,{className:v,...m,ref:t,children:s})}));x.displayName="MDBRow";const D=e=>{let t,{animate:n,className:i,icon:r,fab:a,fas:s,fal:c,far:u,flag:d,spin:f,fixed:h,flip:p,list:g,size:m,pull:v,pulse:b,color:y,border:C,rotate:w,inverse:S,stack:I,iconType:T,children:E,...M}=e;t=d?"flag":a?"fab":s?"fas":u?"far":c?"fal":"fa";const R=l(T?"fa-".concat(T):t,n&&"fa-".concat(n),d?"flag-".concat(d):r&&"fa-".concat(r),m&&"fa-".concat(m),y&&"text-".concat(y),C&&"fa-border",w&&"fa-rotate-".concat(w),v&&"fa-pull-".concat(v),f&&!n&&"fa-spin",g&&"fa-li",h&&"fa-fw",b&&!n&&"fa-pulse",S&&"fa-inverse",p&&"fa-flip-".concat(p),I&&"fa-stack-".concat(I),i);return(0,o.jsx)("i",{className:R,...M,children:E})},O=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="p",variant:a,color:s,blockquote:c,note:u,noteColor:d,listUnStyled:f,listInLine:h,...p}=e;const g=l(a&&a,c&&"blockquote",u&&"note",s&&"text-".concat(s),d&&"note-".concat(d),f&&"list-unstyled",h&&"list-inline",n);return c&&(r="blockquote"),(f||h)&&(r="ul"),(0,o.jsx)(r,{className:g,ref:t,...p,children:i})}));O.displayName="MDBTypography";const L=i.forwardRef(((e,t)=>{let{className:n,color:i,uppercase:r,bold:a,children:s,...c}=e;const u=l("breadcrumb",a&&"font-weight-bold",i&&"text-".concat(i),r&&"text-uppercase",n);return(0,o.jsx)("nav",{"aria-label":"breadcrumb",children:(0,o.jsx)("ol",{className:u,ref:t,...c,children:s})})}));L.displayName="MDBBreadcrumb";const _=i.forwardRef(((e,t)=>{let{className:n,active:i,current:r="page",children:a,...s}=e;const c=l("breadcrumb-item",i&&"active",n);return(0,o.jsx)("li",{className:c,ref:t,"aria-current":i&&r,...s,children:a})}));_.displayName="MDBBreadcrumbItem";const N=i.forwardRef(((e,t)=>{let{className:n,children:r,light:a,dark:s,scrolling:c,fixed:u,sticky:d,scrollingNavbarOffset:f,color:h,transparent:p,expand:g,tag:m="nav",bgColor:v,...b}=e;const[y,C]=(0,i.useState)(!1),w=l({"navbar-light":a,"navbar-dark":s,"scrolling-navbar":c||f,"top-nav-collapse":y,["text-".concat(h)]:h&&p?y:h},u&&"fixed-".concat(u),d&&"sticky-top","navbar",g&&(e=>{if(!1!==e)return"navbar-expand-".concat(e)})(g),v&&"bg-".concat(v),n),S=(0,i.useCallback)((()=>{f&&window.pageYOffset>f?C(!0):C(!1)}),[f]);return(0,i.useEffect)((()=>((c||f)&&window.addEventListener("scroll",S),()=>{window.removeEventListener("scroll",S)})),[S,c,f]),(0,o.jsx)(m,{className:w,role:"navigation",...b,ref:t,children:r})}));N.displayName="MDBNavbar";const j=i.forwardRef(((e,t)=>{let{children:n,className:i="",disabled:r=!1,active:a=!1,tag:s="a",...c}=e;const u=l("nav-link",r?"disabled":a?"active":"",i);return(0,o.jsx)(s,{"data-test":"nav-link",className:u,style:{cursor:"pointer"},ref:t,...c,children:n})}));j.displayName="MDBNavbarLink";const P=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="a",...a}=e;const s=l("navbar-brand",n);return(0,o.jsx)(r,{className:s,ref:t,...a,children:i})}));P.displayName="MDBNavbarBrand";const U=i.forwardRef(((e,t)=>{let{children:n,className:i,active:r,text:a,tag:s="li",...c}=e;const u=l("nav-item",r&&"active",a&&"navbar-text",i);return(0,o.jsx)(s,{...c,className:u,ref:t,children:n})}));U.displayName="MDBNavbarItem";const F=i.forwardRef(((e,t)=>{let{children:n,className:i,right:r,fullWidth:a=!0,left:s,tag:c="ul",...u}=e;const d=l("navbar-nav",a&&"w-100",r&&"ms-auto",s&&"me-auto",i);return(0,o.jsx)(c,{className:d,ref:t,...u,children:n})}));F.displayName="MDBNavbarNav";const B=i.forwardRef(((e,t)=>{let{children:n,className:i,tag:r="button",...a}=e;const s=l("navbar-toggler",i);return(0,o.jsx)(r,{...a,className:s,ref:t,children:n})}));B.displayName="MDBNavbarToggler";const z=i.forwardRef(((e,t)=>{let{children:n,bgColor:i,color:r,className:a,...s}=e;const c=l(i&&"bg-".concat(i),r&&"text-".concat(r),a);return(0,o.jsx)("footer",{className:c,...s,ref:t,children:n})}));z.displayName="MDBFooter";const W=i.forwardRef(((e,t)=>{let{children:n,size:i,circle:r,center:a,end:s,start:c,className:u,...d}=e;const f=l("pagination",a&&"justify-content-center",r&&"pagination-circle",s&&"justify-content-end",i&&"pagination-".concat(i),c&&"justify-content-start",u);return(0,o.jsx)("ul",{className:f,...d,ref:t,children:n})}));W.displayName="MDBPagination";const V=i.forwardRef(((e,t)=>{let{children:n,className:i,tag:r="a",...a}=e;const s=l("page-link",i);return(0,o.jsx)(r,{className:s,...a,ref:t,children:n})}));V.displayName="MDBPaginationLink";const H=i.forwardRef(((e,t)=>{let{children:n,className:i,active:r,disabled:a,...s}=e;const c=l("page-item",r&&"active",a&&"disabled",i);return(0,o.jsx)("li",{className:c,...s,ref:t,children:n})}));H.displayName="MDBPaginationItem";const G=i.forwardRef(((e,t)=>{var n;let{animated:i,children:r,className:a,style:s,tag:c="div",valuenow:u,valuemax:d,striped:f,bgColor:h,valuemin:p,width:g,...m}=e;const v=l("progress-bar",h&&"bg-".concat(h),f&&"progress-bar-striped",i&&"progress-bar-animated",a),b={width:"".concat(g,"%"),...s};return(0,o.jsx)(c,{className:v,style:b,ref:t,role:"progressbar",...m,"aria-valuenow":null!==(n=Number(g))&&void 0!==n?n:u,"aria-valuemin":Number(p),"aria-valuemax":Number(d),children:r})}));G.displayName="MDBProgressBar";const Y=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:a="div",height:s,style:c,...u}=e;const d=l("progress",n),f={height:"".concat(s,"px"),...c};return(0,o.jsx)(a,{className:d,ref:t,style:f,...u,children:i.Children.map(r,(e=>i.isValidElement(e)&&e.type===G?e:void console.error("Progress component only allows ProgressBar as child")))})}));Y.displayName="MDBProgress";const J=i.forwardRef(((e,t)=>{let{className:n,size:r,contrast:a,value:s,defaultValue:c,id:u,labelClass:d,wrapperClass:f,wrapperStyle:h,wrapperTag:p="div",label:g,onChange:m,children:v,labelRef:b,labelStyle:y,type:C,onBlur:w,readonly:S=!1,showCounter:I=!1,...T}=e;var E;const[M,R]=(0,i.useState)(c),A=(0,i.useMemo)((()=>void 0!==s?s:M),[s,M]),[k,x]=(0,i.useState)(0),[D,O]=(0,i.useState)(!1),[L,_]=(0,i.useState)(0),N=(0,i.useRef)(null),j=(e=>{const[t,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{a((()=>new IntersectionObserver((e=>{let[t]=e;n(t.isIntersecting)}))))}),[]),(0,i.useEffect)((()=>{if(e.current&&r)return r.observe(e.current),()=>r.disconnect()}),[r,e]),t})(N),P=(0,i.useRef)(null),U=b||P;(0,i.useImperativeHandle)(t,(()=>N.current));const F=l("form-outline",a&&"form-white",f),B=l("form-control",D&&"active","date"===C&&"active",r&&"form-control-".concat(r),n),z=l("form-label",d),W=(0,i.useCallback)((()=>{var e;null!=(e=U.current)&&e.clientWidth&&x(.8*U.current.clientWidth+8)}),[U]),V=(0,i.useCallback)((e=>{N.current&&(O(!!A),w&&w(e))}),[A,w]);return(0,i.useEffect)((()=>{W()}),[null==(E=U.current)?void 0:E.clientWidth,W,j]),(0,i.useEffect)((()=>{if(A)return O(!0);O(!1)}),[A]),(0,o.jsxs)(p,{className:F,style:h,children:[(0,o.jsx)("input",{type:C,readOnly:S,className:B,onBlur:V,onChange:e=>{R(e.target.value),I&&_(e.target.value.length),null==m||m(e)},onFocus:W,value:s,defaultValue:c,id:u,ref:N,...T}),g&&(0,o.jsx)("label",{className:z,style:y,htmlFor:u,ref:U,children:g}),(0,o.jsxs)("div",{className:"form-notch",children:[(0,o.jsx)("div",{className:"form-notch-leading"}),(0,o.jsx)("div",{className:"form-notch-middle",style:{width:k}}),(0,o.jsx)("div",{className:"form-notch-trailing"})]}),v,I&&T.maxLength&&(0,o.jsx)("div",{className:"form-helper",children:(0,o.jsx)("div",{className:"form-counter",children:"".concat(L,"/").concat(T.maxLength)})})]})}));J.displayName="MDBInput";const Q=(0,i.forwardRef)(((e,t)=>{let{className:n,inputRef:i,labelClass:r,wrapperClass:a,labelStyle:s,wrapperTag:c="div",wrapperStyle:u,label:d,inline:f,btn:h,id:p,btnColor:g,disableWrapper:m,toggleSwitch:v,...b}=e,y="form-check-input",C="form-check-label";h&&(y="btn-check",C=g?"btn btn-".concat(g):"btn btn-primary");const w=l(d&&!h&&"form-check",f&&!h&&"form-check-inline",v&&"form-switch",a),S=l(y,n),I=l(C,r),T=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{className:S,id:p,ref:i,...b}),d&&(0,o.jsx)("label",{className:I,style:s,htmlFor:p,children:d})]});return(0,o.jsx)(o.Fragment,{children:m?T:(0,o.jsx)(c,{style:u,className:w,ref:t,children:T})})}));Q.displayName="InputTemplate";const q=e=>{let{className:t,children:n,open:r=!1,id:a,navbar:s,tag:c="div",collapseRef:u,style:d,onOpen:f,onClose:h,...p}=e;const[g,m]=(0,i.useState)(!1),[v,b]=(0,i.useState)(void 0),[y,C]=(0,i.useState)(!1),w=l(y?"collapsing":"collapse",!y&&g&&"show",s&&"navbar-collapse",t),S=(0,i.useRef)(null),I=null!==u&&void 0!==u?u:S,T=(0,i.useCallback)((()=>{g&&b(void 0)}),[g]);return(0,i.useEffect)((()=>{var e;void 0===v&&g&&b(null==(e=null==I?void 0:I.current)?void 0:e.scrollHeight)}),[v,g,I]),(0,i.useEffect)((()=>{g!==r&&(r?null==f||f():null==h||h(),m(r)),g&&C(!0);const e=setTimeout((()=>{C(!1)}),350);return()=>{clearTimeout(e)}}),[r,g,f,h]),(0,i.useEffect)((()=>{var e;b(g?null==(e=null==I?void 0:I.current)?void 0:e.scrollHeight:0)}),[g,I,n]),(0,i.useEffect)((()=>(window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)})),[T]),(0,o.jsx)(c,{style:{height:v,...d},id:a,className:w,...p,ref:I,children:n})},X=((0,i.createContext)(null),e=>{let{animationDirection:t,appendToBody:n,backdrop:r=!0,children:a,className:s,closeOnEsc:u=!0,setOpen:d,leaveHiddenModal:f=!0,modalRef:h,onClose:p,onClosePrevented:g,onOpen:m,open:v,staticBackdrop:b,nonInvasive:y=!1,tag:C="div",...w}=e;const[S,I]=(0,i.useState)(v),[T,E]=(0,i.useState)(v),[M,R]=(0,i.useState)(v),[A,k]=(0,i.useState)(!1),[x,D]=(0,i.useState)(0),[O,L]=(0,i.useState)([]),_=(0,i.useRef)(null),N=h||_,j=l("modal",A&&"modal-static",t,"fade",T&&"show",S&&y&&"modal-non-invasive-show",s),P=l("modal-backdrop","fade",S&&"show"),U=(0,i.useCallback)((()=>{E((e=>(e&&(null==p||p()),!1))),setTimeout((()=>{I(!1),null==d||d(!1)}),150),setTimeout((()=>{R(!1)}),350)}),[p,d]),F=(0,i.useCallback)((e=>{y||T&&e.target===N.current&&(b?(k(!0),null==g||g(),setTimeout((()=>{k(!1)}),300)):U())}),[T,N,b,U,g,y]),B=(0,i.useCallback)((e=>{T&&"Tab"===e.key&&(e.preventDefault(),D(x+1)),u&&T&&"Escape"===e.key&&(b?(k(!0),null==g||g(),setTimeout((()=>{k(!1)}),300)):U())}),[T,u,x,b,U,g]);(0,i.useEffect)((()=>{var e;const t=null==(e=N.current)?void 0:e.querySelectorAll("button, a, input, select, textarea, [tabindex]"),n=Array.from(t).filter((e=>-1!==e.tabIndex)).sort(((e,t)=>e.tabIndex===t.tabIndex?0:null===t.tabIndex?-1:null===e.tabIndex?1:e.tabIndex-t.tabIndex));L(n),D(n.length-1)}),[N]),(0,i.useEffect)((()=>{O&&O.length>0&&(x===O.length?(O[0].focus(),D(0)):O[x].focus())}),[x,O]),(0,i.useEffect)((()=>{const e=window.innerWidth>document.documentElement.clientWidth&&window.innerWidth>=576;if(M&&e&&!y){const e=(()=>{const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)})();document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight=""}}),[M,y]),(0,i.useEffect)((()=>{v?(null==m||m(),R(!0),setTimeout((()=>{I(!0)}),0),setTimeout((()=>{E(!0),null==d||d(!0)}),150)):U()}),[v,U,d,m]),(0,i.useEffect)((()=>{const e=e=>{e.target.closest(".modal-dialog")||window.addEventListener("mouseup",F,{once:!0})};return window.addEventListener("mousedown",e),window.addEventListener("keydown",B),()=>{window.removeEventListener("mousedown",e),window.removeEventListener("keydown",B)}}),[B,F]);const z=(0,o.jsx)(o.Fragment,{children:(f||v||M)&&c.createPortal((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C,{className:j,ref:N,style:{display:M||v?"block":"none",pointerEvents:y?"none":"initial"},...w,children:a}),c.createPortal(r&&M&&!y&&(0,o.jsx)("div",{className:P}),document.body)]}),document.body)}),W=(0,o.jsx)(o.Fragment,{children:(f||v||M)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C,{className:j,ref:N,style:{display:M||v?"block":"none",pointerEvents:y?"none":"initial"},...w,children:a}),c.createPortal(r&&M&&!y&&(0,o.jsx)("div",{onClick:U,className:P}),document.body)]})});return(0,o.jsx)(o.Fragment,{children:n?z:W})}),K=i.forwardRef(((e,t)=>{let{className:n,centered:i,children:r,size:a,scrollable:s,tag:c="div",...u}=e;const d=l("modal-dialog",s&&"modal-dialog-scrollable",i&&"modal-dialog-centered",a&&"modal-".concat(a),n);return(0,o.jsx)(c,{className:d,...u,ref:t,children:r})}));K.displayName="MDBModalDialog";const Z=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("modal-content",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));Z.displayName="MDBModalContent";const $=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("modal-header",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));$.displayName="MDBModalHeader";const ee=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="h5",...a}=e;const s=l("modal-title",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));ee.displayName="MDBModalTitle";const te=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("modal-body",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));te.displayName="MDBModalBody";const ne=i.forwardRef(((e,t)=>{let{className:n,children:i,tag:r="div",...a}=e;const s=l("modal-footer",n);return(0,o.jsx)(r,{className:s,...a,ref:t,children:i})}));ne.displayName="MDBModalFooter";i.createContext({activeElement:null,setTargets:null});const ie=(0,i.forwardRef)(((e,t)=>{let{className:n,labelClass:r,labelStyle:a,inputRef:s,size:c,label:u,id:d,...f}=e;const h=l("form-control","form-control-".concat(c),n),p=l("form-label",r),g=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>g.current||(null==s?void 0:s.current))),(0,o.jsxs)(o.Fragment,{children:[u&&(0,o.jsx)("label",{className:p,style:a,htmlFor:d,children:u}),(0,o.jsx)("input",{className:h,type:"file",id:d,ref:g,...f})]})}));ie.displayName="MDBFile";const re=i.forwardRef(((e,t)=>{let{className:n,children:i,noBorder:r,textBefore:a,textAfter:s,noWrap:c,tag:u="div",textTag:d="span",textClass:f,size:h,textProps:p,...g}=e;const m=l("input-group",c&&"flex-nowrap",h&&"input-group-".concat(h),n),v=l("input-group-text",r&&"border-0",f),b=e=>(0,o.jsx)(o.Fragment,{children:e&&Array.isArray(e)?e.map(((e,t)=>(0,o.jsx)(d,{className:v,...p,children:e},t))):(0,o.jsx)(d,{className:v,...p,children:e})});return(0,o.jsxs)(u,{className:m,ref:t,...g,children:[a&&b(a),i,s&&b(s)]})}));re.displayName="MDBInputGroup";const ae=i.forwardRef(((e,t)=>{let{className:n,children:r,isValidated:a=!1,onReset:s,onSubmit:c,noValidate:u=!0,...d}=e;const[f,h]=(0,i.useState)(a),p=l("needs-validation",f&&"was-validated",n);return(0,i.useEffect)((()=>{h(a)}),[a]),(0,o.jsx)("form",{className:p,onSubmit:e=>{e.preventDefault(),h(!0),c&&c(e)},onReset:e=>{e.preventDefault(),h(!1),s&&s(e)},ref:t,noValidate:u,...d,children:r})}));ae.displayName="MDBValidation";const oe=i.forwardRef(((e,t)=>{let{className:n,fill:i,pills:r,justify:a,children:s,...c}=e;const u=l("nav",r?"nav-pills":"nav-tabs",i&&"nav-fill",a&&"nav-justified",n);return(0,o.jsx)("ul",{className:u,ref:t,...c,children:s})}));oe.displayName="MDBTabs";const se=i.forwardRef(((e,t)=>{let{className:n,children:i,style:r,tag:a="li",...s}=e;const c=l("nav-item",n);return(0,o.jsx)(a,{className:c,style:{cursor:"pointer",...r},role:"presentation",ref:t,...s,children:i})}));se.displayName="MDBTabsItem";const le=i.forwardRef(((e,t)=>{let{className:n,color:r,active:a,onOpen:s,onClose:c,children:u,...d}=e;const f=l("nav-link",a&&"active",r&&"bg-".concat(r),n);return(0,i.useEffect)((()=>{a?null==s||s():null==c||c()}),[a]),(0,o.jsx)("a",{className:f,ref:t,...d,children:u})}));le.displayName="MDBTabsLink";const ce=i.forwardRef(((e,t)=>{let{className:n,tag:i="div",children:r,...a}=e;const s=l("tab-content",n);return(0,o.jsx)(i,{className:s,ref:t,...a,children:r})}));ce.displayName="MDBTabsContent";const ue=i.forwardRef(((e,t)=>{let{className:n,tag:r="div",open:a,children:s,...c}=e;const[u,d]=(0,i.useState)(!1),f=l("tab-pane","fade",u&&"show",a&&"active",n);return(0,i.useEffect)((()=>{let e;return a?e=setTimeout((()=>{d(!0)}),100):d(!1),()=>{clearTimeout(e)}}),[a]),(0,o.jsx)(r,{className:f,role:"tabpanel",ref:t,...c,children:s})}));ue.displayName="MDBTabsPane";(0,i.createContext)({active:0});const de=i.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),fe=i.forwardRef(((e,t)=>{let{alwaysOpen:n,borderless:r,className:a,flush:s,active:c,initialActive:u=0,tag:d="div",children:f,onChange:h,...p}=e;const g=(0,i.useMemo)((()=>typeof c<"u"),[c]),m=l("accordion",s&&"accordion-flush",r&&"accordion-borderless",a),[v,b]=(0,i.useState)(u);return(0,o.jsx)(d,{className:m,ref:t,...p,children:(0,o.jsx)(de.Provider,{value:{activeItem:g?c:v,setActiveItem:b,alwaysOpen:n,initialActive:u,onChange:h},children:f})})}));fe.displayName="MDBAccordion";const he=i.forwardRef(((e,t)=>{let{className:n,bodyClassName:r,bodyStyle:a,headerClassName:s,collapseId:c,headerTitle:u,headerStyle:d,btnClassName:f,tag:h="div",children:p,...g}=e;const{activeItem:m,setActiveItem:v,alwaysOpen:b,onChange:y}=(0,i.useContext)(de),C=(0,i.useMemo)((()=>Array.isArray(m)?m.includes(c):m===c),[m,c]),w=l("accordion-item",n),S=l("accordion-header",s),I=l("accordion-body",r),T=l("accordion-button",!C&&"collapsed",f),E=(0,i.useCallback)((e=>{let t=e;Array.isArray(m)?t=m.includes(e)?m.filter((t=>t!==e)):b?[...m,e]:[e]:(t=m===e?0:e,b&&(t=[t])),null==y||y(t),v(t)}),[y,m,v,b]);return(0,o.jsxs)(h,{className:w,ref:t,...g,children:[(0,o.jsx)("h2",{className:S,style:d,children:(0,o.jsx)("button",{onClick:()=>E(c),className:T,type:"button",children:u})}),(0,o.jsx)(q,{id:c.toString(),open:C,children:(0,o.jsx)("div",{className:I,style:a,children:p})})]})}));he.displayName="MDBAccordionItem";function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pe.apply(this,arguments)}var ge;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ge||(ge={}));const me="popstate";function ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function be(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(nn){}}}function ye(e,t){return{usr:e.state,key:e.key,idx:t}}function Ce(e,t,n,i){return void 0===n&&(n=null),pe({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Se(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function we(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function Se(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Ie(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s=ge.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){s=ge.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:h.location,delta:t})}function f(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:we(e);return n=n.replace(/ $/,"%20"),ve(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(pe({},o.state,{idx:c}),""));let h={get action(){return s},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(me,d),l=e,()=>{r.removeEventListener(me,d),l=null}},createHref:e=>t(r,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=ge.Push;let i=Ce(h.location,e,t);n&&n(i,e),c=u()+1;let d=ye(i,c),f=h.createHref(i);try{o.pushState(d,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(f)}a&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s=ge.Replace;let i=Ce(h.location,e,t);n&&n(i,e),c=u();let r=ye(i,c),d=h.createHref(i);o.replaceState(r,"",d),a&&l&&l({action:s,location:h.location,delta:0})},go:e=>o.go(e)};return h}var Te;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Te||(Te={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Ee(e,t,n){void 0===n&&(n="/");let i=Fe(("string"===typeof t?Se(t):t).pathname||"/",n);if(null==i)return null;let r=Me(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let e=Ue(i);a=je(r[o],e)}return a}function Me(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(ve(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let s=He([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(ve(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Me(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ne(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of Re(e.path))r(e,t,i);else r(e,t)})),t}function Re(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=Re(i.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Ae=/^:[\w-]+$/,ke=3,xe=2,De=1,Oe=10,Le=-2,_e=e=>"*"===e;function Ne(e,t){let n=e.split("/"),i=n.length;return n.some(_e)&&(i+=Le),t&&(i+=xe),n.filter((e=>!_e(e))).reduce(((e,t)=>e+(Ae.test(t)?ke:""===t?De:Oe)),i)}function je(e,t){let{routesMeta:n}=e,i={},r="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],s=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=Pe({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;a.push({params:i,pathname:He([r,c.pathname]),pathnameBase:Ge(He([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=He([r,c.pathnameBase]))}return a}function Pe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);be("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function Ue(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return be(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Fe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Be(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ze(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function We(e,t){let n=ze(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Ve(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=Se(e):(r=pe({},e),ve(!r.pathname||!r.pathname.includes("?"),Be("?","pathname","search",r)),ve(!r.pathname||!r.pathname.includes("#"),Be("#","pathname","hash",r)),ve(!r.search||!r.search.includes("#"),Be("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?Se(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Ye(i),hash:Je(r)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const He=e=>e.join("/").replace(/\/\/+/g,"/"),Ge=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ye=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Je=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Qe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const qe=["post","put","patch","delete"],Xe=(new Set(qe),["get",...qe]);new Set(Xe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ke.apply(this,arguments)}const Ze=i.createContext(null);const $e=i.createContext(null);const et=i.createContext(null);const tt=i.createContext(null);const nt=i.createContext({outlet:null,matches:[],isDataRoute:!1});const it=i.createContext(null);function rt(){return null!=i.useContext(tt)}function at(){return rt()||ve(!1),i.useContext(tt).location}function ot(e){i.useContext(et).static||i.useLayoutEffect(e)}function st(){let{isDataRoute:e}=i.useContext(nt);return e?function(){let{router:e}=vt(gt.UseNavigateStable),t=yt(mt.UseNavigateStable),n=i.useRef(!1);ot((()=>{n.current=!0}));let r=i.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,Ke({fromRouteId:t},r)))}),[e,t]);return r}():function(){rt()||ve(!1);let e=i.useContext(Ze),{basename:t,future:n,navigator:r}=i.useContext(et),{matches:a}=i.useContext(nt),{pathname:o}=at(),s=JSON.stringify(We(a,n.v7_relativeSplatPath)),l=i.useRef(!1);ot((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=Ve(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:He([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,s,o,e]);return c}()}function lt(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(et),{matches:a}=i.useContext(nt),{pathname:o}=at(),s=JSON.stringify(We(a,r.v7_relativeSplatPath));return i.useMemo((()=>Ve(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function ct(e,t,n,r){rt()||ve(!1);let{navigator:a}=i.useContext(et),{matches:o}=i.useContext(nt),s=o[o.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=at();if(t){var f;let e="string"===typeof t?Se(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||ve(!1),u=e}else u=d;let h=u.pathname||"/",p=h;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=Ee(e,{pathname:p});let m=pt(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:He([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:He([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&m?i.createElement(tt.Provider,{value:{location:Ke({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ge.Pop}},m):m}function ut(){let e=function(){var e;let t=i.useContext(it),n=bt(mt.UseRouteError),r=yt(mt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Qe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const dt=i.createElement(ut,null);class ft extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(nt.Provider,{value:this.props.routeContext},i.createElement(it.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ht(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(Ze);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(nt.Provider,{value:t},r)}function pt(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||ve(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,a)=>{let o,d=!1,f=null,h=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,f=r.route.errorElement||dt,c&&(u<0&&0===a?(p="route-fallback",!1||Ct[p]||(Ct[p]=!0),d=!0,h=null):u===a&&(d=!0,h=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,a+1)),m=()=>{let t;return t=o?f:d?h:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ht,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ft,{location:n.location,revalidation:n.revalidation,component:f,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var gt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gt||{}),mt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mt||{});function vt(e){let t=i.useContext(Ze);return t||ve(!1),t}function bt(e){let t=i.useContext($e);return t||ve(!1),t}function yt(e){let t=function(e){let t=i.useContext(nt);return t||ve(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}const Ct={};r.startTransition;function wt(e){ve(!1)}function St(e){let{basename:t="/",children:n=null,location:r,navigationType:a=ge.Pop,navigator:o,static:s=!1,future:l}=e;rt()&&ve(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:o,static:s,future:Ke({v7_relativeSplatPath:!1},l)})),[c,l,o,s]);"string"===typeof r&&(r=Se(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=i.useMemo((()=>{let e=Fe(d,c);return null==e?null:{location:{pathname:e,search:f,hash:h,state:p,key:g},navigationType:a}}),[c,d,f,h,p,g,a]);return null==m?null:i.createElement(et.Provider,{value:u},i.createElement(tt.Provider,{children:n,value:m}))}function It(e){let{children:t,location:n}=e;return ct(Tt(t),n)}new Promise((()=>{}));i.Component;function Tt(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Tt(e.props.children,a));e.type!==wt&&ve(!1),e.props.index&&e.props.children&&ve(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Tt(e.props.children,a)),n.push(o)})),n}function Et(e){const[t,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),s=st();return(0,i.useEffect)((()=>{window.addEventListener("scroll",(e=>{window.scrollY>20?a(!0):a(!1)})),document.querySelector(".navbar-nav").addEventListener("click",(e=>{"nav-link"===e.target.className&&(document.querySelectorAll(".nav-link").forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active"))}))}),[]),(0,o.jsx)(N,{expand:"lg",className:"navbar",bgColor:!r||"light",style:r?{}:{"--mdb-navbar-box-shadow":0},sticky:!0,children:(0,o.jsxs)(d,{fluid:!0,children:[(0,o.jsx)(P,{className:"navbarTitle",href:"#",children:e.title||"SyncUp"}),(0,o.jsx)(B,{"aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:()=>n(!t),children:(0,o.jsx)(D,{icon:"bars",fas:!0})}),(0,o.jsxs)(q,{navbar:!0,open:t,children:[(0,o.jsxs)(F,{className:"mr-auto mb-2 mb-lg-0 justify-content-center",children:[(0,o.jsx)(U,{children:(0,o.jsx)(j,{active:!0,"aria-current":"page",href:"#",children:"Home"})}),(0,o.jsx)(U,{children:(0,o.jsx)(j,{href:"#premium",children:"Premium"})}),(0,o.jsx)(U,{children:(0,o.jsx)(j,{href:"#mail",children:"Newsletter"})}),(0,o.jsx)(U,{children:(0,o.jsx)(j,{href:"#contact",children:"Contact"})})]}),(0,o.jsx)("button",{onClick:()=>{s("/login")},className:"navbarBtn",children:"Get started"})]})]})})}const Mt=function(e){const t=st();return(0,o.jsx)("div",{id:e.id,className:"bannerParent",children:(0,o.jsxs)("div",{style:e.style||e.isCurved&&{borderRadius:"48px 48px 150px 48px"}||{},className:"banner",children:[(0,o.jsxs)("div",{className:"leftSub",children:[(0,o.jsx)("h1",{className:"bigText",children:e.bigText}),(0,o.jsx)("p",{className:"smallText",children:e.smallText}),(0,o.jsxs)("div",{className:"btnDiv",children:[e.children,!e.btnOff&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>t("/login"),className:"btnStart",children:"Get started"}),(0,o.jsx)("button",{className:"btnStart lightBtn",style:{background:"transparent"},children:"Learn more"})]})]})]}),(0,o.jsx)("div",{className:"rightSub",children:(0,o.jsx)("img",{src:e.imgUrl,alt:"",className:"bannerImage"})})]})})},Rt=n.p+"static/media/heart_icon.3f8dd9cfae8bd087277a.png";const At=function(e){return(0,o.jsxs)("div",{className:"boxContainer",style:e.style,children:[e.imgUrl&&(0,o.jsx)("div",{className:"subBox1",children:(0,o.jsx)("img",{src:e.imgUrl,alt:"Image",className:"boxImg"})}),(0,o.jsx)("div",{className:"subBox2",children:e.children})]})},kt=n.p+"static/media/switch.b923fd31979ae7f42f2b.png",xt=n.p+"static/media/lightening.a0cb37e0650cf0ec5496.png";const Dt=function(e){const t={width:"188px",height:"231px",margin:"30px",textAlign:"center"};return(0,o.jsxs)("div",{className:"premiumContainer",id:"premium",children:[(0,o.jsxs)("div",{className:"child",children:[(0,o.jsx)("h1",{children:e.bigText}),(0,o.jsx)("p",{children:e.smallText})]}),(0,o.jsxs)("div",{className:"child2",children:[(0,o.jsx)(At,{imgUrl:kt,style:t,children:(0,o.jsx)("h4",{style:{fontWeight:"bold",color:"black",fontSize:"20px"},children:"Ads will be turned off"})}),(0,o.jsx)(At,{imgUrl:xt,style:{...t,textAlign:"start",fontWeight:"bold"},children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"More privacy"}),(0,o.jsx)("li",{children:"Customizable"}),(0,o.jsx)("li",{children:"More features"})]})})]})]})};const Ot=function(e){return(0,o.jsxs)(At,{style:{width:"40%",textAlign:"center",padding:"30px",margin:"30px",background:"white",minHeight:"400px"},children:[(0,o.jsx)("h3",{className:"planTitle",children:e.planTitle}),(0,o.jsx)("p",{className:"planDescription",children:e.planDescription}),(0,o.jsx)("div",{className:"price",children:(0,o.jsxs)("h2",{style:{color:"#ED80FD"},children:["\u20b9",e.price,(0,o.jsx)("span",{style:{color:"black",fontSize:"18px"},children:e.isMonth?"/month":"only"})," "]})}),(0,o.jsx)("div",{className:"features mt-4",children:e.features.map((e=>(0,o.jsxs)("h6",{children:[(0,o.jsx)(Lt,{}),e]})))}),(0,o.jsx)("button",{className:"btnBuy",children:"Continue"})]})},Lt=function(){return(0,o.jsx)("span",{style:{margin:"5px"},children:(0,o.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:"6",cy:"6",r:"6",fill:"#39DC98"}),(0,o.jsx)("g",{"clip-path":"url(#clip0_35_7)",children:(0,o.jsx)("path",{d:"M9.99832 3.60011C9.91172 3.60243 9.82952 3.635 9.76915 3.69093L4.6715 8.27882L2.57384 6.39093C2.54312 6.36213 2.50634 6.33915 2.46563 6.32331C2.42492 6.30748 2.38111 6.29911 2.33676 6.2987C2.29241 6.2983 2.24842 6.30586 2.20736 6.32095C2.1663 6.33603 2.129 6.35834 2.09764 6.38657C2.06628 6.41479 2.04149 6.44836 2.02473 6.48531C2.00797 6.52227 1.99957 6.56186 2.00002 6.60177C2.00047 6.64168 2.00976 6.68111 2.02736 6.71775C2.04495 6.75439 2.07049 6.7875 2.10249 6.81515L4.43582 8.91515C4.49833 8.97139 4.58311 9.00298 4.6715 9.00298C4.75989 9.00298 4.84466 8.97139 4.90717 8.91515L10.2405 4.11515C10.2887 4.07301 10.3216 4.01875 10.3349 3.9595C10.3482 3.90024 10.3413 3.83875 10.3152 3.78307C10.289 3.7274 10.2447 3.68014 10.1882 3.64749C10.1316 3.61484 10.0655 3.59832 9.99832 3.60011Z",fill:"white"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_35_7",children:(0,o.jsx)("rect",{width:"10",height:"9",fill:"white"})})})]})})},_t=function(){const e=st();return(0,o.jsx)("div",{className:"planParentDiv cursor-pointer",onClick:()=>e("/plans"),children:(0,o.jsxs)("div",{className:"pinkBox",children:[(0,o.jsx)("h2",{children:"Here are our all plans"}),(0,o.jsx)("p",{style:{textAlign:"center"},children:"Premium helps you to drive into enormous features"}),(0,o.jsxs)("div",{className:"plans",children:[(0,o.jsx)(Ot,{planTitle:"Monthly",price:"399",features:["Ads disabled","More privacy","More features"],isMonth:!0,planDescription:"Try our premium with monthly subscription"}),(0,o.jsx)(Ot,{planTitle:"Lifetime",price:"1899",features:["Ads disabled","More privacy","More features","Lifetime"],planDescription:"Enjoy premium features for lifetime"})]})]})})},Nt=n.p+"static/media/mail.6701f9af5f1bff9eb307.png";const jt=function(){return(0,o.jsx)(Mt,{id:"mail",style:{minHeight:"300px",padding:"50px"},bigText:"Get in touch with our latest feature and more",btnOff:!0,imgUrl:Nt,children:(0,o.jsxs)("div",{className:"mailer",children:[(0,o.jsx)("input",{type:"text",placeholder:"Enter email",className:"emailInput"}),(0,o.jsx)("button",{className:"btnSubmit",children:"Submit"})]})})};const Pt=function(){return(0,o.jsx)("div",{className:"contactContainer",id:"contact",children:(0,o.jsxs)("div",{className:"pinkBox",children:[(0,o.jsx)("h2",{children:"Contact us"}),(0,o.jsx)("p",{style:{textAlign:"center"},children:"Let us know how we can help you today"}),(0,o.jsxs)("div",{className:"contact",children:[(0,o.jsx)("input",{placeholder:"Enter name",className:"contactInput"}),(0,o.jsx)("input",{placeholder:"Enter email",className:"contactInput"})]}),(0,o.jsx)("textarea",{placeholder:"Enter your complaint",className:"textArea"}),(0,o.jsx)("button",{className:"btnBuy",children:"Submit"})]})})};const Ut=function(e){var t;return(0,o.jsxs)("div",{className:"subContainer",children:[(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("h5",{children:e.type})}),null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("li",{children:e})})))]}),e.children]})},Ft=function(){return(0,o.jsxs)("div",{className:"footer",children:[(0,o.jsx)(Ut,{type:"Platform",options:["Home","Pricing","News","Contact"]}),(0,o.jsx)(Ut,{type:"Help",options:["How to login ?","Can i get premium for free ?","How to invite relatives","Can anyone see your messages"]}),(0,o.jsx)(Ut,{type:"Contacts",options:["+918743873492","test@gmail.com","673043,","Maharastra"]}),(0,o.jsxs)("div",{className:"rightContainer",children:[(0,o.jsxs)("div",{className:"socialMedia",children:[(0,o.jsx)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M7.68182 0C3.44647 0 0 3.44647 0 7.68182V18.3182C0 22.5535 3.44647 26 7.68182 26H18.3182C22.5535 26 26 22.5535 26 18.3182V7.68182C26 3.44647 22.5535 0 18.3182 0H7.68182ZM7.68182 1.18182H18.3182C21.9147 1.18182 24.8182 4.08526 24.8182 7.68182V18.3182C24.8182 21.9147 21.9147 24.8182 18.3182 24.8182H7.68182C4.08526 24.8182 1.18182 21.9147 1.18182 18.3182V7.68182C1.18182 4.08526 4.08526 1.18182 7.68182 1.18182ZM20.0909 4.72727C19.7775 4.72727 19.4769 4.85179 19.2552 5.07342C19.0336 5.29505 18.9091 5.59565 18.9091 5.90909C18.9091 6.22253 19.0336 6.52313 19.2552 6.74476C19.4769 6.9664 19.7775 7.09091 20.0909 7.09091C20.4043 7.09091 20.7049 6.9664 20.9266 6.74476C21.1482 6.52313 21.2727 6.22253 21.2727 5.90909C21.2727 5.59565 21.1482 5.29505 20.9266 5.07342C20.7049 4.85179 20.4043 4.72727 20.0909 4.72727ZM13 6.5C9.41715 6.5 6.5 9.41715 6.5 13C6.5 16.5829 9.41715 19.5 13 19.5C16.5829 19.5 19.5 16.5829 19.5 13C19.5 9.41715 16.5829 6.5 13 6.5ZM13 7.68182C15.9441 7.68182 18.3182 10.0559 18.3182 13C18.3182 15.9441 15.9441 18.3182 13 18.3182C10.0559 18.3182 7.68182 15.9441 7.68182 13C7.68182 10.0559 10.0559 7.68182 13 7.68182Z",fill:"#FFFDFD"})}),(0,o.jsx)("svg",{width:"34",height:"32",viewBox:"0 0 34 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M16.6909 3C9.18031 3 3.09091 8.7312 3.09091 15.8C3.09091 21.7979 7.47918 26.8165 13.3952 28.2053C13.3317 28.0325 13.2909 27.832 13.2909 27.5835V25.3957C12.739 25.3957 11.8142 25.3957 11.5818 25.3957C10.6514 25.3957 9.82405 25.0192 9.42284 24.3195C8.97745 23.5419 8.90038 22.3525 7.79651 21.6251C7.46898 21.3829 7.71831 21.1067 8.09571 21.144C8.79271 21.3296 9.37071 21.7797 9.91471 22.4475C10.4564 23.1163 10.7114 23.2677 11.7235 23.2677C12.2142 23.2677 12.9486 23.2411 13.64 23.1387C14.0117 22.2501 14.6543 21.432 15.4397 21.0459C10.9109 20.6075 8.74965 18.4869 8.74965 15.608C8.74965 14.3685 9.31065 13.1696 10.2638 12.1595C9.95098 11.1568 9.55771 9.112 10.3839 8.33333C12.4216 8.33333 13.6536 9.57707 13.9494 9.91307C14.9648 9.5856 16.08 9.4 17.2519 9.4C18.426 9.4 19.5458 9.5856 20.5635 9.9152C20.8559 9.58133 22.089 8.33333 24.1312 8.33333C24.9608 9.11307 24.563 11.1664 24.2468 12.1669C25.1943 13.1749 25.7519 14.3707 25.7519 15.608C25.7519 18.4848 23.594 20.6043 19.072 21.0448C20.3164 21.656 21.2242 23.3733 21.2242 24.6672V27.5835C21.2242 27.6944 21.1982 27.7744 21.1846 27.8693C26.484 26.1211 30.2909 21.3851 30.2909 15.8C30.2909 8.7312 24.2015 3 16.6909 3Z",fill:"white"})}),(0,o.jsx)("svg",{width:"33",height:"29",viewBox:"0 0 33 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M27.06 2.32007H5.94C4.1184 2.32007 2.64 3.61927 2.64 5.22007V23.7801C2.64 25.3809 4.1184 26.6801 5.94 26.6801H27.06C28.8816 26.6801 30.36 25.3809 30.36 23.7801V5.22007C30.36 3.61927 28.8816 2.32007 27.06 2.32007ZM11.22 11.6001V22.6201H7.26V11.6001H11.22ZM7.26 8.39267C7.26 7.58067 8.052 6.96007 9.24 6.96007C10.428 6.96007 11.1738 7.58067 11.22 8.39267C11.22 9.20467 10.4808 9.86007 9.24 9.86007C8.052 9.86007 7.26 9.20467 7.26 8.39267ZM25.74 22.6201H21.78C21.78 22.6201 21.78 17.2493 21.78 16.8201C21.78 15.6601 21.12 14.5001 19.47 14.4769H19.4172C17.82 14.4769 17.16 15.6717 17.16 16.8201C17.16 17.3479 17.16 22.6201 17.16 22.6201H13.2V11.6001H17.16V13.0849C17.16 13.0849 18.4338 11.6001 20.9946 11.6001C23.6148 11.6001 25.74 13.1835 25.74 16.3909V22.6201Z",fill:"white"})}),(0,o.jsx)("br",{}),"\xa9 Copyright SyncUp. ",(0,o.jsx)("br",{})," All Rights Reserved"]}),(0,o.jsxs)("a",{href:"#",children:[" ",(0,o.jsx)("img",{src:"https://i.imgur.com/RHPpJ24.png",alt:"",className:"goTop"})]})]})]})};const Bt=function(){return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(Et,{title:"SyncUp"}),(0,o.jsx)(Mt,{isCurved:!0,imgUrl:Rt,bigText:"Connect with your family and friends ",smallText:"The best platform to connect with your relatives"}),(0,o.jsx)(Dt,{bigText:"Explore premium features",smallText:"We give you the best experience."}),(0,o.jsx)(_t,{}),(0,o.jsx)(jt,{}),(0,o.jsx)(Pt,{}),(0,o.jsx)(Ft,{})]})},zt=n.p+"static/media/chat.96ede9a9c7a3abf6dd61.png";const Wt=function(e){return document.body.onselectstart=()=>!1,(0,o.jsx)("div",{className:"center loginContainer",children:(0,o.jsxs)("div",{className:"loginBox center",children:[(0,o.jsxs)("div",{className:"leftBox",children:[(0,o.jsx)("h3",{className:"leftTitle",children:e.leftTitle}),(0,o.jsx)("p",{className:"leftDescription",children:e.leftDescription}),(0,o.jsx)("img",{src:zt,className:"loginImg",alt:""})]}),(0,o.jsxs)("div",{className:"rightBox center",style:{paddingTop:"30px"},children:[(0,o.jsx)("h3",{style:{fontWeight:"400",color:"#010851"},children:e.rightTitle}),e.children]})]})})};function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vt.apply(this,arguments)}function Ht(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Gt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map((e=>[n,e])):[[n,i]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Yt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(nn){}new Map;const Jt=r.startTransition;u.flushSync,r.useId;function Qt(e){let{basename:t,children:n,future:r,window:a}=e,o=i.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),Ie((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return Ce("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:we(t)}),null,s)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback((e=>{d&&Jt?Jt((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.createElement(St,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const qt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=i.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=Ht(e,Yt),{basename:p}=i.useContext(et),g=!1;if("string"===typeof u&&Xt.test(u)&&(n=u,qt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Fe(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(nn){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;rt()||ve(!1);let{basename:r,navigator:a}=i.useContext(et),{hash:o,pathname:s,search:l}=lt(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:He([r,s])),a.createHref({pathname:c,search:l,hash:o})}(u,{relative:a}),v=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=st(),u=at(),d=lt(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:we(u)===we(d);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l})}}),[u,c,d,r,a,n,e,o,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:f});return i.createElement("a",Vt({},h,{href:n||m,onClick:g||o?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var Zt,$t;function en(e){let t=i.useRef(Gt(e)),n=i.useRef(!1),r=at(),a=i.useMemo((()=>function(e,t){let n=Gt(e);return t&&t.forEach(((e,i)=>{n.has(i)||t.getAll(i).forEach((e=>{n.append(i,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=st(),s=i.useCallback(((e,t)=>{const i=Gt("function"===typeof e?e(a):e);n.current=!0,o("?"+i,t)}),[o,a]);return[a,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zt||(Zt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($t||($t={}));function tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let nn={data:""},rn=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||nn,an=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,on=/\/\*[^]*?\*\/|  +/g,sn=/\n+/g,ln=(e,t)=>{let n="",i="",r="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":i+="f"==a[1]?ln(o,a):a+"{"+ln(o,"k"==a[1]?"":t)+"}":"object"==typeof o?i+=ln(o,t?t.replace(/([^,])+/g,(e=>a.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=ln.p?ln.p(a,o):a+":"+o+";")}return n+(t&&r?t+"{"+r+"}":r)+i},cn={},un=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+un(e[n]);return t}return e},dn=(e,t,n,i,r)=>{let a=un(e),o=cn[a]||(cn[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!cn[o]){let t=a!==e?e:(e=>{let t,n,i=[{}];for(;t=an.exec(e.replace(on,""));)t[4]?i.shift():t[3]?(n=t[3].replace(sn," ").trim(),i.unshift(i[0][n]=i[0][n]||{})):i[0][t[1]]=t[2].replace(sn," ").trim();return i[0]})(e);cn[o]=ln(r?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&cn.g?cn.g:null;return n&&(cn.g=cn[o]),((e,t,n,i)=>{i?t.data=t.data.replace(i,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(cn[o],t,i,s),o},fn=(e,t,n)=>e.reduce(((e,i,r)=>{let a=t[r];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":ln(e,""):!1===e?"":e}return e+i+(null==a?"":a)}),"");function hn(e){let t=this||{},n=e.call?e(t.p):e;return dn(n.unshift?n.raw?fn(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,rn(t.target),t.g,t.o,t.k)}hn.bind({g:1});let pn,gn,mn,vn=hn.bind({k:1});function bn(e,t){let n=this||{};return function(){let i=arguments;function r(a,o){let s=Object.assign({},a),l=s.className||r.className;n.p=Object.assign({theme:gn&&gn()},s),n.o=/ *go\d+/.test(l),s.className=hn.apply(n,i)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),mn&&c[0]&&mn(s),pn(c,s)}return t?t(r):r}}var yn,Cn,wn,Sn,In,Tn,En,Mn,Rn,An,kn,xn,Dn,On,Ln,_n,Nn=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,jn=(()=>{let e=0;return()=>(++e).toString()})(),Pn=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Un=new Map,Fn=e=>{if(Un.has(e))return;let t=setTimeout((()=>{Un.delete(e),Vn({type:4,toastId:e})}),1e3);Un.set(e,t)},Bn=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=Un.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?Bn(e,{type:1,toast:n}):Bn(e,{type:0,toast:n});case 3:let{toastId:i}=t;return i?Fn(i):e.toasts.forEach((e=>{Fn(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===i||void 0===i?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+r})))}}},zn=[],Wn={toasts:[],pausedAt:void 0},Vn=e=>{Wn=Bn(Wn,e),zn.forEach((e=>{e(Wn)}))},Hn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Gn=e=>(t,n)=>{let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||jn()}}(t,e,n);return Vn({type:2,toast:i}),i.id},Yn=(e,t)=>Gn("blank")(e,t);Yn.error=Gn("error"),Yn.success=Gn("success"),Yn.loading=Gn("loading"),Yn.custom=Gn("custom"),Yn.dismiss=e=>{Vn({type:3,toastId:e})},Yn.remove=e=>Vn({type:4,toastId:e}),Yn.promise=(e,t,n)=>{let i=Yn.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(Yn.success(Nn(t.success,e),{id:i,...n,...null==n?void 0:n.success}),e))).catch((e=>{Yn.error(Nn(t.error,e),{id:i,...n,...null==n?void 0:n.error})})),e};var Jn=(e,t)=>{Vn({type:1,toast:{id:e,height:t}})},Qn=()=>{Vn({type:5,time:Date.now()})},qn=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(Wn);(0,i.useEffect)((()=>(zn.push(n),()=>{let e=zn.indexOf(n);e>-1&&zn.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,i;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Hn[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}}));return{...t,toasts:r}}(e);(0,i.useEffect)((()=>{if(n)return;let e=Date.now(),i=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>Yn.dismiss(t.id)),n);t.visible&&Yn.dismiss(t.id)}));return()=>{i.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,i.useCallback)((()=>{n&&Vn({type:6,time:Date.now()})}),[n]),a=(0,i.useCallback)(((e,n)=>{let{reverseOrder:i=!1,gutter:r=8,defaultPosition:a}=n||{},o=t.filter((t=>(t.position||a)===(e.position||a)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...i?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+r),0)}),[t]);return{toasts:t,handlers:{updateHeight:Jn,startPause:Qn,endPause:r,calculateOffset:a}}},Xn=vn(yn||(yn=tn(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Kn=vn(Cn||(Cn=tn(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Zn=vn(wn||(wn=tn(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),$n=bn("div")(Sn||(Sn=tn(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),Xn,Kn,(e=>e.secondary||"#fff"),Zn),ei=vn(In||(In=tn(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ti=bn("div")(Tn||(Tn=tn(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),ei),ni=vn(En||(En=tn(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),ii=vn(Mn||(Mn=tn(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ri=bn("div")(Rn||(Rn=tn(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),ni,ii,(e=>e.secondary||"#fff")),ai=bn("div")(An||(An=tn(["\n  position: absolute;\n"]))),oi=bn("div")(kn||(kn=tn(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),si=vn(xn||(xn=tn(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),li=bn("div")(Dn||(Dn=tn(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),si),ci=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?i.createElement(li,null,n):n:"blank"===r?null:i.createElement(oi,null,i.createElement(ti,{...a}),"loading"!==r&&i.createElement(ai,null,"error"===r?i.createElement($n,{...a}):i.createElement(ri,{...a})))},ui=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),di=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),fi=bn("div")(On||(On=tn(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),hi=bn("div")(Ln||(Ln=tn(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pi=i.memo((e=>{let{toast:t,position:n,style:r,children:a}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[i,r]=Pn()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ui(n),di(n)];return{animation:t?"".concat(vn(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(vn(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=i.createElement(ci,{toast:t}),l=i.createElement(hi,{...t.ariaProps},Nn(t.message,t));return i.createElement(fi,{className:t.className,style:{...o,...r,...t.style}},"function"==typeof a?a({icon:s,message:l}):i.createElement(i.Fragment,null,s,l))}));!function(e,t,n,i){ln.p=t,pn=e,gn=n,mn=i}(i.createElement);var gi=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:o}=e,s=i.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return i.createElement("div",{ref:s,className:n,style:r},o)},mi=hn(_n||(_n=tn(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),vi=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:o,containerStyle:s,containerClassName:l}=e,{toasts:c,handlers:u}=qn(r);return i.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let r=e.position||n,s=((e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...i,...r}})(r,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return i.createElement(gi,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?mi:"",style:s},"custom"===e.type?Nn(e.message,e):o?o(e):i.createElement(pi,{toast:e,position:r}))})))},bi=Yn;function yi(e){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(e)}function Ci(e){var t=function(e,t){if("object"!=yi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=yi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yi(t)?t:String(t)}function wi(e,t,n){return(t=Ci(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Si=Symbol.for("immer-nothing"),Ii=Symbol.for("immer-draftable"),Ti=Symbol.for("immer-state");function Ei(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Mi=Object.getPrototypeOf;function Ri(e){return!!e&&!!e[Ti]}function Ai(e){var t;return!!e&&(xi(e)||Array.isArray(e)||!!e[Ii]||!(null===(t=e.constructor)||void 0===t||!t[Ii])||Ni(e)||ji(e))}var ki=Object.prototype.constructor.toString();function xi(e){if(!e||"object"!==typeof e)return!1;const t=Mi(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ki}function Di(e,t){0===Oi(e)?Object.entries(e).forEach((n=>{let[i,r]=n;t(i,r,e)})):e.forEach(((n,i)=>t(i,n,e)))}function Oi(e){const t=e[Ti];return t?t.type_:Array.isArray(e)?1:Ni(e)?2:ji(e)?3:0}function Li(e,t){return 2===Oi(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _i(e,t,n){const i=Oi(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function Ni(e){return e instanceof Map}function ji(e){return e instanceof Set}function Pi(e){return e.copy_||e.base_}function Ui(e,t){if(Ni(e))return new Map(e);if(ji(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&xi(e)){if(!Mi(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[Ti];let i=Reflect.ownKeys(n);for(let r=0;r<i.length;r++){const t=i[r],a=n[t];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[t]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[t]})}return Object.create(Mi(e),n)}function Fi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zi(e)||Ri(e)||!Ai(e)||(Oi(e)>1&&(e.set=e.add=e.clear=e.delete=Bi),Object.freeze(e),t&&Di(e,((e,t)=>Fi(t,!0)))),e}function Bi(){Ei(2)}function zi(e){return Object.isFrozen(e)}var Wi,Vi={};function Hi(e){const t=Vi[e];return t||Ei(0),t}function Gi(){return Wi}function Yi(e,t){t&&(Hi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ji(e){Qi(e),e.drafts_.forEach(Xi),e.drafts_=null}function Qi(e){e===Wi&&(Wi=e.parent_)}function qi(e){return Wi={drafts_:[],parent_:Wi,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xi(e){const t=e[Ti];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ki(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ti].modified_&&(Ji(t),Ei(4)),Ai(e)&&(e=Zi(t,e),t.parent_||er(t,e)),t.patches_&&Hi("Patches").generateReplacementPatches_(n[Ti].base_,e,t.patches_,t.inversePatches_)):e=Zi(t,n,[]),Ji(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Si?e:void 0}function Zi(e,t,n){if(zi(t))return t;const i=t[Ti];if(!i)return Di(t,((r,a)=>$i(e,i,t,r,a,n))),t;if(i.scope_!==e)return t;if(!i.modified_)return er(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let r=t,a=!1;3===i.type_&&(r=new Set(t),t.clear(),a=!0),Di(r,((r,o)=>$i(e,i,t,r,o,n,a))),er(e,t,!1),n&&e.patches_&&Hi("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function $i(e,t,n,i,r,a,o){if(Ri(r)){const o=Zi(e,r,a&&t&&3!==t.type_&&!Li(t.assigned_,i)?a.concat(i):void 0);if(_i(n,i,o),!Ri(o))return;e.canAutoFreeze_=!1}else o&&n.add(r);if(Ai(r)&&!zi(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zi(e,r),t&&t.scope_.parent_||er(e,r)}}function er(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fi(t,n)}var tr={get(e,t){if(t===Ti)return e;const n=Pi(e);if(!Li(n,t))return function(e,t,n){var i;const r=rr(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!Ai(i)?i:i===ir(e.base_,t)?(or(e),e.copy_[t]=sr(i,e)):i},has:(e,t)=>t in Pi(e),ownKeys:e=>Reflect.ownKeys(Pi(e)),set(e,t,n){const i=rr(Pi(e),t);if(null!==i&&void 0!==i&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=ir(Pi(e),t),r=null===i||void 0===i?void 0:i[Ti];if(r&&r.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,i)&&(void 0!==n||Li(e.base_,t)))return!0;or(e),ar(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ir(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,or(e),ar(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Pi(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){Ei(11)},getPrototypeOf:e=>Mi(e.base_),setPrototypeOf(){Ei(12)}},nr={};function ir(e,t){const n=e[Ti];return(n?Pi(n):e)[t]}function rr(e,t){if(!(t in e))return;let n=Mi(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Mi(n)}}function ar(e){e.modified_||(e.modified_=!0,e.parent_&&ar(e.parent_))}function or(e){e.copy_||(e.copy_=Ui(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Di(tr,((e,t)=>{nr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),nr.deleteProperty=function(e,t){return nr.set.call(this,e,t,void 0)},nr.set=function(e,t,n){return tr.set.call(this,e[0],t,n,e[0])};function sr(e,t){const n=Ni(e)?Hi("MapSet").proxyMap_(e,t):ji(e)?Hi("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:Gi(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=tr;n&&(r=[i],a=nr);const{revoke:o,proxy:s}=Proxy.revocable(r,a);return i.draft_=s,i.revoke_=o,s}(e,t);return(t?t.scope_:Gi()).drafts_.push(n),n}function lr(e){return Ri(e)||Ei(10),cr(e)}function cr(e){if(!Ai(e)||zi(e))return e;const t=e[Ti];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ui(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ui(e,!0);return Di(n,((e,t)=>{_i(n,e,cr(t))})),t&&(t.finalized_=!1),n}var ur=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const i=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return i.produce(e,(e=>t.call(this,e,...a)))}}let i;if("function"!==typeof t&&Ei(6),void 0!==n&&"function"!==typeof n&&Ei(7),Ai(e)){const r=qi(this),a=sr(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?Ji(r):Qi(r)}return Yi(r,n),Ki(i,r)}if(!e||"object"!==typeof e){if(i=t(e),void 0===i&&(i=e),i===Si&&(i=void 0),this.autoFreeze_&&Fi(i,!0),n){const t=[],r=[];Hi("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}Ei(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return t.produceWithPatches(n,(t=>e(t,...r)))};let i,r;const a=this.produce(e,n,((e,t)=>{i=e,r=t}));return[a,i,r]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ai(e)||Ei(8),Ri(e)&&(e=lr(e));const t=qi(this),n=sr(e,void 0);return n[Ti].isManual_=!0,Qi(t),n}finishDraft(e,t){const n=e&&e[Ti];n&&n.isManual_||Ei(9);const{scope_:i}=n;return Yi(i,t),Ki(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=Hi("Patches").applyPatches_;return Ri(e)?i(e,t):this.produce(e,(e=>i(e,t)))}},dr=ur.produce;ur.produceWithPatches.bind(ur),ur.setAutoFreeze.bind(ur),ur.setUseStrictShallowCopy.bind(ur),ur.applyPatches.bind(ur),ur.createDraft.bind(ur),ur.finishDraft.bind(ur);function fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var hr=e=>Array.isArray(e)?e:[e];function pr(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var gr="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},mr=0,vr=1;function br(){return{s:mr,v:void 0,o:null,p:null}}function yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=br();const{resultEqualityCheck:i}=t;let r,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const i=e.get(n);void 0===i?(t=br(),e.set(n,t)):t=i}else{let e=t.p;null===e&&(t.p=e=new Map);const i=e.get(n);void 0===i?(t=br(),e.set(n,t)):t=i}}const s=t;let l;if(t.s===vr?l=t.v:(l=e.apply(null,arguments),a++),s.s=vr,i){var c,u,d;const e=null!==(c=null===(u=r)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:r;null!=e&&i(e,l)&&(l=e,0!==a&&a--);r="object"===typeof l&&null!==l||"function"===typeof l?new gr(l):l}return s.v=l,l}return o.clearCache=()=>{n=br(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let i,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),fr(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c={...r,...s},{memoize:u,memoizeOptions:d=[],argsMemoize:f=yr,argsMemoizeOptions:h=[],devModeChecks:p={}}=c,g=hr(d),m=hr(h),v=pr(t),b=u((function(){return a++,l.apply(null,arguments)}),...g);const y=f((function(){o++;const e=function(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}(v,arguments);return i=b.apply(null,e),i}),...m);return Object.assign(y,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>i,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var wr=Cr(yr),Sr=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wr;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),i=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(((e,t,i)=>(e[n[i]]=t,e)),{})}));return i}),{withTypes:()=>Sr});function Ir(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Tr=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Er=()=>Math.random().toString(36).substring(7).split("").join("."),Mr={INIT:"@@redux/INIT".concat(Er()),REPLACE:"@@redux/REPLACE".concat(Er()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Er())};function Rr(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ar(e,t,n){if("function"!==typeof e)throw new Error(Ir(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ir(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ir(1));return n(Ar)(e,t)}let i=e,r=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error(Ir(3));return r}function d(e){if("function"!==typeof e)throw new Error(Ir(4));if(l)throw new Error(Ir(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(Ir(6));t=!1,c(),o.delete(n),a=null}}}function f(e){if(!Rr(e))throw new Error(Ir(7));if("undefined"===typeof e.type)throw new Error(Ir(8));if("string"!==typeof e.type)throw new Error(Ir(17));if(l)throw new Error(Ir(9));try{l=!0,r=i(r,e)}finally{l=!1}return(a=o).forEach((e=>{e()})),e}f({type:Mr.INIT});return{dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ir(10));i=e,f({type:Mr.REPLACE})},[Tr]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Ir(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Tr](){return this}}}}}function kr(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const i=t[a];0,"function"===typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let r;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Mr.INIT}))throw new Error(Ir(12));if("undefined"===typeof n(void 0,{type:Mr.PROBE_UNKNOWN_ACTION()}))throw new Error(Ir(13))}))}(n)}catch(nn){r=nn}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(r)throw r;let a=!1;const o={};for(let r=0;r<i.length;r++){const s=i[r],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Ir(14))}o[s]=u,a=a||u!==c}return a=a||i.length!==Object.keys(e).length,a?o:e}}function xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Dr(e){return t=>{let{dispatch:n,getState:i}=t;return t=>r=>"function"===typeof r?r(n,i,e):t(r)}}var Or=Dr(),Lr=Dr,_r=(function(){const e=Cr(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t(Ri(e)?lr(e):e,...i)};return Object.assign(n,t),n}),{withTypes:()=>t})}(yr),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?xr:xr.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Nr(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(sa(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return Rr(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var jr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Pr(e){return Ai(e)?dr(e,(()=>{})):e}function Ur(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(sa(10));const i=n.insert(t,e);return e.set(t,i),i}var Fr="RTK_autoBatch",Br=e=>t=>{setTimeout(t,e)},zr="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Br(10),Wr=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let i=new jr(e);return n&&i.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let i=!0,r=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?zr:"callback"===e.type?e.queueNotification:Br(e.timeout),l=()=>{a=!1,r&&(r=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>i&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return i=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Fr]),r=!i,r&&(a||(a=!0,s(l))),n.dispatch(e)}finally{i=!0}}})}}("object"===typeof n?n:void 0)),i};function Vr(e){const t={},n=[];let i;const r={addCase(e,n){const i="string"===typeof e?e:e.type;if(!i)throw new Error(sa(28));if(i in t)throw new Error(sa(29));return t[i]=n,r},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(i=e,r)};return e(r),[t,n,i]}var Hr=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Gr=Symbol.for("rtk-slice-createasyncthunk");function Yr(e,t){return"".concat(e,"/").concat(t)}function Jr(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Gr];return function(e){const{name:t,reducerPath:i=t}=e;if(!t)throw new Error(sa(11));const r=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(r),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(sa(12));if(n in o.sliceCaseReducersByType)throw new Error(sa(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],i]="function"===typeof e.extraReducers?Vr(e.extraReducers):[e.extraReducers],r={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[i,r,a]=Vr(t);if(function(e){return"function"===typeof e}(e))n=()=>Pr(e());else{const t=Pr(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[i[t.type],...r.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[a]),o.reduce(((e,n)=>{if(n){if(Ri(e)){const i=n(e,t);return void 0===i?e:i}if(Ai(e))return dr(e,(e=>n(e,t)));{const i=n(e,t);if(void 0===i){if(null===e)return e;throw new Error(sa(9))}return i}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in r)e.addCase(t,r[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)}))}a.forEach((i=>{const a=r[i],o={reducerName:i,type:Yr(t,i),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let i,r,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(sa(17));i=t.reducer,r=t.prepare}else i=t;n.addCase(a,i).exposeCaseReducer(o,i).exposeAction(o,r?Nr(a,r):Nr(a))}(o,a,s):function(e,t,n,i){let{type:r,reducerName:a}=e;if(!i)throw new Error(sa(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,f=i(r,o,d);n.exposeAction(a,f),s&&n.addCase(f.fulfilled,s);l&&n.addCase(f.pending,l);c&&n.addCase(f.rejected,c);u&&n.addMatcher(f.settled,u);n.exposeCaseReducer(a,{fulfilled:s||Xr,pending:l||Xr,rejected:c||Xr,settled:u||Xr})}(o,a,s,n)}));const c=e=>e,u=new Map;let d;function f(e,t){return d||(d=l()),d(e,t)}function h(){return d||(d=l()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(e){let i=e[t];return"undefined"===typeof i&&n&&(i=h()),i}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const i=Ur(u,n,{insert:()=>new WeakMap});return Ur(i,t,{insert:()=>{const i={};for(const[a,o]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;i[a]=Qr(o,t,h,n)}return i}})}return{reducerPath:t,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const g={name:t,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:h,...p(i),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=null!==t&&void 0!==t?t:i;return e.inject({reducerPath:r,reducer:f},n),{...g,...p(r,!0)}}};return g}}function Qr(e,t,n,i){function r(r){let a=t(r);"undefined"===typeof a&&i&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return r.unwrapped=e,r}var qr=Jr();function Xr(){}var Kr="listener",Zr="completed",$r="cancelled",ea=("task-".concat($r),"task-".concat(Zr),"".concat(Kr,"-").concat($r),"".concat(Kr,"-").concat(Zr),(e,t)=>{if("function"!==typeof e)throw new Error(sa(32))});var{assign:ta}=Object,na="listenerMiddleware",ia=e=>{let{type:t,actionCreator:n,matcher:i,predicate:r,effect:a}=e;if(t)r=Nr(t).match;else if(n)t=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(sa(21));return ea(a),{predicate:r,type:t,effect:a}},ra=Object.assign((e=>{const{type:t,predicate:n,effect:i}=ia(e);return{id:Hr(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(sa(22))}}}),{withTypes:()=>ra}),aa=Object.assign(Nr("".concat(na,"/add")),{withTypes:()=>aa}),oa=(Nr("".concat(na,"/removeAll")),Object.assign(Nr("".concat(na,"/remove")),{withTypes:()=>oa}));Symbol.for("rtk-state-proxy-original");function sa(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const la=qr({name:"userContext",initialState:{value:{}},reducers:{setUserData:(e,t)=>{e.value=t.payload}}}),ca=qr({name:"progressContext",initialState:{value:!1},reducers:{showLoading:e=>{e.value=!0},hideLoading:e=>{e.value=!1}}}),ua=qr({name:"adminContext",initialState:{},reducers:{setAuthConfig:(e,t)=>t.payload}}),da=qr({name:"currentChat",initialState:{value:[]},reducers:{setCurrentChat:(e,t)=>{e.value=t.payload},addNewMessage:(e,t)=>{var n;null!==(n=e.value)&&void 0!==n&&n.length?e.value=[...e.value.filter((e=>e.sentTime!=t.payload.sentTime)),t.payload]:e.value=[t.payload]},markSeen:(e,t)=>{e.value=e.value.map((e=>e.senderId==t.payload?{...e,isReaded:!0}:e))},markDelivered:(e,t)=>{var n;null!==(n=e.value)&&void 0!==n&&n.length&&(e.value=e.value.map((e=>e.senderId==t.payload?{...e,isDelivered:!0}:e)))},deleteMessage:(e,t)=>{var n;null!==(n=e.value)&&void 0!==n&&n.length&&(e.value=e.value.map((e=>e._id==t.payload?{...e,isDeleted:!0}:e)))},markEdited:(e,t)=>{var n;null!==(n=e.value)&&void 0!==n&&n.length&&(e.value=e.value.map((e=>e._id==t.payload.msgId?{...e,isEdited:!0,editedContent:e.content,content:t.payload.content}:e)))},markSent:(e,t)=>{e.value=e.value.map((e=>e.senderId==t.payload?{...e,isSent:!0}:e))}}}),fa=qr({name:"conversations",initialState:{value:[]},reducers:{setConversations:(e,t)=>{e.value=t.payload},resetConversation:e=>{e.value=[]}}}),ha=qr({name:"callState",initialState:{value:{}},reducers:{setCallData:(e,t)=>{e.value={...e.value,...t.payload}}}}),pa=qr({name:"chatState",initialState:{type:null,data:null},reducers:{setChat:(e,t)=>{t.payload}}}),ga=qr({name:"ads",initialState:{value:{}},reducers:{setAds:(e,t)=>{e.value=t.payload}}}),ma=qr({name:"notes",initialState:{value:{}},reducers:{setNotes:(e,t)=>{e.value=t.payload},addNote:(e,t)=>{e.value=[...e.value,t.payload]},setExpired:e=>{e.value=e.value.map((e=>e.notes.isExpired=!0))}}}),va=qr({name:"myNotes",initialState:{value:[]},reducers:{setMyNotes:(e,t)=>{e.value=t.payload},addMyNote:(e,t)=>{e.value.push(t.payload)},setArchived:e=>{e.value=e.value.map((e=>({...e,isExpired:!0})))},clearNotes:e=>{e.value=e.value.map((e=>e.isExpired?void 0:e))}}}),ba=qr({name:"callLogs",initialState:{value:[]},reducers:{setLogs:(e,t)=>{e.value=t.payload},resetLogs:e=>{e.value=[]}}}),ya=qr({name:"scheduledMessages",initialState:{value:[]},reducers:{setScheduledMsgs:(e,t)=>{e.value=t.payload},markScheduledSent:(e,t)=>{e.value=e.value.map((e=>e._id.toString()==t.payload?{...e,isScheduleCompleted:!0}:e))},removeScheduledMsg:(e,t)=>{e.value=e.value.filter((e=>e._id!=t.payload))},resetScheduledMsgs:e=>{e.value=[]}}}),{setConversations:Ca,resetConversation:wa}=fa.actions,{setCurrentChat:Sa,markDelivered:Ia,addNewMessage:Ta,deleteMessage:Ea,markSeen:Ma,markEdited:Ra}=da.actions,{showLoading:Aa,hideLoading:ka}=ca.actions,{setAds:xa}=ga.actions,{setNotes:Da,addNote:Oa,setExpired:La}=ma.actions,{setMyNotes:_a,addMyNote:Na,setArchived:ja,clearNotes:Pa}=va.actions,{setUserData:Ua}=la.actions,{setChat:Fa}=pa.actions,{setCallData:Ba}=ha.actions,{setAuthConfig:za}=ua.actions,{setLogs:Wa,resetLogs:Va}=ba.actions,{setScheduledMsgs:Ha,markScheduledSent:Ga,removeScheduledMsg:Ya,resetScheduledMsgs:Ja}=ya.actions,Qa=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=null!==e&&void 0!==e?e:{};let a=new jr;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Or):a.push(Lr(t.extraArgument))),a},{reducer:n,middleware:i,devTools:r=!0,preloadedState:a,enhancers:o}=e||{};let s,l;if("function"===typeof n)s=n;else{if(!Rr(n))throw new Error(sa(1));s=kr(n)}l="function"===typeof i?i(t):t();let c=xr;r&&(c=_r({trace:!1,..."object"===typeof r&&r}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(Ir(15))};const o={getState:r.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a(e,...n)}},s=t.map((e=>e(o)));return a=xr(...s)(r.dispatch),{...r,dispatch:a}}}(...l),d=Wr(u);let f="function"===typeof o?o(d):d();return Ar(s,a,c(...f))}({reducer:kr({progress:ca.reducer,user:la.reducer,admin:ua.reducer,currentChat:da.reducer,conversations:fa.reducer,call:ha.reducer,chat:pa.reducer,ads:ga.reducer,notes:ma.reducer,myNotes:va.reducer,callLogs:ba.reducer,scheduledMsg:ya.reducer})});var qa=n(7237),Xa=i,Ka=Symbol.for("react-redux-context"),Za="undefined"!==typeof globalThis?globalThis:{};function $a(){var e;if(!Xa.createContext)return{};const t=null!==(e=Za[Ka])&&void 0!==e?e:Za[Ka]=new Map;let n=t.get(Xa.createContext);return n||(n=Xa.createContext(null),t.set(Xa.createContext,n)),n}var eo=$a(),to=()=>{throw new Error("uSES not initialized!")};function no(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;return function(){return Xa.useContext(e)}}var io=no(),ro=to,ao=(e,t)=>e===t;function oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;const t=e===eo?io:no(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=ao,devModeChecks:r={}}="function"===typeof n?{equalityFn:n}:n;const{store:a,subscription:o,getServerState:s,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(Xa.useRef(!0),Xa.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,r.stabilityCheck])),d=ro(o.addNestedSub,a.getState,s||a.getState,u,i);return Xa.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var so=oo();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function lo(e){e()}var co={notify(){},get:()=>[]};function uo(e,t){let n,i=co,r=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){r++,n||(n=t?t.addNestedSub(o):e.subscribe(o),i=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lo((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function l(){r--,n&&0===r&&(n(),n=void 0,i.clear(),i=co)}const c={addNestedSub:function(e){s();const t=i.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>i};return c}var fo=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Xa.useLayoutEffect:Xa.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ho=function(e){let{store:t,context:n,children:i,serverState:r,stabilityCheck:a="once",identityFunctionCheck:o="once"}=e;const s=Xa.useMemo((()=>{const e=uo(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:a,identityFunctionCheck:o}}),[t,r,a,o]),l=Xa.useMemo((()=>t.getState()),[t]);fo((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,l]);const c=n||eo;return Xa.createElement(c.Provider,{value:s},i)};function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;const t=e===eo?io:no(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var go=po();function mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;const t=e===eo?go:po(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var vo,bo=mo();function yo(e,t){return function(){return e.apply(t,arguments)}}vo=qa.useSyncExternalStoreWithSelector,ro=vo,(e=>{e})(i.useSyncExternalStore);const{toString:Co}=Object.prototype,{getPrototypeOf:wo}=Object,So=(e=>t=>{const n=Co.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Io=e=>(e=e.toLowerCase(),t=>So(t)===e),To=e=>t=>typeof t===e,{isArray:Eo}=Array,Mo=To("undefined");const Ro=Io("ArrayBuffer");const Ao=To("string"),ko=To("function"),xo=To("number"),Do=e=>null!==e&&"object"===typeof e,Oo=e=>{if("object"!==So(e))return!1;const t=wo(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lo=Io("Date"),_o=Io("File"),No=Io("Blob"),jo=Io("FileList"),Po=Io("URLSearchParams");function Uo(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Eo(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function Fo(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Bo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,zo=e=>!Mo(e)&&e!==Bo;const Wo=(Vo="undefined"!==typeof Uint8Array&&wo(Uint8Array),e=>Vo&&e instanceof Vo);var Vo;const Ho=Io("HTMLFormElement"),Go=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Yo=Io("RegExp"),Jo=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Uo(n,((n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)})),Object.defineProperties(e,i)},Qo="abcdefghijklmnopqrstuvwxyz",qo="0123456789",Xo={DIGIT:qo,ALPHA:Qo,ALPHA_DIGIT:Qo+Qo.toUpperCase()+qo};const Ko=Io("AsyncFunction"),Zo={isArray:Eo,isArrayBuffer:Ro,isBuffer:function(e){return null!==e&&!Mo(e)&&null!==e.constructor&&!Mo(e.constructor)&&ko(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ko(e.append)&&("formdata"===(t=So(e))||"object"===t&&ko(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ro(e.buffer),t},isString:Ao,isNumber:xo,isBoolean:e=>!0===e||!1===e,isObject:Do,isPlainObject:Oo,isUndefined:Mo,isDate:Lo,isFile:_o,isBlob:No,isRegExp:Yo,isFunction:ko,isStream:e=>Do(e)&&ko(e.pipe),isURLSearchParams:Po,isTypedArray:Wo,isFileList:jo,forEach:Uo,merge:function e(){const{caseless:t}=zo(this)&&this||{},n={},i=(i,r)=>{const a=t&&Fo(n,r)||r;Oo(n[a])&&Oo(i)?n[a]=e(n[a],i):Oo(i)?n[a]=e({},i):Eo(i)?n[a]=i.slice():n[a]=i};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Uo(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Uo(t,((t,i)=>{n&&ko(t)?e[i]=yo(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,o;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],i&&!i(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&wo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:So,kindOfTest:Io,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Eo(e))return e;let t=e.length;if(!xo(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Ho,hasOwnProperty:Go,hasOwnProp:Go,reduceDescriptors:Jo,freezeMethods:e=>{Jo(e,((t,n)=>{if(ko(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];ko(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return Eo(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Fo,global:Bo,isContextDefined:zo,ALPHABET:Xo,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo.ALPHA_DIGIT,n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&ko(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Do(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=Eo(e)?[]:{};return Uo(e,((e,t)=>{const a=n(e,i+1);!Mo(a)&&(r[t]=a)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:Ko,isThenable:e=>e&&(Do(e)||ko(e))&&ko(e.then)&&ko(e.catch)};function $o(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}Zo.inherits($o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Zo.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const es=$o.prototype,ts={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ts[e]={value:e}})),Object.defineProperties($o,ts),Object.defineProperty(es,"isAxiosError",{value:!0}),$o.from=(e,t,n,i,r,a)=>{const o=Object.create(es);return Zo.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$o.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const ns=$o;function is(e){return Zo.isPlainObject(e)||Zo.isArray(e)}function rs(e){return Zo.endsWith(e,"[]")?e.slice(0,-2):e}function as(e,t,n){return e?e.concat(t).map((function(e,t){return e=rs(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const os=Zo.toFlatObject(Zo,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ss=function(e,t,n){if(!Zo.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=Zo.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Zo.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Zo.isSpecCompliantForm(t);if(!Zo.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Zo.isDate(e))return e.toISOString();if(!s&&Zo.isBlob(e))throw new ns("Blob is not supported. Use a Buffer instead.");return Zo.isArrayBuffer(e)||Zo.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"===typeof e)if(Zo.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Zo.isArray(e)&&function(e){return Zo.isArray(e)&&!e.some(is)}(e)||(Zo.isFileList(e)||Zo.endsWith(n,"[]"))&&(s=Zo.toArray(e)))return n=rs(n),s.forEach((function(e,i){!Zo.isUndefined(e)&&null!==e&&t.append(!0===o?as([n],i,a):null===o?n:n+"[]",l(e))})),!1;return!!is(e)||(t.append(as(r,n,a),l(e)),!1)}const u=[],d=Object.assign(os,{defaultVisitor:c,convertValue:l,isVisitable:is});if(!Zo.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Zo.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),Zo.forEach(n,(function(n,a){!0===(!(Zo.isUndefined(n)||null===n)&&r.call(t,n,Zo.isString(a)?a.trim():a,i,d))&&e(n,i?i.concat(a):[a])})),u.pop()}}(e),t};function ls(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cs(e,t){this._pairs=[],e&&ss(e,this,t)}const us=cs.prototype;us.append=function(e,t){this._pairs.push([e,t])},us.toString=function(e){const t=e?function(t){return e.call(this,t,ls)}:ls;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ds=cs;function fs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hs(e,t,n){if(!t)return e;const i=n&&n.encode||fs,r=n&&n.serialize;let a;if(a=r?r(t,n):Zo.isURLSearchParams(t)?t.toString():new ds(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ps=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Zo.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},gs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ms={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ds,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},vs="undefined"!==typeof window&&"undefined"!==typeof document,bs=(ys="undefined"!==typeof navigator&&navigator.product,vs&&["ReactNative","NativeScript","NS"].indexOf(ys)<0);var ys;const Cs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ws={...e,...ms};const Ss=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=r>=e.length;if(a=!a&&Zo.isArray(i)?i.length:a,s)return Zo.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o;i[a]&&Zo.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&Zo.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!o}if(Zo.isFormData(e)&&Zo.isFunction(e.entries)){const n={};return Zo.forEachEntry(e,((e,i)=>{t(function(e){return Zo.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const Is={transitional:gs,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=Zo.isObject(e);r&&Zo.isHTMLForm(e)&&(e=new FormData(e));if(Zo.isFormData(e))return i?JSON.stringify(Ss(e)):e;if(Zo.isArrayBuffer(e)||Zo.isBuffer(e)||Zo.isStream(e)||Zo.isFile(e)||Zo.isBlob(e))return e;if(Zo.isArrayBufferView(e))return e.buffer;if(Zo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ss(e,new ws.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return ws.isNode&&Zo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Zo.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ss(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(Zo.isString(e))try{return(t||JSON.parse)(e),Zo.trim(e)}catch(nn){if("SyntaxError"!==nn.name)throw nn}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Is.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&Zo.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(nn){if(n){if("SyntaxError"===nn.name)throw ns.from(nn,ns.ERR_BAD_RESPONSE,this,null,this.response);throw nn}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Zo.forEach(["delete","get","head","post","put","patch"],(e=>{Is.headers[e]={}}));const Ts=Is,Es=Zo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ms=Symbol("internals");function Rs(e){return e&&String(e).trim().toLowerCase()}function As(e){return!1===e||null==e?e:Zo.isArray(e)?e.map(As):String(e)}function ks(e,t,n,i,r){return Zo.isFunction(i)?i.call(this,t,n):(r&&(t=n),Zo.isString(t)?Zo.isString(i)?-1!==t.indexOf(i):Zo.isRegExp(i)?i.test(t):void 0:void 0)}class xs{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Rs(t);if(!r)throw new Error("header name must be a non-empty string");const a=Zo.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=As(e))}const a=(e,t)=>Zo.forEach(e,((e,n)=>r(e,n,t)));return Zo.isPlainObject(e)||e instanceof this.constructor?a(e,t):Zo.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Es[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=Rs(e)){const n=Zo.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(Zo.isFunction(t))return t.call(this,e,n);if(Zo.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Rs(e)){const n=Zo.findKey(this,e);return!(!n||void 0===this[n]||t&&!ks(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Rs(e)){const r=Zo.findKey(n,e);!r||t&&!ks(0,n[r],r,t)||(delete n[r],i=!0)}}return Zo.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!ks(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return Zo.forEach(this,((i,r)=>{const a=Zo.findKey(n,r);if(a)return t[a]=As(i),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete t[r],t[o]=As(i),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Zo.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&Zo.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ms]=this[Ms]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Rs(e);t[i]||(!function(e,t){const n=Zo.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return Zo.isArray(e)?e.forEach(i):i(e),this}}xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Zo.reduceDescriptors(xs.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),Zo.freezeMethods(xs);const Ds=xs;function Os(e,t){const n=this||Ts,i=t||n,r=Ds.from(i.headers);let a=i.data;return Zo.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function Ls(e){return!(!e||!e.__CANCEL__)}function _s(e,t,n){ns.call(this,null==e?"canceled":e,ns.ERR_CANCELED,t,n),this.name="CanceledError"}Zo.inherits(_s,ns,{__CANCEL__:!0});const Ns=_s;const js=ws.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const o=[e+"="+encodeURIComponent(t)];Zo.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Zo.isString(i)&&o.push("path="+i),Zo.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ps(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Us=ws.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=Zo.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Fs=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=i[o];r||(r=l),n[a]=s,i[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-r<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};function Bs(e,t){let n=0;const i=Fs(50,250);return r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,s=a-n,l=i(s);n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const zs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let i=e.data;const r=Ds.from(e.headers).normalize();let a,o,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(Zo.isFormData(i))if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const d=Ps(e.baseURL,e.url);function f(){if(!u)return;const i=Ds.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new ns("Request failed with status code "+n.status,[ns.ERR_BAD_REQUEST,ns.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),hs(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new ns("Request aborted",ns.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new ns("Network Error",ns.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||gs;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new ns(t,i.clarifyTimeoutError?ns.ETIMEDOUT:ns.ECONNABORTED,e,u)),u=null},ws.hasStandardBrowserEnv&&(l&&Zo.isFunction(l)&&(l=l(e)),l||!1!==l&&Us(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&js.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===i&&r.setContentType(null),"setRequestHeader"in u&&Zo.forEach(r.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Zo.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Bs(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Bs(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{u&&(n(!t||t.type?new Ns(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===ws.protocols.indexOf(h)?n(new ns("Unsupported protocol "+h+":",ns.ERR_BAD_REQUEST,e)):u.send(i||null)}))},Ws={http:null,xhr:zs};Zo.forEach(Ws,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(nn){}Object.defineProperty(e,"adapterName",{value:t})}}));const Vs=e=>"- ".concat(e),Hs=e=>Zo.isFunction(e)||null===e||!1===e,Gs=e=>{e=Zo.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let a=0;a<t;a++){let t;if(n=e[a],i=n,!Hs(n)&&(i=Ws[(t=String(n)).toLowerCase()],void 0===i))throw new ns("Unknown adapter '".concat(t,"'"));if(i)break;r[t||"#"+a]=i}if(!i){const e=Object.entries(r).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Vs).join("\n"):" "+Vs(e[0]):"as no adapter specified";throw new ns("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Ys(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ns(null,e)}function Js(e){Ys(e),e.headers=Ds.from(e.headers),e.data=Os.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gs(e.adapter||Ts.adapter)(e).then((function(t){return Ys(e),t.data=Os.call(e,e.transformResponse,t),t.headers=Ds.from(t.headers),t}),(function(t){return Ls(t)||(Ys(e),t&&t.response&&(t.response.data=Os.call(e,e.transformResponse,t.response),t.response.headers=Ds.from(t.response.headers))),Promise.reject(t)}))}const Qs=e=>e instanceof Ds?e.toJSON():e;function qs(e,t){t=t||{};const n={};function i(e,t,n){return Zo.isPlainObject(e)&&Zo.isPlainObject(t)?Zo.merge.call({caseless:n},e,t):Zo.isPlainObject(t)?Zo.merge({},t):Zo.isArray(t)?t.slice():t}function r(e,t,n){return Zo.isUndefined(t)?Zo.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function a(e,t){if(!Zo.isUndefined(t))return i(void 0,t)}function o(e,t){return Zo.isUndefined(t)?Zo.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>r(Qs(e),Qs(t),!0)};return Zo.forEach(Object.keys(Object.assign({},e,t)),(function(i){const a=l[i]||r,o=a(e[i],t[i],i);Zo.isUndefined(o)&&a!==s||(n[i]=o)})),n}const Xs="1.6.7",Ks={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ks[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Zs={};Ks.transitional=function(e,t,n){function i(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new ns(i(r," has been removed"+(t?" in "+t:"")),ns.ERR_DEPRECATED);return t&&!Zs[r]&&(Zs[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};const $s={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ns("options must be an object",ns.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new ns("option "+a+" must be "+n,ns.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ns("Unknown option "+a,ns.ERR_BAD_OPTION)}},validators:Ks},el=$s.validators;class tl{constructor(e){this.defaults=e,this.interceptors={request:new ps,response:new ps}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qs(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&$s.assertOptions(n,{silentJSONParsing:el.transitional(el.boolean),forcedJSONParsing:el.transitional(el.boolean),clarifyTimeoutError:el.transitional(el.boolean)},!1),null!=i&&(Zo.isFunction(i)?t.paramsSerializer={serialize:i}:$s.assertOptions(i,{encode:el.function,serialize:el.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Zo.merge(r.common,r[t.method]);r&&Zo.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Ds.concat(a,r);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Js.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let f=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{c=Js.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return hs(Ps((e=qs(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Zo.forEach(["delete","get","head","options"],(function(e){tl.prototype[e]=function(t,n){return this.request(qs(n||{},{method:e,url:t,data:(n||{}).data}))}})),Zo.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(qs(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}tl.prototype[e]=t(),tl.prototype[e+"Form"]=t(!0)}));const nl=tl;class il{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new Ns(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new il((function(t){e=t}));return{token:t,cancel:e}}}const rl=il;const al={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(al).forEach((e=>{let[t,n]=e;al[n]=t}));const ol=al;const sl=function e(t){const n=new nl(t),i=yo(nl.prototype.request,n);return Zo.extend(i,nl.prototype,n,{allOwnKeys:!0}),Zo.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(qs(t,n))},i}(Ts);sl.Axios=nl,sl.CanceledError=Ns,sl.CancelToken=rl,sl.isCancel=Ls,sl.VERSION=Xs,sl.toFormData=ss,sl.AxiosError=ns,sl.Cancel=sl.CanceledError,sl.all=function(e){return Promise.all(e)},sl.spread=function(e){return function(t){return e.apply(null,t)}},sl.isAxiosError=function(e){return Zo.isObject(e)&&!0===e.isAxiosError},sl.mergeConfig=qs,sl.AxiosHeaders=Ds,sl.formToJSON=e=>Ss(Zo.isHTMLForm(e)?new FormData(e):e),sl.getAdapter=Gs,sl.HttpStatusCode=ol,sl.default=sl;const ll=sl;var cl=n(7082);function ul(e){let{isTimeExpired:t,generateOtpInputs:n,resendOtp:i,verifyOtp:r,timer:a}=e;const s=bo();return(0,o.jsx)("div",{className:"otpContainer",children:(0,o.jsxs)("div",{className:"otpBox",children:[(0,o.jsx)("h1",{className:"otpHeader",children:"OTP"}),(0,o.jsxs)("span",{className:"otpDescription",children:["We have sent you ",(0,o.jsx)("b",{children:"OTP"})," to your registered email"]}),(0,o.jsx)("p",{className:"otpDescription2",children:"Please enter the otp"}),(0,o.jsx)("div",{className:"otp",children:n(5)}),(0,o.jsxs)("div",{className:"btns",children:[(0,o.jsxs)("button",{onClick:()=>{s(Aa()),setTimeout((()=>{s(ka())}),2e3),i()},disabled:!t,className:"button resendOtp",children:["Resend otp ",!t&&a.minutes+":"+a.seconds," "]}),(0,o.jsx)("button",{onClick:r,className:"button verifyOtp",children:"Verify otp"})]})]})})}var dl=n(6111),fl=n.n(dl);const hl=async function(e){const{url:t,method:n,route:i,payload:r,headers:a,params:o,crypto:s}=e,l=t&&!!t.endsWith("/")&&t.slice(0,-1),c=i&&i.startsWith("/")?i.slice(1):i,u=l||"http://".concat(window.location.hostname,"/api"),d=function(e){switch(e){case"POST":return ll.post;case"PUT":return ll.put;case"PATCH":return ll.patch;case"DELETE":return ll.delete;default:return ll.get}}(n);if(i)try{if(n&&"GET"!=n&&"DELETE"!=n){const e=await d("".concat(u,"/").concat(c),r,{headers:a,params:o}||{});if(e){if(e.data.body&&s){const t=fl().AES.decrypt(e.data.body,"syncupservercryptokey").toString(fl().enc.Utf8);return{...e,data:{...e.data,body:JSON.parse(t)}}}return e}}else{const e=await d("".concat(u,"/").concat(c),{headers:a,params:o}||{});if(e){if(e.data.body&&s){const t=fl().AES.decrypt(e.data.body,"syncupservercryptokey").toString(fl().enc.Utf8);return{...e,data:{...e.data,body:JSON.parse(t)}}}return e}}}catch(f){return bi.error(f.message),localStorage.removeItem("SyncUp_Auth_Token"),f}else bi.error("Route is missing")};const pl=function(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),a=(0,cl.useTimer)({expiryTimestamp:Date.now()+3e4,onExpire:()=>{r(!0)}});let[s,l]=(0,i.useState)(1),[c,u]=(0,i.useState)(0);const d=bo(),f=[(0,i.useRef)(null),(0,i.useRef)(null),(0,i.useRef)(null),(0,i.useRef)(null),(0,i.useRef)(null)],h=st();(0,i.useEffect)((()=>{let e=localStorage.getItem("SyncUp_Auth_Token");if(e){const t={route:"sendOtp",headers:{Authorization:"Bearer ".concat(e)}};hl(t,(e=>{e.data.success||(bi.error(e.data.message),h("/login"))}))}}),[]);const p=function(e,t){var n;"Backspace"==e.key&&null!==(n=f[t-2])&&void 0!==n&&n.current&&(e.target.value="",f[t-2].current.focus())},g=function(e,t){if(isNaN(parseInt(e.target.value)))e.target.value="";else{var n;if(!(parseInt(e.target.value)>9))return null!==(n=f[t+1])&&void 0!==n&&n.current&&f[t+1].current.focus(),!0;e.target.value=e.target.value[0]}},m={isTimeExpired:n,generateOtpInputs:function(n){const i=[];for(let r=1;r<=n;r++)i.push((0,o.jsx)("input",{type:"number",onKeyDown:e=>p(e,r),ref:f[r-1],name:r,onChange:n=>{g(n,r-1)&&t({...e,[n.target.name]:parseInt(n.target.value)})},pattern:"[0-9]"},r));return i},resendOtp:function(){const e=localStorage.getItem("SyncUp_Auth_Token"),t={route:"resendOtp",headers:{Authorization:"Bearer ".concat(e)}};hl(t).then((e=>{e.data.success?(a.restart(Date.now()+3e4*s),l((e=>e+1)),r(!1),bi.success(e.data.message)):(bi.error(e.data.message),localStorage.removeItem("SyncUp_Auth_Token"),window.onbeforeunload="return false",window.location.reload())}))},verifyOtp:()=>{if(d(Aa()),c>=3)return bi.error("You have tried many times. Try again later"),!1;let t="";for(let n=1;n<Object.values(e).length+1;n++)t+=e[n.toString()];if(5==t.length){const e=localStorage.getItem("SyncUp_Auth_Token"),n={route:"verifyOtp",params:{otp:t},headers:{Authorization:"Bearer ".concat(e)}};hl(n).then((e=>{u((e=>e+1)),e.data.success?(bi.success(e.data.message),d(za({isVerified:!0})),window.onbeforeunload=null,h("/chats")):bi.error(e.data.message)}))}else bi.error("Please enter otp");setTimeout((()=>{d(ka())}),2e3)},timer:a};return(0,o.jsx)(ul,{...m})};const gl=(0,i.createContext)(null);function ml(e){let{clientId:t,nonce:n,onScriptLoadSuccess:r,onScriptLoadError:a,children:o}=e;const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}=e,[a,o]=(0,i.useState)(!1),s=(0,i.useRef)(n);s.current=n;const l=(0,i.useRef)(r);return l.current=r,(0,i.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=s.current)||void 0===e||e.call(s)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[t]),a}({nonce:n,onScriptLoadSuccess:r,onScriptLoadError:a}),l=(0,i.useMemo)((()=>({clientId:t,scriptLoadedSuccessfully:s})),[t,s]);return i.createElement(gl.Provider,{value:l},o)}function vl(){const e=(0,i.useContext)(gl);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function bl(e){let{flow:t="implicit",scope:n="",onSuccess:r,onError:a,onNonOAuthError:o,overrideScope:s,state:l,...c}=e;const{clientId:u,scriptLoadedSuccessfully:d}=vl(),f=(0,i.useRef)(),h=(0,i.useRef)(r);h.current=r;const p=(0,i.useRef)(a);p.current=a;const g=(0,i.useRef)(o);g.current=o,(0,i.useEffect)((()=>{var e,i;if(!d)return;const r="implicit"===t?"initTokenClient":"initCodeClient",a=null===(i=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===i?void 0:i.oauth2[r]({client_id:u,scope:s?n:"openid profile email ".concat(n),callback:e=>{var t,n;if(e.error)return null===(t=p.current)||void 0===t?void 0:t.call(p,e);null===(n=h.current)||void 0===n||n.call(h,e)},error_callback:e=>{var t;null===(t=g.current)||void 0===t||t.call(g,e)},state:l,...c});f.current=a}),[u,d,t,n,l]);const m=(0,i.useCallback)((e=>{var t;return null===(t=f.current)||void 0===t?void 0:t.requestAccessToken(e)}),[]),v=(0,i.useCallback)((()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.requestCode()}),[]);return"implicit"===t?m:v}const yl=function(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)({hasToVerify:!1}),[u,d]=(0,i.useState)(!1),f=(bo(),st()),h=bl({scope:"https://www.googleapis.com/auth/contacts.readonly",onSuccess:e=>function(e){async function t(t){const n={url:"https://www.googleapis.com/",route:"/oauth2/v3/userinfo",headers:{Authorization:"Bearer ".concat(e.access_token)}};hl(n).then((e=>{if(e.data){const n={route:"OauthLogin",method:"POST",payload:{data:e.data}};hl(n).then((e=>{if(e.data.success&&(Yn.success(e.data.message),localStorage.setItem("SyncUp_Auth_Token",e.data.token),f("/chats")),e.data.notSynced){const n={headers:{Authorization:"Bearer ".concat(e.data.token)},payload:{contacts:t},route:"saveContacts",method:"POST"};hl(n,(e=>{f("/chats")}))}else"EMAILNOTVERERR"==e.data.err?(localStorage.setItem("SyncUp_Auth_Token",e.data.token),c({hasToVerify:!0}),Yn.error(e.data.message)):Yn.error(e.data.message)}))}}))}ll.get("https://people.googleapis.com/v1/people/me/connections",{headers:{Authorization:"Bearer ".concat(e.access_token)},params:{pageSize:800,personFields:"names,emailAddresses,coverPhotos,photos",sortOrder:"LAST_MODIFIED_ASCENDING"}}).then((e=>{t(e.data.connections)}))}(e),onError:e=>alert("Login Failed:",e)}),p=n=>{""!==n.target.value?(r(null),t({...e,[n.target.id]:n.target.value})):(r("Please enter the ".concat(n.target.id)),t({...e,[n.target.id]:n.target.value}))};return(0,o.jsx)(i.Fragment,{children:l.hasToVerify?(0,o.jsx)(pl,{}):(0,o.jsxs)(Wt,{leftTitle:"Login to continue",leftDescription:"Login to chat with your friends and family.By logging in you will accept our terms and conditions.",rightTitle:"User login",children:[(0,o.jsxs)("div",{className:"formContainer",children:[(0,o.jsx)("div",{"data-mdb-input-init":!0,class:"form-outline",children:(0,o.jsx)("input",{type:"email",onChange:p,id:"email",placeholder:"Enter email or username",className:"loginInput"})}),(0,o.jsx)("div",{"data-mdb-input-init":!0,class:"form-outline",children:(0,o.jsx)("input",{type:a?"text":"password",onChange:p,id:"password",placeholder:"Enter password",className:"loginInput"})})]}),(0,o.jsxs)("div",{className:"options",children:[(0,o.jsxs)("div",{className:"Showpassrd",children:[(0,o.jsx)("p",{style:{fontSize:"12px",fontWeight:"bold"},className:n?"visible text-danger":"invisible",children:n}),(0,o.jsx)("input",{type:"checkbox",onChange:()=>s(!a),name:"",id:"showPass"}),(0,o.jsx)("label",{htmlFor:"showPass",className:"showPassLabel",children:"Show password"})]}),(0,o.jsx)(Kt,{style:{fontSize:"13px"},to:"/forgetPassword",children:"Forget password ?"})]}),(0,o.jsxs)("button",{className:"btnLogin",onClick:u?()=>Yn("Validating.."):t=>{if(2==Object.values(e).filter((e=>e.trim())).length){d(!0);hl({route:"login",payload:e,method:"POST"}).then((e=>{e.data.success?(Yn.success(e.data.message),localStorage.setItem("SyncUp_Auth_Token",e.data.token),d(!1),f("/chats")):"EMAILNOTVERERR"==e.data.err?(localStorage.setItem("SyncUp_Auth_Token",e.data.token),c({hasToVerify:!0}),d(!1),Yn.error(e.data.message)):(d(!1),Yn.error(e.data.message))}))}else Yn.error("Please fill everything")},children:[" ",u?(0,o.jsxs)("div",{className:"loginBtnSpinnerParent",children:[" ",(0,o.jsx)("span",{className:"spinner"})," "]}):"Login"]}),(0,o.jsx)("button",{className:"button resendOtp m-1 mt-2",style:{height:"35px",width:"130px"},onClick:h,children:"Google"}),(0,o.jsxs)("p",{className:"createHere",children:["Don't have an account ? ",(0,o.jsx)(Kt,{to:"/register",children:"Create here"})]})]})})};const Cl=function(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(),[a,s]=en(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),f=st(),h=(bo(),bl({onSuccess:e=>function(e){const t=a.get("refferal"),n={url:"https://www.googleapis.com/",route:"oauth2/v3/userinfo",headers:{Authorization:"Bearer ".concat(e.access_token)}};hl(n).then((e=>{if(e.data){const n={route:"OauthRegister",payload:{data:{...e.data,refferal:t}},method:"POST"};hl(n).then((e=>{e.data.success?(Yn.success("Now login to continue"),f("/login")):Yn.error(e.data.message)}))}}))}(e),onError:e=>alert("Login Failed:",e)})),p=n=>{if(""!==n.target.value)if("username"==n.target.id){t({...e,username:n.target.value.toLowerCase().slice(0,10)});const i={route:"checkUsername",params:{username:n.target.value}};hl(i).then((e=>{e.data.success?(r(null),n.target.classList.remove("invalid")):(r(e.data.message),n.target.classList.add("invalid"))}))}else if("email"==n.target.id){new RegExp("^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$").test(n.target.value)?(r(null),t({...e,email:n.target.value})):r("Invalid email")}else r(null),t({...e,[n.target.id]:n.target.value});else r("Please enter the ".concat(n.target.id)),t({...e,[n.target.id]:n.target.value})};return(0,o.jsxs)(Wt,{leftTitle:"Register to continue",leftDescription:"Register to chat with your friends and family.By registering you will accept our terms and conditions.",rightTitle:"User register",children:[(0,o.jsxs)("div",{className:"formContainer",children:[(0,o.jsx)("div",{"data-mdb-input-init":!0,className:"form-outline",children:(0,o.jsx)("input",{onChange:p,type:"text",id:"username",value:e.username,placeholder:"Enter username",className:"loginInput"})}),(0,o.jsx)("div",{"data-mdb-input-init":!0,className:"form-outline",children:(0,o.jsx)("input",{onChange:p,type:"email",id:"email",placeholder:"Enter email",className:"loginInput"})}),(0,o.jsx)("div",{"data-mdb-input-init":!0,className:"form-outline",children:(0,o.jsx)("input",{onChange:p,value:e.password,type:l?"text":"password",id:"password",placeholder:"Enter password",className:"loginInput"})}),(0,o.jsx)("div",{"data-mdb-input-init":!0,className:"form-outline",children:(0,o.jsx)("input",{onChange:p,type:l?"text":"password",id:"confirm password",value:e["Confirm password"],placeholder:"Confirm password",className:"loginInput"})})]}),(0,o.jsx)("div",{className:"options",children:(0,o.jsxs)("div",{className:"Showpassrd",children:[(0,o.jsx)("p",{style:{fontSize:"12px",fontWeight:"bold"},className:n?"visible text-danger":"invisible",children:n}),(0,o.jsx)("input",{type:"checkbox",onChange:()=>c(!l),name:"",id:"showPass"}),(0,o.jsx)("label",{htmlFor:"showPass",className:"showPassLabel",children:"Show password"})]})}),(0,o.jsx)("button",{className:"btnLogin mt-1",style:{height:"35px"},onClick:i=>u?Yn("Verifying"):(i=>{if(Object.values(e).filter((e=>e.trim())).length>=4&&(null===n||void 0===n||!n.length)){const n=a.get("refferal");n&&t({...e,refferal:n}),e.password==e["confirm password"]?/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,26}$/.test(e.password)?(d(!0),hl({route:"register",payload:e,method:"POST"}).then((e=>{e.data&&(e.data.success?(Yn.success("Now login to continue"),f("/login")):Yn.error(e.data.message)),d(!1)}))):Yn.error("Please make a strong password"):Yn.error("Passwords are'nt match")}else Yn.error("Please fill everything")})(),children:u?(0,o.jsxs)("div",{className:"loginBtnSpinnerParent",children:[" ",(0,o.jsx)("span",{className:"spinner"})," "]}):"Register"}),(0,o.jsx)("button",{className:"button resendOtp m-1 mt-2",style:{height:"30px",width:"130px",padding:0},onClick:h,children:"Google"}),(0,o.jsxs)("p",{className:"createHere",children:["Alreay have an account ? ",(0,o.jsx)(Kt,{to:"/login",children:"Login here"})]})]})};const wl=function(e){let{children:t,rightComponent:n}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"chatsContainer",children:[(0,o.jsx)("div",{className:"chatsLeft chatsStyle",children:t}),(0,o.jsx)("div",{className:"chatsRight chatsStyle",children:n})]})})};function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sl.apply(this,arguments)}function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ml(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ci(i.key),i)}}function Rl(e,t,n){return t&&Ml(e.prototype,t),n&&Ml(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e,t){return kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kl(e,t)}function xl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kl(e,t)}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dl(e)}function Ol(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ol=function(){return!!e})()}function Ll(e,t){if(t&&("object"===yi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Al(e)}function _l(e){var t=Ol();return function(){var n,i=Dl(e);if(t){var r=Dl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ll(this,n)}}function Nl(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function jl(e,t){if(null==e)return{};var n,i,r=Nl(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Pl={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function Ul(e,t,n){var i=(n||{}).atBegin;return function(e,t,n){var i,r=n||{},a=r.noTrailing,o=void 0!==a&&a,s=r.noLeading,l=void 0!==s&&s,c=r.debounceMode,u=void 0===c?void 0:c,d=!1,f=0;function h(){i&&clearTimeout(i)}function p(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=this,c=Date.now()-f;function p(){f=Date.now(),t.apply(s,r)}function g(){i=void 0}d||(l||!u||i||p(),h(),void 0===u&&c>e?l?(f=Date.now(),o||(i=setTimeout(u?g:p,e))):p():!0!==o&&(i=setTimeout(u?g:p,void 0===u?e-c:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),d=!n},p}(e,t,{debounceMode:!1!==(void 0!==i&&i)})}var Fl=n(8139),Bl=n.n(Fl);function zl(e,t,n){return Math.max(t,Math.min(e,n))}var Wl=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},Vl=function(e){for(var t=[],n=Hl(e),i=Gl(e),r=n;r<i;r++)e.lazyLoadedList.indexOf(r)<0&&t.push(r);return t},Hl=function(e){return e.currentSlide-Yl(e)},Gl=function(e){return e.currentSlide+Jl(e)},Yl=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},Jl=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Ql=function(e){return e&&e.offsetWidth||0},ql=function(e){return e&&e.offsetHeight||0},Xl=function(e){var t,n,i,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,i=Math.atan2(n,t),(r=Math.round(180*i/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":!0===a?r>=35&&r<=135?"up":"down":"vertical"},Kl=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},Zl=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},$l=function(e,t){var n=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,i=e.infinite?-1*e.slidesToShow:0,r=[];n<t;)r.push(n),n=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return r}(e),i=0;if(t>n[n.length-1])t=n[n.length-1];else for(var r in n){if(t<n[r]){t=i;break}i=n[r]}return t},ec=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,i=e.listRef,r=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(r).every((function(i){if(e.vertical){if(i.offsetTop+ql(i)/2>-1*e.swipeLeft)return n=i,!1}else if(i.offsetLeft-t+Ql(i)/2>-1*e.swipeLeft)return n=i,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll},tc=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},nc=function(e){var t,n;tc(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var i=e.slideCount+2*e.slidesToShow;e.vertical?n=i*e.slideHeight:t=sc(e)*e.slideWidth;var r={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";r=Tl(Tl({},r),{},{WebkitTransform:a,transform:o,msTransform:s})}else e.vertical?r.top=e.left:r.left=e.left;return e.fade&&(r={opacity:1}),t&&(r.width=t),n&&(r.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?r.marginTop=e.left+"px":r.marginLeft=e.left+"px"),r},ic=function(e){tc(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=nc(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},rc=function(e){if(e.unslick)return 0;tc(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,i=e.slideIndex,r=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,p=e.fade,g=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-ac(e),s%c!==0&&i+c>s&&(m=-(i>s?l-(i-s):s%c)),o&&(m+=parseInt(l/2))):(s%c!==0&&i+c>s&&(m=l-s%c),o&&(m=parseInt(l/2))),t=g?i*h*-1+m*h:i*u*-1+m*u,!0===f){var v,b=r&&r.node;if(v=i+ac(e),t=(n=b&&b.childNodes[v])?-1*n.offsetLeft:0,!0===o){v=a?i+ac(e):i,n=b&&b.children[v],t=0;for(var y=0;y<v;y++)t-=b&&b.children[y]&&b.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},ac=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},oc=function(e){return e.unslick||!e.infinite?0:e.slideCount},sc=function(e){return 1===e.slideCount?1:ac(e)+e.slideCount+oc(e)},lc=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+cc(e)?"left":"right":e.targetSlide<e.currentSlide-uc(e)?"right":"left"},cc=function(e){var t=e.slidesToShow,n=e.centerMode,i=e.rtl,r=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(r)>0&&(a+=1),i&&t%2===0&&(a+=1),a}return i?0:t-1},uc=function(e){var t=e.slidesToShow,n=e.centerMode,i=e.rtl,r=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(r)>0&&(a+=1),i||t%2!==0||(a+=1),a}return i?t-1:0},dc=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},fc=function(e){var t,n,i,r,a;return i=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(r=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-r-1&&a<=e.currentSlide+r&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":i,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},hc=function(e,t){return e.key+"-"+t},pc=function(e){var t,n=[],r=[],a=[],o=i.Children.count(e.children),s=Hl(e),l=Gl(e);return i.Children.forEach(e.children,(function(c,u){var d,f={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?c:i.createElement("div",null);var h=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical&&e.slideHeight?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(Tl(Tl({},e),{},{index:u})),p=d.props.className||"",g=fc(Tl(Tl({},e),{},{index:u}));if(n.push(i.cloneElement(d,{key:"original"+hc(d,u),"data-index":u,className:Bl()(g,p),tabIndex:"-1","aria-hidden":!g["slick-active"],style:Tl(Tl({outline:"none"},d.props.style||{}),h),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&!1===e.fade){var m=o-u;m<=ac(e)&&o!==e.slidesToShow&&((t=-m)>=s&&(d=c),g=fc(Tl(Tl({},e),{},{index:t})),r.push(i.cloneElement(d,{key:"precloned"+hc(d,t),"data-index":t,tabIndex:"-1",className:Bl()(g,p),"aria-hidden":!g["slick-active"],style:Tl(Tl({},d.props.style||{}),h),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}}))),o!==e.slidesToShow&&((t=o+u)<l&&(d=c),g=fc(Tl(Tl({},e),{},{index:t})),a.push(i.cloneElement(d,{key:"postcloned"+hc(d,t),"data-index":t,tabIndex:"-1",className:Bl()(g,p),"aria-hidden":!g["slick-active"],style:Tl(Tl({},d.props.style||{}),h),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}})))}})),e.rtl?r.concat(n,a).reverse():r.concat(n,a)},gc=function(e){xl(n,e);var t=_l(n);function n(){var e;El(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return wi(Al(e=t.call.apply(t,[this].concat(r))),"node",null),wi(Al(e),"handleRef",(function(t){e.node=t})),e}return Rl(n,[{key:"render",value:function(){var e=pc(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.createElement("div",Sl({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}]),n}(i.PureComponent),mc=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,a=t.onMouseLeave,o=t.infinite,s=t.slidesToScroll,l=t.slidesToShow,c=t.slideCount,u=t.currentSlide,d=(e={slideCount:c,slidesToScroll:s,slidesToShow:l,infinite:o}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,f={onMouseEnter:n,onMouseOver:r,onMouseLeave:a},h=[],p=0;p<d;p++){var g=(p+1)*s-1,m=o?g:zl(g,0,c-1),v=m-(s-1),b=o?v:zl(v,0,c-1),y=Bl()({"slick-active":o?u>=b&&u<=m:u===b}),C={message:"dots",index:p,slidesToScroll:s,currentSlide:u},w=this.clickHandler.bind(this,C);h=h.concat(i.createElement("li",{key:p,className:y},i.cloneElement(this.props.customPaging(p),{onClick:w})))}return i.cloneElement(this.props.appendDots(h),Tl({className:this.props.dotsClass},f))}}]),n}(i.PureComponent),vc=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:Bl()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.cloneElement(this.props.prevArrow,Tl(Tl({},n),r)):i.createElement("button",Sl({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.PureComponent),bc=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});Kl(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:Bl()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.cloneElement(this.props.nextArrow,Tl(Tl({},n),r)):i.createElement("button",Sl({key:"1",type:"button"},n)," ","Next")}}]),n}(i.PureComponent),yc=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),Cc="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,wc="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Sc="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(wc):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ic=["top","right","bottom","left","width","height","size","weight"],Tc="undefined"!==typeof MutationObserver,Ec=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&s()}function o(){Sc(a)}function s(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,t);r=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Cc&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Tc?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Cc&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ic.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Mc=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Rc=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||wc},Ac=_c(0,0,0,0);function kc(e){return parseFloat(e)||0}function xc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+kc(e["border-"+n+"-width"])}),0)}function Dc(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Ac;var i=Rc(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],a=e["padding-"+r];t[r]=kc(a)}return t}(i),a=r.left+r.right,o=r.top+r.bottom,s=kc(i.width),l=kc(i.height);if("border-box"===i.boxSizing&&(Math.round(s+a)!==t&&(s-=xc(i,"left","right")+a),Math.round(l+o)!==n&&(l-=xc(i,"top","bottom")+o)),!function(e){return e===Rc(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return _c(r.left,r.top,s,l)}var Oc="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Rc(e).SVGGraphicsElement}:function(e){return e instanceof Rc(e).SVGElement&&"function"===typeof e.getBBox};function Lc(e){return Cc?Oc(e)?function(e){var t=e.getBBox();return _c(0,0,t.width,t.height)}(e):Dc(e):Ac}function _c(e,t,n,i){return{x:e,y:t,width:n,height:i}}var Nc=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_c(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Lc(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),jc=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Mc(o,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),o}(t);Mc(this,{target:e,contentRect:n})},Pc=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new yc,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Rc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Nc(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Rc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new jc(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Uc="undefined"!==typeof WeakMap?new WeakMap:new yc,Fc=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ec.getInstance(),i=new Pc(t,n,this);Uc.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){Fc.prototype[e]=function(){var t;return(t=Uc.get(this))[e].apply(t,arguments)}}));const Bc="undefined"!==typeof wc.ResizeObserver?wc.ResizeObserver:Fc;var zc=["animating"],Wc=function(e){xl(n,e);var t=_l(n);function n(e){var r;El(this,n),wi(Al(r=t.call(this,e)),"listRefHandler",(function(e){return r.list=e})),wi(Al(r),"trackRefHandler",(function(e){return r.track=e})),wi(Al(r),"adaptHeight",(function(){if(r.props.adaptiveHeight&&r.list){var e=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=ql(e)+"px"}})),wi(Al(r),"componentDidMount",(function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var e=Vl(Tl(Tl({},r.props),r.state));e.length>0&&(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e))}var t=Tl({listRef:r.list,trackRef:r.track},r.props);r.updateState(t,!0,(function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("playing")})),"progressive"===r.props.lazyLoad&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new Bc((function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout((function(){return r.onWindowResized()}),r.props.speed))):r.onWindowResized()})),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,e.onblur=r.props.pauseOnFocus?r.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)})),wi(Al(r),"componentWillUnmount",(function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach((function(e){return clearTimeout(e)})),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()})),wi(Al(r),"componentDidUpdate",(function(e){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var t=Vl(Tl(Tl({},r.props),r.state));t.length>0&&(r.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),r.props.onLazyLoad&&r.props.onLazyLoad(t))}r.adaptHeight();var n=Tl(Tl({listRef:r.list,trackRef:r.track},r.props),r.state),a=r.didPropsChange(e);a&&r.updateState(n,a,(function(){r.state.currentSlide>=i.Children.count(r.props.children)&&r.changeSlide({message:"index",index:i.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),e.autoplay===r.props.autoplay&&e.autoplaySpeed===r.props.autoplaySpeed||(!e.autoplay&&r.props.autoplay?r.autoPlay("playing"):r.props.autoplay?r.autoPlay("update"):r.pause("paused"))}))})),wi(Al(r),"onWindowResized",(function(e){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=Ul(50,(function(){return r.resizeWindow(e)})),r.debouncedResize()})),wi(Al(r),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(r.track&&r.track.node)){var t=Tl(Tl({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(t,e,(function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")})),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}})),wi(Al(r),"updateState",(function(e,t,n){var a=function(e){var t,n=i.Children.count(e.children),r=e.listRef,a=Math.ceil(Ql(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(Ql(o));if(e.vertical)t=a;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=a/100),t=Math.ceil((a-l)/e.slidesToShow)}var c=r&&ql(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var f=e.lazyLoadedList||[],h=Vl(Tl(Tl({},e),{},{currentSlide:d,lazyLoadedList:f})),p={slideCount:n,slideWidth:t,listWidth:a,trackWidth:s,currentSlide:d,slideHeight:c,listHeight:u,lazyLoadedList:f=f.concat(h)};return null===e.autoplaying&&e.autoplay&&(p.autoplaying="playing"),p}(e);e=Tl(Tl(Tl({},e),a),{},{slideIndex:a.currentSlide});var o=rc(e);e=Tl(Tl({},e),{},{left:o});var s=nc(e);(t||i.Children.count(r.props.children)!==i.Children.count(e.children))&&(a.trackStyle=s),r.setState(a,n)})),wi(Al(r),"ssrInit",(function(){if(r.props.variableWidth){var e=0,t=0,n=[],a=ac(Tl(Tl(Tl({},r.props),r.state),{},{slideCount:r.props.children.length})),o=oc(Tl(Tl(Tl({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach((function(t){n.push(t.props.style.width),e+=t.props.style.width}));for(var s=0;s<a;s++)t+=n[n.length-1-s],e+=n[n.length-1-s];for(var l=0;l<o;l++)e+=n[l];for(var c=0;c<r.state.currentSlide;c++)t+=n[c];var u={width:e+"px",left:-t+"px"};if(r.props.centerMode){var d="".concat(n[r.state.currentSlide],"px");u.left="calc(".concat(u.left," + (100% - ").concat(d,") / 2 ) ")}return{trackStyle:u}}var f=i.Children.count(r.props.children),h=Tl(Tl(Tl({},r.props),r.state),{},{slideCount:f}),p=ac(h)+oc(h)+f,g=100/r.props.slidesToShow*p,m=100/p,v=-m*(ac(h)+r.state.currentSlide)*g/100;return r.props.centerMode&&(v+=(100-m*g/100)/2),{slideWidth:m+"%",trackStyle:{width:g+"%",left:v+"%"}}})),wi(Al(r),"checkImagesLoad",(function(){var e=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],t=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++n&&n>=t&&r.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(t){a(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(r.props.lazyLoad?e.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(e.onload=i,e.onerror=function(){i(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))}))})),wi(Al(r),"progressiveLazyLoad",(function(){for(var e=[],t=Tl(Tl({},r.props),r.state),n=r.state.currentSlide;n<r.state.slideCount+oc(t);n++)if(r.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var i=r.state.currentSlide-1;i>=-ac(t);i--)if(r.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)})),wi(Al(r),"slideHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,i=n.asNavFor,a=n.beforeChange,o=n.onLazyLoad,s=n.speed,l=n.afterChange,c=r.state.currentSlide,u=function(e){var t=e.waitForAnimate,n=e.animating,i=e.fade,r=e.infinite,a=e.index,o=e.slideCount,s=e.lazyLoad,l=e.currentSlide,c=e.centerMode,u=e.slidesToScroll,d=e.slidesToShow,f=e.useCSS,h=e.lazyLoadedList;if(t&&n)return{};var p,g,m,v=a,b={},y={},C=r?a:zl(a,0,o-1);if(i){if(!r&&(a<0||a>=o))return{};a<0?v=a+o:a>=o&&(v=a-o),s&&h.indexOf(v)<0&&(h=h.concat(v)),b={animating:!0,currentSlide:v,lazyLoadedList:h,targetSlide:v},y={animating:!1,targetSlide:v}}else p=v,v<0?(p=v+o,r?o%u!==0&&(p=o-o%u):p=0):!Kl(e)&&v>l?v=p=l:c&&v>=o?(v=r?o:o-1,p=r?0:o-1):v>=o&&(p=v-o,r?o%u!==0&&(p=0):p=o-d),!r&&v+d>=o&&(p=o-d),g=rc(Tl(Tl({},e),{},{slideIndex:v})),m=rc(Tl(Tl({},e),{},{slideIndex:p})),r||(g===m&&(v=p),g=m),s&&(h=h.concat(Vl(Tl(Tl({},e),{},{currentSlide:v})))),f?(b={animating:!0,currentSlide:p,trackStyle:ic(Tl(Tl({},e),{},{left:g})),lazyLoadedList:h,targetSlide:C},y={animating:!1,currentSlide:p,trackStyle:nc(Tl(Tl({},e),{},{left:m})),swipeLeft:null,targetSlide:C}):b={currentSlide:p,trackStyle:nc(Tl(Tl({},e),{},{left:m})),lazyLoadedList:h,targetSlide:C};return{state:b,nextState:y}}(Tl(Tl(Tl({index:e},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!t})),d=u.state,f=u.nextState;if(d){a&&a(c,d.currentSlide);var h=d.lazyLoadedList.filter((function(e){return r.state.lazyLoadedList.indexOf(e)<0}));o&&h.length>0&&o(h),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),l&&l(c),delete r.animationEndCallback),r.setState(d,(function(){i&&r.asNavForIndex!==e&&(r.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(r.animationEndCallback=setTimeout((function(){var e=f.animating,t=jl(f,zc);r.setState(t,(function(){r.callbackTimers.push(setTimeout((function(){return r.setState({animating:e})}),10)),l&&l(d.currentSlide),delete r.animationEndCallback}))}),s))}))}})),wi(Al(r),"changeSlide",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t){var n,i,r,a,o=e.slidesToScroll,s=e.slidesToShow,l=e.slideCount,c=e.currentSlide,u=e.targetSlide,d=e.lazyLoad,f=e.infinite;if(n=l%o!==0?0:(l-c)%o,"previous"===t.message)a=c-(r=0===n?o:s-n),d&&!f&&(a=-1===(i=c-r)?l-1:i),f||(a=u-o);else if("next"===t.message)a=c+(r=0===n?o:n),d&&!f&&(a=(c+o)%l+n),f||(a=u+o);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,f){var h=lc(Tl(Tl({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===h?a-=l:a<t.currentSlide&&"right"===h&&(a+=l)}}else"index"===t.message&&(a=Number(t.index));return a}(Tl(Tl({},r.props),r.state),e);if((0===n||n)&&(!0===t?r.slideHandler(n,t):r.slideHandler(n),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var i=r.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),wi(Al(r),"clickHandler",(function(e){!1===r.clickable&&(e.stopPropagation(),e.preventDefault()),r.clickable=!0})),wi(Al(r),"keyHandler",(function(e){var t=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""}(e,r.props.accessibility,r.props.rtl);""!==t&&r.changeSlide({message:t})})),wi(Al(r),"selectHandler",(function(e){r.changeSlide(e)})),wi(Al(r),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),wi(Al(r),"enableBodyScroll",(function(){window.ontouchmove=null})),wi(Al(r),"swipeStart",(function(e){r.props.verticalSwiping&&r.disableBodyScroll();var t=function(e,t,n){return"IMG"===e.target.tagName&&Wl(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}}(e,r.props.swipe,r.props.draggable);""!==t&&r.setState(t)})),wi(Al(r),"swipeMove",(function(e){var t=function(e,t){var n=t.scrolling,i=t.animating,r=t.vertical,a=t.swipeToSlide,o=t.verticalSwiping,s=t.rtl,l=t.currentSlide,c=t.edgeFriction,u=t.edgeDragged,d=t.onEdge,f=t.swiped,h=t.swiping,p=t.slideCount,g=t.slidesToScroll,m=t.infinite,v=t.touchObject,b=t.swipeEvent,y=t.listHeight,C=t.listWidth;if(!n){if(i)return Wl(e);r&&a&&o&&Wl(e);var w,S={},I=rc(t);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var T=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!o&&!h&&T>10)return{scrolling:!0};o&&(v.swipeLength=T);var E=(s?-1:1)*(v.curX>v.startX?1:-1);o&&(E=v.curY>v.startY?1:-1);var M=Math.ceil(p/g),R=Xl(t.touchObject,o),A=v.swipeLength;return m||(0===l&&("right"===R||"down"===R)||l+1>=M&&("left"===R||"up"===R)||!Kl(t)&&("left"===R||"up"===R))&&(A=v.swipeLength*c,!1===u&&d&&(d(R),S.edgeDragged=!0)),!f&&b&&(b(R),S.swiped=!0),w=r?I+A*(y/C)*E:s?I-A*E:I+A*E,o&&(w=I+A*E),S=Tl(Tl({},S),{},{touchObject:v,swipeLeft:w,trackStyle:nc(Tl(Tl({},t),{},{left:w}))}),Math.abs(v.curX-v.startX)<.8*Math.abs(v.curY-v.startY)||v.swipeLength>10&&(S.swiping=!0,Wl(e)),S}}(e,Tl(Tl(Tl({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));t&&(t.swiping&&(r.clickable=!1),r.setState(t))})),wi(Al(r),"swipeEnd",(function(e){var t=function(e,t){var n=t.dragging,i=t.swipe,r=t.touchObject,a=t.listWidth,o=t.touchThreshold,s=t.verticalSwiping,l=t.listHeight,c=t.swipeToSlide,u=t.scrolling,d=t.onSwipe,f=t.targetSlide,h=t.currentSlide,p=t.infinite;if(!n)return i&&Wl(e),{};var g=s?l/o:a/o,m=Xl(r,s),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(u)return v;if(!r.swipeLength)return v;if(r.swipeLength>g){var b,y;Wl(e),d&&d(m);var C=p?h:f;switch(m){case"left":case"up":y=C+ec(t),b=c?$l(t,y):y,v.currentDirection=0;break;case"right":case"down":y=C-ec(t),b=c?$l(t,y):y,v.currentDirection=1;break;default:b=C}v.triggerSlideHandler=b}else{var w=rc(t);v.trackStyle=ic(Tl(Tl({},t),{},{left:w}))}return v}(e,Tl(Tl(Tl({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(t){var n=t.triggerSlideHandler;delete t.triggerSlideHandler,r.setState(t),void 0!==n&&(r.slideHandler(n),r.props.verticalSwiping&&r.enableBodyScroll())}})),wi(Al(r),"touchEnd",(function(e){r.swipeEnd(e),r.clickable=!0})),wi(Al(r),"slickPrev",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"previous"})}),0))})),wi(Al(r),"slickNext",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"next"})}),0))})),wi(Al(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"index",index:e,currentSlide:r.state.currentSlide},t)}),0))})),wi(Al(r),"play",(function(){var e;if(r.props.rtl)e=r.state.currentSlide-r.props.slidesToScroll;else{if(!Kl(Tl(Tl({},r.props),r.state)))return!1;e=r.state.currentSlide+r.props.slidesToScroll}r.slideHandler(e)})),wi(Al(r),"autoPlay",(function(e){r.autoplayTimer&&clearInterval(r.autoplayTimer);var t=r.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})})),wi(Al(r),"pause",(function(e){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var t=r.state.autoplaying;"paused"===e?r.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||r.setState({autoplaying:"focused"}):"playing"===t&&r.setState({autoplaying:"hovered"})})),wi(Al(r),"onDotsOver",(function(){return r.props.autoplay&&r.pause("hovered")})),wi(Al(r),"onDotsLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),wi(Al(r),"onTrackOver",(function(){return r.props.autoplay&&r.pause("hovered")})),wi(Al(r),"onTrackLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),wi(Al(r),"onSlideFocus",(function(){return r.props.autoplay&&r.pause("focused")})),wi(Al(r),"onSlideBlur",(function(){return r.props.autoplay&&"focused"===r.state.autoplaying&&r.autoPlay("blur")})),wi(Al(r),"render",(function(){var e,t,n,a=Bl()("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),o=Tl(Tl({},r.props),r.state),s=Zl(o,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),l=r.props.pauseOnHover;if(s=Tl(Tl({},s),{},{onMouseEnter:l?r.onTrackOver:null,onMouseLeave:l?r.onTrackLeave:null,onMouseOver:l?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null}),!0===r.props.dots&&r.state.slideCount>=r.props.slidesToShow){var c=Zl(o,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),u=r.props.pauseOnDotsHover;c=Tl(Tl({},c),{},{clickHandler:r.changeSlide,onMouseEnter:u?r.onDotsLeave:null,onMouseOver:u?r.onDotsOver:null,onMouseLeave:u?r.onDotsLeave:null}),e=i.createElement(mc,c)}var d=Zl(o,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);d.clickHandler=r.changeSlide,r.props.arrows&&(t=i.createElement(vc,d),n=i.createElement(bc,d));var f=null;r.props.vertical&&(f={height:r.state.listHeight});var h=null;!1===r.props.vertical?!0===r.props.centerMode&&(h={padding:"0px "+r.props.centerPadding}):!0===r.props.centerMode&&(h={padding:r.props.centerPadding+" 0px"});var p=Tl(Tl({},f),h),g=r.props.touchMove,m={className:"slick-list",style:p,onClick:r.clickHandler,onMouseDown:g?r.swipeStart:null,onMouseMove:r.state.dragging&&g?r.swipeMove:null,onMouseUp:g?r.swipeEnd:null,onMouseLeave:r.state.dragging&&g?r.swipeEnd:null,onTouchStart:g?r.swipeStart:null,onTouchMove:r.state.dragging&&g?r.swipeMove:null,onTouchEnd:g?r.touchEnd:null,onTouchCancel:r.state.dragging&&g?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},v={className:a,dir:"ltr",style:r.props.style};return r.props.unslick&&(m={className:"slick-list"},v={className:a,style:r.props.style}),i.createElement("div",v,r.props.unslick?"":t,i.createElement("div",Sl({ref:r.listRefHandler},m),i.createElement(gc,Sl({ref:r.trackRefHandler},s),r.props.children)),r.props.unslick?"":n,r.props.unslick?"":e)})),r.list=null,r.track=null,r.state=Tl(Tl({},Pl),{},{currentSlide:r.props.initialSlide,slideCount:i.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var a=r.ssrInit();return r.state=Tl(Tl({},r.state),a),r}return Rl(n,[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,r=Object.keys(this.props);n<r.length;n++){var a=r[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==yi(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||i.Children.count(this.props.children)!==i.Children.count(e.children)}}]),n}(i.Component),Vc=n(1270),Hc=n.n(Vc),Gc={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};const Yc=Gc;var Jc=function(e){xl(n,e);var t=_l(n);function n(e){var i;return El(this,n),wi(Al(i=t.call(this,e)),"innerSliderRefHandler",(function(e){return i.innerSlider=e})),wi(Al(i),"slickPrev",(function(){return i.innerSlider.slickPrev()})),wi(Al(i),"slickNext",(function(){return i.innerSlider.slickNext()})),wi(Al(i),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.innerSlider.slickGoTo(e,t)})),wi(Al(i),"slickPause",(function(){return i.innerSlider.pause("paused")})),wi(Al(i),"slickPlay",(function(){return i.innerSlider.autoPlay("play")})),i.state={breakpoint:null},i._responsiveMediaHandlers=[],i}return Rl(n,[{key:"media",value:function(e,t){var n=window.matchMedia(e),i=function(e){e.matches&&t()};n.addListener(i),i(n),this._responsiveMediaHandlers.push({mql:n,query:e,listener:i})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,i){var r;r=0===i?Hc()({minWidth:0,maxWidth:n}):Hc()({minWidth:t[i-1]+1,maxWidth:n}),dc()&&e.media(r,(function(){e.setState({breakpoint:n})}))}));var n=Hc()({minWidth:t.slice(-1)[0]});dc()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){e.mql.removeListener(e.listener)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":Tl(Tl(Tl({},Yc),this.props),t[0].settings):Tl(Tl({},Yc),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var a=[],o=null,s=0;s<r.length;s+=e.rows*e.slidesPerRow){for(var l=[],c=s;c<s+e.rows*e.slidesPerRow;c+=e.slidesPerRow){for(var u=[],d=c;d<c+e.slidesPerRow&&(e.variableWidth&&r[d].props.style&&(o=r[d].props.style.width),!(d>=r.length));d+=1)u.push(i.cloneElement(r[d],{key:100*s+10*c+d,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));l.push(i.createElement("div",{key:10*s+c},u))}e.variableWidth?a.push(i.createElement("div",{key:s,style:{width:o}},l)):a.push(i.createElement("div",{key:s},l))}if("unslick"===e){var f="regular slider "+(this.props.className||"");return i.createElement("div",{className:f},r)}return a.length<=e.slidesToShow&&(e.unslick=!0),i.createElement(Wc,Sl({style:this.props.style,ref:this.innerSliderRefHandler},e),a)}}]),n}(i.Component);const Qc=Jc,qc="anticon",Xc=i.createContext({getPrefixCls:(e,t)=>t||(e?"ant-".concat(e):"ant"),iconPrefixCls:qc}),{Consumer:Kc}=Xc;function Zc(e){if(Array.isArray(e))return e}function $c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function eu(e,t){if(e){if("string"===typeof e)return $c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$c(e,t):void 0}}function tu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nu(e,t){return Zc(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||eu(e,t)||tu()}function iu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ru(e){return function(e){if(Array.isArray(e))return $c(e)}(e)||iu(e)||eu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const au=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function ou(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function su(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var lu="data-rc-order",cu="data-rc-priority",uu="rc-util-key",du=new Map;function fu(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):uu}function hu(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function pu(e){return Array.from((du.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ou())return null;var n=t.csp,i=t.prepend,r=t.priority,a=void 0===r?0:r,o=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(i),s="prependQueue"===o,l=document.createElement("style");l.setAttribute(lu,o),s&&a&&l.setAttribute(cu,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var c=hu(t),u=c.firstChild;if(i){if(s){var d=(t.styles||pu(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(lu)))return!1;var t=Number(e.getAttribute(cu)||0);return a>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=hu(t);return(t.styles||pu(n)).find((function(n){return n.getAttribute(fu(t))===e}))}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=mu(e,t);n&&hu(t).removeChild(n)}function bu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=hu(n),r=pu(i),a=Tl(Tl({},n),{},{styles:r});!function(e,t){var n=du.get(e);if(!n||!su(document,n)){var i=gu("",t),r=i.parentNode;du.set(e,r),e.removeChild(i)}}(i,a);var o=mu(t,a);if(o){var s,l,c;if(null!==(s=a.csp)&&void 0!==s&&s.nonce&&o.nonce!==(null===(l=a.csp)||void 0===l?void 0:l.nonce))o.nonce=null===(c=a.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var u=gu(e,a);return u.setAttribute(fu(a),t),u}function yu(e,t,n){var r=i.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var Cu={},wu=[];function Su(e,t){}function Iu(e,t){}function Tu(e,t,n){t||Cu[n]||(e(!1,n),Cu[n]=!0)}function Eu(e,t){Tu(Su,e,t)}Eu.preMessage=function(e){wu.push(e)},Eu.resetWarned=function(){Cu={}},Eu.noteOnce=function(e,t){Tu(Iu,e,t)};const Mu=Eu;const Ru=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Set;return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=i.has(t);if(Mu(!o,"Warning: There may be circular references"),o)return!1;if(t===r)return!0;if(n&&a>1)return!1;i.add(t);var s=a+1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],r[l],s))return!1;return!0}if(t&&r&&"object"===yi(t)&&"object"===yi(r)){var c=Object.keys(t);return c.length===Object.keys(r).length&&c.every((function(n){return e(t[n],r[n],s)}))}return!1}(e,t)};var Au="%";function ku(e){return e.join(Au)}var xu=function(){function e(t){El(this,e),wi(this,"instanceId",void 0),wi(this,"cache",new Map),this.instanceId=t}return Rl(e,[{key:"get",value:function(e){return this.opGet(ku(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(ku(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const Du=xu;var Ou="data-token-hash",Lu="data-css-hash",_u="__cssinjs_instance__";function Nu(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Lu,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[_u]=t[_u]||e,t[_u]===e&&document.head.insertBefore(t,n)}));var i={};Array.from(document.querySelectorAll("style[".concat(Lu,"]"))).forEach((function(t){var n,r=t.getAttribute(Lu);i[r]?t[_u]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):i[r]=!0}))}return new Du(e)}var ju=i.createContext({hashPriority:"low",cache:Nu(),defaultCache:!0});const Pu=ju;var Uu=function(){function e(){El(this,e),wi(this,"cache",void 0),wi(this,"keys",void 0),wi(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Rl(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={map:this.cache};return e.forEach((function(e){var t;r?r=null===(t=r)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):r=void 0})),null!==(t=r)&&void 0!==t&&t.value&&i&&(r.value[1]=this.cacheCallTimes++),null===(n=r)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var i=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var r=this.keys.reduce((function(e,t){var n=nu(e,2)[1];return i.internalGet(t)[1]<n?[t,i.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=nu(r,1)[0];this.delete(a)}this.keys.push(t)}var o=this.cache;t.forEach((function(e,r){if(r===t.length-1)o.set(e,{value:[n,i.cacheCallTimes++]});else{var a=o.get(e);a?a.map||(a.map=new Map):o.set(e,{map:new Map}),o=o.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,i=e.get(t[0]);if(1===t.length)return i.map?e.set(t[0],{map:i.map}):e.delete(t[0]),null===(n=i.value)||void 0===n?void 0:n[0];var r=this.deleteByPath(i.map,t.slice(1));return i.map&&0!==i.map.size||i.value||e.delete(t[0]),r}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();wi(Uu,"MAX_CACHE_SIZE",20),wi(Uu,"MAX_CACHE_OFFSET",5);var Fu=0,Bu=function(){function e(t){El(this,e),wi(this,"derivatives",void 0),wi(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Fu,0===t.length&&t.length,Fu+=1}return Rl(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),zu=new Uu;function Wu(e){var t=Array.isArray(e)?e:[e];return zu.has(t)||zu.set(t,new Bu(t)),zu.get(t)}var Vu=new WeakMap,Hu={};var Gu=new WeakMap;function Yu(e){var t=Gu.get(e)||"";return t||(Object.keys(e).forEach((function(n){var i=e[n];t+=n,i instanceof Bu?t+=i.id:i&&"object"===yi(i)?t+=Yu(i):t+=i})),Gu.set(e,t)),t}function Ju(e,t){return au("".concat(t,"_").concat(Yu(e)))}var Qu="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),qu="_bAmBoO_";function Xu(e,t,n){if(ou()){var i,r;bu(e,Qu);var a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",null===t||void 0===t||t(a),document.body.appendChild(a);var o=n?n(a):null===(i=getComputedStyle(a).content)||void 0===i?void 0:i.includes(qu);return null===(r=a.parentNode)||void 0===r||r.removeChild(a),vu(Qu),o}return!1}var Ku=void 0;var Zu=ou();function $u(e){return"number"===typeof e?"".concat(e,"px"):e}function ed(e,t,n){var i;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var r=Tl(Tl({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(wi(i={},Ou,t),wi(i,Lu,n),i)),a=Object.keys(r).map((function(e){var t=r[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var td=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},nd=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=nu(e,2),n=t[0],i=t[1];return"".concat(n,":").concat(i,";")})).join(""),"}"):""},id=function(e,t,n){var i={},r={};return Object.entries(e).forEach((function(e){var t,a,o=nu(e,2),s=o[0],l=o[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[s])r[s]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(a=n.ignore)||void 0===a||!a[s])){var c,u=td(s,null===n||void 0===n?void 0:n.prefix);i[u]="number"!==typeof l||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),r[s]="var(".concat(u,")")}})),[r,nd(i,t,{scope:null===n||void 0===n?void 0:n.scope})]},rd=ou()?i.useLayoutEffect:i.useEffect,ad=function(e,t){var n=i.useRef(!0);rd((function(){return e(n.current)}),t),rd((function(){return n.current=!1,function(){n.current=!0}}),[])},od=function(e,t){ad((function(t){if(!t)return e()}),t)};const sd=ad;var ld=Tl({},r).useInsertionEffect;const cd=ld?function(e,t,n){return ld((function(){return e(),t()}),n)}:function(e,t,n){i.useMemo(e,n),sd((function(){return t(!0)}),n)};var ud="undefined"!==typeof Tl({},r).useInsertionEffect?function(e){var t=[],n=!1;return i.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};const dd=ud;const fd=function(){return!1};function hd(e,t,n,r,a){var o=i.useContext(Pu).cache,s=ku([e].concat(ru(t))),l=dd([s]),c=(fd(),function(e){o.opUpdate(s,(function(t){var i=nu(t||[void 0,void 0],2),r=i[0];var a=[void 0===r?0:r,i[1]||n()];return e?e(a):a}))});i.useMemo((function(){c()}),[s]);var u=o.opGet(s)[1];return cd((function(){null===a||void 0===a||a(u)}),(function(e){return c((function(t){var n=nu(t,2),i=n[0],r=n[1];return e&&0===i&&(null===a||void 0===a||a(u)),[i+1,r]})),function(){o.opUpdate(s,(function(t){var n=nu(t||[],2),i=n[0],a=void 0===i?0:i,c=n[1];return 0===a-1?(l((function(){!e&&o.opGet(s)||null===r||void 0===r||r(c,!1)})),null):[a-1,c]}))}}),[s]),u}var pd={},gd="css",md=new Map;var vd=0;function bd(e,t){md.set(e,(md.get(e)||0)-1);var n=Array.from(md.keys()),i=n.filter((function(e){return(md.get(e)||0)<=0}));n.length-i.length>vd&&i.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Ou,'="').concat(e,'"]')).forEach((function(e){var n;e[_u]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),md.delete(e)}))}var yd=function(e,t,n,i){var r=Tl(Tl({},n.getDerivativeToken(e)),t);return i&&(r=i(r)),r},Cd="token";function wd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,i.useContext)(Pu),a=r.cache.instanceId,o=r.container,s=n.salt,l=void 0===s?"":s,c=n.override,u=void 0===c?pd:c,d=n.formatToken,f=n.getComputedToken,h=n.cssVar,p=function(e,t){for(var n=Vu,i=0;i<t.length;i+=1){var r=t[i];n.has(r)||n.set(r,new WeakMap),n=n.get(r)}return n.has(Hu)||n.set(Hu,e()),n.get(Hu)}((function(){return Object.assign.apply(Object,[{}].concat(ru(t)))}),t),g=Yu(p),m=Yu(u),v=h?Yu(h):"",b=hd(Cd,[l,e.id,g,m,v],(function(){var t,n=f?f(p,u,e):yd(p,u,e,d),i=Tl({},n),r="";if(h){var a=nu(id(n,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),2);n=a[0],r=a[1]}var o=Ju(n,l);n._tokenKey=o,i._tokenKey=Ju(i,l);var s=null!==(t=null===h||void 0===h?void 0:h.key)&&void 0!==t?t:o;n._themeKey=s,function(e){md.set(e,(md.get(e)||0)+1)}(s);var c="".concat(gd,"-").concat(au(o));return n._hashId=c,[n,c,i,r,(null===h||void 0===h?void 0:h.key)||""]}),(function(e){bd(e[0]._themeKey,a)}),(function(e){var t=nu(e,4),n=t[0],i=t[3];if(h&&i){var r=bu(i,au("css-variables-".concat(n._themeKey)),{mark:Lu,prepend:"queue",attachTo:o,priority:-999});r[_u]=a,r.setAttribute(Ou,n._themeKey)}}));return b}const Sd={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Id="-ms-",Td="-moz-",Ed="-webkit-",Md="comm",Rd="rule",Ad="decl",kd="@import",xd="@keyframes",Dd="@layer",Od=Math.abs,Ld=String.fromCharCode,_d=Object.assign;function Nd(e){return e.trim()}function jd(e,t,n){return e.replace(t,n)}function Pd(e,t){return e.indexOf(t)}function Ud(e,t){return 0|e.charCodeAt(t)}function Fd(e,t,n){return e.slice(t,n)}function Bd(e){return e.length}function zd(e){return e.length}function Wd(e,t){return t.push(e),e}function Vd(e,t){for(var n="",i=zd(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function Hd(e,t,n,i){switch(e.type){case Dd:if(e.children.length)break;case kd:case Ad:return e.return=e.return||e.value;case Md:return"";case xd:return e.return=e.value+"{"+Vd(e.children,i)+"}";case Rd:e.value=e.props.join(",")}return Bd(n=Vd(e.children,i))?e.return=e.value+"{"+n+"}":""}var Gd=1,Yd=1,Jd=0,Qd=0,qd=0,Xd="";function Kd(e,t,n,i,r,a,o){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:Gd,column:Yd,length:o,return:""}}function Zd(e,t){return _d(Kd("",null,null,"",null,null,0),e,{length:-e.length},t)}function $d(){return qd=Qd>0?Ud(Xd,--Qd):0,Yd--,10===qd&&(Yd=1,Gd--),qd}function ef(){return qd=Qd<Jd?Ud(Xd,Qd++):0,Yd++,10===qd&&(Yd=1,Gd++),qd}function tf(){return Ud(Xd,Qd)}function nf(){return Qd}function rf(e,t){return Fd(Xd,e,t)}function af(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function of(e){return Gd=Yd=1,Jd=Bd(Xd=e),Qd=0,[]}function sf(e){return Xd="",e}function lf(e){return Nd(rf(Qd-1,df(91===e?e+2:40===e?e+1:e)))}function cf(e){for(;(qd=tf())&&qd<33;)ef();return af(e)>2||af(qd)>3?"":" "}function uf(e,t){for(;--t&&ef()&&!(qd<48||qd>102||qd>57&&qd<65||qd>70&&qd<97););return rf(e,nf()+(t<6&&32==tf()&&32==ef()))}function df(e){for(;ef();)switch(qd){case e:return Qd;case 34:case 39:34!==e&&39!==e&&df(qd);break;case 40:41===e&&df(e);break;case 92:ef()}return Qd}function ff(e,t){for(;ef()&&e+qd!==57&&(e+qd!==84||47!==tf()););return"/*"+rf(t,Qd-1)+"*"+Ld(47===e?e:ef())}function hf(e){for(;!af(tf());)ef();return rf(e,Qd)}function pf(e){return sf(gf("",null,null,null,[""],e=of(e),0,[0],e))}function gf(e,t,n,i,r,a,o,s,l){for(var c=0,u=0,d=o,f=0,h=0,p=0,g=1,m=1,v=1,b=0,y="",C=r,w=a,S=i,I=y;m;)switch(p=b,b=ef()){case 40:if(108!=p&&58==Ud(I,d-1)){-1!=Pd(I+=jd(lf(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:I+=lf(b);break;case 9:case 10:case 13:case 32:I+=cf(p);break;case 92:I+=uf(nf()-1,7);continue;case 47:switch(tf()){case 42:case 47:Wd(vf(ff(ef(),nf()),t,n),l);break;default:I+="/"}break;case 123*g:s[c++]=Bd(I)*v;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==v&&(I=jd(I,/\f/g,"")),h>0&&Bd(I)-d&&Wd(h>32?bf(I+";",i,n,d-1):bf(jd(I," ","")+";",i,n,d-2),l);break;case 59:I+=";";default:if(Wd(S=mf(I,t,n,c,u,r,s,y,C=[],w=[],d),a),123===b)if(0===u)gf(I,t,S,S,C,a,d,s,w);else switch(99===f&&110===Ud(I,3)?100:f){case 100:case 108:case 109:case 115:gf(e,S,S,i&&Wd(mf(e,S,S,0,0,r,s,y,r,C=[],d),w),r,w,d,s,i?C:w);break;default:gf(I,S,S,S,[""],w,0,s,w)}}c=u=h=0,g=v=1,y=I="",d=o;break;case 58:d=1+Bd(I),h=p;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==$d())continue;switch(I+=Ld(b),b*g){case 38:v=u>0?1:(I+="\f",-1);break;case 44:s[c++]=(Bd(I)-1)*v,v=1;break;case 64:45===tf()&&(I+=lf(ef())),f=tf(),u=d=Bd(y=I+=hf(nf())),b++;break;case 45:45===p&&2==Bd(I)&&(g=0)}}return a}function mf(e,t,n,i,r,a,o,s,l,c,u){for(var d=r-1,f=0===r?a:[""],h=zd(f),p=0,g=0,m=0;p<i;++p)for(var v=0,b=Fd(e,d+1,d=Od(g=o[p])),y=e;v<h;++v)(y=Nd(g>0?f[v]+" "+b:jd(b,/&\f/g,f[v])))&&(l[m++]=y);return Kd(e,t,n,0===r?Rd:s,l,c,u)}function vf(e,t,n){return Kd(e,t,n,Md,Ld(qd),Fd(e,2,-2),0)}function bf(e,t,n,i){return Kd(e,t,n,Ad,Fd(e,0,i),Fd(e,i+1,-1),i)}var yf,Cf="data-ant-cssinjs-cache-path",wf="_FILE_STYLE__";var Sf=!0;function If(e){return function(){if(!yf&&(yf={},ou())){var e=document.createElement("div");e.className=Cf,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=nu(e.split(":"),2),n=t[0],i=t[1];yf[n]=i}));var n,i=document.querySelector("style[".concat(Cf,"]"));i&&(Sf=!1,null===(n=i.parentNode)||void 0===n||n.removeChild(i)),document.body.removeChild(e)}}(),!!yf[e]}var Tf="_multi_value_";function Ef(e){return Vd(pf(e),Hd).replace(/\{%%%\:[^;];}/g,";")}var Mf=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},r=i.root,a=i.injectHash,o=i.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,f=(n.linters,""),h={};function p(t){var i=t.getName(s);if(!h[i]){var r=nu(e(t.style,n,{root:!1,parentSelectors:o}),1)[0];h[i]="@keyframes ".concat(t.getName(s)).concat(r)}}var g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);if(g.forEach((function(t){var i="string"!==typeof t||r?t:{};if("string"===typeof i)f+="".concat(i,"\n");else if(i._keyframe)p(i);else{var l=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),i);Object.keys(l).forEach((function(t){var i=l[t];if("object"!==yi(i)||!i||"animationName"===t&&i._keyframe||function(e){return"object"===yi(e)&&e&&("_skip_check_"in e||Tf in e)}(i)){var u;function w(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),i=t;Sd[e]||"number"!==typeof i||0===i||(i="".concat(i,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),i=t.getName(s)),f+="".concat(n,":").concat(i,";")}var d=null!==(u=null===i||void 0===i?void 0:i.value)&&void 0!==u?u:i;"object"===yi(i)&&null!==i&&void 0!==i&&i[Tf]&&Array.isArray(d)?d.forEach((function(e){w(t,e)})):w(t,d)}else{var g=!1,m=t.trim(),v=!1;(r||a)&&s?m.startsWith("@")?g=!0:m=function(e,t,n){if(!t)return e;var i=".".concat(t),r="low"===n?":where(".concat(i,")"):i,a=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),i=n[0]||"",a=(null===(t=i.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[i="".concat(a).concat(r).concat(i.slice(a.length))].concat(ru(n.slice(1))).join(" ")}));return a.join(",")}(t,s,c):!r||s||"&"!==m&&""!==m||(m="",v=!0);var b=nu(e(i,n,{root:v,injectHash:g,parentSelectors:[].concat(ru(o),[m])}),2),y=b[0],C=b[1];h=Tl(Tl({},h),C),f+="".concat(m).concat(y)}}))}})),r){if(l&&(void 0===Ku&&(Ku=Xu("@layer ".concat(Qu," { .").concat(Qu,' { content: "').concat(qu,'"!important; } }'),(function(e){e.className=Qu}))),Ku)){var m=l.split(","),v=m[m.length-1].trim();f="@layer ".concat(v," {").concat(f,"}"),m.length>1&&(f="@layer ".concat(l,"{%%%:%}").concat(f))}}else f="{".concat(f,"}");return[f,h]};function Rf(e,t){return au("".concat(e.join("%")).concat(t))}function Af(){return null}var kf="style";function xf(e,t){var n=e.token,r=e.path,a=e.hashId,o=e.layer,s=e.nonce,l=e.clientOnly,c=e.order,u=void 0===c?0:c,d=i.useContext(Pu),f=d.autoClear,h=(d.mock,d.defaultCache),p=d.hashPriority,g=d.container,m=d.ssrInline,v=d.transformers,b=d.linters,y=d.cache,C=n._tokenKey,w=[C].concat(ru(r)),S=Zu;var I=hd(kf,w,(function(){var e=w.join("|");if(If(e)){var n=function(e){var t=yf[e],n=null;if(t&&ou())if(Sf)n=wf;else{var i=document.querySelector("style[".concat(Lu,'="').concat(yf[e],'"]'));i?n=i.innerHTML:delete yf[e]}return[n,t]}(e),i=nu(n,2),s=i[0],c=i[1];if(s)return[s,C,c,{},l,u]}var d=t(),f=nu(Mf(d,{hashId:a,hashPriority:p,layer:o,path:r.join("-"),transformers:v,linters:b}),2),h=f[0],g=f[1],m=Ef(h),y=Rf(w,m);return[m,C,y,g,l,u]}),(function(e,t){var n=nu(e,3)[2];(t||f)&&Zu&&vu(n,{mark:Lu})}),(function(e){var t=nu(e,4),n=t[0],i=(t[1],t[2]),r=t[3];if(S&&n!==wf){var a={mark:Lu,prepend:"queue",attachTo:g,priority:u},o="function"===typeof s?s():s;o&&(a.csp={nonce:o});var l=bu(n,i,a);l[_u]=y.instanceId,l.setAttribute(Ou,C),Object.keys(r).forEach((function(e){bu(Ef(r[e]),"_effect-".concat(e),a)}))}})),T=nu(I,3),E=T[0],M=T[1],R=T[2];return function(e){var t,n;m&&!S&&h?t=i.createElement("style",Sl({},(wi(n={},Ou,M),wi(n,Lu,R),n),{dangerouslySetInnerHTML:{__html:E}})):t=i.createElement(Af,null);return i.createElement(i.Fragment,null,t,e)}}var Df="cssVar";const Of=function(e,t){var n=e.key,r=e.prefix,a=e.unitless,o=e.ignore,s=e.token,l=e.scope,c=void 0===l?"":l,u=(0,i.useContext)(Pu),d=u.cache.instanceId,f=u.container,h=s._tokenKey,p=[].concat(ru(e.path),[n,c,h]),g=hd(Df,p,(function(){var e=t(),i=nu(id(e,n,{prefix:r,unitless:a,ignore:o,scope:c}),2),s=i[0],l=i[1];return[s,l,Rf(p,l),n]}),(function(e){var t=nu(e,3)[2];Zu&&vu(t,{mark:Lu})}),(function(e){var t=nu(e,3),i=t[1],r=t[2];if(i){var a=bu(i,r,{mark:Lu,prepend:"queue",attachTo:f,priority:-999});a[_u]=d,a.setAttribute(Ou,n)}}));return g};var Lf;wi(Lf={},kf,(function(e,t,n){var i=nu(e,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=(n||{}).plain;if(l)return null;var d=r,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=ed(r,a,o,f,u),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=Ef(s[e]);d+=ed(n,a,"_effect-".concat(e),f,u)}})),[c,o,d]})),wi(Lf,Cd,(function(e,t,n){var i=nu(e,5),r=i[2],a=i[3],o=i[4],s=(n||{}).plain;if(!a)return null;var l=r._tokenKey;return[-999,l,ed(a,o,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),wi(Lf,Df,(function(e,t,n){var i=nu(e,4),r=i[1],a=i[2],o=i[3],s=(n||{}).plain;if(!r)return null;return[-999,a,ed(r,o,a,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var _f=function(){function e(t,n){El(this,e),wi(this,"name",void 0),wi(this,"style",void 0),wi(this,"_keyframe",!0),this.name=t,this.style=n}return Rl(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const Nf=_f;function jf(e){return e.notSplit=!0,e}jf(["borderTop","borderBottom"]),jf(["borderTop"]),jf(["borderBottom"]),jf(["borderLeft","borderRight"]),jf(["borderLeft"]),jf(["borderRight"]);const Pf={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Uf=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},Ff=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Bf=(e,t,n)=>{const{fontFamily:i,fontSize:r}=e,a='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]');return{[n?".".concat(n):a]:{fontFamily:i,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[a]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},zf=e=>({outline:"".concat($u(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Wf=e=>({"&:focus-visible":Object.assign({},zf(e))});function Vf(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(i))}),[]);return n}function Hf(e){var t=i.useRef(!1),n=nu(i.useState(e),2),r=n[0],a=n[1];return i.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||a(e)}]}function Gf(e){return void 0!==e}function Yf(e,t){var n=t||{},i=n.defaultValue,r=n.value,a=n.onChange,o=n.postState,s=nu(Hf((function(){return Gf(r)?r:Gf(i)?"function"===typeof i?i():i:"function"===typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==r?r:l,d=o?o(u):u,f=Vf(a),h=nu(Hf([u]),2),p=h[0],g=h[1];return od((function(){var e=p[0];l!==e&&f(l,e)}),[p]),od((function(){Gf(r)||c(r)}),[r]),[d,Vf((function(e,t){c(e,t),g([u],t)}))]}var Jf=n(2086);function Qf(e,t){"function"===typeof e?e(t):"object"===yi(e)&&e&&"current"in e&&(e.current=t)}function qf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter((function(e){return e}));return i.length<=1?i[0]:function(e){t.forEach((function(t){Qf(t,e)}))}}function Xf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yu((function(){return qf.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}function Kf(e){var t,n,i=(0,Jf.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof i||null!==(t=i.prototype)&&void 0!==t&&t.render||i.$$typeof===Jf.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Jf.ForwardRef)}function Zf(e){return Zc(e)||iu(e)||eu(e)||tu()}function $f(e,t){for(var n=e,i=0;i<t.length;i+=1){if(null===n||void 0===n)return;n=n[t[i]]}return n}function eh(e,t,n,i){if(!t.length)return n;var r,a=Zf(t),o=a[0],s=a.slice(1);return r=e||"number"!==typeof o?Array.isArray(e)?ru(e):Tl({},e):[],i&&void 0===n&&1===s.length?delete r[o][s[0]]:r[o]=eh(r[o],s,n,i),r}function th(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&i&&void 0===n&&!$f(e,t.slice(0,-1))?e:eh(e,t,n,i)}function nh(e){return Array.isArray(e)?[]:{}}var ih="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function rh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=nh(t[0]);return t.forEach((function(e){!function t(n,r){var a,o=new Set(r),s=$f(e,n),l=Array.isArray(s);if(l||"object"===yi(a=s)&&null!==a&&Object.getPrototypeOf(a)===Object.prototype){if(!o.has(s)){o.add(s);var c=$f(i,n);l?i=th(i,n,[]):c&&"object"===yi(c)||(i=th(i,n,nh(s))),ih(s).forEach((function(e){t([].concat(ru(n),[e]),o)}))}}else i=th(i,n,s)}([])})),i}const ah="5.15.1";function oh(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function sh(e){return Math.min(1,Math.max(0,e))}function lh(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ch(e){return e<=1?"".concat(100*Number(e),"%"):e}function uh(e){return 1===e.length?"0"+e:String(e)}function dh(e,t,n){e=oh(e,255),t=oh(t,255),n=oh(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),a=0,o=0,s=(i+r)/2;if(i===r)o=0,a=0;else{var l=i-r;switch(o=s>.5?l/(2-i-r):l/(i+r),i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,l:s}}function fh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hh(e,t,n){e=oh(e,255),t=oh(t,255),n=oh(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),a=0,o=i,s=i-r,l=0===i?0:s/i;if(i===r)a=0;else{switch(i){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:l,v:o}}function ph(e,t,n,i){var r=[uh(Math.round(e).toString(16)),uh(Math.round(t).toString(16)),uh(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function gh(e){return Math.round(255*parseFloat(e)).toString(16)}function mh(e){return vh(e)/255}function vh(e){return parseInt(e,16)}var bh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function yh(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,a=null,o=!1,s=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(bh[e])e=bh[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Ih.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Ih.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Ih.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=Ih.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Ih.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=Ih.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Ih.hex8.exec(e),n)return{r:vh(n[1]),g:vh(n[2]),b:vh(n[3]),a:mh(n[4]),format:t?"name":"hex8"};if(n=Ih.hex6.exec(e),n)return{r:vh(n[1]),g:vh(n[2]),b:vh(n[3]),format:t?"name":"hex"};if(n=Ih.hex4.exec(e),n)return{r:vh(n[1]+n[1]),g:vh(n[2]+n[2]),b:vh(n[3]+n[3]),a:mh(n[4]+n[4]),format:t?"name":"hex8"};if(n=Ih.hex3.exec(e),n)return{r:vh(n[1]+n[1]),g:vh(n[2]+n[2]),b:vh(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Th(e.r)&&Th(e.g)&&Th(e.b)?(t=function(e,t,n){return{r:255*oh(e,255),g:255*oh(t,255),b:255*oh(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Th(e.h)&&Th(e.s)&&Th(e.v)?(i=ch(e.s),r=ch(e.v),t=function(e,t,n){e=6*oh(e,360),t=oh(t,100),n=oh(n,100);var i=Math.floor(e),r=e-i,a=n*(1-t),o=n*(1-r*t),s=n*(1-(1-r)*t),l=i%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,i,r),o=!0,s="hsv"):Th(e.h)&&Th(e.s)&&Th(e.l)&&(i=ch(e.s),a=ch(e.l),t=function(e,t,n){var i,r,a;if(e=oh(e,360),t=oh(t,100),n=oh(n,100),0===t)r=n,a=n,i=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;i=fh(s,o,e+1/3),r=fh(s,o,e),a=fh(s,o,e-1/3)}return{r:255*i,g:255*r,b:255*a}}(e.h,i,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=lh(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Ch="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),wh="[\\s|\\(]+(".concat(Ch,")[,|\\s]+(").concat(Ch,")[,|\\s]+(").concat(Ch,")\\s*\\)?"),Sh="[\\s|\\(]+(".concat(Ch,")[,|\\s]+(").concat(Ch,")[,|\\s]+(").concat(Ch,")[,|\\s]+(").concat(Ch,")\\s*\\)?"),Ih={CSS_UNIT:new RegExp(Ch),rgb:new RegExp("rgb"+wh),rgba:new RegExp("rgba"+Sh),hsl:new RegExp("hsl"+wh),hsla:new RegExp("hsla"+Sh),hsv:new RegExp("hsv"+wh),hsva:new RegExp("hsva"+Sh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Th(e){return Boolean(Ih.CSS_UNIT.exec(String(e)))}var Eh=2,Mh=.16,Rh=.05,Ah=.05,kh=.15,xh=5,Dh=4,Oh=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Lh(e){var t=hh(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function _h(e){var t=e.r,n=e.g,i=e.b;return"#".concat(ph(t,n,i,!1))}function Nh(e,t,n){var i;return(i=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Eh*t:Math.round(e.h)+Eh*t:n?Math.round(e.h)+Eh*t:Math.round(e.h)-Eh*t)<0?i+=360:i>=360&&(i-=360),i}function jh(e,t,n){return 0===e.h&&0===e.s?e.s:((i=n?e.s-Mh*t:t===Dh?e.s+Mh:e.s+Rh*t)>1&&(i=1),n&&t===xh&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function Ph(e,t,n){var i;return(i=n?e.v+Ah*t:e.v-kh*t)>1&&(i=1),Number(i.toFixed(2))}function Uh(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=yh(e),r=xh;r>0;r-=1){var a=Lh(i),o=_h(yh({h:Nh(a,r,!0),s:jh(a,r,!0),v:Ph(a,r,!0)}));n.push(o)}n.push(_h(i));for(var s=1;s<=Dh;s+=1){var l=Lh(i),c=_h(yh({h:Nh(l,s),s:jh(l,s),v:Ph(l,s)}));n.push(c)}return"dark"===t.theme?Oh.map((function(e){var i=e.index,r=e.opacity,a=_h(function(e,t,n){var i=n/100;return{r:(t.r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b}}(yh(t.backgroundColor||"#141414"),yh(n[i]),100*r));return a})):n}var Fh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Bh={},zh={};Object.keys(Fh).forEach((function(e){Bh[e]=Uh(Fh[e]),Bh[e].primary=Bh[e][5],zh[e]=Uh(Fh[e],{theme:"dark",backgroundColor:"#141414"}),zh[e].primary=zh[e][5]}));Bh.red,Bh.volcano,Bh.gold,Bh.orange,Bh.yellow,Bh.lime,Bh.green,Bh.cyan;var Wh=Bh.blue;Bh.geekblue,Bh.purple,Bh.magenta,Bh.grey,Bh.grey;const Vh=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};const Hh={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Gh=Object.assign(Object.assign({},Hh),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var Yh=function(){function e(t,n){var i;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=yh(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=lh(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=hh(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=hh(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=dh(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=dh(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),ph(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,i,r){var a=[uh(Math.round(e).toString(16)),uh(Math.round(t).toString(16)),uh(Math.round(n).toString(16)),uh(gh(i))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*oh(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*oh(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+ph(this.r,this.g,this.b,!1),t=0,n=Object.entries(bh);t<n.length;t++){var i=n[t],r=i[0];if(e===i[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,i=this.a<1&&this.a>=0;return t||!i||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=sh(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=sh(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=sh(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=sh(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var i=this.toRgb(),r=new e(t).toRgb(),a=n/100;return new e({r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var i=this.toHsl(),r=360/n,a=[this];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,a.push(new e(i));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),i=n.h,r=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:i,s:r,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),i=new e(t).toRgb(),r=n.a+i.a*(1-n.a);return new e({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),i=n.h,r=[this],a=360/t,o=1;o<t;o++)r.push(new e({h:(i+o*a)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const Jh=e=>{let t=e,n=e,i=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?i=1:e>=6&&(i=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e,borderRadiusXS:i,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};const Qh=(e,t)=>new Yh(e).setAlpha(t).toRgbString(),qh=(e,t)=>new Yh(e).darken(t).toHexString(),Xh=e=>{const t=Uh(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Kh=(e,t)=>{const n=e||"#fff",i=t||"#000";return{colorBgBase:n,colorTextBase:i,colorText:Qh(i,.88),colorTextSecondary:Qh(i,.65),colorTextTertiary:Qh(i,.45),colorTextQuaternary:Qh(i,.25),colorFill:Qh(i,.15),colorFillSecondary:Qh(i,.06),colorFillTertiary:Qh(i,.04),colorFillQuaternary:Qh(i,.02),colorBgLayout:qh(n,4),colorBgContainer:qh(n,0),colorBgElevated:qh(n,0),colorBgSpotlight:Qh(i,.85),colorBgBlur:"transparent",colorBorder:qh(n,15),colorBorderSecondary:qh(n,6)}};function Zh(e){return(e+8)/e}const $h=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const i=n-1,r=e*Math.pow(2.71828,i/5),a=n>1?Math.floor(r):Math.ceil(r);return 2*Math.floor(a/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:Zh(e)})))}(e),n=t.map((e=>e.size)),i=t.map((e=>e.lineHeight)),r=n[1],a=n[0],o=n[2],s=i[1],l=i[0],c=i[2];return{fontSizeSM:a,fontSize:r,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*r),fontHeightLG:Math.round(c*o),fontHeightSM:Math.round(l*a),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};const ep=Wu((function(e){const t=Object.keys(Hh).map((t=>{const n=Uh(e[t]);return new Array(10).fill(1).reduce(((e,i,r)=>(e["".concat(t,"-").concat(r+1)]=n[r],e["".concat(t).concat(r+1)]=n[r],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:i}=t;const{colorSuccess:r,colorWarning:a,colorError:o,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),f=n(r),h=n(a),p=n(o),g=n(s),m=i(c,u),v=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new Yh("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Xh,generateNeutralColorPalettes:Kh})),$h(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Vh(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:i,lineWidth:r}=e;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:r+1},Jh(i))}(e))})),tp={token:Gh,override:{override:Gh},hashed:!0},np=i.createContext(tp);function ip(e){return e>=0&&e<=255}const rp=function(e,t){const{r:n,g:i,b:r,a:a}=new Yh(e).toRgb();if(a<1)return e;const{r:o,g:s,b:l}=new Yh(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-o*(1-c))/c),t=Math.round((i-s*(1-c))/c),a=Math.round((r-l*(1-c))/c);if(ip(e)&&ip(t)&&ip(a))return new Yh({r:e,g:t,b:a,a:Math.round(100*c)/100}).toRgbString()}return new Yh({r:n,g:i,b:r,a:1}).toRgbString()};var ap=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function op(e){const{override:t}=e,n=ap(e,["override"]),i=Object.assign({},t);Object.keys(Gh).forEach((e=>{delete i[e]}));const r=Object.assign(Object.assign({},n),i),a=1200,o=1600;if(!1===r.motion){const e="0s";r.motionDurationFast=e,r.motionDurationMid=e,r.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:rp(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:rp(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:rp(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:4*r.lineWidth,lineWidth:r.lineWidth,controlOutlineWidth:2*r.lineWidth,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:rp(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:o,screenXXLMin:o,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new Yh("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new Yh("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new Yh("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var sp=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const lp={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},cp={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},up={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},dp=(e,t,n)=>{const i=n.getDerivativeToken(e),{override:r}=t,a=sp(t,["override"]);let o=Object.assign(Object.assign({},i),{override:r});return o=op(o),a&&Object.entries(a).forEach((e=>{let[t,n]=e;const{theme:i}=n,r=sp(n,["theme"]);let a=r;i&&(a=dp(Object.assign(Object.assign({},o),r),{override:r},i)),o[t]=a})),o};function fp(){const{token:e,hashed:t,theme:n,override:r,cssVar:a}=i.useContext(np),o="".concat(ah,"-").concat(t||""),s=n||ep,[l,c,u]=wd(s,[Gh,e],{salt:o,override:r,getComputedToken:dp,formatToken:op,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:lp,ignore:cp,preserve:up}});return[s,u,t?c:"",l,a]}function hp(e,t,n){return t=Dl(t),Ll(e,Ol()?Reflect.construct(t,n||[],Dl(e).constructor):t.apply(e,n))}const pp=Rl((function e(){El(this,e)}));let gp=function(e){function t(e){var n;return El(this,t),(n=hp(this,t)).result=0,e instanceof t?n.result=e.result:"number"===typeof e&&(n.result=e),n}return xl(t,e),Rl(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),t}(pp);const mp="CALC_UNIT";function vp(e){return"number"===typeof e?"".concat(e).concat(mp):e}let bp=function(e){function t(e){var n;return El(this,t),(n=hp(this,t)).result="",e instanceof t?n.result="(".concat(e.result,")"):"number"===typeof e?n.result=vp(e):"string"===typeof e&&(n.result=e),n}return xl(t,e),Rl(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(vp(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(vp(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{},n=new RegExp("".concat(mp),"g");return this.result=this.result.replace(n,t?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),t}(pp);const yp=e=>{const t="css"===e?bp:gp;return e=>new t(e)};const Cp="undefined"!==typeof CSSINJS_STATISTIC;let wp=!0;function Sp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Cp)return Object.assign.apply(Object,[{}].concat(t));wp=!1;const i={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),wp=!0,i}const Ip={};function Tp(){}const Ep=e=>{let t,n=e,i=Tp;return Cp&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(wp&&t.add(n),e[n])}),i=(e,n)=>{var i;Ip[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(i=Ip[e])||void 0===i?void 0:i.component),n)}}),{token:n,keys:t,flush:i}},Mp=(e,t)=>{const[n,i]=fp();return xf({theme:n,token:i,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce},(()=>[{[".".concat(e)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(e," .").concat(e,"-icon")]:{display:"block"}})}]))},Rp=(e,t,n)=>{var i;return"function"===typeof n?n(Sp(t,null!==(i=t[e])&&void 0!==i?i:{})):null!==n&&void 0!==n?n:{}},Ap=(e,t,n,i)=>{const r=Object.assign({},t[e]);if(null===i||void 0===i?void 0:i.deprecatedTokens){const{deprecatedTokens:e}=i;e.forEach((e=>{let[t,n]=e;var i;((null===r||void 0===r?void 0:r[t])||(null===r||void 0===r?void 0:r[n]))&&(null!==(i=r[n])&&void 0!==i||(r[n]=null===r||void 0===r?void 0:r[t]))}))}const a=Object.assign(Object.assign({},n),r);return Object.keys(a).forEach((e=>{a[e]===t[e]&&delete a[e]})),a};function kp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=Array.isArray(e)?e:[e,e],[o]=a,s=a.join("-");return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[l,c,u,d,f]=fp(),{getPrefixCls:h,iconPrefixCls:p,csp:g}=(0,i.useContext)(Xc),m=h(),v=f?"css":"js",b=yp(v),{max:y,min:C}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((e=>$u(e))).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((e=>$u(e))).join(","),")")}}}(v),w={theme:l,token:d,hashId:u,nonce:()=>null===g||void 0===g?void 0:g.nonce,clientOnly:r.clientOnly,order:r.order||-999};xf(Object.assign(Object.assign({},w),{clientOnly:!1,path:["Shared",m]}),(()=>[{"&":Ff(d)}])),Mp(p,g);const S=xf(Object.assign(Object.assign({},w),{path:[s,e,p]}),(()=>{if(!1===r.injectStyle)return[];const{token:i,flush:s}=Ep(d),l=Rp(o,c,n),h=".".concat(e),g=Ap(o,c,l,{deprecatedTokens:r.deprecatedTokens});f&&Object.keys(l).forEach((e=>{l[e]="var(".concat(td(e,((e,t)=>"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")))(o,f.prefix)),")")}));const v=Sp(i,{componentCls:h,prefixCls:e,iconCls:".".concat(p),antCls:".".concat(m),calc:b,max:y,min:C},f?l:g),w=t(v,{hashId:u,prefixCls:e,rootPrefixCls:m,iconPrefixCls:p});return s(o,g),[!1===r.resetStyle?null:Bf(v,e,a),w]}));return[S,u]}}const xp=(e,t,n,i)=>{const r=kp(e,t,n,Object.assign({resetStyle:!1,order:-998},i));return e=>{let{prefixCls:t,rootCls:n=t}=e;return r(t,n),null}},Dp=(e,t,n,r)=>{const a=kp(e,t,n,r),o=((e,t,n)=>{function r(t){return"".concat(e).concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}const{unitless:a={},injectStyle:o=!0}=null!==n&&void 0!==n?n:{},s={[r("zIndexPopup")]:!0};Object.keys(a).forEach((e=>{s[r(e)]=a[e]}));const l=i=>{let{rootCls:a,cssVar:o}=i;const[,l]=fp();return Of({path:[e],prefix:o.prefix,key:null===o||void 0===o?void 0:o.key,unitless:Object.assign(Object.assign({},lp),s),ignore:cp,token:l,scope:a},(()=>{const i=Rp(e,l,t),a=Ap(e,l,i,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(i).forEach((e=>{a[r(e)]=a[e],delete a[e]})),a})),null};return t=>{const[,,,,n]=fp();return[r=>o&&n?i.createElement(i.Fragment,null,i.createElement(l,{rootCls:t,cssVar:n,component:e}),r):r,null===n||void 0===n?void 0:n.key]}})(Array.isArray(e)?e[0]:e,n,r);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=a(e,t),[i,r]=o(t);return[i,n,r]}},Op=e=>{const{componentCls:t,antCls:n,carouselArrowSize:i,carouselDotOffset:r,marginXXS:a}=e,o=e.calc(i).mul(-1.25).equal(),s=a;return{[t]:Object.assign(Object.assign({},Uf(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",["input".concat(n,"-radio-input, input").concat(n,"-checkbox-input")]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",["input".concat(n,"-radio-input, input").concat(n,"-checkbox-input")]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"},".slick-arrow.slick-hidden":{display:"none"},".slick-prev, .slick-next":{position:"absolute",top:"50%",display:"block",width:i,height:i,marginTop:e.calc(i).mul(-1).div(2).equal(),padding:0,color:"transparent",fontSize:0,lineHeight:0,background:"transparent",border:0,outline:"none",cursor:"pointer","&:hover, &:focus":{color:"transparent",background:"transparent",outline:"none","&::before":{opacity:1}},"&.slick-disabled::before":{opacity:.25}},".slick-prev":{insetInlineStart:o,"&::before":{content:'"\u2190"'}},".slick-next":{insetInlineEnd:o,"&::before":{content:'"\u2192"'}},".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:r},"&-top":{top:r,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:e.dotWidth,height:e.dotHeight,marginInline:s,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:"all ".concat(e.motionDurationSlow),button:{position:"relative",display:"block",width:"100%",height:e.dotHeight,padding:0,color:"transparent",fontSize:0,background:e.colorBgContainer,border:0,borderRadius:e.dotHeight,outline:"none",cursor:"pointer",opacity:.3,transition:"all ".concat(e.motionDurationSlow),"&: hover, &:focus":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(s).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,"& button":{background:e.colorBgContainer,opacity:1},"&: hover, &:focus":{opacity:1}}}}})}},Lp=e=>{const{componentCls:t,carouselDotOffset:n,marginXXS:i}=e,r={width:e.dotHeight,height:e.dotWidth};return{["".concat(t,"-vertical")]:{".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:n},"&-right":{insetInlineEnd:n,insetInlineStart:"auto"},li:Object.assign(Object.assign({},r),{margin:"".concat($u(i)," 0"),verticalAlign:"baseline",button:r,"&.slick-active":Object.assign(Object.assign({},r),{button:r})})}}}},_p=e=>{const{componentCls:t}=e;return[{["".concat(t,"-rtl")]:{direction:"rtl",".slick-dots":{["".concat(t,"-rtl&")]:{flexDirection:"row-reverse"}}}},{["".concat(t,"-vertical")]:{".slick-dots":{["".concat(t,"-rtl&")]:{flexDirection:"column"}}}}]},Np=Dp("Carousel",(e=>{const{controlHeightLG:t,controlHeightSM:n}=e,i=Sp(e,{carouselArrowSize:e.calc(t).div(2).equal(),carouselDotOffset:e.calc(n).div(2).equal()});return[Op(i),Lp(i),_p(i)]}),(()=>({dotWidth:16,dotHeight:3,dotWidthActive:24,dotActiveWidth:24})),{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]});var jp=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const Pp=i.forwardRef(((e,t)=>{const{dots:n=!0,arrows:r=!1,draggable:a=!1,waitForAnimate:o=!1,dotPosition:s="bottom",vertical:l="left"===s||"right"===s,rootClassName:c,className:u,style:d,id:f}=e,h=jp(e,["dots","arrows","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id"]),{getPrefixCls:p,direction:g,carousel:m}=i.useContext(Xc),v=i.useRef(),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v.current.slickGoTo(e,t)};i.useImperativeHandle(t,(()=>({goTo:b,autoPlay:v.current.innerSlider.autoPlay,innerSlider:v.current.innerSlider,prev:v.current.slickPrev,next:v.current.slickNext})),[v.current]);const y=i.useRef(i.Children.count(e.children));i.useEffect((()=>{y.current!==i.Children.count(e.children)&&(b(e.initialSlide||0,!1),y.current=i.Children.count(e.children))}),[e.children]);const C=Object.assign({vertical:l,className:Bl()(u,null===m||void 0===m?void 0:m.className),style:Object.assign(Object.assign({},null===m||void 0===m?void 0:m.style),d)},h);"fade"===C.effect&&(C.fade=!0);const w=p("carousel",C.prefixCls),S="slick-dots",I=!!n,T=Bl()(S,"".concat(S,"-").concat(s),"boolean"!==typeof n&&(null===n||void 0===n?void 0:n.className)),[E,M,R]=Np(w),A=Bl()(w,{["".concat(w,"-rtl")]:"rtl"===g,["".concat(w,"-vertical")]:C.vertical},M,R,c);return E(i.createElement("div",{className:A,id:f},i.createElement(Qc,Object.assign({ref:v},C,{dots:I,dotsClass:T,arrows:r,draggable:a,verticalSwiping:l,waitForAnimate:o}))))}));const Up=Pp,Fp=e=>{let{chat:t,isMobile:n}=e;const r=so((e=>e.ads)),[a,s]=(0,i.useState)([]);return(0,i.useEffect)((()=>{var e;null!==(e=r.value)&&void 0!==e&&e.length&&s(r.value)}),[r,t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Up,{className:"adsContainer",dots:!1,effect:"fade",autoplay:!0,children:a.length&&a.map(((e,t)=>(0,o.jsx)(Kt,{to:e.redirect_url,target:"_blank",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:"d-block w-100",style:n?{height:"100vh"}:{},src:e.image_url,alt:"First slide"}),(0,o.jsx)("div",{className:"carousel-caption bg-light d-none d-md-block",children:(0,o.jsx)("h3",{children:e.title})})]},t)})))}),(0,o.jsx)("div",{className:"belowAds cursor-pointer",children:(0,o.jsx)(Kt,{to:"/plans",children:(0,o.jsxs)("p",{style:{color:n?"":"white"},children:["To remove ads continue with ",(0,o.jsx)("b",{children:"Premium \ud83d\udc51"})]})})})]})},Bp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZ0lEQVR4nO3WwQmAQAwF0SlPt/+zC4t9RGxAZRH84DzIPTkEBiRJek8DOlDh04H16pARsGQ9nP0Xh6zAFrBk3cy54zL7P5IkSR9pZjxZ9TsCyrbMeEmSpGzNjCerfkdAnpcZL0kScw7zFAKxsVXx1wAAAABJRU5ErkJggg==",zp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADMUlEQVR4nO2Z30tTUQDHD9XOuXcahVoRJKVRUhFB0XMh9EN8iEgxo/ChInqIMqPShyLbyF567w+ISIJe6iHS7ZzNn6WplZr3OrUM6iECpbDS9o3jbfPHNHW7293gfuHLtnvPj8/3nHPv7s4IsWXLlq251OdyFupu5ZPuUob7Xc4CkmrSXcqw7lYhrbnVjyTVFKhR8eGe4cAdFSQVBC9Jh6DXIdhrCIYZ5qwdnF6TZUgyCoIWQtAvEeARpp/BaXJdE/CysxBsYmH4sGXZ0yQZBMHyIdj4EuBDS+o3fMo+a+G9ZAUE61ky/FSI97INCwM4SqOGD9tRYl0Azh7HHoA9si6AoIMxB+A0YGEANmbCDIxZGQBmmNgBopQ9A8LCJQQ/yzVrBuBnuYkPwGmVaQE4rUosvHCuB2ej5gVgo7LNxMCDLAOnz02DFyFTT0KeiyDYXfPhWcg1cYanR8BZMG4BOAvCR4viA8/pNnA2EsfRx78QI7Ivc+GbSAYE0+IOL8J3pQF407NMgi9W0XVIQ0sOIJTEBGhYA3Tk6+g8kBZ7gJ5TnRiqxqQDV4G3R4GXO4GGDHOhm7OBjv1A3xlg6JbRX/fJrtjg/coJtOYB3UXAQJXR6HT3VwDdpUDXQaB9L9CyBWhcC/hXAz51JqD8LI83rgOac4C2PUa93jIgUDmzXdnXu2NA61bAo5SZ87wvAVo2G51q54Chm5GBZnvwBjBQabwuVLb/MtBdDLzaBfjSzPm9AE6HIOg80+40pr1tN9BVYIykfsEA/h+oHF3tvDFzbw4b9Ruz5ulD9k0How/wYmUmOHu46D0fPi2cXC4NmcaSkdeLf9WsMgt6HII9kAxRBwgH8bJNEPTK5Nc9Zz/ieAf6bvRBK1CvbIwZfM4wtWQ5/I4d8DmOQ9BKCHofgj2DoM1yn2e8jv2aqFcQ9EyByffy2EQ9+zm5FyRoEzh7atSVe6mOEvjodtk2sVr1l5zBuotOzGV5jiS7vOXOP57ySdjp4JDH5DmS7NJcypPQHxuzrblU6zaxFqveapqnuZRvEQFcyletRt1AUkH6bSVbd6u1ulsdkZYjnzLwtmzZskWWor+N9pVrpioXgwAAAABJRU5ErkJggg==",Wp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nGNgGAVUBv+hmGbg/6gFhMD/0SCieRD9pxIeOAsIgf+jqYgQ+D8aRMM/iEYgAACwS0O9h1hB4QAAAABJRU5ErkJggg==",Vp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAASklEQVR4nGNgGCmggYGB4T8a7iDXsP8U4oG3gIFUxQykq6e/Bf9J5I9awDAaRAyjqWgEBhEhMPgseEJGPfCEFAv8SLTkCVTPMAQA9hCmk99l5FAAAAAASUVORK5CYII=";const Hp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const Gp=(0,i.createContext)({});function Yp(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Jp(e){return function(e){return Yp(e)instanceof ShadowRoot}(e)?Yp(e):null}function Qp(e){return"object"===yi(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===yi(e.icon)||"function"===typeof e.icon)}function qp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var i=e[n];if("class"===n)t.className=i,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=i;return t}),{})}function Xp(e,t,n){return n?i.createElement(e.tag,Tl(Tl({key:t},qp(e.attrs)),n),(e.children||[]).map((function(n,i){return Xp(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))):i.createElement(e.tag,Tl({key:t},qp(e.attrs)),(e.children||[]).map((function(n,i){return Xp(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})))}function Kp(e){return Uh(e)[0]}function Zp(e){return e?Array.isArray(e)?e:[e]:[]}var $p=["icon","className","onClick","style","primaryColor","secondaryColor"],eg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var tg=function(e){var t,n,r=e.icon,a=e.className,o=e.onClick,s=e.style,l=e.primaryColor,c=e.secondaryColor,u=jl(e,$p),d=i.useRef(),f=eg;if(l&&(f={primaryColor:l,secondaryColor:c||Kp(l)}),function(e){var t=(0,i.useContext)(Gp),n=t.csp,r=t.prefixCls,a="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(a=a.replace(/anticon/g,r)),(0,i.useEffect)((function(){var t=Jp(e.current);bu(a,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(d),t=Qp(r),n="icon should be icon definiton, but got ".concat(r),Mu(t,"[@ant-design/icons] ".concat(n)),!Qp(r))return null;var h=r;return h&&"function"===typeof h.icon&&(h=Tl(Tl({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),Xp(h.icon,"svg-".concat(h.name),Tl(Tl({className:a,onClick:o,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};tg.displayName="IconReact",tg.getTwoToneColors=function(){return Tl({},eg)},tg.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;eg.primaryColor=t,eg.secondaryColor=n||Kp(t),eg.calculated=!!n};const ng=tg;function ig(e){var t=nu(Zp(e),2),n=t[0],i=t[1];return ng.setTwoToneColors({primaryColor:n,secondaryColor:i})}var rg=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ig(Wh.primary);var ag=i.forwardRef((function(e,t){var n=e.className,r=e.icon,a=e.spin,o=e.rotate,s=e.tabIndex,l=e.onClick,c=e.twoToneColor,u=jl(e,rg),d=i.useContext(Gp),f=d.prefixCls,h=void 0===f?"anticon":f,p=d.rootClassName,g=Bl()(p,h,wi(wi({},"".concat(h,"-").concat(r.name),!!r.name),"".concat(h,"-spin"),!!a||"loading"===r.name),n),m=s;void 0===m&&l&&(m=-1);var v=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,b=nu(Zp(c),2),y=b[0],C=b[1];return i.createElement("span",Sl({role:"img","aria-label":r.name},u,{ref:t,tabIndex:m,onClick:l,className:g}),i.createElement(ng,{icon:r,primaryColor:y,secondaryColor:C,style:v}))}));ag.displayName="AntdIcon",ag.getTwoToneColor=function(){var e=ng.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},ag.setTwoToneColor=ig;const og=ag;var sg=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:Hp}))};const lg=i.forwardRef(sg);const cg=i.createContext(null);var ug=[];function dg(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var i,r,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var o=getComputedStyle(e);a.scrollbarColor=o.scrollbarColor,a.scrollbarWidth=o.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";bu("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(nn){console.error(nn),i=l,r=c}}document.body.appendChild(n);var f=e&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,h=e&&r&&!isNaN(r)?r:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),vu(t),{width:f,height:h}}var fg="rc-util-locker-".concat(Date.now()),hg=0;function pg(e){var t=!!e,n=nu(i.useState((function(){return hg+=1,"".concat(fg,"_").concat(hg)})),1)[0];sd((function(){if(t){var e=(r=document.body,"undefined"!==typeof document&&r&&r instanceof Element?dg(r):{width:0,height:0}).width,i=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;bu("\nhtml body {\n  overflow-y: hidden;\n  ".concat(i?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else vu(n);var r;return function(){vu(n)}}),[t,n])}var gg=!1;var mg=function(e){return!1!==e&&(ou()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},vg=i.forwardRef((function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,o=(e.debug,e.autoDestroy),s=void 0===o||o,l=e.children,u=nu(i.useState(n),2),d=u[0],f=u[1],h=d||n;i.useEffect((function(){(s||n)&&f(n)}),[n,s]);var p=nu(i.useState((function(){return mg(a)})),2),g=p[0],m=p[1];i.useEffect((function(){var e=mg(a);m(null!==e&&void 0!==e?e:null)}));var v=function(e,t){var n=nu(i.useState((function(){return ou()?document.createElement("div"):null})),1)[0],r=i.useRef(!1),a=i.useContext(cg),o=nu(i.useState(ug),2),s=o[0],l=o[1],c=a||(r.current?void 0:function(e){l((function(t){return[e].concat(ru(t))}))});function u(){n.parentElement||document.body.appendChild(n),r.current=!0}function d(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return sd((function(){return e?a?a(u):u():d(),d}),[e]),sd((function(){s.length&&(s.forEach((function(e){return e()})),l(ug))}),[s]),[n,c]}(h&&!g),b=nu(v,2),y=b[0],C=b[1],w=null!==g&&void 0!==g?g:y;pg(r&&n&&ou()&&(w===y||w===document.body));var S=null;l&&Kf(l)&&t&&(S=l.ref);var I=Xf(S,t);if(!h||!ou()||void 0===g)return null;var T,E=!1===w||("boolean"===typeof T&&(gg=T),gg),M=l;return t&&(M=i.cloneElement(l,{ref:I})),i.createElement(cg.Provider,{value:C},E?M:(0,c.createPortal)(M,w))}));const bg=vg;function yg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(yg(e)):(0,Jf.isFragment)(e)&&e.props?n=n.concat(yg(e.props.children,t)):n.push(e))})),n}function Cg(e){return e instanceof HTMLElement||e instanceof SVGElement}function wg(e){return Cg(e)?e:e instanceof i.Component?c.findDOMNode(e):null}var Sg=i.createContext(null);var Ig=new Map;var Tg=new Bc((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Ig.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Eg=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component);function Mg(e,t){var n=e.children,r=e.disabled,a=i.useRef(null),o=i.useRef(null),s=i.useContext(Sg),l="function"===typeof n,c=l?n(a):n,u=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&i.isValidElement(c)&&Kf(c),f=Xf(d?c.ref:null,a),h=function(){var e;return wg(a.current)||(a.current&&"object"===yi(a.current)?wg(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||wg(o.current)};i.useImperativeHandle(t,(function(){return h()}));var p=i.useRef(e);p.current=e;var g=i.useCallback((function(e){var t=p.current,n=t.onResize,i=t.data,r=e.getBoundingClientRect(),a=r.width,o=r.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(a),f=Math.floor(o);if(u.current.width!==d||u.current.height!==f||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var h={width:d,height:f,offsetWidth:l,offsetHeight:c};u.current=h;var g=l===Math.round(a)?a:l,m=c===Math.round(o)?o:c,v=Tl(Tl({},h),{},{offsetWidth:g,offsetHeight:m});null===s||void 0===s||s(v,e,i),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return i.useEffect((function(){var e=h();return e&&!r&&function(e,t){Ig.has(e)||(Ig.set(e,new Set),Tg.observe(e)),Ig.get(e).add(t)}(e,g),function(){return function(e,t){Ig.has(e)&&(Ig.get(e).delete(t),Ig.get(e).size||(Tg.unobserve(e),Ig.delete(e)))}(e,g)}}),[a.current,r]),i.createElement(Eg,{ref:o},d?i.cloneElement(c,{ref:f}):c)}const Rg=i.forwardRef(Mg);function Ag(e,t){var n=e.children;return("function"===typeof n?[n]:yg(n)).map((function(n,r){var a=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return i.createElement(Rg,Sl({},e,{key:a,ref:0===r?t:void 0}),n)}))}var kg=i.forwardRef(Ag);kg.Collection=function(e){var t=e.children,n=e.onBatchResize,r=i.useRef(0),a=i.useRef([]),o=i.useContext(Sg),s=i.useCallback((function(e,t,i){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,i)}),[n,o]);return i.createElement(Sg.Provider,{value:s},t)};const xg=kg;var Dg=0;var Og=Tl({},r).useId;const Lg=Og?function(e){var t=Og();return e||t}:function(e){var t=nu(i.useState("ssr-id"),2),n=t[0],r=t[1];return i.useEffect((function(){var e=Dg;Dg+=1,r("rc_unique_".concat(e))}),[]),e||n},_g=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};var Ng=["children"],jg=i.createContext({});function Pg(e){var t=e.children,n=jl(e,Ng);return i.createElement(jg.Provider,{value:n},t)}var Ug=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component);const Fg=Ug;var Bg="none",zg="appear",Wg="enter",Vg="leave",Hg="none",Gg="prepare",Yg="start",Jg="active",Qg="end",qg="prepared";function Xg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Kg=function(e,t){var n={animationend:Xg("Animation","AnimationEnd"),transitionend:Xg("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ou(),"undefined"!==typeof window?window:{}),Zg={};if(ou()){var $g=document.createElement("div");Zg=$g.style}var em={};function tm(e){if(em[e])return em[e];var t=Kg[e];if(t)for(var n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var a=n[r];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Zg)return em[e]=t[a],em[e]}return""}var nm=tm("animationend"),im=tm("transitionend"),rm=!(!nm||!im),am=nm||"animationend",om=im||"transitionend";function sm(e,t){return e?"object"===yi(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const lm=function(e){var t=(0,i.useRef)(),n=(0,i.useRef)(e);n.current=e;var r=i.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(om,r),e.removeEventListener(am,r))}return i.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(om,r),e.addEventListener(am,r),t.current=e)},a]};const cm=ou()?i.useLayoutEffect:i.useEffect;var um=function(e){return+setTimeout(e,16)},dm=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(um=function(e){return window.requestAnimationFrame(e)},dm=function(e){return window.cancelAnimationFrame(e)});var fm=0,hm=new Map;function pm(e){hm.delete(e)}var gm=function(e){var t=fm+=1;return function n(i){if(0===i)pm(t),e();else{var r=um((function(){n(i-1)}));hm.set(t,r)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};gm.cancel=function(e){var t=hm.get(e);return pm(e),dm(t)};const mm=gm;var vm=[Gg,Yg,Jg,Qg],bm=[Gg,qg],ym=!1,Cm=!0;function wm(e){return e===Jg||e===Qg}const Sm=function(e,t,n){var r=nu(Hf(Hg),2),a=r[0],o=r[1],s=function(){var e=i.useRef(null);function t(){mm.cancel(e.current)}return i.useEffect((function(){return function(){t()}}),[]),[function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=mm((function(){r<=1?i({isCanceled:function(){return a!==e.current}}):n(i,r-1)}));e.current=a},t]}(),l=nu(s,2),c=l[0],u=l[1];var d=t?bm:vm;return cm((function(){if(a!==Hg&&a!==Qg){var e=d.indexOf(a),t=d[e+1],i=n(a);i===ym?o(t,!0):t&&c((function(e){function n(){e.isCanceled()||o(t,!0)}!0===i?n():Promise.resolve(i).then(n)}))}}),[e,a]),i.useEffect((function(){return function(){u()}}),[]),[function(){o(Gg,!0)},a]};const Im=function(e){var t=e;"object"===yi(e)&&(t=e.transitionSupport);var n=i.forwardRef((function(e,n){var r=e.visible,a=void 0===r||r,o=e.removeOnLeave,s=void 0===o||o,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,f=e.eventProps,h=function(e,n){return!(!e.motionName||!t||!1===n)}(e,i.useContext(jg).motion),p=(0,i.useRef)(),g=(0,i.useRef)();var m=function(e,t,n,r){var a=r.motionEnter,o=void 0===a||a,s=r.motionAppear,l=void 0===s||s,c=r.motionLeave,u=void 0===c||c,d=r.motionDeadline,f=r.motionLeaveImmediately,h=r.onAppearPrepare,p=r.onEnterPrepare,g=r.onLeavePrepare,m=r.onAppearStart,v=r.onEnterStart,b=r.onLeaveStart,y=r.onAppearActive,C=r.onEnterActive,w=r.onLeaveActive,S=r.onAppearEnd,I=r.onEnterEnd,T=r.onLeaveEnd,E=r.onVisibleChanged,M=nu(Hf(),2),R=M[0],A=M[1],k=nu(Hf(Bg),2),x=k[0],D=k[1],O=nu(Hf(null),2),L=O[0],_=O[1],N=(0,i.useRef)(!1),j=(0,i.useRef)(null);function P(){return n()}var U=(0,i.useRef)(!1);function F(){D(Bg,!0),_(null,!0)}function B(e){var t=P();if(!e||e.deadline||e.target===t){var n,i=U.current;x===zg&&i?n=null===S||void 0===S?void 0:S(t,e):x===Wg&&i?n=null===I||void 0===I?void 0:I(t,e):x===Vg&&i&&(n=null===T||void 0===T?void 0:T(t,e)),x!==Bg&&i&&!1!==n&&F()}}var z=nu(lm(B),1)[0],W=function(e){var t,n,i;switch(e){case zg:return wi(t={},Gg,h),wi(t,Yg,m),wi(t,Jg,y),t;case Wg:return wi(n={},Gg,p),wi(n,Yg,v),wi(n,Jg,C),n;case Vg:return wi(i={},Gg,g),wi(i,Yg,b),wi(i,Jg,w),i;default:return{}}},V=i.useMemo((function(){return W(x)}),[x]),H=nu(Sm(x,!e,(function(e){if(e===Gg){var t=V[Gg];return t?t(P()):ym}var n;return Y in V&&_((null===(n=V[Y])||void 0===n?void 0:n.call(V,P(),null))||null),Y===Jg&&(z(P()),d>0&&(clearTimeout(j.current),j.current=setTimeout((function(){B({deadline:!0})}),d))),Y===qg&&F(),Cm})),2),G=H[0],Y=H[1],J=wm(Y);U.current=J,cm((function(){A(t);var n,i=N.current;N.current=!0,!i&&t&&l&&(n=zg),i&&t&&o&&(n=Wg),(i&&!t&&u||!i&&f&&!t&&u)&&(n=Vg);var r=W(n);n&&(e||r[Gg])?(D(n),G()):D(Bg)}),[t]),(0,i.useEffect)((function(){(x===zg&&!l||x===Wg&&!o||x===Vg&&!u)&&D(Bg)}),[l,o,u]),(0,i.useEffect)((function(){return function(){N.current=!1,clearTimeout(j.current)}}),[]);var Q=i.useRef(!1);(0,i.useEffect)((function(){R&&(Q.current=!0),void 0!==R&&x===Bg&&((Q.current||R)&&(null===E||void 0===E||E(R)),Q.current=!0)}),[R,x]);var q=L;return V[Gg]&&Y===Yg&&(q=Tl({transition:"none"},q)),[x,Y,q,null!==R&&void 0!==R?R:t]}(h,a,(function(){try{return p.current instanceof HTMLElement?p.current:wg(g.current)}catch(nn){return null}}),e),v=nu(m,4),b=v[0],y=v[1],C=v[2],w=v[3],S=i.useRef(w);w&&(S.current=!0);var I,T=i.useCallback((function(e){p.current=e,Qf(n,e)}),[n]),E=Tl(Tl({},f),{},{visible:a});if(c)if(b===Bg)I=w?c(Tl({},E),T):!s&&S.current&&d?c(Tl(Tl({},E),{},{className:d}),T):l||!s&&!d?c(Tl(Tl({},E),{},{style:{display:"none"}}),T):null;else{var M,R;y===Gg?R="prepare":wm(y)?R="active":y===Yg&&(R="start");var A=sm(u,"".concat(b,"-").concat(R));I=c(Tl(Tl({},E),{},{className:Bl()(sm(u,b),(M={},wi(M,A,A&&R),wi(M,u,"string"===typeof u),M)),style:C}),T)}else I=null;i.isValidElement(I)&&Kf(I)&&(I.ref||(I=i.cloneElement(I,{ref:T})));return i.createElement(Fg,{ref:g},I)}));return n.displayName="CSSMotion",n}(rm);var Tm="add",Em="keep",Mm="remove",Rm="removed";function Am(e){var t;return Tl(Tl({},t=e&&"object"===yi(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function km(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Am)}var xm=["component","children","onVisibleChanged","onAllRemoved"],Dm=["status"],Om=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Im,n=function(e){xl(r,e);var n=_l(r);function r(){var e;El(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return wi(Al(e=n.call.apply(n,[this].concat(i))),"state",{keyEntities:[]}),wi(Al(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Tl(Tl({},e),{},{status:Rm})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Rm})).length})),e}return Rl(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,o=r.children,s=r.onVisibleChanged,l=r.onAllRemoved,c=jl(r,xm),u=a||i.Fragment,d={};return Om.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,i.createElement(u,c,n.map((function(n,r){var a=n.status,c=jl(n,Dm),u=a===Tm||a===Em;return i.createElement(t,Sl({},d,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:c.key}),t)||0===e.removeKey(c.key)&&l&&l()}}),(function(e,t){return o(Tl(Tl({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,i=t.keyEntities,r=km(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=0,r=t.length,a=km(e),o=km(t);a.forEach((function(e){for(var t=!1,a=i;a<r;a+=1){var s=o[a];if(s.key===e.key){i<a&&(n=n.concat(o.slice(i,a).map((function(e){return Tl(Tl({},e),{},{status:Tm})}))),i=a),n.push(Tl(Tl({},s),{},{status:Em})),i+=1,t=!0;break}}t||n.push(Tl(Tl({},e),{},{status:Mm}))})),i<r&&(n=n.concat(o.slice(i).map((function(e){return Tl(Tl({},e),{},{status:Tm})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,i=t.status;return n!==e||i!==Mm}))).forEach((function(t){t.key===e&&(t.status=Em)}))})),n}(i,r);return{keyEntities:a.filter((function(e){var t=i.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Rm||e.status!==Mm}))}}}]),r}(i.Component);wi(n,"defaultProps",{component:"div"})}(rm);const Lm=Im;function _m(e){var t=e.prefixCls,n=e.align,r=e.arrow,a=e.arrowPos,o=r||{},s=o.className,l=o.content,c=a.x,u=void 0===c?0:c,d=a.y,f=void 0===d?0:d,h=i.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var g=n.points[0],m=n.points[1],v=g[0],b=g[1],y=m[0],C=m[1];v!==y&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=f,b!==C&&["l","r"].includes(b)?"l"===b?p.left=0:p.right=0:p.left=u}return i.createElement("div",{ref:h,className:Bl()("".concat(t,"-arrow"),s),style:p},l)}function Nm(e){var t=e.prefixCls,n=e.open,r=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(Lm,Sl({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return i.createElement("div",{style:{zIndex:r},className:Bl()("".concat(t,"-mask"),n)})})):null}var jm=i.memo((function(e){return e.children}),(function(e,t){return t.cache}));const Pm=jm;var Um=i.forwardRef((function(e,t){var n=e.popup,r=e.className,a=e.prefixCls,o=e.style,s=e.target,l=e.onVisibleChanged,c=e.open,u=e.keepDom,d=e.fresh,f=e.onClick,h=e.mask,p=e.arrow,g=e.arrowPos,m=e.align,v=e.motion,b=e.maskMotion,y=e.forceRender,C=e.getPopupContainer,w=e.autoDestroy,S=e.portal,I=e.zIndex,T=e.onMouseEnter,E=e.onMouseLeave,M=e.onPointerEnter,R=e.ready,A=e.offsetX,k=e.offsetY,x=e.offsetR,D=e.offsetB,O=e.onAlign,L=e.onPrepare,_=e.stretch,N=e.targetWidth,j=e.targetHeight,P="function"===typeof n?n():n,U=c||u,F=(null===C||void 0===C?void 0:C.length)>0,B=nu(i.useState(!C||!F),2),z=B[0],W=B[1];if(sd((function(){!z&&F&&s&&W(!0)}),[z,F,s]),!z)return null;var V="auto",H={left:"-1000vw",top:"-1000vh",right:V,bottom:V};if(R||!c){var G,Y=m.points,J=m.dynamicInset||(null===(G=m._experimental)||void 0===G?void 0:G.dynamicInset),Q=J&&"r"===Y[0][1],q=J&&"b"===Y[0][0];Q?(H.right=x,H.left=V):(H.left=A,H.right=V),q?(H.bottom=D,H.top=V):(H.top=k,H.bottom=V)}var X={};return _&&(_.includes("height")&&j?X.height=j:_.includes("minHeight")&&j&&(X.minHeight=j),_.includes("width")&&N?X.width=N:_.includes("minWidth")&&N&&(X.minWidth=N)),c||(X.pointerEvents="none"),i.createElement(S,{open:y||U,getContainer:C&&function(){return C(s)},autoDestroy:w},i.createElement(Nm,{prefixCls:a,open:c,zIndex:I,mask:h,motion:b}),i.createElement(xg,{onResize:O,disabled:!c},(function(e){return i.createElement(Lm,Sl({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(a,"-hidden")},v,{onAppearPrepare:L,onEnterPrepare:L,visible:c,onVisibleChanged:function(e){var t;null===v||void 0===v||null===(t=v.onVisibleChanged)||void 0===t||t.call(v,e),l(e)}}),(function(n,s){var l=n.className,u=n.style,h=Bl()(a,l,r);return i.createElement("div",{ref:qf(e,t,s),className:h,style:Tl(Tl(Tl(Tl({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},H),X),u),{},{boxSizing:"border-box",zIndex:I},o),onMouseEnter:T,onMouseLeave:E,onPointerEnter:M,onClick:f},p&&i.createElement(_m,{prefixCls:a,arrow:p,arrowPos:g,align:m}),i.createElement(Pm,{cache:!c&&!d},P))}))})))}));const Fm=Um;var Bm=i.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=Kf(n),o=i.useCallback((function(e){Qf(t,r?r(e):e)}),[r]),s=Xf(o,n.ref);return a?i.cloneElement(n,{ref:s}):n}));const zm=Bm;const Wm=i.createContext(null);function Vm(e){return e?Array.isArray(e)?e:[e]:[]}const Hm=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,i=t.height;if(n||i)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),a=r.width,o=r.height;if(a||o)return!0}}return!1};function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ym(e,t,n,i){return t||(n?{motionName:"".concat(e,"-").concat(n)}:i?{motionName:i}:null)}function Jm(e){return e.ownerDocument.defaultView}function Qm(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,i=["hidden","scroll","clip","auto"];n;){var r=Jm(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some((function(e){return i.includes(e)}))&&t.push(n),n=n.parentElement}return t}function qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Xm(e){return qm(parseFloat(e),0)}function Km(e,t){var n=Tl({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Jm(e).getComputedStyle(e),i=t.overflow,r=t.overflowClipMargin,a=t.borderTopWidth,o=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,f=e.offsetWidth,h=e.clientWidth,p=Xm(a),g=Xm(o),m=Xm(s),v=Xm(l),b=qm(Math.round(c.width/f*1e3)/1e3),y=qm(Math.round(c.height/u*1e3)/1e3),C=(f-h-m-v)*b,w=(u-d-p-g)*y,S=p*y,I=g*y,T=m*b,E=v*b,M=0,R=0;if("clip"===i){var A=Xm(r);M=A*b,R=A*y}var k=c.x+T-M,x=c.y+S-R,D=k+c.width+2*M-T-E-C,O=x+c.height+2*R-S-I-w;n.left=Math.max(n.left,k),n.top=Math.max(n.top,x),n.right=Math.min(n.right,D),n.bottom=Math.min(n.bottom,O)}})),n}function Zm(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function $m(e,t){var n=nu(t||[],2),i=n[0],r=n[1];return[Zm(e.width,i),Zm(e.height,r)]}function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function tv(e,t){var n,i=t[0],r=t[1];return n="t"===i?e.y:"b"===i?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function nv(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,i){return i===t?n[e]||"c":e})).join("")}var iv=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const rv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bg,t=i.forwardRef((function(t,n){var r=t.prefixCls,a=void 0===r?"rc-trigger-popup":r,o=t.children,s=t.action,l=void 0===s?"hover":s,c=t.showAction,u=t.hideAction,d=t.popupVisible,f=t.defaultPopupVisible,h=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,g=t.mouseEnterDelay,m=t.mouseLeaveDelay,v=void 0===m?.1:m,b=t.focusDelay,y=t.blurDelay,C=t.mask,w=t.maskClosable,S=void 0===w||w,I=t.getPopupContainer,T=t.forceRender,E=t.autoDestroy,M=t.destroyPopupOnHide,R=t.popup,A=t.popupClassName,k=t.popupStyle,x=t.popupPlacement,D=t.builtinPlacements,O=void 0===D?{}:D,L=t.popupAlign,_=t.zIndex,N=t.stretch,j=t.getPopupClassNameFromAlign,P=t.fresh,U=t.alignPoint,F=t.onPopupClick,B=t.onPopupAlign,z=t.arrow,W=t.popupMotion,V=t.maskMotion,H=t.popupTransitionName,G=t.popupAnimation,Y=t.maskTransitionName,J=t.maskAnimation,Q=t.className,q=t.getTriggerDOMNode,X=jl(t,iv),K=E||M||!1,Z=nu(i.useState(!1),2),$=Z[0],ee=Z[1];sd((function(){ee(_g())}),[]);var te=i.useRef({}),ne=i.useContext(Wm),ie=i.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),re=Lg(),ae=nu(i.useState(null),2),oe=ae[0],se=ae[1],le=Vf((function(e){Cg(e)&&oe!==e&&se(e),null===ne||void 0===ne||ne.registerSubPopup(re,e)})),ce=nu(i.useState(null),2),ue=ce[0],de=ce[1],fe=i.useRef(null),he=Vf((function(e){Cg(e)&&ue!==e&&(de(e),fe.current=e)})),pe=i.Children.only(o),ge=(null===pe||void 0===pe?void 0:pe.props)||{},me={},ve=Vf((function(e){var t,n,i=ue;return(null===i||void 0===i?void 0:i.contains(e))||(null===(t=Jp(i))||void 0===t?void 0:t.host)===e||e===i||(null===oe||void 0===oe?void 0:oe.contains(e))||(null===(n=Jp(oe))||void 0===n?void 0:n.host)===e||e===oe||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),be=Ym(a,W,G,H),ye=Ym(a,V,J,Y),Ce=nu(i.useState(f||!1),2),we=Ce[0],Se=Ce[1],Ie=null!==d&&void 0!==d?d:we,Te=Vf((function(e){void 0===d&&Se(e)}));sd((function(){Se(d||!1)}),[d]);var Ee=i.useRef(Ie);Ee.current=Ie;var Me=i.useRef([]);Me.current=[];var Re=Vf((function(e){var t;Te(e),(null!==(t=Me.current[Me.current.length-1])&&void 0!==t?t:Ie)!==e&&(Me.current.push(e),null===h||void 0===h||h(e))})),Ae=i.useRef(),ke=function(){clearTimeout(Ae.current)},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ke(),0===t?Re(e):Ae.current=setTimeout((function(){Re(e)}),1e3*t)};i.useEffect((function(){return ke}),[]);var De=nu(i.useState(!1),2),Oe=De[0],Le=De[1];sd((function(e){e&&!Ie||Le(!0)}),[Ie]);var _e=nu(i.useState(null),2),Ne=_e[0],je=_e[1],Pe=nu(i.useState([0,0]),2),Ue=Pe[0],Fe=Pe[1],Be=function(e){Fe([e.clientX,e.clientY])},ze=function(e,t,n,r,a,o,s){var l=nu(i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),2),c=l[0],u=l[1],d=i.useRef(0),f=i.useMemo((function(){return t?Qm(t):[]}),[t]),h=i.useRef({});e||(h.current={});var p=Vf((function(){if(t&&n&&e){var i,l,c,d=t,p=d.ownerDocument,g=Jm(d).getComputedStyle(d),m=g.width,v=g.height,b=g.position,y=d.style.left,C=d.style.top,w=d.style.right,S=d.style.bottom,I=d.style.overflow,T=Tl(Tl({},a[r]),o),E=p.createElement("div");if(null===(i=d.parentElement)||void 0===i||i.appendChild(E),E.style.left="".concat(d.offsetLeft,"px"),E.style.top="".concat(d.offsetTop,"px"),E.style.position=b,E.style.height="".concat(d.offsetHeight,"px"),E.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden",Array.isArray(n))c={x:n[0],y:n[1],width:0,height:0};else{var M=n.getBoundingClientRect();c={x:M.x,y:M.y,width:M.width,height:M.height}}var R=d.getBoundingClientRect(),A=p.documentElement,k=A.clientWidth,x=A.clientHeight,D=A.scrollWidth,O=A.scrollHeight,L=A.scrollTop,_=A.scrollLeft,N=R.height,j=R.width,P=c.height,U=c.width,F={left:0,top:0,right:k,bottom:x},B={left:-_,top:-L,right:D-_,bottom:O-L},z=T.htmlRegion,W="visible",V="visibleFirst";"scroll"!==z&&z!==V&&(z=W);var H=z===V,G=Km(B,f),Y=Km(F,f),J=z===W?Y:G,Q=H?Y:J;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var q=d.getBoundingClientRect();d.style.left=y,d.style.top=C,d.style.right=w,d.style.bottom=S,d.style.overflow=I,null===(l=d.parentElement)||void 0===l||l.removeChild(E);var X=qm(Math.round(j/parseFloat(m)*1e3)/1e3),K=qm(Math.round(N/parseFloat(v)*1e3)/1e3);if(0===X||0===K||Cg(n)&&!Hm(n))return;var Z=T.offset,$=T.targetOffset,ee=nu($m(R,Z),2),te=ee[0],ne=ee[1],ie=nu($m(c,$),2),re=ie[0],ae=ie[1];c.x-=re,c.y-=ae;var oe=nu(T.points||[],2),se=oe[0],le=ev(oe[1]),ce=ev(se),ue=tv(c,le),de=tv(R,ce),fe=Tl({},T),he=ue.x-de.x+te,pe=ue.y-de.y+ne;function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J,i=R.x+e,r=R.y+t,a=i+j,o=r+N,s=Math.max(i,n.left),l=Math.max(r,n.top),c=Math.min(a,n.right),u=Math.min(o,n.bottom);return Math.max(0,(c-s)*(u-l))}var ge,me,ve,be,ye=st(he,pe),Ce=st(he,pe,Y),we=tv(c,["t","l"]),Se=tv(R,["t","l"]),Ie=tv(c,["b","r"]),Te=tv(R,["b","r"]),Ee=T.overflow||{},Me=Ee.adjustX,Re=Ee.adjustY,Ae=Ee.shiftX,ke=Ee.shiftY,xe=function(e){return"boolean"===typeof e?e:e>=0};function lt(){ge=R.y+pe,me=ge+N,ve=R.x+he,be=ve+j}lt();var De=xe(Re),Oe=ce[0]===le[0];if(De&&"t"===ce[0]&&(me>Q.bottom||h.current.bt)){var Le=pe;Oe?Le-=N-P:Le=we.y-Te.y-ne;var _e=st(he,Le),Ne=st(he,Le,Y);_e>ye||_e===ye&&(!H||Ne>=Ce)?(h.current.bt=!0,pe=Le,ne=-ne,fe.points=[nv(ce,0),nv(le,0)]):h.current.bt=!1}if(De&&"b"===ce[0]&&(ge<Q.top||h.current.tb)){var je=pe;Oe?je+=N-P:je=Ie.y-Se.y-ne;var Pe=st(he,je),Ue=st(he,je,Y);Pe>ye||Pe===ye&&(!H||Ue>=Ce)?(h.current.tb=!0,pe=je,ne=-ne,fe.points=[nv(ce,0),nv(le,0)]):h.current.tb=!1}var Fe=xe(Me),Be=ce[1]===le[1];if(Fe&&"l"===ce[1]&&(be>Q.right||h.current.rl)){var ze=he;Be?ze-=j-U:ze=we.x-Te.x-te;var We=st(ze,pe),Ve=st(ze,pe,Y);We>ye||We===ye&&(!H||Ve>=Ce)?(h.current.rl=!0,he=ze,te=-te,fe.points=[nv(ce,1),nv(le,1)]):h.current.rl=!1}if(Fe&&"r"===ce[1]&&(ve<Q.left||h.current.lr)){var He=he;Be?He+=j-U:He=Ie.x-Se.x-te;var Ge=st(He,pe),Ye=st(He,pe,Y);Ge>ye||Ge===ye&&(!H||Ye>=Ce)?(h.current.lr=!0,he=He,te=-te,fe.points=[nv(ce,1),nv(le,1)]):h.current.lr=!1}lt();var Je=!0===Ae?0:Ae;"number"===typeof Je&&(ve<Y.left&&(he-=ve-Y.left-te,c.x+U<Y.left+Je&&(he+=c.x-Y.left+U-Je)),be>Y.right&&(he-=be-Y.right-te,c.x>Y.right-Je&&(he+=c.x-Y.right+Je)));var Qe=!0===ke?0:ke;"number"===typeof Qe&&(ge<Y.top&&(pe-=ge-Y.top-ne,c.y+P<Y.top+Qe&&(pe+=c.y-Y.top+P-Qe)),me>Y.bottom&&(pe-=me-Y.bottom-ne,c.y>Y.bottom-Qe&&(pe+=c.y-Y.bottom+Qe)));var qe=R.x+he,Xe=qe+j,Ke=R.y+pe,Ze=Ke+N,$e=c.x,et=$e+U,tt=c.y,nt=tt+P,it=(Math.max(qe,$e)+Math.min(Xe,et))/2-qe,rt=(Math.max(Ke,tt)+Math.min(Ze,nt))/2-Ke;null===s||void 0===s||s(t,fe);var at=q.right-R.x-(he+R.width),ot=q.bottom-R.y-(pe+R.height);u({ready:!0,offsetX:he/X,offsetY:pe/K,offsetR:at/X,offsetB:ot/K,arrowX:it/X,arrowY:rt/K,scaleX:X,scaleY:K,align:fe})}})),g=function(){u((function(e){return Tl(Tl({},e),{},{ready:!1})}))};return sd(g,[r]),sd((function(){e||g()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&p()}))}]}(Ie,oe,U?Ue:ue,x,O,L,B),We=nu(ze,11),Ve=We[0],He=We[1],Ge=We[2],Ye=We[3],Je=We[4],Qe=We[5],qe=We[6],Xe=We[7],Ke=We[8],Ze=We[9],$e=We[10],et=function(e,t,n,r){return i.useMemo((function(){var i=Vm(null!==n&&void 0!==n?n:t),a=Vm(null!==r&&void 0!==r?r:t),o=new Set(i),s=new Set(a);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]}),[e,t,n,r])}($,l,c,u),tt=nu(et,2),nt=tt[0],it=tt[1],rt=nt.has("click"),at=it.has("click")||it.has("contextMenu"),ot=Vf((function(){Oe||$e()}));!function(e,t,n,i,r){sd((function(){if(e&&t&&n){var a=n,o=Qm(t),s=Qm(a),l=Jm(a),c=new Set([l].concat(ru(o),ru(s)));function u(){i(),r()}return c.forEach((function(e){e.addEventListener("scroll",u,{passive:!0})})),l.addEventListener("resize",u,{passive:!0}),i(),function(){c.forEach((function(e){e.removeEventListener("scroll",u),l.removeEventListener("resize",u)}))}}}),[e,t,n])}(Ie,ue,oe,ot,(function(){Ee.current&&U&&at&&xe(!1)})),sd((function(){ot()}),[Ue,x]),sd((function(){!Ie||null!==O&&void 0!==O&&O[x]||ot()}),[JSON.stringify(L)]);var st=i.useMemo((function(){var e=function(e,t,n,i){for(var r=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s,l=a[o];if(Gm(null===(s=e[l])||void 0===s?void 0:s.points,r,i))return"".concat(t,"-placement-").concat(l)}return""}(O,a,Ze,U);return Bl()(e,null===j||void 0===j?void 0:j(Ze))}),[Ze,j,O,a,U]);i.useImperativeHandle(n,(function(){return{nativeElement:fe.current,forceAlign:ot}}));var lt=nu(i.useState(0),2),ct=lt[0],ut=lt[1],dt=nu(i.useState(0),2),ft=dt[0],ht=dt[1],pt=function(){if(N&&ue){var e=ue.getBoundingClientRect();ut(e.width),ht(e.height)}};function gt(e,t,n,i){me[e]=function(r){var a;null===i||void 0===i||i(r),xe(t,n);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];null===(a=ge[e])||void 0===a||a.call.apply(a,[ge,r].concat(s))}}sd((function(){Ne&&($e(),Ne(),je(null))}),[Ne]),(rt||at)&&(me.onClick=function(e){var t;Ee.current&&at?xe(!1):!Ee.current&&rt&&(Be(e),xe(!0));for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];null===(t=ge.onClick)||void 0===t||t.call.apply(t,[ge,e].concat(i))}),function(e,t,n,r,a,o,s,l){var c=i.useRef(e),u=i.useRef(!1);c.current!==e&&(u.current=!0,c.current=e),i.useEffect((function(){var e=mm((function(){u.current=!1}));return function(){mm.cancel(e)}}),[e]),i.useEffect((function(){if(t&&r&&(!a||o)){var e=function(){var e=!1;return[function(t){var n=t.target;e=s(n)},function(t){var n=t.target;u.current||!c.current||e||s(n)||l(!1)}]},i=nu(e(),2),d=i[0],f=i[1],h=nu(e(),2),p=h[0],g=h[1],m=Jm(r);m.addEventListener("mousedown",d,!0),m.addEventListener("click",f,!0),m.addEventListener("contextmenu",f,!0);var v=Jp(n);return v&&(v.addEventListener("mousedown",p,!0),v.addEventListener("click",g,!0),v.addEventListener("contextmenu",g,!0)),function(){m.removeEventListener("mousedown",d,!0),m.removeEventListener("click",f,!0),m.removeEventListener("contextmenu",f,!0),v&&(v.removeEventListener("mousedown",p,!0),v.removeEventListener("click",g,!0),v.removeEventListener("contextmenu",g,!0))}}}),[t,n,r,a,o])}(Ie,at,ue,oe,C,S,ve,xe);var mt,vt,bt=nt.has("hover"),yt=it.has("hover");bt&&(gt("onMouseEnter",!0,g,(function(e){Be(e)})),gt("onPointerEnter",!0,g,(function(e){Be(e)})),mt=function(e){(Ie||Oe)&&null!==oe&&void 0!==oe&&oe.contains(e.target)&&xe(!0,g)},U&&(me.onMouseMove=function(e){var t;null===(t=ge.onMouseMove)||void 0===t||t.call(ge,e)})),yt&&(gt("onMouseLeave",!1,v),gt("onPointerLeave",!1,v),vt=function(){xe(!1,v)}),nt.has("focus")&&gt("onFocus",!0,b),it.has("focus")&&gt("onBlur",!1,y),nt.has("contextMenu")&&(me.onContextMenu=function(e){var t;Ee.current&&it.has("contextMenu")?xe(!1):(Be(e),xe(!0)),e.preventDefault();for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];null===(t=ge.onContextMenu)||void 0===t||t.call.apply(t,[ge,e].concat(i))}),Q&&(me.className=Bl()(ge.className,Q));var Ct=Tl(Tl({},ge),me),wt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){X[e]&&(wt[e]=function(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null===(t=Ct[e])||void 0===t||t.call.apply(t,[Ct].concat(i)),X[e].apply(X,i)})}));var St=i.cloneElement(pe,Tl(Tl({},Ct),wt)),It={x:Qe,y:qe},Tt=z?Tl({},!0!==z?z:{}):null;return i.createElement(i.Fragment,null,i.createElement(xg,{disabled:!Ie,ref:he,onResize:function(){pt(),ot()}},i.createElement(zm,{getTriggerDOMNode:q},St)),i.createElement(Wm.Provider,{value:ie},i.createElement(Fm,{portal:e,ref:le,prefixCls:a,popup:R,className:Bl()(A,st),style:k,target:ue,onMouseEnter:mt,onMouseLeave:vt,onPointerEnter:mt,zIndex:_,open:Ie,keepDom:Oe,fresh:P,onClick:F,mask:C,motion:be,maskMotion:ye,onVisibleChanged:function(e){Le(!1),$e(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise((function(e){pt(),je((function(){return e}))}))},forceRender:T,autoDestroy:K,getPopupContainer:I,align:Ze,arrow:Tt,arrowPos:It,ready:Ve,offsetX:He,offsetY:Ge,offsetR:Ye,offsetB:Je,onAlign:ot,stretch:N,targetWidth:ct/Xe,targetHeight:ft/Ke})))}));return t}(bg);var av={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=av.F1&&t<=av.F12)return!1;switch(t){case av.ALT:case av.CAPS_LOCK:case av.CONTEXT_MENU:case av.CTRL:case av.DOWN:case av.END:case av.ESC:case av.HOME:case av.INSERT:case av.LEFT:case av.MAC_FF_META:case av.META:case av.NUMLOCK:case av.NUM_CENTER:case av.PAGE_DOWN:case av.PAGE_UP:case av.PAUSE:case av.PRINT_SCREEN:case av.RIGHT:case av.SHIFT:case av.UP:case av.WIN_KEY:case av.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=av.ZERO&&e<=av.NINE)return!0;if(e>=av.NUM_ZERO&&e<=av.NUM_MULTIPLY)return!0;if(e>=av.A&&e<=av.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case av.SPACE:case av.QUESTION_MARK:case av.NUM_PLUS:case av.NUM_MINUS:case av.NUM_PERIOD:case av.NUM_DIVISION:case av.SEMICOLON:case av.DASH:case av.EQUALS:case av.COMMA:case av.PERIOD:case av.SLASH:case av.APOSTROPHE:case av.SINGLE_QUOTE:case av.OPEN_SQUARE_BRACKET:case av.BACKSLASH:case av.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const ov=av;var sv=ov.ESC,lv=ov.TAB;var cv=(0,i.forwardRef)((function(e,t){var n=e.overlay,r=e.arrow,a=e.prefixCls,o=(0,i.useMemo)((function(){return"function"===typeof n?n():n}),[n]),s=qf(t,null===o||void 0===o?void 0:o.ref);return i.createElement(i.Fragment,null,r&&i.createElement("div",{className:"".concat(a,"-arrow")}),i.cloneElement(o,{ref:Kf(o)?s:void 0}))}));const uv=cv;var dv={adjustX:1,adjustY:1},fv=[0,0];const hv={topLeft:{points:["bl","tl"],overflow:dv,offset:[0,-4],targetOffset:fv},top:{points:["bc","tc"],overflow:dv,offset:[0,-4],targetOffset:fv},topRight:{points:["br","tr"],overflow:dv,offset:[0,-4],targetOffset:fv},bottomLeft:{points:["tl","bl"],overflow:dv,offset:[0,4],targetOffset:fv},bottom:{points:["tc","bc"],overflow:dv,offset:[0,4],targetOffset:fv},bottomRight:{points:["tr","br"],overflow:dv,offset:[0,4],targetOffset:fv}};var pv=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function gv(e,t){var n,r=e.arrow,a=void 0!==r&&r,o=e.prefixCls,s=void 0===o?"rc-dropdown":o,l=e.transitionName,c=e.animation,u=e.align,d=e.placement,f=void 0===d?"bottomLeft":d,h=e.placements,p=void 0===h?hv:h,g=e.getPopupContainer,m=e.showAction,v=e.hideAction,b=e.overlayClassName,y=e.overlayStyle,C=e.visible,w=e.trigger,S=void 0===w?["hover"]:w,I=e.autoFocus,T=e.overlay,E=e.children,M=e.onVisibleChange,R=jl(e,pv),A=nu(i.useState(),2),k=A[0],x=A[1],D="visible"in e?C:k,O=i.useRef(null),L=i.useRef(null),_=i.useRef(null);i.useImperativeHandle(t,(function(){return O.current}));var N=function(e){x(e),null===M||void 0===M||M(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,a=e.autoFocus,o=e.overlayRef,s=i.useRef(!1),l=function(){var e,i;t&&(null===(e=n.current)||void 0===e||null===(i=e.focus)||void 0===i||i.call(e),null===r||void 0===r||r(!1))},c=function(){var e;return!(null===(e=o.current)||void 0===e||!e.focus)&&(o.current.focus(),s.current=!0,!0)},u=function(e){switch(e.keyCode){case sv:l();break;case lv:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};i.useEffect((function(){return t?(window.addEventListener("keydown",u),a&&mm(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}}),[t])}({visible:D,triggerRef:_,onVisibleChange:N,autoFocus:I,overlayRef:L});var j=function(){return i.createElement(uv,{ref:L,overlay:T,prefixCls:s,arrow:a})},P=i.cloneElement(E,{className:Bl()(null===(n=E.props)||void 0===n?void 0:n.className,D&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(s,"-open")}()),ref:Kf(E)?qf(_,E.ref):void 0}),U=v;return U||-1===S.indexOf("contextMenu")||(U=["click"]),i.createElement(rv,Sl({builtinPlacements:p},R,{prefixCls:s,ref:O,popupClassName:Bl()(b,wi({},"".concat(s,"-show-arrow"),a)),popupStyle:y,action:S,showAction:m,hideAction:U,popupPlacement:f,popupAlign:u,popupTransitionName:l,popupAnimation:c,popupVisible:D,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof T?j:j(),onPopupVisibleChange:N,onPopupClick:function(t){var n=e.onOverlayClick;x(!1),n&&n(t)},getPopupContainer:g}),P)}const mv=i.forwardRef(gv);function vv(e,t){var n=Tl({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}const bv=i.createContext(void 0),yv=100,Cv={Modal:yv,Drawer:yv,Popover:yv,Popconfirm:yv,Tooltip:yv,Tour:yv},wv={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Sv(e,t){const[,n]=fp(),r=i.useContext(bv),a=function(e){return e in Cv}(e);if(void 0!==t)return[t,t];let o=null!==r&&void 0!==r?r:0;return a?(o+=(r?0:n.zIndexPopupBase)+Cv[e],o=Math.min(o,n.zIndexPopupBase+1e3)):o+=wv[e],[void 0===r?t:o,o]}function Iv(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:i}=e,r=t/2,a=r,o=1*i/Math.sqrt(2),s=r-i*(1-1/Math.sqrt(2)),l=r-n*(1/Math.sqrt(2)),c=i*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*r-l,d=c,f=2*r-o,h=s,p=2*r-0,g=a,m=r*Math.sqrt(2)+i*(Math.sqrt(2)-2),v=i*(Math.sqrt(2)-1),b="polygon(".concat(v,"px 100%, 50% ").concat(v,"px, ").concat(2*r-v,"px 100%, ").concat(v,"px 100%)");return{arrowShadowWidth:m,arrowPath:"path('M ".concat(0," ").concat(a," A ").concat(i," ").concat(i," 0 0 0 ").concat(o," ").concat(s," L ").concat(l," ").concat(c," A ").concat(n," ").concat(n," 0 0 1 ").concat(u," ").concat(d," L ").concat(f," ").concat(h," A ").concat(i," ").concat(i," 0 0 0 ").concat(p," ").concat(g," Z')"),arrowPolygon:b}}const Tv=(e,t,n)=>{const{sizePopupArrow:i,arrowPolygon:r,arrowPath:a,arrowShadowWidth:o,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:i,height:i,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:i,height:l(i).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[r,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat($u(s)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Ev=8;function Mv(e){const{contentRadius:t,limitVerticalRadius:n}=e,i=t>12?t+2:12;return{arrowOffsetHorizontal:i,arrowOffsetVertical:n?Ev:i}}function Rv(e,t){return e?t:{}}function Av(e,t,n){const{componentCls:i,boxShadowPopoverArrow:r,arrowOffsetVertical:a,arrowOffsetHorizontal:o}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(i,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Tv(e,t,r)),{"&:before":{background:t}})]},Rv(!!l.top,{[["&-placement-top > ".concat(i,"-arrow"),"&-placement-topLeft > ".concat(i,"-arrow"),"&-placement-topRight > ".concat(i,"-arrow")].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(i,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},["&-placement-topLeft > ".concat(i,"-arrow")]:{left:{_skip_check_:!0,value:o}},["&-placement-topRight > ".concat(i,"-arrow")]:{right:{_skip_check_:!0,value:o}}})),Rv(!!l.bottom,{[["&-placement-bottom > ".concat(i,"-arrow"),"&-placement-bottomLeft > ".concat(i,"-arrow"),"&-placement-bottomRight > ".concat(i,"-arrow")].join(",")]:{top:s,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(i,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},["&-placement-bottomLeft > ".concat(i,"-arrow")]:{left:{_skip_check_:!0,value:o}},["&-placement-bottomRight > ".concat(i,"-arrow")]:{right:{_skip_check_:!0,value:o}}})),Rv(!!l.left,{[["&-placement-left > ".concat(i,"-arrow"),"&-placement-leftTop > ".concat(i,"-arrow"),"&-placement-leftBottom > ".concat(i,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(i,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(i,"-arrow")]:{top:a},["&-placement-leftBottom > ".concat(i,"-arrow")]:{bottom:a}})),Rv(!!l.right,{[["&-placement-right > ".concat(i,"-arrow"),"&-placement-rightTop > ".concat(i,"-arrow"),"&-placement-rightBottom > ".concat(i,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(i,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(i,"-arrow")]:{top:a},["&-placement-rightBottom > ".concat(i,"-arrow")]:{bottom:a}}))}}const kv={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},xv={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Dv=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ov(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:i,offset:r,borderRadius:a,visibleFirst:o}=e,s=t/2,l={};return Object.keys(kv).forEach((e=>{const c=i&&xv[e]||kv[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,Dv.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-s-r;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+r;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-r;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+r}const d=Mv({contentRadius:a,limitVerticalRadius:!0});if(i)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=-d.arrowOffsetHorizontal-s;break;case"leftBottom":case"rightBottom":u.offset[1]=d.arrowOffsetHorizontal+s}u.overflow=function(e,t,n,i){if(!1===i)return{adjustX:!1,adjustY:!1};const r=i&&"object"===typeof i?i:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.arrowOffsetHorizontal+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.arrowOffsetVertical+n,a.shiftX=!0,a.adjustX=!0}const o=Object.assign(Object.assign({},a),r);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}(e,d,t,n),o&&(u.htmlRegion="visibleFirst")})),l}function Lv(){}const _v=i.createContext({}),Nv=()=>{const e=()=>{};return e.deprecated=Lv,e},jv=(0,i.createContext)(void 0);const Pv={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const Uv={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Fv={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Bv={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Uv),timePickerLocale:Object.assign({},Fv)},zv="${label} is not a valid ${type}",Wv={locale:"en",Pagination:Pv,DatePicker:Bv,TimePicker:Fv,Calendar:Bv,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:zv,method:zv,array:zv,object:zv,number:zv,date:zv,boolean:zv,integer:zv,float:zv,regexp:zv,email:zv,url:zv,hex:zv},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};let Vv=Object.assign({},Wv.Modal),Hv=[];const Gv=()=>Hv.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),Wv.Modal);function Yv(){return Vv}const Jv=(0,i.createContext)(void 0);const Qv=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;i.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return Hv.push(t),Vv=Gv(),()=>{Hv=Hv.filter((e=>e!==t)),Vv=Gv()}}Vv=Object.assign({},Wv.Modal)}(t&&t.Modal);return e}),[t]);const a=i.useMemo((()=>Object.assign(Object.assign({},t),{exist:!0})),[t]);return i.createElement(Jv.Provider,{value:a},n)},qv="-ant-".concat(Date.now(),"-").concat(Math.random());function Xv(e,t){const n=function(e,t){const n={},i=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},r=(e,t)=>{const r=new Yh(e),a=Uh(r.toRgbString());n["".concat(t,"-color")]=i(r),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=r.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){r(t.primaryColor,"primary");const e=new Yh(t.primaryColor),a=Uh(e.toRgbString());a.forEach(((e,t)=>{n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=i(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=i(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=i(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=i(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=i(e,(e=>e.setAlpha(.12*e.getAlpha())));const o=new Yh(a[0]);n["primary-color-active-deprecated-f-30"]=i(o,(e=>e.setAlpha(.3*e.getAlpha()))),n["primary-color-active-deprecated-d-02"]=i(o,(e=>e.darken(2)))}t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info");const a=Object.keys(n).map((t=>"--".concat(e,"-").concat(t,": ").concat(n[t],";")));return"\n  :root {\n    ".concat(a.join("\n"),"\n  }\n  ").trim()}(e,t);ou()&&bu(n,"".concat(qv,"-dynamic-theme"))}const Kv=i.createContext(!1),Zv=e=>{let{children:t,disabled:n}=e;const r=i.useContext(Kv);return i.createElement(Kv.Provider,{value:null!==n&&void 0!==n?n:r},t)},$v=Kv,eb=i.createContext(void 0),tb=e=>{let{children:t,size:n}=e;const r=i.useContext(eb);return i.createElement(eb.Provider,{value:n||r},t)},nb=eb;const ib=function(){return{componentDisabled:(0,i.useContext)($v),componentSize:(0,i.useContext)(nb)}},rb=Object.assign({},r),{useId:ab}=rb,ob="undefined"===typeof ab?()=>"":ab;function sb(e){const{children:t}=e,[,n]=fp(),{motion:r}=n,a=i.useRef(!1);return a.current=a.current||!1===r,a.current?i.createElement(Pg,{motion:r},t):t}const lb=()=>null;var cb=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const ub=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let db,fb,hb,pb;function gb(){return db||"ant"}function mb(){return fb||qc}const vb=()=>({getPrefixCls:(e,t)=>t||(e?"".concat(gb(),"-").concat(e):gb()),getIconPrefixCls:mb,getRootPrefixCls:()=>db||gb(),getTheme:()=>hb,holderRender:pb}),bb=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:a,anchor:o,form:s,locale:l,componentSize:c,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:g,legacyLocale:m,parentContext:v,iconPrefixCls:b,theme:y,componentDisabled:C,segmented:w,statistic:S,spin:I,calendar:T,carousel:E,cascader:M,collapse:R,typography:A,checkbox:k,descriptions:x,divider:D,drawer:O,skeleton:L,steps:_,image:N,layout:j,list:P,mentions:U,modal:F,progress:B,result:z,slider:W,breadcrumb:V,menu:H,pagination:G,input:Y,textArea:J,empty:Q,badge:q,radio:X,rate:K,switch:Z,transfer:$,avatar:ee,message:te,tag:ne,table:ie,card:re,tabs:ae,timeline:oe,timePicker:se,upload:le,notification:ce,tree:ue,colorPicker:de,datePicker:fe,rangePicker:he,flex:pe,wave:ge,dropdown:me,warning:ve,tour:be}=e,ye=i.useCallback(((t,n)=>{const{prefixCls:i}=e;if(n)return n;const r=i||v.getPrefixCls("");return t?"".concat(r,"-").concat(t):r}),[v.getPrefixCls,e.prefixCls]),Ce=b||v.iconPrefixCls||qc,we=n||v.csp;Mp(Ce,we);const Se=function(e,t,n){var i;Nv("ConfigProvider");const r=e||{},a=!1!==r.inherit&&t?t:Object.assign(Object.assign({},tp),{hashed:null!==(i=null===t||void 0===t?void 0:t.hashed)&&void 0!==i?i:tp.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),o=ob();return yu((()=>{var i,s;if(!e)return t;const l=Object.assign({},a.components);Object.keys(e.components||{}).forEach((t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])}));const c="css-var-".concat(o.replace(/:/g,"")),u=(null!==(i=r.cssVar)&&void 0!==i?i:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===n||void 0===n?void 0:n.prefixCls},"object"===typeof a.cssVar?a.cssVar:{}),"object"===typeof r.cssVar?r.cssVar:{}),{key:"object"===typeof r.cssVar&&(null===(s=r.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},a),r),{token:Object.assign(Object.assign({},a.token),r.token),components:l,cssVar:u})}),[r,a],((e,t)=>e.some(((e,n)=>{const i=t[n];return!Ru(e,i,!0)}))))}(y,v.theme,{prefixCls:ye("")});const Ie={csp:we,autoInsertSpaceInButton:r,alert:a,anchor:o,locale:l||m,direction:u,space:d,virtual:f,popupMatchSelectWidth:null!==p&&void 0!==p?p:h,popupOverflow:g,getPrefixCls:ye,iconPrefixCls:Ce,theme:Se,segmented:w,statistic:S,spin:I,calendar:T,carousel:E,cascader:M,collapse:R,typography:A,checkbox:k,descriptions:x,divider:D,drawer:O,skeleton:L,steps:_,image:N,input:Y,textArea:J,layout:j,list:P,mentions:U,modal:F,progress:B,result:z,slider:W,breadcrumb:V,menu:H,pagination:G,empty:Q,badge:q,radio:X,rate:K,switch:Z,transfer:$,avatar:ee,message:te,tag:ne,table:ie,card:re,tabs:ae,timeline:oe,timePicker:se,upload:le,notification:ce,tree:ue,colorPicker:de,datePicker:fe,rangePicker:he,flex:pe,wave:ge,dropdown:me,warning:ve,tour:be},Te=Object.assign({},v);Object.keys(Ie).forEach((e=>{void 0!==Ie[e]&&(Te[e]=Ie[e])})),ub.forEach((t=>{const n=e[t];n&&(Te[t]=n)}));const Ee=yu((()=>Te),Te,((e,t)=>{const n=Object.keys(e),i=Object.keys(t);return n.length!==i.length||n.some((n=>e[n]!==t[n]))})),Me=i.useMemo((()=>({prefixCls:Ce,csp:we})),[Ce,we]);let Re=i.createElement(i.Fragment,null,i.createElement(lb,{dropdownMatchSelectWidth:h}),t);const Ae=i.useMemo((()=>{var e,t,n,i;return rh((null===(e=Wv.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Ee.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(i=Ee.form)||void 0===i?void 0:i.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})}),[Ee,null===s||void 0===s?void 0:s.validateMessages]);Object.keys(Ae).length>0&&(Re=i.createElement(jv.Provider,{value:Ae},Re)),l&&(Re=i.createElement(Qv,{locale:l,_ANT_MARK__:"internalMark"},Re)),(Ce||we)&&(Re=i.createElement(Gp.Provider,{value:Me},Re)),c&&(Re=i.createElement(tb,{size:c},Re)),Re=i.createElement(sb,null,Re);const ke=i.useMemo((()=>{const e=Se||{},{algorithm:t,token:n,components:i,cssVar:r}=e,a=cb(e,["algorithm","token","components","cssVar"]),o=t&&(!Array.isArray(t)||t.length>0)?Wu(t):ep,s={};Object.entries(i||{}).forEach((e=>{let[t,n]=e;const i=Object.assign({},n);"algorithm"in i&&(!0===i.algorithm?i.theme=o:(Array.isArray(i.algorithm)||"function"===typeof i.algorithm)&&(i.theme=Wu(i.algorithm)),delete i.algorithm),s[t]=i}));const l=Object.assign(Object.assign({},Gh),n);return Object.assign(Object.assign({},a),{theme:o,token:l,components:s,override:Object.assign({override:l},s),cssVar:r})}),[Se]);return y&&(Re=i.createElement(np.Provider,{value:ke},Re)),Ee.warning&&(Re=i.createElement(_v.Provider,{value:Ee.warning},Re)),void 0!==C&&(Re=i.createElement(Zv,{disabled:C},Re)),i.createElement(Xc.Provider,{value:Ee},Re)},yb=e=>{const t=i.useContext(Xc),n=i.useContext(Jv);return i.createElement(bb,Object.assign({parentContext:t,legacyLocale:n},e))};yb.ConfigContext=Xc,yb.SizeContext=nb,yb.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:i,holderRender:r}=e;void 0!==t&&(db=t),void 0!==n&&(fb=n),"holderRender"in e&&(pb=r),i&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(i)?hb=i:Xv(gb(),i))},yb.useConfig=ib,Object.defineProperty(yb,"SizeContext",{get:()=>nb});const Cb=yb;function wb(e){return t=>i.createElement(Cb,{theme:{token:{motion:!1,zIndexPopupBase:0}}},i.createElement(e,Object.assign({},t)))}const Sb=(e,t,n,r)=>wb((a=>{const{prefixCls:o,style:s}=a,l=i.useRef(null),[c,u]=i.useState(0),[d,f]=i.useState(0),[h,p]=Yf(!1,{value:a.open}),{getPrefixCls:g}=i.useContext(Xc),m=g(t||"select",o);i.useEffect((()=>{if(p(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;u(t.offsetHeight+8),f(t.offsetWidth)})),t=setInterval((()=>{var i;const r=n?".".concat(n(m)):".".concat(m,"-dropdown"),a=null===(i=l.current)||void 0===i?void 0:i.querySelector(r);a&&(clearInterval(t),e.observe(a))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]);let v=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},s),{margin:0}),open:h,visible:h,getPopupContainer:()=>l.current});r&&(v=r(v));const b={paddingBottom:c,position:"relative",minWidth:d};return i.createElement("div",{ref:l,style:b},i.createElement(e,Object.assign({},v)))}));function Ib(e){return e&&i.isValidElement(e)&&e.type===i.Fragment}const Tb=(e,t,n)=>i.isValidElement(e)?i.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t;function Eb(e,t){return Tb(e,e,t)}var Mb=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Rb=void 0;function Ab(e,t){var n=e.prefixCls,r=e.invalidate,a=e.item,o=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,f=e.style,h=e.children,p=e.display,g=e.order,m=e.component,v=void 0===m?"div":m,b=jl(e,Mb),y=s&&!p;function C(e){c(u,e)}i.useEffect((function(){return function(){C(null)}}),[]);var w,S=o&&a!==Rb?o(a):h;r||(w={opacity:y?0:1,height:y?0:Rb,overflowY:y?"hidden":Rb,order:s?g:Rb,pointerEvents:y?"none":Rb,position:y?"absolute":Rb});var I={};y&&(I["aria-hidden"]=!0);var T=i.createElement(v,Sl({className:Bl()(!r&&n,d),style:Tl(Tl({},w),f)},I,b,{ref:t}),S);return s&&(T=i.createElement(xg,{onResize:function(e){C(e.offsetWidth)},disabled:l},T)),T}var kb=i.forwardRef(Ab);kb.displayName="Item";const xb=kb;function Db(){var e=i.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)mm(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,c.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function Ob(e,t){var n=nu(i.useState(t),2),r=n[0],a=n[1];return[r,Vf((function(t){e((function(){a(t)}))}))]}var Lb=i.createContext(null),_b=["component"],Nb=["className"],jb=["className"],Pb=function(e,t){var n=i.useContext(Lb);if(!n){var r=e.component,a=void 0===r?"div":r,o=jl(e,_b);return i.createElement(a,Sl({},o,{ref:t}))}var s=n.className,l=jl(n,Nb),c=e.className,u=jl(e,jb);return i.createElement(Lb.Provider,{value:null},i.createElement(xb,Sl({ref:t,className:Bl()(s,c)},l,u)))},Ub=i.forwardRef(Pb);Ub.displayName="RawItem";const Fb=Ub;var Bb=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],zb="responsive",Wb="invalidate";function Vb(e){return"+ ".concat(e.length," ...")}function Hb(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,a=e.data,o=void 0===a?[]:a,s=e.renderItem,l=e.renderRawItem,c=e.itemKey,u=e.itemWidth,d=void 0===u?10:u,f=e.ssr,h=e.style,p=e.className,g=e.maxCount,m=e.renderRest,v=e.renderRawRest,b=e.suffix,y=e.component,C=void 0===y?"div":y,w=e.itemComponent,S=e.onVisibleChange,I=jl(e,Bb),T="full"===f,E=Db(),M=nu(Ob(E,null),2),R=M[0],A=M[1],k=R||0,x=nu(Ob(E,new Map),2),D=x[0],O=x[1],L=nu(Ob(E,0),2),_=L[0],N=L[1],j=nu(Ob(E,0),2),P=j[0],U=j[1],F=nu(Ob(E,0),2),B=F[0],z=F[1],W=nu((0,i.useState)(null),2),V=W[0],H=W[1],G=nu((0,i.useState)(null),2),Y=G[0],J=G[1],Q=i.useMemo((function(){return null===Y&&T?Number.MAX_SAFE_INTEGER:Y||0}),[Y,R]),q=nu((0,i.useState)(!1),2),X=q[0],K=q[1],Z="".concat(r,"-item"),$=Math.max(_,P),ee=g===zb,te=o.length&&ee,ne=g===Wb,ie=te||"number"===typeof g&&o.length>g,re=(0,i.useMemo)((function(){var e=o;return te?e=null===R&&T?o:o.slice(0,Math.min(o.length,k/d)):"number"===typeof g&&(e=o.slice(0,g)),e}),[o,d,R,g,te]),ae=(0,i.useMemo)((function(){return te?o.slice(Q+1):o.slice(re.length)}),[o,re,te,Q]),oe=(0,i.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),se=(0,i.useCallback)(s||function(e){return e},[s]);function le(e,t,n){(Y!==e||void 0!==t&&t!==V)&&(J(e),n||(K(e<o.length-1),null===S||void 0===S||S(e)),void 0!==t&&H(t))}function ce(e,t){O((function(n){var i=new Map(n);return null===t?i.delete(e):i.set(e,t),i}))}function ue(e){return D.get(oe(re[e],e))}sd((function(){if(k&&"number"===typeof $&&re){var e=B,t=re.length,n=t-1;if(!t)return void le(0,null);for(var i=0;i<t;i+=1){var r=ue(i);if(T&&(r=r||0),void 0===r){le(i-1,void 0,!0);break}if(e+=r,0===n&&e<=k||i===n-1&&e+ue(n)<=k){le(n,null);break}if(e+$>k){le(i-1,e-r-B+P);break}}b&&ue(0)+B>k&&H(null)}}),[k,D,P,B,oe,re]);var de=X&&!!ae.length,fe={};null!==V&&te&&(fe={position:"absolute",left:V,top:0});var he,pe={prefixCls:Z,responsive:te,component:w,invalidate:ne},ge=l?function(e,t){var n=oe(e,t);return i.createElement(Lb.Provider,{key:n,value:Tl(Tl({},pe),{},{order:t,item:e,itemKey:n,registerSize:ce,display:t<=Q})},l(e,t))}:function(e,t){var n=oe(e,t);return i.createElement(xb,Sl({},pe,{order:t,key:n,item:e,renderItem:se,itemKey:n,registerSize:ce,display:t<=Q}))},me={order:de?Q:Number.MAX_SAFE_INTEGER,className:"".concat(Z,"-rest"),registerSize:function(e,t){U(t),N(P)},display:de};if(v)v&&(he=i.createElement(Lb.Provider,{value:Tl(Tl({},pe),me)},v(ae)));else{var ve=m||Vb;he=i.createElement(xb,Sl({},pe,me),"function"===typeof ve?ve(ae):ve)}var be=i.createElement(C,Sl({className:Bl()(!ne&&r,p),style:h,ref:t},I),re.map(ge),ie?he:null,b&&i.createElement(xb,Sl({},pe,{responsive:ee,responsiveDisabled:!te,order:Q,className:"".concat(Z,"-suffix"),registerSize:function(e,t){z(t)},display:!0,style:fe}),b));return ee&&(be=i.createElement(xg,{onResize:function(e,t){A(t.clientWidth)},disabled:!te},be)),be}var Gb=i.forwardRef(Hb);Gb.displayName="Overflow",Gb.Item=Fb,Gb.RESPONSIVE=zb,Gb.INVALIDATE=Wb;const Yb=Gb;var Jb=i.createContext(null);function Qb(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function qb(e){return Qb(i.useContext(Jb),e)}var Xb=["children","locked"],Kb=i.createContext(null);function Zb(e){var t=e.children,n=e.locked,r=jl(e,Xb),a=i.useContext(Kb),o=yu((function(){return function(e,t){var n=Tl({},e);return Object.keys(t).forEach((function(e){var i=t[e];void 0!==i&&(n[e]=i)})),n}(a,r)}),[a,r],(function(e,t){return!n&&(e[0]!==t[0]||!Ru(e[1],t[1],!0))}));return i.createElement(Kb.Provider,{value:o},t)}var $b=[],ey=i.createContext(null);function ty(){return i.useContext(ey)}var ny=i.createContext($b);function iy(e){var t=i.useContext(ny);return i.useMemo((function(){return void 0!==e?[].concat(ru(t),[e]):t}),[t,e])}var ry=i.createContext(null);const ay=i.createContext({});function oy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Hm(e)){var n=e.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),r=e.getAttribute("tabindex"),a=Number(r),o=null;return r&&!Number.isNaN(a)?o=a:i&&null===o&&(o=0),i&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function sy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ru(e.querySelectorAll("*")).filter((function(e){return oy(e,t)}));return oy(e,t)&&n.unshift(e),n}var ly=ov.LEFT,cy=ov.RIGHT,uy=ov.UP,dy=ov.DOWN,fy=ov.ENTER,hy=ov.ESC,py=ov.HOME,gy=ov.END,my=[uy,dy,ly,cy];function vy(e,t){return sy(e,!0).filter((function(e){return t.has(e)}))}function by(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var r=vy(e,t),a=r.length,o=r.findIndex((function(e){return n===e}));return i<0?-1===o?o=a-1:o-=1:i>0&&(o+=1),r[o=(o+a)%a]}var yy=function(e,t){var n=new Set,i=new Map,r=new Map;return e.forEach((function(e){var a=document.querySelector("[data-menu-id='".concat(Qb(t,e),"']"));a&&(n.add(a),r.set(a,e),i.set(e,a))})),{elements:n,key2element:i,element2key:r}};function Cy(e,t,n,r,a,o,s,l,c,u){var d=i.useRef(),f=i.useRef();f.current=t;var h=function(){mm.cancel(d.current)};return i.useEffect((function(){return function(){h()}}),[]),function(i){var p=i.which;if([].concat(my,[fy,hy,py,gy]).includes(p)){var g=o(),m=yy(g,r),v=m,b=v.elements,y=v.key2element,C=v.element2key,w=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(y.get(t),b),S=C.get(w),I=function(e,t,n,i){var r,a,o,s,l="prev",c="next",u="children",d="parent";if("inline"===e&&i===fy)return{inlineTrigger:!0};var f=(wi(r={},uy,l),wi(r,dy,c),r),h=(wi(a={},ly,n?c:l),wi(a,cy,n?l:c),wi(a,dy,u),wi(a,fy,u),a),p=(wi(o={},uy,l),wi(o,dy,c),wi(o,fy,u),wi(o,hy,d),wi(o,ly,n?u:d),wi(o,cy,n?d:u),o);switch(null===(s={inline:f,horizontal:h,vertical:p,inlineSub:f,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[i]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(e,1===s(S,!0).length,n,p);if(!I&&p!==py&&p!==gy)return;(my.includes(p)||[py,gy].includes(p))&&i.preventDefault();var T=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var i=C.get(e);l(i),h(),d.current=mm((function(){f.current===i&&t.focus()}))}};if([py,gy].includes(p)||I.sibling||!w){var E,M;E=w&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(w):a.current;var R=vy(E,b);M=p===py?R[0]:p===gy?R[R.length-1]:by(E,b,w,I.offset),T(M)}else if(I.inlineTrigger)c(S);else if(I.offset>0)c(S,!0),h(),d.current=mm((function(){m=yy(g,r);var e=w.getAttribute("aria-controls"),t=by(document.getElementById(e),m.elements);T(t)}),5);else if(I.offset<0){var A=s(S,!0),k=A[A.length-2],x=y.get(k);c(k,!1),T(x)}}null===u||void 0===u||u(i)}}var wy="__RC_UTIL_PATH_SPLIT__",Sy=function(e){return e.join(wy)},Iy="rc-menu-more";function Ty(){var e=nu(i.useState({}),2)[1],t=(0,i.useRef)(new Map),n=(0,i.useRef)(new Map),r=nu(i.useState([]),2),a=r[0],o=r[1],s=(0,i.useRef)(0),l=(0,i.useRef)(!1),c=(0,i.useCallback)((function(i,r){var a=Sy(r);n.current.set(a,i),t.current.set(i,a),s.current+=1;var o=s.current;!function(e){Promise.resolve().then(e)}((function(){o===s.current&&(l.current||e({}))}))}),[]),u=(0,i.useCallback)((function(e,i){var r=Sy(i);n.current.delete(r),t.current.delete(e)}),[]),d=(0,i.useCallback)((function(e){o(e)}),[]),f=(0,i.useCallback)((function(e,n){var i=t.current.get(e)||"",r=i.split(wy);return n&&a.includes(r[0])&&r.unshift(Iy),r}),[a]),h=(0,i.useCallback)((function(e,t){return e.some((function(e){return f(e,!0).includes(t)}))}),[f]),p=(0,i.useCallback)((function(e){var i="".concat(t.current.get(e)).concat(wy),r=new Set;return ru(n.current.keys()).forEach((function(e){e.startsWith(i)&&r.add(n.current.get(e))})),r}),[]);return i.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:u,refreshOverflowKeys:d,isSubPathKey:h,getKeyPath:f,getKeys:function(){var e=ru(t.current.keys());return a.length&&e.push(Iy),e},getSubPathKeys:p}}function Ey(e){var t=i.useRef(e);t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(i))}),[]);return e?n:void 0}var My=Math.random().toFixed(5).toString().slice(2),Ry=0;function Ay(e,t,n,r){var a=i.useContext(Kb),o=a.activeKey,s=a.onActive,l=a.onInactive,c={active:o===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),l(e)}),c}function ky(e){var t=i.useContext(Kb),n=t.mode,r=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*a}:{paddingLeft:e*a}}function xy(e){var t,n=e.icon,r=e.props,a=e.children;return null===n||!1===n?null:("function"===typeof n?t=i.createElement(n,Tl({},r)):"boolean"!==typeof n&&(t=n),t||a||null)}var Dy=["item"];function Oy(e){var t=e.item,n=jl(e,Dy);return Object.defineProperty(n,"item",{get:function(){return Mu(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var Ly=["title","attribute","elementRef"],_y=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Ny=["active"],jy=function(e){xl(n,e);var t=_l(n);function n(){return El(this,n),t.apply(this,arguments)}return Rl(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,a=vv(jl(e,Ly),["eventKey","popupClassName","popupOffset","onTitleClick"]);return Mu(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),i.createElement(Yb.Item,Sl({},n,{title:"string"===typeof t?t:void 0},a,{ref:r}))}}]),n}(i.Component),Py=i.forwardRef((function(e,t){var n,r=e.style,a=e.className,o=e.eventKey,s=(e.warnKey,e.disabled),l=e.itemIcon,c=e.children,u=e.role,d=e.onMouseEnter,f=e.onMouseLeave,h=e.onClick,p=e.onKeyDown,g=e.onFocus,m=jl(e,_y),v=qb(o),b=i.useContext(Kb),y=b.prefixCls,C=b.onItemClick,w=b.disabled,S=b.overflowDisabled,I=b.itemIcon,T=b.selectedKeys,E=b.onActive,M=i.useContext(ay)._internalRenderMenuItem,R="".concat(y,"-item"),A=i.useRef(),k=i.useRef(),x=w||s,D=Xf(t,k),O=iy(o);var L=function(e){return{key:o,keyPath:ru(O).reverse(),item:A.current,domEvent:e}},_=l||I,N=Ay(o,x,d,f),j=N.active,P=jl(N,Ny),U=T.includes(o),F=ky(O.length),B={};"option"===e.role&&(B["aria-selected"]=U);var z=i.createElement(jy,Sl({ref:A,elementRef:D,role:null===u?"none":u||"menuitem",tabIndex:s?null:-1,"data-menu-id":S&&v?null:v},m,P,B,{component:"li","aria-disabled":s,style:Tl(Tl({},F),r),className:Bl()(R,(n={},wi(n,"".concat(R,"-active"),j),wi(n,"".concat(R,"-selected"),U),wi(n,"".concat(R,"-disabled"),x),n),a),onClick:function(e){if(!x){var t=L(e);null===h||void 0===h||h(Oy(t)),C(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===ov.ENTER){var t=L(e);null===h||void 0===h||h(Oy(t)),C(t)}},onFocus:function(e){E(o),null===g||void 0===g||g(e)}}),c,i.createElement(xy,{props:Tl(Tl({},e),{},{isSelected:U}),icon:_}));return M&&(z=M(z,e,{selected:U})),z}));function Uy(e,t){var n=e.eventKey,r=ty(),a=iy(n);return i.useEffect((function(){if(r)return r.registerPath(n,a),function(){r.unregisterPath(n,a)}}),[a]),r?null:i.createElement(Py,Sl({},e,{ref:t}))}const Fy=i.forwardRef(Uy);var By=["className","children"],zy=function(e,t){var n=e.className,r=e.children,a=jl(e,By),o=i.useContext(Kb),s=o.prefixCls,l=o.mode,c=o.rtl;return i.createElement("ul",Sl({className:Bl()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},a,{"data-menu-list":!0,ref:t}),r)},Wy=i.forwardRef(zy);Wy.displayName="SubMenuList";const Vy=Wy;function Hy(e,t){return yg(e).map((function(e,n){if(i.isValidElement(e)){var r,a,o=e.key,s=null!==(r=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==r?r:o;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(ru(t),[n]).join("-")));var l={key:s,eventKey:s};return i.cloneElement(e,l)}return e}))}var Gy={adjustX:1,adjustY:1},Yy={topLeft:{points:["bl","tl"],overflow:Gy},topRight:{points:["br","tr"],overflow:Gy},bottomLeft:{points:["tl","bl"],overflow:Gy},bottomRight:{points:["tr","br"],overflow:Gy},leftTop:{points:["tr","tl"],overflow:Gy},leftBottom:{points:["br","bl"],overflow:Gy},rightTop:{points:["tl","tr"],overflow:Gy},rightBottom:{points:["bl","br"],overflow:Gy}},Jy={topLeft:{points:["bl","tl"],overflow:Gy},topRight:{points:["br","tr"],overflow:Gy},bottomLeft:{points:["tl","bl"],overflow:Gy},bottomRight:{points:["tr","br"],overflow:Gy},rightTop:{points:["tr","tl"],overflow:Gy},rightBottom:{points:["br","bl"],overflow:Gy},leftTop:{points:["tl","tr"],overflow:Gy},leftBottom:{points:["bl","br"],overflow:Gy}};function Qy(e,t,n){return t||(n?n[e]||n.other:void 0)}var qy={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Xy(e){var t=e.prefixCls,n=e.visible,r=e.children,a=e.popup,o=e.popupStyle,s=e.popupClassName,l=e.popupOffset,c=e.disabled,u=e.mode,d=e.onVisibleChange,f=i.useContext(Kb),h=f.getPopupContainer,p=f.rtl,g=f.subMenuOpenDelay,m=f.subMenuCloseDelay,v=f.builtinPlacements,b=f.triggerSubMenuAction,y=f.forceSubMenuRender,C=f.rootClassName,w=f.motion,S=f.defaultMotions,I=nu(i.useState(!1),2),T=I[0],E=I[1],M=Tl(Tl({},p?Jy:Yy),v),R=qy[u],A=Qy(u,w,S),k=i.useRef(A);"inline"!==u&&(k.current=A);var x=Tl(Tl({},k.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),D=i.useRef();return i.useEffect((function(){return D.current=mm((function(){E(n)})),function(){mm.cancel(D.current)}}),[n]),i.createElement(rv,{prefixCls:t,popupClassName:Bl()("".concat(t,"-popup"),wi({},"".concat(t,"-rtl"),p),s,C),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:h,builtinPlacements:M,popupPlacement:R,popupVisible:T,popup:a,popupStyle:o,popupAlign:l&&{offset:l},action:c?[]:[b],mouseEnterDelay:g,mouseLeaveDelay:m,onPopupVisibleChange:d,forceRender:y,popupMotion:x,fresh:!0},r)}function Ky(e){var t=e.id,n=e.open,r=e.keyPath,a=e.children,o="inline",s=i.useContext(Kb),l=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,f=s.mode,h=i.useRef(!1);h.current=f===o;var p=nu(i.useState(!h.current),2),g=p[0],m=p[1],v=!!h.current&&n;i.useEffect((function(){h.current&&m(!1)}),[f]);var b=Tl({},Qy(o,u,d));r.length>1&&(b.motionAppear=!1);var y=b.onVisibleChanged;return b.onVisibleChanged=function(e){return h.current||e||m(!0),null===y||void 0===y?void 0:y(e)},g?null:i.createElement(Zb,{mode:o,locked:!h.current},i.createElement(Lm,Sl({visible:v},b,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(e){var n=e.className,r=e.style;return i.createElement(Vy,{id:t,className:n,style:r},a)})))}var Zy=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],$y=["active"],eC=function(e){var t,n=e.style,r=e.className,a=e.title,o=e.eventKey,s=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,f=e.popupClassName,h=e.popupOffset,p=e.popupStyle,g=e.onClick,m=e.onMouseEnter,v=e.onMouseLeave,b=e.onTitleClick,y=e.onTitleMouseEnter,C=e.onTitleMouseLeave,w=jl(e,Zy),S=qb(o),I=i.useContext(Kb),T=I.prefixCls,E=I.mode,M=I.openKeys,R=I.disabled,A=I.overflowDisabled,k=I.activeKey,x=I.selectedKeys,D=I.itemIcon,O=I.expandIcon,L=I.onItemClick,_=I.onOpenChange,N=I.onActive,j=i.useContext(ay)._internalRenderSubMenuItem,P=i.useContext(ry).isSubPathKey,U=iy(),F="".concat(T,"-submenu"),B=R||s,z=i.useRef(),W=i.useRef();var V=null!==u&&void 0!==u?u:D,H=null!==d&&void 0!==d?d:O,G=M.includes(o),Y=!A&&G,J=P(x,o),Q=Ay(o,B,y,C),q=Q.active,X=jl(Q,$y),K=nu(i.useState(!1),2),Z=K[0],$=K[1],ee=function(e){B||$(e)},te=i.useMemo((function(){return q||"inline"!==E&&(Z||P([k],o))}),[E,q,k,Z,o,P]),ne=ky(U.length),ie=Ey((function(e){null===g||void 0===g||g(Oy(e)),L(e)})),re=S&&"".concat(S,"-popup"),ae=i.createElement("div",Sl({role:"menuitem",style:ne,className:"".concat(F,"-title"),tabIndex:B?null:-1,ref:z,title:"string"===typeof a?a:null,"data-menu-id":A&&S?null:S,"aria-expanded":Y,"aria-haspopup":!0,"aria-controls":re,"aria-disabled":B,onClick:function(e){B||(null===b||void 0===b||b({key:o,domEvent:e}),"inline"===E&&_(o,!G))},onFocus:function(){N(o)}},X),a,i.createElement(xy,{icon:"horizontal"!==E?H:void 0,props:Tl(Tl({},e),{},{isOpen:Y,isSubMenu:!0})},i.createElement("i",{className:"".concat(F,"-arrow")}))),oe=i.useRef(E);if("inline"!==E&&U.length>1?oe.current="vertical":oe.current=E,!A){var se=oe.current;ae=i.createElement(Xy,{mode:se,prefixCls:F,visible:!l&&Y&&"inline"!==E,popupClassName:f,popupOffset:h,popupStyle:p,popup:i.createElement(Zb,{mode:"horizontal"===se?"vertical":se},i.createElement(Vy,{id:re,ref:W},c)),disabled:B,onVisibleChange:function(e){"inline"!==E&&_(o,e)}},ae)}var le=i.createElement(Yb.Item,Sl({role:"none"},w,{component:"li",style:n,className:Bl()(F,"".concat(F,"-").concat(E),r,(t={},wi(t,"".concat(F,"-open"),Y),wi(t,"".concat(F,"-active"),te),wi(t,"".concat(F,"-selected"),J),wi(t,"".concat(F,"-disabled"),B),t)),onMouseEnter:function(e){ee(!0),null===m||void 0===m||m({key:o,domEvent:e})},onMouseLeave:function(e){ee(!1),null===v||void 0===v||v({key:o,domEvent:e})}}),ae,!A&&i.createElement(Ky,{id:re,open:Y,keyPath:U},c));return j&&(le=j(le,e,{selected:J,active:te,open:Y,disabled:B})),i.createElement(Zb,{onItemClick:ie,mode:"horizontal"===E?"vertical":E,itemIcon:V,expandIcon:H},le)};function tC(e){var t,n=e.eventKey,r=e.children,a=iy(n),o=Hy(r,a),s=ty();return i.useEffect((function(){if(s)return s.registerPath(n,a),function(){s.unregisterPath(n,a)}}),[a]),t=s?o:i.createElement(eC,e,o),i.createElement(ny.Provider,{value:a},t)}var nC=["className","title","eventKey","children"],iC=["children"],rC=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),a=jl(e,nC),o=i.useContext(Kb).prefixCls,s="".concat(o,"-item-group");return i.createElement("li",Sl({role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:Bl()(s,t)}),i.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:"string"===typeof n?n:void 0},n),i.createElement("ul",{role:"group",className:"".concat(s,"-list")},r))};function aC(e){var t=e.children,n=jl(e,iC),r=Hy(t,iy(n.eventKey));return ty()?r:i.createElement(rC,vv(n,["warnKey"]),r)}function oC(e){var t=e.className,n=e.style,r=i.useContext(Kb).prefixCls;return ty()?null:i.createElement("li",{role:"separator",className:Bl()("".concat(r,"-item-divider"),t),style:n})}var sC=["label","children","key","type"];function lC(e){return(e||[]).map((function(e,t){if(e&&"object"===yi(e)){var n=e,r=n.label,a=n.children,o=n.key,s=n.type,l=jl(n,sC),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===s?"group"===s?i.createElement(aC,Sl({key:c},l,{title:r}),lC(a)):i.createElement(tC,Sl({key:c},l,{title:r}),lC(a)):"divider"===s?i.createElement(oC,Sl({key:c},l)):i.createElement(Fy,Sl({key:c},l),r)}return null})).filter((function(e){return e}))}function cC(e,t,n){var i=e;return t&&(i=lC(t)),Hy(i,n)}var uC=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],dC=[],fC=i.forwardRef((function(e,t){var n,r,a=e,o=a.prefixCls,s=void 0===o?"rc-menu":o,l=a.rootClassName,u=a.style,d=a.className,f=a.tabIndex,h=void 0===f?0:f,p=a.items,g=a.children,m=a.direction,v=a.id,b=a.mode,y=void 0===b?"vertical":b,C=a.inlineCollapsed,w=a.disabled,S=a.disabledOverflow,I=a.subMenuOpenDelay,T=void 0===I?.1:I,E=a.subMenuCloseDelay,M=void 0===E?.1:E,R=a.forceSubMenuRender,A=a.defaultOpenKeys,k=a.openKeys,x=a.activeKey,D=a.defaultActiveFirst,O=a.selectable,L=void 0===O||O,_=a.multiple,N=void 0!==_&&_,j=a.defaultSelectedKeys,P=a.selectedKeys,U=a.onSelect,F=a.onDeselect,B=a.inlineIndent,z=void 0===B?24:B,W=a.motion,V=a.defaultMotions,H=a.triggerSubMenuAction,G=void 0===H?"hover":H,Y=a.builtinPlacements,J=a.itemIcon,Q=a.expandIcon,q=a.overflowedIndicator,X=void 0===q?"...":q,K=a.overflowedIndicatorPopupClassName,Z=a.getPopupContainer,$=a.onClick,ee=a.onOpenChange,te=a.onKeyDown,ne=(a.openAnimation,a.openTransitionName,a._internalRenderMenuItem),ie=a._internalRenderSubMenuItem,re=jl(a,uC),ae=i.useMemo((function(){return cC(g,p,dC)}),[g,p]),oe=nu(i.useState(!1),2),se=oe[0],le=oe[1],ce=i.useRef(),ue=function(e){var t=nu(Yf(e,{value:e}),2),n=t[0],r=t[1];return i.useEffect((function(){Ry+=1;var e="".concat(My,"-").concat(Ry);r("rc-menu-uuid-".concat(e))}),[]),n}(v),de="rtl"===m;var fe=Yf(A,{value:k,postState:function(e){return e||dC}}),he=nu(fe,2),pe=he[0],ge=he[1],me=function(e){function t(){ge(e),null===ee||void 0===ee||ee(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,c.flushSync)(t):t()},ve=nu(i.useState(pe),2),be=ve[0],ye=ve[1],Ce=i.useRef(!1),we=nu(i.useMemo((function(){return"inline"!==y&&"vertical"!==y||!C?[y,!1]:["vertical",C]}),[y,C]),2),Se=we[0],Ie=we[1],Te="inline"===Se,Ee=nu(i.useState(Se),2),Me=Ee[0],Re=Ee[1],Ae=nu(i.useState(Ie),2),ke=Ae[0],xe=Ae[1];i.useEffect((function(){Re(Se),xe(Ie),Ce.current&&(Te?ge(be):me(dC))}),[Se,Ie]);var De=nu(i.useState(0),2),Oe=De[0],Le=De[1],_e=Oe>=ae.length-1||"horizontal"!==Me||S;i.useEffect((function(){Te&&ye(pe)}),[pe]),i.useEffect((function(){return Ce.current=!0,function(){Ce.current=!1}}),[]);var Ne=Ty(),je=Ne.registerPath,Pe=Ne.unregisterPath,Ue=Ne.refreshOverflowKeys,Fe=Ne.isSubPathKey,Be=Ne.getKeyPath,ze=Ne.getKeys,We=Ne.getSubPathKeys,Ve=i.useMemo((function(){return{registerPath:je,unregisterPath:Pe}}),[je,Pe]),He=i.useMemo((function(){return{isSubPathKey:Fe}}),[Fe]);i.useEffect((function(){Ue(_e?dC:ae.slice(Oe+1).map((function(e){return e.key})))}),[Oe,_e]);var Ge=nu(Yf(x||D&&(null===(n=ae[0])||void 0===n?void 0:n.key),{value:x}),2),Ye=Ge[0],Je=Ge[1],Qe=Ey((function(e){Je(e)})),qe=Ey((function(){Je(void 0)}));(0,i.useImperativeHandle)(t,(function(){return{list:ce.current,focus:function(e){var t,n,i=ze(),r=yy(i,ue),a=r.elements,o=r.key2element,s=r.element2key,l=vy(ce.current,a),c=null!==Ye&&void 0!==Ye?Ye:l[0]?s.get(l[0]):null===(t=ae.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key,u=o.get(c);c&&u&&(null===u||void 0===u||null===(n=u.focus)||void 0===n||n.call(u,e))}}}));var Xe=Yf(j||[],{value:P,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?dC:[e]}}),Ke=nu(Xe,2),Ze=Ke[0],$e=Ke[1],et=Ey((function(e){null===$||void 0===$||$(Oy(e)),function(e){if(L){var t,n=e.key,i=Ze.includes(n);t=N?i?Ze.filter((function(e){return e!==n})):[].concat(ru(Ze),[n]):[n],$e(t);var r=Tl(Tl({},e),{},{selectedKeys:t});i?null===F||void 0===F||F(r):null===U||void 0===U||U(r)}!N&&pe.length&&"inline"!==Me&&me(dC)}(e)})),tt=Ey((function(e,t){var n=pe.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Me){var i=We(e);n=n.filter((function(e){return!i.has(e)}))}Ru(pe,n,!0)||me(n,!0)})),nt=Cy(Me,Ye,de,ue,ce,ze,Be,Je,(function(e,t){var n=null!==t&&void 0!==t?t:!pe.includes(e);tt(e,n)}),te);i.useEffect((function(){le(!0)}),[]);var it=i.useMemo((function(){return{_internalRenderMenuItem:ne,_internalRenderSubMenuItem:ie}}),[ne,ie]),rt="horizontal"!==Me||S?ae:ae.map((function(e,t){return i.createElement(Zb,{key:e.key,overflowDisabled:t>Oe},e)})),at=i.createElement(Yb,Sl({id:v,ref:ce,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:Fy,className:Bl()(s,"".concat(s,"-root"),"".concat(s,"-").concat(Me),d,(r={},wi(r,"".concat(s,"-inline-collapsed"),ke),wi(r,"".concat(s,"-rtl"),de),r),l),dir:m,style:u,role:"menu",tabIndex:h,data:rt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ae.slice(-t):null;return i.createElement(tC,{eventKey:Iy,title:X,disabled:_e,internalPopupClose:0===t,popupClassName:K},n)},maxCount:"horizontal"!==Me||S?Yb.INVALIDATE:Yb.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Le(e)},onKeyDown:nt},re));return i.createElement(ay.Provider,{value:it},i.createElement(Jb.Provider,{value:ue},i.createElement(Zb,{prefixCls:s,rootClassName:l,mode:Me,openKeys:pe,rtl:de,disabled:w,motion:se?W:null,defaultMotions:se?V:null,activeKey:Ye,onActive:Qe,onInactive:qe,selectedKeys:Ze,inlineIndent:z,subMenuOpenDelay:T,subMenuCloseDelay:M,forceSubMenuRender:R,builtinPlacements:Y,triggerSubMenuAction:G,getPopupContainer:Z,itemIcon:J,expandIcon:Q,onItemClick:et,onOpenChange:tt},i.createElement(ry.Provider,{value:He},at),i.createElement("div",{style:{display:"none"},"aria-hidden":!0},i.createElement(ey.Provider,{value:Ve},ae)))))}));var hC=fC;hC.Item=Fy,hC.SubMenu=tC,hC.ItemGroup=aC,hC.Divider=oC;const pC=hC;const gC=i.createContext({});(()=>{let e=0})();const mC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var vC=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:mC}))};const bC=i.forwardRef(vC),yC=()=>({height:0,opacity:0}),CC=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},wC=e=>({height:e?e.offsetHeight:0}),SC=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,IC=(e,t,n)=>void 0!==n?n:"".concat(e,"-").concat(t),TC=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:yC,onEnterStart:yC,onAppearActive:CC,onEnterActive:CC,onLeaveStart:wC,onLeaveActive:yC,onAppearEnd:SC,onEnterEnd:SC,onLeaveEnd:SC,motionDeadline:500}},EC=e=>{const[,,,,t]=fp();return t?"".concat(e,"-css-var"):""};var MC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const RC=e=>{const{prefixCls:t,className:n,dashed:r}=e,a=MC(e,["prefixCls","className","dashed"]),{getPrefixCls:o}=i.useContext(Xc),s=o("menu",t),l=Bl()({["".concat(s,"-item-divider-dashed")]:!!r},n);return i.createElement(oC,Object.assign({className:l},a))};function AC(e){var t=e.children,n=e.prefixCls,r=e.id,a=e.overlayInnerStyle,o=e.className,s=e.style;return i.createElement("div",{className:Bl()("".concat(n,"-content"),o),style:s},i.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:a},"function"===typeof t?t():t))}var kC={shiftX:64,adjustY:1},xC={adjustX:1,shiftY:!0},DC=[0,0],OC={left:{points:["cr","cl"],overflow:xC,offset:[-4,0],targetOffset:DC},right:{points:["cl","cr"],overflow:xC,offset:[4,0],targetOffset:DC},top:{points:["bc","tc"],overflow:kC,offset:[0,-4],targetOffset:DC},bottom:{points:["tc","bc"],overflow:kC,offset:[0,4],targetOffset:DC},topLeft:{points:["bl","tl"],overflow:kC,offset:[0,-4],targetOffset:DC},leftTop:{points:["tr","tl"],overflow:xC,offset:[-4,0],targetOffset:DC},topRight:{points:["br","tr"],overflow:kC,offset:[0,-4],targetOffset:DC},rightTop:{points:["tl","tr"],overflow:xC,offset:[4,0],targetOffset:DC},bottomRight:{points:["tr","br"],overflow:kC,offset:[0,4],targetOffset:DC},rightBottom:{points:["bl","br"],overflow:xC,offset:[4,0],targetOffset:DC},bottomLeft:{points:["tl","bl"],overflow:kC,offset:[0,4],targetOffset:DC},leftBottom:{points:["br","bl"],overflow:xC,offset:[-4,0],targetOffset:DC}};var LC=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],_C=function(e,t){var n=e.overlayClassName,r=e.trigger,a=void 0===r?["hover"]:r,o=e.mouseEnterDelay,s=void 0===o?0:o,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,f=void 0===d?"rc-tooltip":d,h=e.children,p=e.onVisibleChange,g=e.afterVisibleChange,m=e.transitionName,v=e.animation,b=e.motion,y=e.placement,C=void 0===y?"right":y,w=e.align,S=void 0===w?{}:w,I=e.destroyTooltipOnHide,T=void 0!==I&&I,E=e.defaultVisible,M=e.getTooltipContainer,R=e.overlayInnerStyle,A=(e.arrowContent,e.overlay),k=e.id,x=e.showArrow,D=void 0===x||x,O=jl(e,LC),L=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return L.current}));var _=Tl({},O);"visible"in e&&(_.popupVisible=e.visible);return i.createElement(rv,Sl({popupClassName:n,prefixCls:f,popup:function(){return i.createElement(AC,{key:"content",prefixCls:f,id:k,overlayInnerStyle:R},A)},action:a,builtinPlacements:OC,popupPlacement:C,ref:L,popupAlign:S,getPopupContainer:M,onPopupVisibleChange:p,afterPopupVisibleChange:g,popupTransitionName:m,popupAnimation:v,popupMotion:b,defaultPopupVisible:E,autoDestroy:T,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s,arrow:D},_),h)};const NC=(0,i.forwardRef)(_C),jC=e=>{const t=i.useContext(nb);return i.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:t:e instanceof Function?e(t):t:t),[e,t])},PC=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},UC=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(t,"-item:empty")]:{display:"none"}}}},FC=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},BC=Dp("Space",(e=>{const t=Sp(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[UC(t),FC(t),PC(t)]}),(()=>({})),{resetStyle:!1});var zC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const WC=i.createContext(null),VC=(e,t)=>{const n=i.useContext(WC),r=i.useMemo((()=>{if(!n)return"";const{compactDirection:i,isFirstItem:r,isLastItem:a}=n,o="vertical"===i?"-vertical-":"-";return Bl()("".concat(e,"-compact").concat(o,"item"),{["".concat(e,"-compact").concat(o,"first-item")]:r,["".concat(e,"-compact").concat(o,"last-item")]:a,["".concat(e,"-compact").concat(o,"item-rtl")]:"rtl"===t})}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:r}},HC=e=>{let{children:t}=e;return i.createElement(WC.Provider,{value:null},t)},GC=e=>{var{children:t}=e,n=zC(e,["children"]);return i.createElement(WC.Provider,{value:n},t)},YC=e=>{const{getPrefixCls:t,direction:n}=i.useContext(Xc),{size:r,direction:a,block:o,prefixCls:s,className:l,rootClassName:c,children:u}=e,d=zC(e,["size","direction","block","prefixCls","className","rootClassName","children"]),f=jC((e=>null!==r&&void 0!==r?r:e)),h=t("space-compact",s),[p,g]=BC(h),m=Bl()(h,g,{["".concat(h,"-rtl")]:"rtl"===n,["".concat(h,"-block")]:o,["".concat(h,"-vertical")]:"vertical"===a},l,c),v=i.useContext(WC),b=yg(u),y=i.useMemo((()=>b.map(((e,t)=>{const n=e&&e.key||"".concat(h,"-item-").concat(t);return i.createElement(GC,{key:n,compactSize:f,compactDirection:a,isFirstItem:0===t&&(!v||(null===v||void 0===v?void 0:v.isFirstItem)),isLastItem:t===b.length-1&&(!v||(null===v||void 0===v?void 0:v.isLastItem))},e)}))),[r,b,v]);return 0===b.length?null:p(i.createElement("div",Object.assign({className:m},d),y))},JC=e=>({animationDuration:e,animationFillMode:"both"}),QC=e=>({animationDuration:e,animationFillMode:"both"}),qC=function(e,t,n,i){const r=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(r).concat(e,"-enter,\n      ").concat(r).concat(e,"-appear\n    ")]:Object.assign(Object.assign({},JC(i)),{animationPlayState:"paused"}),["".concat(r).concat(e,"-leave")]:Object.assign(Object.assign({},QC(i)),{animationPlayState:"paused"}),["\n      ".concat(r).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(r).concat(e,"-appear").concat(e,"-appear-active\n    ")]:{animationName:t,animationPlayState:"running"},["".concat(r).concat(e,"-leave").concat(e,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},XC=new Nf("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),KC=new Nf("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),ZC=new Nf("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),$C=new Nf("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),ew=new Nf("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),tw=new Nf("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),nw={zoom:{inKeyframes:XC,outKeyframes:KC},"zoom-big":{inKeyframes:ZC,outKeyframes:$C},"zoom-big-fast":{inKeyframes:ZC,outKeyframes:$C},"zoom-left":{inKeyframes:new Nf("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Nf("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Nf("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Nf("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:ew,outKeyframes:tw},"zoom-down":{inKeyframes:new Nf("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Nf("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},iw=(e,t)=>{const{antCls:n}=e,i="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=nw[t];return[qC(i,r,a,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{["\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(i,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},rw=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function aw(e,t){return rw.reduce(((n,i)=>{const r=e["".concat(i,"1")],a=e["".concat(i,"3")],o=e["".concat(i,"6")],s=e["".concat(i,"7")];return Object.assign(Object.assign({},n),t(i,{lightColor:r,lightBorderColor:a,darkColor:o,textColor:s}))}),{})}const ow=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:i,tooltipBg:r,tooltipBorderRadius:a,zIndexPopup:o,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{minWidth:s,minHeight:s,padding:"".concat($u(e.calc(c).div(2).equal())," ").concat($u(u)),color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:a,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(t,"-inner")]:{borderRadius:e.min(a,Ev)}},["".concat(t,"-content")]:{position:"relative"}}),aw(e,((e,n)=>{let{darkColor:i}=n;return{["&".concat(t,"-").concat(e)]:{["".concat(t,"-inner")]:{backgroundColor:i},["".concat(t,"-arrow")]:{"--antd-arrow-background-color":i}}}}))),{"&-rtl":{direction:"rtl"}})},Av(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},sw=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Mv({contentRadius:e.borderRadius,limitVerticalRadius:!0})),Iv(Sp(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),lw=function(e){const t=Dp("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:i}=e,r=Sp(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:i});return[ow(r),iw(e,"zoom-big-fast")]}),sw,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},cw=rw.map((e=>"".concat(e,"-inverse")));function uw(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[].concat(ru(cw),ru(rw)).includes(e):rw.includes(e)}function dw(e,t){const n=uw(t),i=Bl()({["".concat(e,"-").concat(t)]:t&&n}),r={},a={};return t&&!n&&(r.background=t,a["--antd-arrow-background-color"]=t),{className:i,overlayStyle:r,arrowStyle:a}}const fw=e=>{const{prefixCls:t,className:n,placement:r="top",title:a,color:o,overlayInnerStyle:s}=e,{getPrefixCls:l}=i.useContext(Xc),c=l("tooltip",t),[u,d,f]=lw(c),h=dw(c,o),p=h.arrowStyle,g=Object.assign(Object.assign({},s),h.overlayStyle),m=Bl()(d,f,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(r),n,h.className);return u(i.createElement("div",{className:m,style:p},i.createElement("div",{className:"".concat(c,"-arrow")}),i.createElement(AC,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:g}),a)))};var hw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const pw=i.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,openClassName:o,getTooltipContainer:s,overlayClassName:l,color:c,overlayInnerStyle:u,children:d,afterOpenChange:f,afterVisibleChange:h,destroyTooltipOnHide:p,arrow:g=!0,title:m,overlay:v,builtinPlacements:b,arrowPointAtCenter:y=!1,autoAdjustOverflow:C=!0}=e,w=!!g,[,S]=fp(),{getPopupContainer:I,getPrefixCls:T,direction:E}=i.useContext(Xc),M=Nv("Tooltip"),R=i.useRef(null),A=()=>{var e;null===(e=R.current)||void 0===e||e.forceAlign()};i.useImperativeHandle(t,(()=>({forceAlign:A,forcePopupAlign:()=>{M.deprecated(!1,"forcePopupAlign","forceAlign"),A()}})));const[k,x]=Yf(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),D=!m&&!v&&0!==m,O=i.useMemo((()=>{var e,t;let n=y;return"object"===typeof g&&(n=null!==(t=null!==(e=g.pointAtCenter)&&void 0!==e?e:g.arrowPointAtCenter)&&void 0!==t?t:y),b||Ov({arrowPointAtCenter:n,autoAdjustOverflow:C,arrowWidth:w?S.sizePopupArrow:0,borderRadius:S.borderRadius,offset:S.marginXXS,visibleFirst:!0})}),[y,g,b,S]),L=i.useMemo((()=>0===m?m:v||m||""),[v,m]),_=i.createElement(HC,null,"function"===typeof L?L():L),{getPopupContainer:N,placement:j="top",mouseEnterDelay:P=.1,mouseLeaveDelay:U=.1,overlayStyle:F,rootClassName:B}=e,z=hw(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),W=T("tooltip",a),V=T(),H=e["data-popover-inject"];let G=k;"open"in e||"visible"in e||!D||(G=!1);const Y=i.isValidElement(d)&&!Ib(d)?d:i.createElement("span",null,d),J=Y.props,Q=J.className&&"string"!==typeof J.className?J.className:Bl()(J.className,o||"".concat(W,"-open")),[q,X,K]=lw(W,!H),Z=dw(W,c),$=Z.arrowStyle,ee=Object.assign(Object.assign({},u),Z.overlayStyle),te=Bl()(l,{["".concat(W,"-rtl")]:"rtl"===E},Z.className,B,X,K),[ne,ie]=Sv("Tooltip",z.zIndex),re=i.createElement(NC,Object.assign({},z,{zIndex:ne,showArrow:w,placement:j,mouseEnterDelay:P,mouseLeaveDelay:U,prefixCls:W,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},$),F),getTooltipContainer:N||s||I,ref:R,builtinPlacements:O,overlay:_,visible:G,onVisibleChange:t=>{var n,i;x(!D&&t),D||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(i=e.onVisibleChange)||void 0===i||i.call(e,t))},afterVisibleChange:null!==f&&void 0!==f?f:h,overlayInnerStyle:ee,arrowContent:i.createElement("span",{className:"".concat(W,"-arrow-content")}),motion:{motionName:IC(V,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),G?Eb(Y,{className:Q}):Y);return q(i.createElement(bv.Provider,{value:ie},re))}));pw._InternalPanelDoNotUseOrYouWillBeFired=fw;const gw=pw,mw=(0,i.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),vw=e=>{var t;const{className:n,children:r,icon:a,title:o,danger:s}=e,{prefixCls:l,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:f}=i.useContext(mw),{siderCollapsed:h}=i.useContext(gC);let p=o;"undefined"===typeof o?p=c?r:"":!1===o&&(p="");const g={title:p};h||f||(g.title=null,g.open=!1);const m=yg(r).length;let v=i.createElement(Fy,Object.assign({},vv(e,["title","icon","danger"]),{className:Bl()({["".concat(l,"-item-danger")]:s,["".concat(l,"-item-only-child")]:1===(a?m+1:m)},n),title:"string"===typeof o?o:void 0}),Eb(a,{className:Bl()(i.isValidElement(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(l,"-item-icon"))}),(e=>{const t=i.createElement("span",{className:"".concat(l,"-title-content")},r);return(!a||i.isValidElement(r)&&"span"===r.type)&&r&&e&&c&&"string"===typeof r?i.createElement("div",{className:"".concat(l,"-inline-collapsed-noicon")},r.charAt(0)):t})(f));return d||(v=i.createElement(gw,Object.assign({},g,{placement:"rtl"===u?"left":"right",overlayClassName:"".concat(l,"-inline-collapsed-tooltip")}),v)),v},bw=e=>{var t;const{popupClassName:n,icon:r,title:a,theme:o}=e,s=i.useContext(mw),{prefixCls:l,inlineCollapsed:c,theme:u}=s,d=iy();let f;if(r){const e=i.isValidElement(a)&&"span"===a.type;f=i.createElement(i.Fragment,null,Eb(r,{className:Bl()(i.isValidElement(r)?null===(t=r.props)||void 0===t?void 0:t.className:"","".concat(l,"-item-icon"))}),e?a:i.createElement("span",{className:"".concat(l,"-title-content")},a))}else f=c&&!d.length&&a&&"string"===typeof a?i.createElement("div",{className:"".concat(l,"-inline-collapsed-noicon")},a.charAt(0)):i.createElement("span",{className:"".concat(l,"-title-content")},a);const h=i.useMemo((()=>Object.assign(Object.assign({},s),{firstLevel:!1})),[s]),[p]=Sv("Menu");return i.createElement(mw.Provider,{value:h},i.createElement(tC,Object.assign({},vv(e,["icon"]),{title:f,popupClassName:Bl()(l,n,"".concat(l,"-").concat(o||u)),popupStyle:{zIndex:p}})))};var yw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Cw(e){return(e||[]).map(((e,t)=>{if(e&&"object"===typeof e){const n=e,{label:r,children:a,key:o,type:s}=n,l=yw(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===s?"group"===s?i.createElement(aC,Object.assign({key:c},l,{title:r}),Cw(a)):i.createElement(bw,Object.assign({key:c},l,{title:r}),Cw(a)):"divider"===s?i.createElement(RC,Object.assign({key:c},l)):i.createElement(vw,Object.assign({key:c},l),r)}return null})).filter((e=>e))}function ww(e){return i.useMemo((()=>e?Cw(e):e),[e])}var Sw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const Iw=i.createContext(null),Tw=i.forwardRef(((e,t)=>{const{children:n}=e,r=Sw(e,["children"]),a=i.useContext(Iw),o=i.useMemo((()=>Object.assign(Object.assign({},a),r)),[a,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=function(e){return!!(0,i.isValidElement)(e)&&!(0,Jf.isFragment)(e)&&Kf(e)}(n),l=Xf(t,s?n.ref:null);return i.createElement(Iw.Provider,{value:o},i.createElement(HC,null,s?i.cloneElement(n,{ref:l}):n))})),Ew=Iw,Mw=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}}),Rw=new Nf("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Aw=new Nf("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),kw=new Nf("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),xw=new Nf("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Dw=new Nf("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Ow=new Nf("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Lw=new Nf("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),_w=new Nf("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Nw={"slide-up":{inKeyframes:Rw,outKeyframes:Aw},"slide-down":{inKeyframes:kw,outKeyframes:xw},"slide-left":{inKeyframes:Dw,outKeyframes:Ow},"slide-right":{inKeyframes:Lw,outKeyframes:_w}},jw=(e,t)=>{const{antCls:n}=e,i="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=Nw[t];return[qC(i,r,a,e.motionDurationMid),{["\n      ".concat(i,"-enter,\n      ").concat(i,"-appear\n    ")]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},["".concat(i,"-leave")]:{animationTimingFunction:e.motionEaseInQuint}}]},Pw=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:i,colorSplit:r,lineWidth:a,lineType:o,itemPaddingInline:s}=e;return{["".concat(t,"-horizontal")]:{lineHeight:i,border:0,borderBottom:"".concat($u(a)," ").concat(o," ").concat(r),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},["".concat(t,"-item, ").concat(t,"-submenu")]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},["> ".concat(t,"-item:hover,\n        > ").concat(t,"-item-active,\n        > ").concat(t,"-submenu ").concat(t,"-submenu-title:hover")]:{backgroundColor:"transparent"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{transition:["border-color ".concat(n),"background ".concat(n)].join(",")},["".concat(t,"-submenu-arrow")]:{display:"none"}}}},Uw=e=>{let{componentCls:t,menuArrowOffset:n,calc:i}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"},["".concat(t,"-submenu-rtl")]:{transformOrigin:"100% 0"},["".concat(t,"-rtl").concat(t,"-vertical,\n    ").concat(t,"-submenu-rtl ").concat(t,"-vertical")]:{["".concat(t,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateY(".concat($u(i(n).mul(-1).equal()),")")},"&::after":{transform:"rotate(45deg) translateY(".concat($u(n),")")}}}}},Fw=e=>Object.assign({},zf(e)),Bw=(e,t)=>{const{componentCls:n,itemColor:i,itemSelectedColor:r,groupTitleColor:a,itemBg:o,subMenuItemBg:s,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:u,activeBarBorderWidth:d,motionDurationSlow:f,motionEaseInOut:h,motionEaseOut:p,itemPaddingInline:g,motionDurationMid:m,itemHoverColor:v,lineType:b,colorSplit:y,itemDisabledColor:C,dangerItemColor:w,dangerItemHoverColor:S,dangerItemSelectedColor:I,dangerItemActiveBg:T,dangerItemSelectedBg:E,popupBg:M,itemHoverBg:R,itemActiveBg:A,menuSubMenuBg:k,horizontalItemSelectedColor:x,horizontalItemSelectedBg:D,horizontalItemBorderRadius:O,horizontalItemHoverBg:L}=e;return{["".concat(n,"-").concat(t,", ").concat(n,"-").concat(t," > ").concat(n)]:{color:i,background:o,["&".concat(n,"-root:focus-visible")]:Object.assign({},Fw(e)),["".concat(n,"-item-group-title")]:{color:a},["".concat(n,"-submenu-selected")]:{["> ".concat(n,"-submenu-title")]:{color:r}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:{color:i,["&:not(".concat(n,"-item-disabled):focus-visible")]:Object.assign({},Fw(e))},["".concat(n,"-item-disabled, ").concat(n,"-submenu-disabled")]:{color:"".concat(C," !important")},["".concat(n,"-item:not(").concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{["&:hover, > ".concat(n,"-submenu-title:hover")]:{color:v}},["&:not(".concat(n,"-horizontal)")]:{["".concat(n,"-item:not(").concat(n,"-item-selected)")]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:A}},["".concat(n,"-submenu-title")]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:A}}},["".concat(n,"-item-danger")]:{color:w,["&".concat(n,"-item:hover")]:{["&:not(".concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{color:S}},["&".concat(n,"-item:active")]:{background:T}},["".concat(n,"-item a")]:{"&, &:hover":{color:"inherit"}},["".concat(n,"-item-selected")]:{color:r,["&".concat(n,"-item-danger")]:{color:I},"a, a:hover":{color:"inherit"}},["& ".concat(n,"-item-selected")]:{backgroundColor:l,["&".concat(n,"-item-danger")]:{backgroundColor:E}},["&".concat(n,"-submenu > ").concat(n)]:{backgroundColor:k},["&".concat(n,"-popup > ").concat(n)]:{backgroundColor:M},["&".concat(n,"-submenu-popup > ").concat(n)]:{backgroundColor:M},["&".concat(n,"-horizontal")]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{["> ".concat(n,"-item, > ").concat(n,"-submenu")]:{top:d,marginTop:e.calc(d).mul(-1).equal(),marginBottom:0,borderRadius:O,"&::after":{position:"absolute",insetInline:g,bottom:0,borderBottom:"".concat($u(c)," solid transparent"),transition:"border-color ".concat(f," ").concat(h),content:'""'},"&:hover, &-active, &-open":{background:L,"&::after":{borderBottomWidth:c,borderBottomColor:x}},"&-selected":{color:x,backgroundColor:D,"&:hover":{backgroundColor:D},"&::after":{borderBottomWidth:c,borderBottomColor:x}}}}),["&".concat(n,"-root")]:{["&".concat(n,"-inline, &").concat(n,"-vertical")]:{borderInlineEnd:"".concat($u(d)," ").concat(b," ").concat(y)}},["&".concat(n,"-inline")]:{["".concat(n,"-sub").concat(n,"-inline")]:{background:s},["".concat(n,"-item")]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat($u(u)," solid ").concat(r),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(m," ").concat(p),"opacity ".concat(m," ").concat(p)].join(","),content:'""'},["&".concat(n,"-item-danger")]:{"&::after":{borderInlineEndColor:I}}},["".concat(n,"-selected, ").concat(n,"-item-selected")]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(m," ").concat(h),"opacity ".concat(m," ").concat(h)].join(",")}}}}}},zw=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:i,padding:r,menuArrowSize:a,marginXS:o,itemMarginBlock:s,itemWidth:l}=e,c=e.calc(a).add(r).add(o).equal();return{["".concat(t,"-item")]:{position:"relative",overflow:"hidden"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{height:n,lineHeight:$u(n),paddingInline:r,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:s,width:l},["> ".concat(t,"-item,\n            > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{height:n,lineHeight:$u(n)},["".concat(t,"-item-group-list ").concat(t,"-submenu-title,\n            ").concat(t,"-submenu-title")]:{paddingInlineEnd:c}}},Ww=e=>{const{componentCls:t,iconCls:n,itemHeight:i,colorTextLightSolid:r,dropdownWidth:a,controlHeightLG:o,motionDurationMid:s,motionEaseOut:l,paddingXL:c,itemMarginInline:u,fontSizeLG:d,motionDurationSlow:f,paddingXS:h,boxShadowSecondary:p,collapsedWidth:g,collapsedIconSize:m}=e,v={height:i,lineHeight:$u(i),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({["&".concat(t,"-root")]:{boxShadow:"none"}},zw(e))},["".concat(t,"-submenu-popup")]:{["".concat(t,"-vertical")]:Object.assign(Object.assign({},zw(e)),{boxShadow:p})}},{["".concat(t,"-submenu-popup ").concat(t,"-vertical").concat(t,"-sub")]:{minWidth:a,maxHeight:"calc(100vh - ".concat($u(e.calc(o).mul(2.5).equal()),")"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{["".concat(t,"-inline")]:{width:"100%",["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{display:"flex",alignItems:"center",transition:["border-color ".concat(f),"background ".concat(f),"padding ".concat(s," ").concat(l)].join(","),["> ".concat(t,"-title-content")]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},["".concat(t,"-sub").concat(t,"-inline")]:{padding:0,border:0,borderRadius:0,boxShadow:"none",["& > ".concat(t,"-submenu > ").concat(t,"-submenu-title")]:v,["& ".concat(t,"-item-group-title")]:{paddingInlineStart:c}},["".concat(t,"-item")]:v}},{["".concat(t,"-inline-collapsed")]:{width:g,["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu ").concat(t,"-submenu-title")]:{["> ".concat(t,"-inline-collapsed-noicon")]:{fontSize:d,textAlign:"center"}}},["> ".concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-submenu > ").concat(t,"-submenu-title,\n          > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{insetInlineStart:0,paddingInline:"calc(50% - ".concat($u(e.calc(d).div(2).equal())," - ").concat($u(u),")"),textOverflow:"clip",["\n            ".concat(t,"-submenu-arrow,\n            ").concat(t,"-submenu-expand-icon\n          ")]:{opacity:0},["".concat(t,"-item-icon, ").concat(n)]:{margin:0,fontSize:m,lineHeight:$u(i),"+ span":{display:"inline-block",opacity:0}}},["".concat(t,"-item-icon, ").concat(n)]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",["".concat(t,"-item-icon, ").concat(n)]:{display:"none"},"a, a:hover":{color:r}},["".concat(t,"-item-group-title")]:Object.assign(Object.assign({},Pf),{paddingInline:h})}}]},Vw=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:i,motionEaseInOut:r,motionEaseOut:a,iconCls:o,iconSize:s,iconMarginInlineEnd:l}=e;return{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(n),"background ".concat(n),"padding ".concat(n," ").concat(r)].join(","),["".concat(t,"-item-icon, ").concat(o)]:{minWidth:s,fontSize:s,transition:["font-size ".concat(i," ").concat(a),"margin ".concat(n," ").concat(r),"color ".concat(n)].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:["opacity ".concat(n," ").concat(r),"margin ".concat(n),"color ".concat(n)].join(",")}},["".concat(t,"-item-icon")]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),["&".concat(t,"-item-only-child")]:{["> ".concat(o,", > ").concat(t,"-item-icon")]:{marginInlineEnd:0}}},["".concat(t,"-item-disabled, ").concat(t,"-submenu-disabled")]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},["> ".concat(t,"-submenu-title")]:{color:"inherit !important",cursor:"not-allowed"}}}},Hw=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:i,borderRadius:r,menuArrowSize:a,menuArrowOffset:o}=e;return{["".concat(t,"-submenu")]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:a,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(n," ").concat(i,", opacity ").concat(n)},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(a).mul(.6).equal(),height:e.calc(a).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:r,transition:["background ".concat(n," ").concat(i),"transform ".concat(n," ").concat(i),"top ".concat(n," ").concat(i),"color ".concat(n," ").concat(i)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(".concat($u(e.calc(o).mul(-1).equal()),")")},"&::after":{transform:"rotate(-45deg) translateY(".concat($u(o),")")}}}}},Gw=e=>{const{antCls:t,componentCls:n,fontSize:i,motionDurationSlow:r,motionDurationMid:a,motionEaseInOut:o,paddingXS:s,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:h,menuArrowSize:p,menuArrowOffset:g,lineType:m,groupTitleLineHeight:v,groupTitleFontSize:b}=e;return[{"":{["".concat(n)]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},["".concat(n,"-submenu-hidden")]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:"width ".concat(r," cubic-bezier(0.2, 0, 0, 1) 0s"),"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",["".concat(n,"-item")]:{flex:"none"}},["".concat(n,"-item, ").concat(n,"-submenu, ").concat(n,"-submenu-title")]:{borderRadius:e.itemBorderRadius},["".concat(n,"-item-group-title")]:{padding:"".concat($u(s)," ").concat($u(l)),fontSize:b,lineHeight:v,transition:"all ".concat(r)},["&-horizontal ".concat(n,"-submenu")]:{transition:["border-color ".concat(r," ").concat(o),"background ".concat(r," ").concat(o)].join(",")},["".concat(n,"-submenu, ").concat(n,"-submenu-inline")]:{transition:["border-color ".concat(r," ").concat(o),"background ".concat(r," ").concat(o),"padding ".concat(a," ").concat(o)].join(",")},["".concat(n,"-submenu ").concat(n,"-sub")]:{cursor:"initial",transition:["background ".concat(r," ").concat(o),"padding ".concat(r," ").concat(o)].join(",")},["".concat(n,"-title-content")]:{transition:"color ".concat(r),["> ".concat(t,"-typography-ellipsis-single-line")]:{display:"inline",verticalAlign:"unset"}},["".concat(n,"-item a")]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},["".concat(n,"-item-divider")]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:m,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Vw(e)),{["".concat(n,"-item-group")]:{["".concat(n,"-item-group-list")]:{margin:0,padding:0,["".concat(n,"-item, ").concat(n,"-submenu-title")]:{paddingInline:"".concat($u(e.calc(i).mul(2).equal())," ").concat($u(l))}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",["&".concat(n,"-submenu")]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},["> ".concat(n)]:Object.assign(Object.assign(Object.assign({borderRadius:f},Vw(e)),Hw(e)),{["".concat(n,"-item, ").concat(n,"-submenu > ").concat(n,"-submenu-title")]:{borderRadius:h},["".concat(n,"-submenu-title::after")]:{transition:"transform ".concat(r," ").concat(o)}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Hw(e)),{["&-inline-collapsed ".concat(n,"-submenu-arrow,\n        &-inline ").concat(n,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateX(".concat($u(g),")")},"&::after":{transform:"rotate(45deg) translateX(".concat($u(e.calc(g).mul(-1).equal()),")")}},["".concat(n,"-submenu-open").concat(n,"-submenu-inline > ").concat(n,"-submenu-title > ").concat(n,"-submenu-arrow")]:{transform:"translateY(".concat($u(e.calc(p).mul(.2).mul(-1).equal()),")"),"&::after":{transform:"rotate(-45deg) translateX(".concat($u(e.calc(g).mul(-1).equal()),")")},"&::before":{transform:"rotate(45deg) translateX(".concat($u(g),")")}}})},{["".concat(t,"-layout-header")]:{[n]:{lineHeight:"inherit"}}}]},Yw=e=>{var t,n,i;const{colorPrimary:r,colorError:a,colorTextDisabled:o,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:h,lineWidthBold:p,controlItemBgActive:g,colorBgTextHover:m,controlHeightLG:v,lineHeight:b,colorBgElevated:y,marginXXS:C,padding:w,fontSize:S,controlHeightSM:I,fontSizeLG:T,colorTextLightSolid:E,colorErrorHover:M}=e,R=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,A=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:h,k=null!==(i=e.itemMarginInline)&&void 0!==i?i:e.marginXXS,x=new Yh(E).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:r,horizontalItemHoverColor:r,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:r,itemSelectedColor:r,colorItemTextSelectedHorizontal:r,horizontalItemSelectedColor:r,colorItemBg:u,itemBg:u,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:f,itemActiveBg:g,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:g,itemSelectedBg:g,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:R,colorActiveBarHeight:p,activeBarHeight:p,colorActiveBarBorderSize:h,activeBarBorderWidth:A,colorItemTextDisabled:o,itemDisabledColor:o,colorDangerItemText:a,dangerItemColor:a,colorDangerItemTextHover:a,dangerItemHoverColor:a,colorDangerItemTextSelected:a,dangerItemSelectedColor:a,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:k,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:b,collapsedWidth:2*v,popupBg:y,itemMarginBlock:C,itemPaddingInline:w,horizontalLineHeight:"".concat(1.15*v,"px"),iconSize:S,iconMarginInlineEnd:I-S,collapsedIconSize:T,groupTitleFontSize:S,darkItemDisabledColor:new Yh(E).setAlpha(.25).toRgbString(),darkItemColor:x,darkDangerItemColor:a,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:E,darkItemSelectedBg:r,darkDangerItemSelectedBg:a,darkItemHoverBg:"transparent",darkGroupTitleColor:x,darkItemHoverColor:E,darkDangerItemHoverColor:M,darkDangerItemSelectedColor:E,darkDangerItemActiveBg:a,itemWidth:R?"calc(100% + ".concat(A,"px)"):"calc(100% - ".concat(2*k,"px)")}},Jw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=Dp("Menu",(e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:i,darkItemColor:r,darkDangerItemColor:a,darkItemBg:o,darkSubMenuItemBg:s,darkItemSelectedColor:l,darkItemSelectedBg:c,darkDangerItemSelectedBg:u,darkItemHoverBg:d,darkGroupTitleColor:f,darkItemHoverColor:h,darkItemDisabledColor:p,darkDangerItemHoverColor:g,darkDangerItemSelectedColor:m,darkDangerItemActiveBg:v,popupBg:b,darkPopupBg:y}=e,C=e.calc(i).div(7).mul(5).equal(),w=Sp(e,{menuArrowSize:C,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(C).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:b}),S=Sp(w,{itemColor:r,itemHoverColor:h,groupTitleColor:f,itemSelectedColor:l,itemBg:o,popupBg:y,subMenuItemBg:s,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:d,itemDisabledColor:p,dangerItemColor:a,dangerItemHoverColor:g,dangerItemSelectedColor:m,dangerItemActiveBg:v,dangerItemSelectedBg:u,menuSubMenuBg:s,horizontalItemSelectedColor:l,horizontalItemSelectedBg:c});return[Gw(w),Pw(w),Ww(w),Bw(w,"light"),Bw(S,"dark"),Uw(w),Mw(w),jw(w,"slide-up"),jw(w,"slide-down"),iw(w,"zoom-big")]}),Yw,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],unitless:{groupTitleLineHeight:!0}});return n(e,t)};var Qw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function qw(e){return null===e||!1===e}const Xw=(0,i.forwardRef)(((e,t)=>{var n;const r=i.useContext(Ew),a=r||{},{getPrefixCls:o,getPopupContainer:s,direction:l,menu:c}=i.useContext(Xc),u=o(),{prefixCls:d,className:f,style:h,theme:p="light",expandIcon:g,_internalDisableMenuItemTitleTooltip:m,inlineCollapsed:v,siderCollapsed:b,items:y,children:C,rootClassName:w,mode:S,selectable:I,onClick:T,overflowedIndicatorPopupClassName:E}=e,M=vv(Qw(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]),R=ww(y)||C;null===(n=a.validator)||void 0===n||n.call(a,{mode:S});const A=Vf((function(){var e;null===T||void 0===T||T.apply(void 0,arguments),null===(e=a.onClick)||void 0===e||e.call(a)})),k=a.mode||S,x=null!==I&&void 0!==I?I:a.selectable,D=i.useMemo((()=>void 0!==b?b:v),[v,b]),O={horizontal:{motionName:"".concat(u,"-slide-up")},inline:TC(u),other:{motionName:"".concat(u,"-zoom-big")}},L=o("menu",d||a.prefixCls),_=EC(L),[N,j,P]=Jw(L,_,!r),U=Bl()("".concat(L,"-").concat(p),null===c||void 0===c?void 0:c.className,f),F=i.useMemo((()=>{var e,t;if("function"===typeof g||qw(g))return g||null;if("function"===typeof a.expandIcon||qw(a.expandIcon))return a.expandIcon||null;if("function"===typeof(null===c||void 0===c?void 0:c.expandIcon)||qw(null===c||void 0===c?void 0:c.expandIcon))return(null===c||void 0===c?void 0:c.expandIcon)||null;const n=null!==(e=null!==g&&void 0!==g?g:null===a||void 0===a?void 0:a.expandIcon)&&void 0!==e?e:null===c||void 0===c?void 0:c.expandIcon;return Eb(n,{className:Bl()("".concat(L,"-submenu-expand-icon"),i.isValidElement(n)?null===(t=n.props)||void 0===t?void 0:t.className:void 0)})}),[g,null===a||void 0===a?void 0:a.expandIcon,null===c||void 0===c?void 0:c.expandIcon,L]),B=i.useMemo((()=>({prefixCls:L,inlineCollapsed:D||!1,direction:l,firstLevel:!0,theme:p,mode:k,disableMenuItemTitleTooltip:m})),[L,D,l,m,p]);return N(i.createElement(Ew.Provider,{value:null},i.createElement(mw.Provider,{value:B},i.createElement(pC,Object.assign({getPopupContainer:s,overflowedIndicator:i.createElement(bC,null),overflowedIndicatorPopupClassName:Bl()(L,"".concat(L,"-").concat(p),E),mode:k,selectable:x,onClick:A},M,{inlineCollapsed:D,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),h),className:U,prefixCls:L,direction:l,defaultMotions:O,expandIcon:F,ref:t,rootClassName:Bl()(w,j,a.rootClassName,P,_)}),R))))})),Kw=Xw,Zw=(0,i.forwardRef)(((e,t)=>{const n=(0,i.useRef)(null),r=i.useContext(gC);return(0,i.useImperativeHandle)(t,(()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}}))),i.createElement(Kw,Object.assign({ref:n},e,r))}));Zw.Item=vw,Zw.SubMenu=bw,Zw.Divider=RC,Zw.ItemGroup=aC;const $w=Zw,eS=new Nf("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tS=new Nf("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),nS=new Nf("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),iS=new Nf("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),rS=new Nf("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),aS=new Nf("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),oS={"move-up":{inKeyframes:new Nf("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Nf("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:eS,outKeyframes:tS},"move-left":{inKeyframes:nS,outKeyframes:iS},"move-right":{inKeyframes:rS,outKeyframes:aS}},sS=(e,t)=>{const{antCls:n}=e,i="".concat(n,"-").concat(t),{inKeyframes:r,outKeyframes:a}=oS[t];return[qC(i,r,a,e.motionDurationMid),{["\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      ")]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},["".concat(i,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},lS=e=>{const{componentCls:t,menuCls:n,colorError:i,colorTextLightSolid:r}=e,a="".concat(n,"-item");return{["".concat(t,", ").concat(t,"-menu-submenu")]:{["".concat(n," ").concat(a)]:{["&".concat(a,"-danger:not(").concat(a,"-disabled)")]:{color:i,"&:hover":{color:r,backgroundColor:i}}}}}},cS=e=>{const{componentCls:t,menuCls:n,zIndexPopup:i,dropdownArrowDistance:r,sizePopupArrow:a,antCls:o,iconCls:s,motionDurationMid:l,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:h,controlPaddingHorizontal:p,colorBgElevated:g}=e;return[{[t]:Object.assign(Object.assign({},Uf(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},["&-trigger".concat(o,"-btn")]:{["& > ".concat(s,"-down, & > ").concat(o,"-btn-icon > ").concat(s,"-down")]:{fontSize:h}},["".concat(t,"-wrap")]:{position:"relative",["".concat(o,"-btn > ").concat(s,"-down")]:{fontSize:h},["".concat(s,"-down::before")]:{transition:"transform ".concat(l)}},["".concat(t,"-wrap-open")]:{["".concat(s,"-down::before")]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},["&".concat(o,"-slide-down-enter").concat(o,"-slide-down-enter-active").concat(t,"-placement-bottomLeft,\n          &").concat(o,"-slide-down-appear").concat(o,"-slide-down-appear-active").concat(t,"-placement-bottomLeft,\n          &").concat(o,"-slide-down-enter").concat(o,"-slide-down-enter-active").concat(t,"-placement-bottom,\n          &").concat(o,"-slide-down-appear").concat(o,"-slide-down-appear-active").concat(t,"-placement-bottom,\n          &").concat(o,"-slide-down-enter").concat(o,"-slide-down-enter-active").concat(t,"-placement-bottomRight,\n          &").concat(o,"-slide-down-appear").concat(o,"-slide-down-appear-active").concat(t,"-placement-bottomRight")]:{animationName:Rw},["&".concat(o,"-slide-up-enter").concat(o,"-slide-up-enter-active").concat(t,"-placement-topLeft,\n          &").concat(o,"-slide-up-appear").concat(o,"-slide-up-appear-active").concat(t,"-placement-topLeft,\n          &").concat(o,"-slide-up-enter").concat(o,"-slide-up-enter-active").concat(t,"-placement-top,\n          &").concat(o,"-slide-up-appear").concat(o,"-slide-up-appear-active").concat(t,"-placement-top,\n          &").concat(o,"-slide-up-enter").concat(o,"-slide-up-enter-active").concat(t,"-placement-topRight,\n          &").concat(o,"-slide-up-appear").concat(o,"-slide-up-appear-active").concat(t,"-placement-topRight")]:{animationName:kw},["&".concat(o,"-slide-down-leave").concat(o,"-slide-down-leave-active").concat(t,"-placement-bottomLeft,\n          &").concat(o,"-slide-down-leave").concat(o,"-slide-down-leave-active").concat(t,"-placement-bottom,\n          &").concat(o,"-slide-down-leave").concat(o,"-slide-down-leave-active").concat(t,"-placement-bottomRight")]:{animationName:Aw},["&".concat(o,"-slide-up-leave").concat(o,"-slide-up-leave-active").concat(t,"-placement-topLeft,\n          &").concat(o,"-slide-up-leave").concat(o,"-slide-up-leave-active").concat(t,"-placement-top,\n          &").concat(o,"-slide-up-leave").concat(o,"-slide-up-leave-active").concat(t,"-placement-topRight")]:{animationName:xw}})},Av(e,g,{arrowPlacement:{top:!0,bottom:!0}}),{["".concat(t," ").concat(n)]:{position:"relative",margin:0},["".concat(n,"-submenu-popup")]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},["".concat(t,", ").concat(t,"-menu-submenu")]:{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:g,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},Wf(e)),{"&:empty":{padding:0,boxShadow:"none"},["".concat(n,"-item-group-title")]:{padding:"".concat($u(c)," ").concat($u(p)),color:e.colorTextDescription,transition:"all ".concat(l)},["".concat(n,"-item")]:{position:"relative",display:"flex",alignItems:"center"},["".concat(n,"-item-icon")]:{minWidth:u,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},["".concat(n,"-title-content")]:{flex:"auto","> a":{color:"inherit",transition:"all ".concat(l),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:Object.assign(Object.assign({clear:"both",margin:0,padding:"".concat($u(c)," ").concat($u(p)),color:e.colorText,fontWeight:"normal",fontSize:u,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(l),borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},Wf(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:g,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat($u(e.marginXXS)," 0"),overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},["".concat(t,"-menu-submenu-expand-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,["".concat(t,"-menu-submenu-arrow-icon")]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:h,fontStyle:"normal"}}}),["".concat(n,"-item-group-list")]:{margin:"0 ".concat($u(e.marginXS)),padding:0,listStyle:"none"},["".concat(n,"-submenu-title")]:{paddingInlineEnd:e.calc(p).add(e.fontSizeSM).equal()},["".concat(n,"-submenu-vertical")]:{position:"relative"},["".concat(n,"-submenu").concat(n,"-submenu-disabled ").concat(t,"-menu-submenu-title")]:{["&, ".concat(t,"-menu-submenu-arrow-icon")]:{color:f,backgroundColor:g,cursor:"not-allowed"}},["".concat(n,"-submenu-selected ").concat(t,"-menu-submenu-title")]:{color:e.colorPrimary}})}},[jw(e,"slide-up"),jw(e,"slide-down"),sS(e,"move-up"),sS(e,"move-down"),iw(e,"zoom-big")]]},uS=Dp("Dropdown",(e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:i,componentCls:r}=e,a=Sp(e,{menuCls:"".concat(r,"-menu"),dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:i});return[cS(a),lS(a)]}),(e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},Mv({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),Iv(e)))),dS=e=>{const{menu:t,arrow:n,prefixCls:r,children:a,trigger:o,disabled:s,dropdownRender:l,getPopupContainer:c,overlayClassName:u,rootClassName:d,overlayStyle:f,open:h,onOpenChange:p,visible:g,onVisibleChange:m,mouseEnterDelay:v=.15,mouseLeaveDelay:b=.1,autoAdjustOverflow:y=!0,placement:C="",overlay:w,transitionName:S}=e,{getPopupContainer:I,getPrefixCls:T,direction:E,dropdown:M}=i.useContext(Xc);Nv("Dropdown");const R=i.useMemo((()=>{const e=T();return void 0!==S?S:C.includes("top")?"".concat(e,"-slide-down"):"".concat(e,"-slide-up")}),[T,C,S]),A=i.useMemo((()=>C?C.includes("Center")?C.slice(0,C.indexOf("Center")):C:"rtl"===E?"bottomRight":"bottomLeft"),[C,E]);const k=T("dropdown",r),x=EC(k),[D,O,L]=uS(k,x),[,_]=fp(),N=i.Children.only(a),j=Eb(N,{className:Bl()("".concat(k,"-trigger"),{["".concat(k,"-rtl")]:"rtl"===E},N.props.className),disabled:s}),P=s?[]:o;let U;P&&P.includes("contextMenu")&&(U=!0);const[F,B]=Yf(!1,{value:null!==h&&void 0!==h?h:g}),z=Vf((e=>{null===p||void 0===p||p(e,{source:"trigger"}),null===m||void 0===m||m(e),B(e)})),W=Bl()(u,d,O,L,x,null===M||void 0===M?void 0:M.className,{["".concat(k,"-rtl")]:"rtl"===E}),V=Ov({arrowPointAtCenter:"object"===typeof n&&n.pointAtCenter,autoAdjustOverflow:y,offset:_.marginXXS,arrowWidth:n?_.sizePopupArrow:0,borderRadius:_.borderRadius}),H=i.useCallback((()=>{(null===t||void 0===t?void 0:t.selectable)&&(null===t||void 0===t?void 0:t.multiple)||(null===p||void 0===p||p(!1,{source:"menu"}),B(!1))}),[null===t||void 0===t?void 0:t.selectable,null===t||void 0===t?void 0:t.multiple]),[G,Y]=Sv("Dropdown",null===f||void 0===f?void 0:f.zIndex);let J=i.createElement(mv,Object.assign({alignPoint:U},vv(e,["rootClassName"]),{mouseEnterDelay:v,mouseLeaveDelay:b,visible:F,builtinPlacements:V,arrow:!!n,overlayClassName:W,prefixCls:k,getPopupContainer:c||I,transitionName:R,trigger:P,overlay:()=>{let e;return e=(null===t||void 0===t?void 0:t.items)?i.createElement($w,Object.assign({},t)):"function"===typeof w?w():w,l&&(e=l(e)),e=i.Children.only("string"===typeof e?i.createElement("span",null,e):e),i.createElement(Tw,{prefixCls:"".concat(k,"-menu"),rootClassName:Bl()(L,x),expandIcon:i.createElement("span",{className:"".concat(k,"-menu-submenu-arrow")},i.createElement(lg,{className:"".concat(k,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:H,validator:e=>{let{mode:t}=e}},e)},placement:A,onVisibleChange:z,overlayStyle:Object.assign(Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),f),{zIndex:G})}),j);return G&&(J=i.createElement(bv.Provider,{value:Y},J)),D(J)};const fS=Sb(dS,"dropdown",(e=>e),(function(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}));dS._InternalPanelDoNotUseOrYouWillBeFired=e=>i.createElement(fS,Object.assign({},e),i.createElement("span",null));const hS=dS,pS=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow 0.3s ".concat(e.motionEaseInOut),"opacity 0.35s ".concat(e.motionEaseInOut)].join(",")}}}}},gS=kp("Wave",(e=>[pS(e)]));function mS(){mS=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(i||[]);return r(o,"_invoke",{value:M(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",g="completed",m={};function v(){}function b(){}function y(){}var C={};c(C,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(D([])));S&&S!==n&&i.call(S,o)&&(C=S);var I=y.prototype=v.prototype=Object.create(C);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,a,o,s){var l=d(e[r],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==yi(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function M(t,n,i){var r=f;return function(a,o){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=R(s,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=d(t,n,i);if("normal"===c.type){if(r=i.done?g:h,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function R(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=d(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(yi(t)+" is not iterable")}return b.prototype=y,r(I,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},T(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new E(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(I),c(I,l,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function vS(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function bS(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){vS(a,i,r,o,s,"next",e)}function s(e){vS(a,i,r,o,s,"throw",e)}o(void 0)}))}}var yS,CS=Tl({},u),wS=CS.version,SS=CS.render,IS=CS.unmountComponentAtNode;try{Number((wS||"").split(".")[0])>=18&&(yS=CS.createRoot)}catch(nn){}function TS(e){var t=CS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===yi(t)&&(t.usingClientEntryPoint=e)}var ES="__rc_react_root__";function MS(e,t){yS?function(e,t){TS(!0);var n=t[ES]||yS(t);TS(!1),n.render(e),t[ES]=n}(e,t):function(e,t){SS(e,t)}(e,t)}function RS(e){return AS.apply(this,arguments)}function AS(){return(AS=bS(mS().mark((function e(t){return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[ES])||void 0===e||e.unmount(),delete t[ES]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kS(e){IS(e)}function xS(e){return DS.apply(this,arguments)}function DS(){return(DS=bS(mS().mark((function e(t){return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===yS){e.next=2;break}return e.abrupt("return",RS(t));case 2:kS(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OS(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}const LS="ant-wave-target";function _S(e){return Number.isNaN(e)?0:e}const NS=e=>{const{className:t,target:n,component:r}=e,a=i.useRef(null),[o,s]=i.useState(null),[l,c]=i.useState([]),[u,d]=i.useState(0),[f,h]=i.useState(0),[p,g]=i.useState(0),[m,v]=i.useState(0),[b,y]=i.useState(!1),C={left:u,top:f,width:p,height:m,borderRadius:l.map((e=>"".concat(e,"px"))).join(" ")};function w(){const e=getComputedStyle(n);s(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:i}=getComputedStyle(e);return OS(t)?t:OS(n)?n:OS(i)?i:null}(n));const t="static"===e.position,{borderLeftWidth:i,borderTopWidth:r}=e;d(t?n.offsetLeft:_S(-parseFloat(i))),h(t?n.offsetTop:_S(-parseFloat(r))),g(n.offsetWidth),v(n.offsetHeight);const{borderTopLeftRadius:a,borderTopRightRadius:o,borderBottomLeftRadius:l,borderBottomRightRadius:u}=e;c([a,o,u,l].map((e=>_S(parseFloat(e)))))}if(o&&(C["--wave-color"]=o),i.useEffect((()=>{if(n){const e=mm((()=>{w(),y(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(w),t.observe(n)),()=>{mm.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!b)return null;const S=("Checkbox"===r||"Radio"===r)&&(null===n||void 0===n?void 0:n.classList.contains(LS));return i.createElement(Lm,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=a.current)||void 0===n?void 0:n.parentElement;xS(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},(e=>{let{className:n}=e;return i.createElement("div",{ref:a,className:Bl()(t,{"wave-quick":S},n),style:C})}))},jS=(e,t)=>{var n;const{component:r}=t;if("Checkbox"===r&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",null===e||void 0===e||e.insertBefore(a,null===e||void 0===e?void 0:e.firstChild),MS(i.createElement(NS,Object.assign({},t,{target:e})),a)};const PS=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:a}=(0,i.useContext)(Xc),o=(0,i.useRef)(null),s=a("wave"),[,l]=gS(s),c=function(e,t,n){const{wave:r}=i.useContext(Xc),[,a,o]=fp(),s=Vf((i=>{const s=e.current;if((null===r||void 0===r?void 0:r.disabled)||!s)return;const l=s.querySelector(".".concat(LS))||s,{showEffect:c}=r||{};(c||jS)(l,{className:t,token:a,component:n,event:i,hashId:o})})),l=i.useRef();return e=>{mm.cancel(l.current),l.current=mm((()=>{s(e)}))}}(o,Bl()(s,l),r);if(i.useEffect((()=>{const e=o.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!Hm(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[n]),!i.isValidElement(t))return null!==t&&void 0!==t?t:null;return Eb(t,{ref:Kf(t)?qf(t.ref,o):o})};var US=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const FS=i.createContext(void 0),BS=e=>{const{getPrefixCls:t,direction:n}=i.useContext(Xc),{prefixCls:r,size:a,className:o}=e,s=US(e,["prefixCls","size","className"]),l=t("btn-group",r),[,,c]=fp();let u="";switch(a){case"large":u="lg";break;case"small":u="sm"}const d=Bl()(l,{["".concat(l,"-").concat(u)]:u,["".concat(l,"-rtl")]:"rtl"===n},o,c);return i.createElement(FS.Provider,{value:a},i.createElement("div",Object.assign({},s,{className:d})))},zS=/^[\u4e00-\u9fa5]{2}$/,WS=zS.test.bind(zS);function VS(e){return"danger"===e?{danger:!0}:{type:e}}function HS(e){return"string"===typeof e}function GS(e){return"text"===e||"link"===e}function YS(e,t){let n=!1;const r=[];return i.Children.forEach(e,(e=>{const t=typeof e,i="string"===t||"number"===t;if(n&&i){const t=r.length-1,n=r[t];r[t]="".concat(n).concat(e)}else r.push(e);n=i})),i.Children.map(r,(e=>function(e,t){if(null===e||void 0===e)return;const n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&HS(e.type)&&WS(e.props.children)?Eb(e,{children:e.props.children.split("").join(n)}):HS(e)?WS(e)?i.createElement("span",null,e.split("").join(n)):i.createElement("span",null,e):Ib(e)?i.createElement("span",null,e):e}(e,t)))}const JS=(0,i.forwardRef)(((e,t)=>{const{className:n,style:r,children:a,prefixCls:o}=e,s=Bl()("".concat(o,"-icon"),n);return i.createElement("span",{ref:t,className:s,style:r},a)})),QS=JS;const qS={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var XS=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:qS}))};const KS=i.forwardRef(XS),ZS=(0,i.forwardRef)(((e,t)=>{let{prefixCls:n,className:r,style:a,iconClassName:o}=e;const s=Bl()("".concat(n,"-loading-icon"),r);return i.createElement(QS,{prefixCls:n,className:s,style:a,ref:t},i.createElement(KS,{className:o}))})),$S=()=>({width:0,opacity:0,transform:"scale(0)"}),eI=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),tI=e=>{const{prefixCls:t,loading:n,existIcon:r,className:a,style:o}=e,s=!!n;return r?i.createElement(ZS,{prefixCls:t,className:a,style:o}):i.createElement(Lm,{visible:s,motionName:"".concat(t,"-loading-icon-motion"),motionLeave:s,removeOnLeave:!0,onAppearStart:$S,onAppearActive:eI,onEnterStart:$S,onEnterActive:eI,onLeaveStart:eI,onLeaveActive:$S},((e,n)=>{let{className:r,style:s}=e;return i.createElement(ZS,{prefixCls:t,className:a,style:Object.assign(Object.assign({},o),s),ref:n,iconClassName:r})}))},nI=(e,t)=>({["> span, > ".concat(e)]:{"&:not(:last-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),iI=e=>{const{componentCls:t,fontSize:n,lineWidth:i,groupBorderColor:r,colorErrorHover:a}=e;return{["".concat(t,"-group")]:[{position:"relative",display:"inline-flex",["> span, > ".concat(t)]:{"&:not(:last-child)":{["&, & > ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(i).mul(-1).equal(),["&, & > ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},["".concat(t,"-icon-only")]:{fontSize:n}},nI("".concat(t,"-primary"),r),nI("".concat(t,"-danger"),a)]}},rI=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:i}=e;return Sp(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:i,buttonIconOnlyFontSize:n})},aI=e=>{var t,n,i,r,a,o;const s=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(i=e.contentFontSizeLG)&&void 0!==i?i:e.fontSizeLG,u=null!==(r=e.contentLineHeight)&&void 0!==r?r:Zh(s),d=null!==(a=e.contentLineHeightSM)&&void 0!==a?a:Zh(l),f=null!==(o=e.contentLineHeightLG)&&void 0!==o?o:Zh(c);return{fontWeight:400,defaultShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline),primaryShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline),dangerShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline),primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((e.controlHeight-s*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*f)/2-e.lineWidth,0)}},oI=e=>{const{componentCls:t,iconCls:n,fontWeight:i}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:"".concat($u(e.lineWidth)," ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},["".concat(t,"-icon")]:{lineHeight:0},["> ".concat(n," + span, > span + ").concat(n)]:{marginInlineStart:e.marginXS},["&:not(".concat(t,"-icon-only) > ").concat(t,"-icon")]:{["&".concat(t,"-loading-icon, &:not(:last-child)")]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Wf(e)),["&".concat(t,"-two-chinese-chars::first-letter")]:{letterSpacing:"0.34em"},["&".concat(t,"-two-chinese-chars > *:not(").concat(n,")")]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},["&-icon-only".concat(t,"-compact-item")]:{flex:"none"}}}},sI=(e,t,n)=>({["&:not(:disabled):not(".concat(e,"-disabled)")]:{"&:hover":t,"&:active":n}}),lI=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),cI=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),uI=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),dI=(e,t,n,i,r,a,o,s)=>({["&".concat(e,"-background-ghost")]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:i||void 0,boxShadow:"none"},sI(e,Object.assign({background:t},o),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:a||void 0}})}),fI=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:Object.assign({},uI(e))}),hI=e=>Object.assign({},fI(e)),pI=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:{cursor:"not-allowed",color:e.colorTextDisabled}}),gI=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hI(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),sI(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),dI(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},sI(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),dI(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),fI(e))}),mI=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hI(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),sI(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),dI(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},sI(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),dI(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),fI(e))}),vI=e=>Object.assign(Object.assign({},gI(e)),{borderStyle:"dashed"}),bI=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},sI(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),pI(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},sI(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),pI(e))}),yI=e=>Object.assign(Object.assign(Object.assign({},sI(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),pI(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},pI(e)),sI(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),CI=e=>{const{componentCls:t}=e;return{["".concat(t,"-default")]:gI(e),["".concat(t,"-primary")]:mI(e),["".concat(t,"-dashed")]:vI(e),["".concat(t,"-link")]:bI(e),["".concat(t,"-text")]:yI(e),["".concat(t,"-ghost")]:dI(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},wI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:i,fontSize:r,lineHeight:a,borderRadius:o,buttonPaddingHorizontal:s,iconCls:l,buttonPaddingVertical:c}=e,u="".concat(n,"-icon-only");return[{["".concat(t)]:{fontSize:r,lineHeight:a,height:i,padding:"".concat($u(c)," ").concat($u(s)),borderRadius:o,["&".concat(u)]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,["&".concat(n,"-round")]:{width:"auto"},[l]:{fontSize:e.buttonIconOnlyFontSize}},["&".concat(n,"-loading")]:{opacity:e.opacityLoading,cursor:"default"},["".concat(n,"-loading-icon")]:{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}}},{["".concat(n).concat(n,"-circle").concat(t)]:lI(e)},{["".concat(n).concat(n,"-round").concat(t)]:cI(e)}]},SI=e=>{const t=Sp(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return wI(t,e.componentCls)},II=e=>{const t=Sp(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return wI(t,"".concat(e.componentCls,"-sm"))},TI=e=>{const t=Sp(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return wI(t,"".concat(e.componentCls,"-lg"))},EI=e=>{const{componentCls:t}=e;return{[t]:{["&".concat(t,"-block")]:{width:"100%"}}}},MI=Dp("Button",(e=>{const t=rI(e);return[oI(t),SI(t),II(t),TI(t),EI(t),CI(t),iI(t)]}),aI,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function RI(e,t,n){const{focusElCls:i,focus:r,borderElCls:a}=n,o=a?"> *":"",s=["hover",r?"focus":null,"active"].filter(Boolean).map((e=>"&:".concat(e," ").concat(o))).join(",");return{["&-item:not(".concat(t,"-last-item)")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},i?{["&".concat(i)]:{zIndex:2}}:{}),{["&[disabled] ".concat(o)]:{zIndex:0}})}}function AI(e,t,n){const{borderElCls:i}=n,r=i?"> ".concat(i):"";return{["&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(r)]:{borderRadius:0},["&-item:not(".concat(t,"-last-item)").concat(t,"-first-item")]:{["& ".concat(r,", &").concat(e,"-sm ").concat(r,", &").concat(e,"-lg ").concat(r)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(t,"-first-item)").concat(t,"-last-item")]:{["& ".concat(r,", &").concat(e,"-sm ").concat(r,", &").concat(e,"-lg ").concat(r)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function kI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,i="".concat(n,"-compact");return{[i]:Object.assign(Object.assign({},RI(e,i,t)),AI(n,i,t))}}function xI(e,t){return{["&-item:not(".concat(t,"-last-item)")]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function DI(e){const t="".concat(e.componentCls,"-compact-vertical");return{[t]:Object.assign(Object.assign({},xI(e,t)),(n=e.componentCls,i=t,{["&-item:not(".concat(i,"-first-item):not(").concat(i,"-last-item)")]:{borderRadius:0},["&-item".concat(i,"-first-item:not(").concat(i,"-last-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderEndEndRadius:0,borderEndStartRadius:0}},["&-item".concat(i,"-last-item:not(").concat(i,"-first-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,i}const OI=e=>{const{componentCls:t,calc:n}=e;return{[t]:{["&-compact-item".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat($u(e.lineWidth)," * 2)"),backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{["&".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-vertical-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:"calc(100% + ".concat($u(e.lineWidth)," * 2)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},LI=xp(["Button","compact"],(e=>{const t=rI(e);return[kI(t),DI(t),OI(t)]}),aI);var _I=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const NI=(e,t)=>{var n,r;const{loading:a=!1,prefixCls:o,type:s,danger:l,shape:c="default",size:u,styles:d,disabled:f,className:h,rootClassName:p,children:g,icon:m,ghost:v=!1,block:b=!1,htmlType:y="button",classNames:C,style:w={}}=e,S=_I(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),I=s||"default",{getPrefixCls:T,autoInsertSpaceInButton:E,direction:M,button:R}=(0,i.useContext)(Xc),A=T("btn",o),[k,x,D]=MI(A),O=(0,i.useContext)($v),L=null!==f&&void 0!==f?f:O,_=(0,i.useContext)(FS),N=(0,i.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(a)),[a]),[j,P]=(0,i.useState)(N.loading),[U,F]=(0,i.useState)(!1),B=qf(t,(0,i.createRef)()),z=1===i.Children.count(g)&&!m&&!GS(I);(0,i.useEffect)((()=>{let e=null;return N.delay>0?e=setTimeout((()=>{e=null,P(!0)}),N.delay):P(N.loading),function(){e&&(clearTimeout(e),e=null)}}),[N]),(0,i.useEffect)((()=>{if(!B||!B.current||!1===E)return;const e=B.current.textContent;z&&WS(e)?U||F(!0):U&&F(!1)}),[B]);const W=t=>{const{onClick:n}=e;j||L?t.preventDefault():null===n||void 0===n||n(t)};const V=!1!==E,{compactSize:H,compactItemClassnames:G}=VC(A,M),Y={large:"lg",small:"sm",middle:void 0},J=jC((e=>{var t,n;return null!==(n=null!==(t=null!==u&&void 0!==u?u:H)&&void 0!==t?t:_)&&void 0!==n?n:e})),Q=J&&Y[J]||"",q=j?"loading":m,X=vv(S,["navigate"]),K=Bl()(A,x,D,{["".concat(A,"-").concat(c)]:"default"!==c&&c,["".concat(A,"-").concat(I)]:I,["".concat(A,"-").concat(Q)]:Q,["".concat(A,"-icon-only")]:!g&&0!==g&&!!q,["".concat(A,"-background-ghost")]:v&&!GS(I),["".concat(A,"-loading")]:j,["".concat(A,"-two-chinese-chars")]:U&&V&&!j,["".concat(A,"-block")]:b,["".concat(A,"-dangerous")]:!!l,["".concat(A,"-rtl")]:"rtl"===M},G,h,p,null===R||void 0===R?void 0:R.className),Z=Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),w),$=Bl()(null===C||void 0===C?void 0:C.icon,null===(n=null===R||void 0===R?void 0:R.classNames)||void 0===n?void 0:n.icon),ee=Object.assign(Object.assign({},(null===d||void 0===d?void 0:d.icon)||{}),(null===(r=null===R||void 0===R?void 0:R.styles)||void 0===r?void 0:r.icon)||{}),te=m&&!j?i.createElement(QS,{prefixCls:A,className:$,style:ee},m):i.createElement(tI,{existIcon:!!m,prefixCls:A,loading:!!j}),ne=g||0===g?YS(g,z&&V):null;if(void 0!==X.href)return k(i.createElement("a",Object.assign({},X,{className:Bl()(K,{["".concat(A,"-disabled")]:L}),href:L?void 0:X.href,style:Z,onClick:W,ref:B,tabIndex:L?-1:0}),te,ne));let ie=i.createElement("button",Object.assign({},S,{type:y,className:K,style:Z,onClick:W,disabled:L,ref:B}),te,ne,!!G&&i.createElement(LI,{key:"compact",prefixCls:A}));return GS(I)||(ie=i.createElement(PS,{component:"Button",disabled:!!j},ie)),k(ie)},jI=(0,i.forwardRef)(NI);jI.Group=BS,jI.__ANT_BUTTON=!0;const PI=jI;function UI(e){return["small","middle","large"].includes(e)}function FI(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}const BI=i.createContext({latestIndex:0}),zI=BI.Provider,WI=e=>{let{className:t,index:n,children:r,split:a,style:o}=e;const{latestIndex:s}=i.useContext(BI);return null===r||void 0===r?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:o},r),n<s&&a&&i.createElement("span",{className:"".concat(t,"-split")},a))};var VI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const HI=i.forwardRef(((e,t)=>{var n,r;const{getPrefixCls:a,space:o,direction:s}=i.useContext(Xc),{size:l=(null===o||void 0===o?void 0:o.size)||"small",align:c,className:u,rootClassName:d,children:f,direction:h="horizontal",prefixCls:p,split:g,style:m,wrap:v=!1,classNames:b,styles:y}=e,C=VI(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[w,S]=Array.isArray(l)?l:[l,l],I=UI(S),T=UI(w),E=FI(S),M=FI(w),R=yg(f,{keepEmpty:!0}),A=void 0===c&&"horizontal"===h?"center":c,k=a("space",p),[x,D,O]=BC(k),L=Bl()(k,null===o||void 0===o?void 0:o.className,D,"".concat(k,"-").concat(h),{["".concat(k,"-rtl")]:"rtl"===s,["".concat(k,"-align-").concat(A)]:A,["".concat(k,"-gap-row-").concat(S)]:I,["".concat(k,"-gap-col-").concat(w)]:T},u,d,O),_=Bl()("".concat(k,"-item"),null!==(n=null===b||void 0===b?void 0:b.item)&&void 0!==n?n:null===(r=null===o||void 0===o?void 0:o.classNames)||void 0===r?void 0:r.item);let N=0;const j=R.map(((e,t)=>{var n,r;null!==e&&void 0!==e&&(N=t);const a=e&&e.key||"".concat(_,"-").concat(t);return i.createElement(WI,{className:_,key:a,index:t,split:g,style:null!==(n=null===y||void 0===y?void 0:y.item)&&void 0!==n?n:null===(r=null===o||void 0===o?void 0:o.styles)||void 0===r?void 0:r.item},e)})),P=i.useMemo((()=>({latestIndex:N})),[N]);if(0===R.length)return null;const U={};return v&&(U.flexWrap="wrap"),!T&&M&&(U.columnGap=w),!I&&E&&(U.rowGap=S),x(i.createElement("div",Object.assign({ref:t,className:L,style:Object.assign(Object.assign(Object.assign({},U),null===o||void 0===o?void 0:o.style),m)},C),i.createElement(zI,{value:P},j)))}));const GI=HI;GI.Compact=YC;const YI=GI;var JI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const QI=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=i.useContext(Xc),{prefixCls:a,type:o="default",danger:s,disabled:l,loading:c,onClick:u,htmlType:d,children:f,className:h,menu:p,arrow:g,autoFocus:m,overlay:v,trigger:b,align:y,open:C,onOpenChange:w,placement:S,getPopupContainer:I,href:T,icon:E=i.createElement(bC,null),title:M,buttonsRender:R=(e=>e),mouseEnterDelay:A,mouseLeaveDelay:k,overlayClassName:x,overlayStyle:D,destroyPopupOnHide:O,dropdownRender:L}=e,_=JI(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),N=n("dropdown",a),j="".concat(N,"-button"),P={menu:p,arrow:g,autoFocus:m,align:y,disabled:l,trigger:l?[]:b,onOpenChange:w,getPopupContainer:I||t,mouseEnterDelay:A,mouseLeaveDelay:k,overlayClassName:x,overlayStyle:D,destroyPopupOnHide:O,dropdownRender:L},{compactSize:U,compactItemClassnames:F}=VC(N,r),B=Bl()(j,F,h);"overlay"in e&&(P.overlay=v),"open"in e&&(P.open=C),P.placement="placement"in e?S:"rtl"===r?"bottomLeft":"bottomRight";const z=i.createElement(PI,{type:o,danger:s,disabled:l,loading:c,onClick:u,htmlType:d,href:T,title:M},f),W=i.createElement(PI,{type:o,danger:s,icon:E}),[V,H]=R([z,W]);return i.createElement(YI.Compact,Object.assign({className:B,size:U,block:!0},_),V,i.createElement(hS,Object.assign({},P),H))};QI.__ANT_BUTTON=!0;const qI=QI,XI=hS;XI.Button=qI;const KI=XI;function ZI(e){let{isOpen:t,setOpen:n}=e;const[r,a]=(0,i.useState)({content:""}),s=bo(),l=function(){n(!1),a({content:""})},c=function(){if(r.content.length){const e={route:"publishNote",payload:{note:r},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0,method:"POST"};hl(e).then((e=>{e.data.success?(bi.success(e.data.message),n(!1),function(){const e={route:"getMyNotes",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(e).then((e=>{e.data.success?s(_a(e.data.body)):bi.error(e.data.message)}))}()):bi.error(e.data.message)}))}l()};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(X,{tabIndex:"-1",open:t,setOpen:n,children:(0,o.jsx)(K,{size:"sm",centered:!0,children:(0,o.jsxs)(Z,{children:[(0,o.jsxs)($,{children:[(0,o.jsx)("span",{style:{width:"100%",textAlign:"center"},children:(0,o.jsx)(ee,{children:" Create a note "})}),(0,o.jsx)(m,{className:"btn-close",color:"none",onClick:l})]}),(0,o.jsx)(te,{style:{padding:"20px"},children:(0,o.jsx)(J,{autoComplete:"off",onKeyUp:e=>{"Enter"==e.key&&c()},value:r.content,onInput:function(e){a({...r,content:e.target.value})},id:"form5Example1",label:"Content"})}),(0,o.jsxs)(ne,{children:[(0,o.jsx)(m,{style:{background:"#5961F9",color:"white"},onClick:l,children:"Cancell"}),(0,o.jsx)(m,{style:{background:"#ED80FD"},onClick:c,children:"Publish"})]})]})})})})}const $I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var eT=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:$I}))};const tT=i.forwardRef(eT);const nT={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var iT=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:nT}))};const rT=i.forwardRef(iT);const aT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var oT=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:aT}))};const sT=i.forwardRef(oT);const lT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var cT=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:lT}))};const uT=i.forwardRef(cT),dT=(e,t)=>{const n=i.useContext(Jv),r=i.useMemo((()=>{var i;const r=t||Wv[e],a=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:{};return Object.assign(Object.assign({},"function"===typeof r?r():r),a||{})}),[e,t,n]);return[r,i.useMemo((()=>{const e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?Wv.locale:e}),[n])]};function fT(e){return!(!e||!e.then)}const hT=e=>{const{type:t,children:n,prefixCls:r,buttonProps:a,close:o,autoFocus:s,emitEvent:l,isSilent:c,quitOnNullishReturnValue:u,actionFn:d}=e,f=i.useRef(!1),h=i.useRef(null),[p,g]=Hf(!1),m=function(){null===o||void 0===o||o.apply(void 0,arguments)};i.useEffect((()=>{let e=null;return s&&(e=setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return i.createElement(PI,Object.assign({},VS(t),{onClick:e=>{if(f.current)return;if(f.current=!0,!d)return void m();let t;if(l){if(t=d(e),u&&!fT(t))return f.current=!1,void m(e)}else if(d.length)t=d(o),f.current=!1;else if(t=d(),!t)return void m();(e=>{fT(e)&&(g(!0),e.then((function(){g(!1,!0),m.apply(void 0,arguments),f.current=!1}),(e=>{if(g(!1,!0),f.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)})))})(t)},loading:p,prefixCls:r},a,{ref:h}),n)},pT=i.createContext({}),{Provider:gT}=pT,mT=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:s,onCancel:l,onConfirm:c}=(0,i.useContext)(pT);return a?i.createElement(hT,{isSilent:r,actionFn:l,close:function(){null===s||void 0===s||s.apply(void 0,arguments),null===c||void 0===c||c(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:"".concat(o,"-btn")},n):null},vT=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:s,onConfirm:l,onOk:c}=(0,i.useContext)(pT);return i.createElement(hT,{isSilent:n,type:s||"primary",actionFn:c,close:function(){null===t||void 0===t||t.apply(void 0,arguments),null===l||void 0===l||l(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:"".concat(a,"-btn")},o)};const bT={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var yT=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:bT}))};const CT=i.forwardRef(yT);var wT=i.createContext({}),ST="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),IT="aria-",TT="data-";function ET(e,t){return 0===e.indexOf(t)}function MT(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Tl({},n);var i={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||ET(n,IT))||t.data&&ET(n,TT)||t.attr&&ST.includes(n))&&(i[n]=e[n])})),i}function RT(e,t,n){var i=t;return!i&&n&&(i="".concat(e,"-").concat(n)),i}function AT(e,t){var n=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var r=e.document;"number"!==typeof(n=r.documentElement[i])&&(n=r.body[i])}return n}const kT=i.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var xT={width:0,height:0,overflow:"hidden",outline:"none"},DT={outline:"none"},OT=i.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,a=e.style,o=e.title,s=e.ariaId,l=e.footer,c=e.closable,u=e.closeIcon,d=e.onClose,f=e.children,h=e.bodyStyle,p=e.bodyProps,g=e.modalRender,m=e.onMouseDown,v=e.onMouseUp,b=e.holderRef,y=e.visible,C=e.forceRender,w=e.width,S=e.height,I=e.classNames,T=e.styles,E=Xf(b,i.useContext(wT).panel),M=(0,i.useRef)(),R=(0,i.useRef)(),A=(0,i.useRef)();i.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=A.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===R.current?M.current.focus():e||t!==M.current||R.current.focus()}}}));var k,x,D={};void 0!==w&&(D.width=w),void 0!==S&&(D.height=S),l&&(k=i.createElement("div",{className:Bl()("".concat(n,"-footer"),null===I||void 0===I?void 0:I.footer),style:Tl({},null===T||void 0===T?void 0:T.footer)},l)),o&&(x=i.createElement("div",{className:Bl()("".concat(n,"-header"),null===I||void 0===I?void 0:I.header),style:Tl({},null===T||void 0===T?void 0:T.header)},i.createElement("div",{className:"".concat(n,"-title"),id:s},o)));var O,L=(0,i.useMemo)((function(){return"object"===yi(c)&&null!==c?c:c?{closeIcon:null!==u&&void 0!==u?u:i.createElement("span",{className:"".concat(n,"-close-x")})}:{}}),[c,u]),_=MT(L,!0);c&&(O=i.createElement("button",Sl({type:"button",onClick:d,"aria-label":"Close"},_,{className:"".concat(n,"-close")}),L.closeIcon));var N=i.createElement("div",{className:Bl()("".concat(n,"-content"),null===I||void 0===I?void 0:I.content),style:null===T||void 0===T?void 0:T.content},O,x,i.createElement("div",Sl({className:Bl()("".concat(n,"-body"),null===I||void 0===I?void 0:I.body),style:Tl(Tl({},h),null===T||void 0===T?void 0:T.body)},p),f),k);return i.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:E,style:Tl(Tl({},a),D),className:Bl()(n,r),onMouseDown:m,onMouseUp:v},i.createElement("div",{tabIndex:0,ref:M,style:xT,"aria-hidden":"true"}),i.createElement("div",{ref:A,tabIndex:-1,style:DT},i.createElement(kT,{shouldUpdate:y||C},g?g(N):N)),i.createElement("div",{tabIndex:0,ref:R,style:xT,"aria-hidden":"true"}))}));const LT=OT;var _T=i.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,a=e.style,o=e.className,s=e.visible,l=e.forceRender,c=e.destroyOnClose,u=e.motionName,d=e.ariaId,f=e.onVisibleChanged,h=e.mousePosition,p=(0,i.useRef)(),g=nu(i.useState(),2),m=g[0],v=g[1],b={};function y(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},i=e.ownerDocument,r=i.defaultView||i.parentWindow;return n.left+=AT(r),n.top+=AT(r,!0),n}(p.current);v(h?"".concat(h.x-e.left,"px ").concat(h.y-e.top,"px"):"")}return m&&(b.transformOrigin=m),i.createElement(Lm,{visible:s,onVisibleChanged:f,onAppearPrepare:y,onEnterPrepare:y,forceRender:l,motionName:u,removeOnLeave:c,ref:p},(function(s,l){var c=s.className,u=s.style;return i.createElement(LT,Sl({},e,{ref:t,title:r,ariaId:d,prefixCls:n,holderRef:l,style:Tl(Tl(Tl({},u),a),b),className:Bl()(o,c)}))}))}));_T.displayName="Content";const NT=_T;function jT(e){var t=e.prefixCls,n=e.style,r=e.visible,a=e.maskProps,o=e.motionName,s=e.className;return i.createElement(Lm,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},(function(e,r){var o=e.className,l=e.style;return i.createElement("div",Sl({ref:r,style:Tl(Tl({},l),n),className:Bl()("".concat(t,"-mask"),o,s)},a))}))}function PT(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,a=e.visible,o=void 0!==a&&a,s=e.keyboard,l=void 0===s||s,c=e.focusTriggerAfterClose,u=void 0===c||c,d=e.wrapStyle,f=e.wrapClassName,h=e.wrapProps,p=e.onClose,g=e.afterOpenChange,m=e.afterClose,v=e.transitionName,b=e.animation,y=e.closable,C=void 0===y||y,w=e.mask,S=void 0===w||w,I=e.maskTransitionName,T=e.maskAnimation,E=e.maskClosable,M=void 0===E||E,R=e.maskStyle,A=e.maskProps,k=e.rootClassName,x=e.classNames,D=e.styles;var O=(0,i.useRef)(),L=(0,i.useRef)(),_=(0,i.useRef)(),N=nu(i.useState(o),2),j=N[0],P=N[1],U=Lg();function F(e){null===p||void 0===p||p(e)}var B=(0,i.useRef)(!1),z=(0,i.useRef)(),W=null;return M&&(W=function(e){B.current?B.current=!1:L.current===e.target&&F(e)}),(0,i.useEffect)((function(){o&&(P(!0),su(L.current,document.activeElement)||(O.current=document.activeElement))}),[o]),(0,i.useEffect)((function(){return function(){clearTimeout(z.current)}}),[]),i.createElement("div",Sl({className:Bl()("".concat(n,"-root"),k)},MT(e,{data:!0})),i.createElement(jT,{prefixCls:n,visible:S&&o,motionName:RT(n,I,T),style:Tl(Tl({zIndex:r},R),null===D||void 0===D?void 0:D.mask),maskProps:A,className:null===x||void 0===x?void 0:x.mask}),i.createElement("div",Sl({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===ov.ESC)return e.stopPropagation(),void F(e);o&&e.keyCode===ov.TAB&&_.current.changeActive(!e.shiftKey)},className:Bl()("".concat(n,"-wrap"),f,null===x||void 0===x?void 0:x.wrapper),ref:L,onClick:W,style:Tl(Tl(Tl({zIndex:r},d),null===D||void 0===D?void 0:D.wrapper),{},{display:j?null:"none"})},h),i.createElement(NT,Sl({},e,{onMouseDown:function(){clearTimeout(z.current),B.current=!0},onMouseUp:function(){z.current=setTimeout((function(){B.current=!1}))},ref:_,closable:C,ariaId:U,prefixCls:n,visible:o&&j,onClose:F,onVisibleChanged:function(e){if(e)!function(){var e;su(L.current,document.activeElement)||null===(e=_.current)||void 0===e||e.focus()}();else{if(P(!1),S&&O.current&&u){try{O.current.focus({preventScroll:!0})}catch(nn){}O.current=null}j&&(null===m||void 0===m||m())}null===g||void 0===g||g(e)},motionName:RT(n,v,b)}))))}var UT=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,a=e.destroyOnClose,o=void 0!==a&&a,s=e.afterClose,l=e.panelRef,c=nu(i.useState(t),2),u=c[0],d=c[1],f=i.useMemo((function(){return{panel:l}}),[l]);return i.useEffect((function(){t&&d(!0)}),[t]),r||!o||u?i.createElement(wT.Provider,{value:f},i.createElement(bg,{open:t||r||u,autoDestroy:!1,getContainer:n,autoLock:t||u},i.createElement(PT,Sl({},e,{destroyOnClose:o,afterClose:function(){null===s||void 0===s||s(),d(!1)}})))):null};UT.displayName="Dialog";const FT=UT;var BT=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const zT=function(e){let{closable:t,closeIcon:n,customCloseIconRender:r,defaultCloseIcon:a=i.createElement(CT,null),defaultClosable:o=!1}=e;if(!function(e,t,n){return"boolean"===typeof e?e:"object"===typeof e||(void 0===t?!!n:!1!==t&&null!==t)}(t,n,o))return[!1,null];const s="object"===typeof t?t:{},{closeIcon:l}=s,c=BT(s,["closeIcon"]),u="object"===typeof t&&void 0!==l?l:"boolean"===typeof n||void 0===n||null===n?a:n,d=MT(c,!0),f=r?r(u):u;return[!0,i.isValidElement(f)?i.cloneElement(f,d):i.createElement("span",Object.assign({},d),f)]};var WT="RC_FORM_INTERNAL_HOOKS",VT=function(){Mu(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const HT=i.createContext({getFieldValue:VT,getFieldsValue:VT,getFieldError:VT,getFieldWarning:VT,getFieldsError:VT,isFieldsTouched:VT,isFieldTouched:VT,isFieldValidating:VT,isFieldsValidating:VT,resetFields:VT,setFields:VT,setFieldValue:VT,setFieldsValue:VT,validateFields:VT,submit:VT,getInternalHooks:function(){return VT(),{dispatch:VT,initEntityValue:VT,registerField:VT,useSubscribe:VT,setInitialValues:VT,destroyForm:VT,setCallbacks:VT,registerWatch:VT,getFields:VT,setValidateMessages:VT,setPreserve:VT,getInitialValue:VT}}});const GT=i.createContext(null);function YT(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JT.apply(this,arguments)}function QT(e){return QT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QT(e)}function qT(e,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qT(e,t)}function XT(e,t,n){return XT=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(nn){return!1}}()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&qT(r,n.prototype),r},XT.apply(null,arguments)}function KT(e){var t="function"===typeof Map?new Map:void 0;return KT=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return XT(e,arguments,QT(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),qT(n,e)},KT(e)}var ZT=/%[sdj%]/g;function $T(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function eE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,a=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(ZT,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch($n){return"[Circular]"}break;default:return e}})):e}function tE(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function nE(e,t,n){var i=0,r=e.length;!function a(o){if(o&&o.length)n(o);else{var s=i;i+=1,s<r?t(e[s],a):n([])}}([])}var iE=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,"Async Validation Error")||this).errors=t,i.fields=n,i}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,qT(t,n),i}(KT(Error));function rE(e,t,n,i,r){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);nE(o,n,(function(e){return i(e),e.length?a(new iE(e,$T(e))):t(r)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,a){var d=function(e){if(u.push.apply(u,e),++c===l)return i(u),u.length?a(new iE(u,$T(u))):t(r)};s.length||(i(u),t(r)),s.forEach((function(t){var i=e[t];-1!==o.indexOf(t)?nE(i,n,d):function(e,t,n){var i=[],r=0,a=e.length;function o(e){i.push.apply(i,e||[]),++r===a&&n(i)}e.forEach((function(e){t(e,o)}))}(i,n,d)}))}));return d.catch((function(e){return e})),d}function aE(e,t){return function(n){var i,r;return i=e.fullFields?function(e,t){for(var n=e,i=0;i<t.length;i++){if(void 0==n)return n;n=n[t[i]]}return n}(t,e.fullFields):t[n.field||e.fullField],(r=n)&&void 0!==r.message?(n.field=n.field||e.fullField,n.fieldValue=i,n):{message:"function"===typeof n?n():n,fieldValue:i,field:n.field||e.fullField}}}function oE(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"===typeof i&&"object"===typeof e[n]?e[n]=JT({},e[n],i):e[n]=i}return e}var sE,lE=function(e,t,n,i,r,a){!e.required||n.hasOwnProperty(e.field)&&!tE(t,a||e.type)||i.push(eE(r.messages.required,e.fullField))},cE=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,uE=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,dE={integer:function(e){return dE.number(e)&&parseInt(e,10)===e},float:function(e){return dE.number(e)&&!dE.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(nn){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!dE.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(cE)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(sE)return sE;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+i+":){7}(?:"+i+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+i+":){6}(?:"+n+"|:"+i+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+i+":){5}(?::"+n+"|(?::"+i+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+i+"){0,5}:"+n+"|(?::"+i+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+r+t(e)+")","g")};l.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+r+t(e),"g")};var c=l.v4().source,u=l.v6().source;return sE=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(uE)}},fE="enum",hE={required:lE,whitespace:function(e,t,n,i,r){(/^\s+$/.test(t)||""===t)&&i.push(eE(r.messages.whitespace,e.fullField))},type:function(e,t,n,i,r){if(e.required&&void 0===t)lE(e,t,n,i,r);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?dE[a](t)||i.push(eE(r.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&i.push(eE(r.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,i,r){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&i.push(eE(r.messages[c].len,e.fullField,e.len)):o&&!s&&l<e.min?i.push(eE(r.messages[c].min,e.fullField,e.min)):s&&!o&&l>e.max?i.push(eE(r.messages[c].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&i.push(eE(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,i,r){e[fE]=Array.isArray(e[fE])?e[fE]:[],-1===e[fE].indexOf(t)&&i.push(eE(r.messages[fE],e.fullField,e[fE].join(", ")))},pattern:function(e,t,n,i,r){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(eE(r.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||i.push(eE(r.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},pE=function(e,t,n,i,r){var a=e.type,o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t,a)&&!e.required)return n();hE.required(e,t,i,o,r,a),tE(t,a)||hE.type(e,t,i,o,r)}n(o)},gE={string:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t,"string")&&!e.required)return n();hE.required(e,t,i,a,r,"string"),tE(t,"string")||(hE.type(e,t,i,a,r),hE.range(e,t,i,a,r),hE.pattern(e,t,i,a,r),!0===e.whitespace&&hE.whitespace(e,t,i,a,r))}n(a)},method:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&hE.type(e,t,i,a,r)}n(a)},number:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(""===t&&(t=void 0),tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&(hE.type(e,t,i,a,r),hE.range(e,t,i,a,r))}n(a)},boolean:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&hE.type(e,t,i,a,r)}n(a)},regexp:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),tE(t)||hE.type(e,t,i,a,r)}n(a)},integer:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&(hE.type(e,t,i,a,r),hE.range(e,t,i,a,r))}n(a)},float:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&(hE.type(e,t,i,a,r),hE.range(e,t,i,a,r))}n(a)},array:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();hE.required(e,t,i,a,r,"array"),void 0!==t&&null!==t&&(hE.type(e,t,i,a,r),hE.range(e,t,i,a,r))}n(a)},object:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&hE.type(e,t,i,a,r)}n(a)},enum:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r),void 0!==t&&hE.enum(e,t,i,a,r)}n(a)},pattern:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t,"string")&&!e.required)return n();hE.required(e,t,i,a,r),tE(t,"string")||hE.pattern(e,t,i,a,r)}n(a)},date:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t,"date")&&!e.required)return n();var o;if(hE.required(e,t,i,a,r),!tE(t,"date"))o=t instanceof Date?t:new Date(t),hE.type(e,o,i,a,r),o&&hE.range(e,o.getTime(),i,a,r)}n(a)},url:pE,hex:pE,email:pE,required:function(e,t,n,i,r){var a=[],o=Array.isArray(t)?"array":typeof t;hE.required(e,t,i,a,r,o),n(a)},any:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(tE(t)&&!e.required)return n();hE.required(e,t,i,a,r)}n(a)}};function mE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var vE=mE(),bE=function(){function e(e){this.rules=null,this._messages=vE,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var i=e[n];t.rules[n]=Array.isArray(i)?i:[i]}))},t.messages=function(e){return e&&(this._messages=oE(mE(),e)),this._messages},t.validate=function(t,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i=function(){});var a=t,o=n,s=i;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(o.messages){var l=this.messages();l===vE&&(l=mE()),oE(l,o.messages),o.messages=l}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=r.rules[e],i=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=JT({},a)),i=a[e]=o.transform(i)),(o="function"===typeof o?{validator:o}:JT({},o)).validator=r.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=r.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:i,source:a,field:e}))}))}));var u={};return rE(c,o,(function(t,n){var i,r=t.rule,s=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function l(e,t){return JT({},t,{fullField:r.fullField+"."+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(i){void 0===i&&(i=[]);var c=Array.isArray(i)?i:[i];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==r.message&&(c=[].concat(r.message));var d=c.map(aE(r,a));if(o.first&&d.length)return u[r.field]=1,n(d);if(s){if(r.required&&!t.value)return void 0!==r.message?d=[].concat(r.message).map(aE(r,a)):o.error&&(d=[o.error(r,eE(o.messages.required,r.field))]),n(d);var f={};r.defaultField&&Object.keys(t.value).map((function(e){f[e]=r.defaultField})),f=JT({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(r.required||!r.required&&t.value),r.field=t.field,r.asyncValidator)i=r.asyncValidator(r,t.value,c,t.source,o);else if(r.validator){try{i=r.validator(r,t.value,c,t.source,o)}catch(d){null==console.error||console.error(d),o.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===i?c():!1===i?c("function"===typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function i(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var r=0;r<e.length;r++)i(e[r]);t.length?(n=$T(t),s(t,n)):s(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!gE.hasOwnProperty(e.type))throw new Error(eE("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?gE.required:gE[this.getType(e)]||void 0},e}();bE.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");gE[e]=t},bE.warning=function(){},bE.messages=vE,bE.validators=gE;var yE="'${name}' is not a valid ${type}",CE={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:yE,method:yE,array:yE,object:yE,number:yE,date:yE,boolean:yE,integer:yE,float:yE,regexp:yE,email:yE,url:yE,hex:yE},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},wE=bE;function SE(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var IE="CODE_LOGIC_ERROR";function TE(e,t,n,i,r){return EE.apply(this,arguments)}function EE(){return EE=bS(mS().mark((function e(t,n,r,a,o){var s,l,c,u,d,f,h,p,g;return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Tl({},r)).ruleIndex,wE.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(IE)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new wE(wi({},t,[s])),d=rh(CE,a.validateMessages),u.messages(d),f=[],e.prev=10,e.next=13,Promise.resolve(u.validate(wi({},t,n),Tl({},a)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(f=e.t0.errors.map((function(e,t){var n=e.message,r=n===IE?d.default:n;return i.isValidElement(r)?i.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(f.length||!c){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return TE("".concat(t,".").concat(n),e,c,a,o)})));case 21:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(ru(e),ru(t))}),[]));case 23:return p=Tl(Tl({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),g=f.map((function(e){return"string"===typeof e?SE(e,p):e})),e.abrupt("return",g);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),EE.apply(this,arguments)}function ME(e,t,n,i,r,a){var o,s=e.join("."),l=n.map((function(e,t){var n=e.validator,i=Tl(Tl({},e),{},{ruleIndex:t});return n&&(i.validator=function(e,t,i){var r=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Mu(!r,"Your validator function has already return a promise. `callback` will be ignored."),r||i.apply(void 0,t)}))}));r=a&&"function"===typeof a.then&&"function"===typeof a.catch,Mu(r,"`callback` is deprecated. Please return a promise instead."),r&&a.then((function(){i()})).catch((function(e){i(e||" ")}))}),i})).sort((function(e,t){var n=e.warningOnly,i=e.ruleIndex,r=t.warningOnly,a=t.ruleIndex;return!!n===!!r?i-a:n?1:-1}));if(!0===r)o=new Promise(function(){var e=bS(mS().mark((function e(n,r){var o,c,u;return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=12;break}return c=l[o],e.next=5,TE(s,t,c,i,a);case 5:if(!(u=e.sent).length){e.next=9;break}return r([{errors:u,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return TE(s,t,e,i,a).then((function(t){return{errors:t,rule:e}}))}));o=(r?function(e){return AE.apply(this,arguments)}(c):function(e){return RE.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function RE(){return(RE=bS(mS().mark((function e(t){return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,ru(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AE(){return AE=bS(mS().mark((function e(t){var n;return mS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(i){i.then((function(i){i.errors.length&&e([i]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function kE(e){return YT(e)}function xE(e,t){var n={};return t.forEach((function(t){var i=$f(e,t);n=th(n,t,i)})),n}function DE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return OE(t,e,n)}))}function OE(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function LE(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===yi(t.target)&&e in t.target?t.target[e]:t}function _E(e,t,n){var i=e.length;if(t<0||t>=i||n<0||n>=i)return e;var r=e[t],a=t-n;return a>0?[].concat(ru(e.slice(0,n)),[r],ru(e.slice(n,t)),ru(e.slice(t+1,i))):a<0?[].concat(ru(e.slice(0,t)),ru(e.slice(t+1,n+1)),[r],ru(e.slice(n+1,i))):e}var NE=["name"],jE=[];function PE(e,t,n,i,r,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):i!==r}var UE=function(e){xl(n,e);var t=_l(n);function n(e){var r;(El(this,n),wi(Al(r=t.call(this,e)),"state",{resetCount:0}),wi(Al(r),"cancelRegisterFunc",null),wi(Al(r),"mounted",!1),wi(Al(r),"touched",!1),wi(Al(r),"dirty",!1),wi(Al(r),"validatePromise",void 0),wi(Al(r),"prevValidating",void 0),wi(Al(r),"errors",jE),wi(Al(r),"warnings",jE),wi(Al(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,kE(i)),r.cancelRegisterFunc=null})),wi(Al(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(ru(void 0===n?[]:n),ru(t)):[]})),wi(Al(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))})),wi(Al(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),wi(Al(r),"metaCache",null),wi(Al(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=Tl(Tl({},r.getMeta()),{},{destroy:e});Ru(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),wi(Al(r),"onStoreChange",(function(e,t,n){var i=r.props,a=i.shouldUpdate,o=i.dependencies,s=void 0===o?[]:o,l=i.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),f=r.getValue(c),h=t&&DE(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=jE,r.warnings=jE,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=jE,r.warnings=jE,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(a)return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||jE),"warnings"in p&&(r.warnings=p.warnings||jE),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&DE(t,u,!0))return void r.reRender();if(a&&!u.length&&PE(a,e,c,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(kE).some((function(e){return DE(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||u.length||a)&&PE(a,e,c,d,f,n))return void r.reRender()}!0===a&&r.reRender()})),wi(Al(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),i=e||{},a=i.triggerName,o=i.validateOnly,s=void 0!==o&&o,l=Promise.resolve().then(bS(mS().mark((function i(){var o,s,c,u,d,f,h;return mS().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break}return i.abrupt("return",[]);case 2:if(o=r.props,s=o.validateFirst,c=void 0!==s&&s,u=o.messageVariables,d=o.validateDebounce,f=r.getRules(),a&&(f=f.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||YT(t).includes(a)}))),!d||!a){i.next=10;break}return i.next=8,new Promise((function(e){setTimeout(e,d)}));case 8:if(r.validatePromise===l){i.next=10;break}return i.abrupt("return",[]);case 10:return(h=ME(t,n,f,e,c,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jE;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?jE:r;t?i.push.apply(i,ru(a)):n.push.apply(n,ru(a))})),r.errors=n,r.warnings=i,r.triggerMetaEvent(),r.reRender()}})),i.abrupt("return",h);case 13:case"end":return i.stop()}}),i)}))));return s||(r.validatePromise=l,r.dirty=!0,r.errors=jE,r.warnings=jE,r.triggerMetaEvent(),r.reRender()),l})),wi(Al(r),"isFieldValidating",(function(){return!!r.validatePromise})),wi(Al(r),"isFieldTouched",(function(){return r.touched})),wi(Al(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(WT).getInitialValue)(r.getNamePath())})),wi(Al(r),"getErrors",(function(){return r.errors})),wi(Al(r),"getWarnings",(function(){return r.warnings})),wi(Al(r),"isListField",(function(){return r.props.isListField})),wi(Al(r),"isList",(function(){return r.props.isList})),wi(Al(r),"isPreserve",(function(){return r.props.preserve})),wi(Al(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),wi(Al(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return Tl(Tl({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=yg(e);return 1===n.length&&i.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),wi(Al(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return $f(e||t(!0),n)})),wi(Al(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,s=t.valuePropName,l=t.getValueProps,c=t.fieldContext,u=void 0!==i?i:c.validateTrigger,d=r.getNamePath(),f=c.getInternalHooks,h=c.getFieldsValue,p=f(WT).dispatch,g=r.getValue(),m=l||function(e){return wi({},s,e)},v=e[n],b=m(g);var y=Tl(Tl({},e),b);return y[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=a?a.apply(void 0,n):LE.apply(void 0,[s].concat(n)),o&&(e=o(e,g,h(!0))),p({type:"updateValue",namePath:d,value:e}),v&&v.apply(void 0,n)},YT(u||[]).forEach((function(e){var t=y[e];y[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&p({type:"validateField",namePath:d,triggerName:e})}})),y})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(WT).initEntityValue)(Al(r));return r}return Rl(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var i=(0,n.getInternalHooks)(WT).registerField;this.cancelRegisterFunc=i(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child;return r.isFunction?e=a:i.isValidElement(a)?e=i.cloneElement(a,this.getControlled(a.props)):(Mu(!a,"`children` of Field is not validate ReactElement."),e=a),i.createElement(i.Fragment,{key:t},e)}}]),n}(i.Component);wi(UE,"contextType",HT),wi(UE,"defaultProps",{trigger:"onChange",valuePropName:"value"});const FE=function(e){var t=e.name,n=jl(e,NE),r=i.useContext(HT),a=i.useContext(GT),o=void 0!==t?kE(t):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),i.createElement(UE,Sl({key:s,name:o,isListField:!!a},n,{fieldContext:r}))};const BE=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,o=e.validateTrigger,s=e.isListField,l=i.useContext(HT),c=i.useContext(GT),u=i.useRef({keys:[],id:0}).current,d=i.useMemo((function(){var e=kE(l.prefixName)||[];return[].concat(ru(e),ru(kE(t)))}),[l.prefixName,t]),f=i.useMemo((function(){return Tl(Tl({},l),{},{prefixName:d})}),[l,d]),h=i.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);return"function"!==typeof r?(Mu(!1,"Form.List only accepts function as children."),null):i.createElement(GT.Provider,{value:h},i.createElement(HT.Provider,{value:f},i.createElement(FE,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0,isListField:null!==s&&void 0!==s?s:!!c},(function(e,t){var n=e.value,i=void 0===n?[]:n,a=e.onChange,o=l.getFieldValue,s=function(){return o(d||[])||[]},c={add:function(e,t){var n=s();t>=0&&t<=n.length?(u.keys=[].concat(ru(u.keys.slice(0,t)),[u.id],ru(u.keys.slice(t))),a([].concat(ru(n.slice(0,t)),[e],ru(n.slice(t))))):(u.keys=[].concat(ru(u.keys),[u.id]),a([].concat(ru(n),[e]))),u.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(u.keys=_E(u.keys,e,t),a(_E(n,e,t)))}}},f=i||[];return Array.isArray(f)||(f=[]),r(f.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),c,t)}))))};var zE="__@field_split__";function WE(e){return e.map((function(e){return"".concat(yi(e),":").concat(e)})).join(zE)}var VE=function(){function e(){El(this,e),wi(this,"kvs",new Map)}return Rl(e,[{key:"set",value:function(e,t){this.kvs.set(WE(e),t)}},{key:"get",value:function(e){return this.kvs.get(WE(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(WE(e))}},{key:"map",value:function(e){return ru(this.kvs.entries()).map((function(t){var n=nu(t,2),i=n[0],r=n[1],a=i.split(zE);return e({key:a.map((function(e){var t=nu(e.match(/^([^:]*):(.*)$/),3),n=t[1],i=t[2];return"number"===n?Number(i):i})),value:r})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,i=t.value;return e[n.join(".")]=i,null})),e}}]),e}();const HE=VE;var GE=["name"],YE=Rl((function e(t){var n=this;El(this,e),wi(this,"formHooked",!1),wi(this,"forceRootUpdate",void 0),wi(this,"subscribable",!0),wi(this,"store",{}),wi(this,"fieldEntities",[]),wi(this,"initialValues",{}),wi(this,"callbacks",{}),wi(this,"validateMessages",null),wi(this,"preserve",null),wi(this,"lastValidatePromise",null),wi(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),wi(this,"getInternalHooks",(function(e){return e===WT?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Mu(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),wi(this,"useSubscribe",(function(e){n.subscribable=e})),wi(this,"prevWithoutPreserves",null),wi(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var i,r=rh(e,n.store);null===(i=n.prevWithoutPreserves)||void 0===i||i.map((function(t){var n=t.key;r=th(r,n,$f(e,n))})),n.prevWithoutPreserves=null,n.updateStore(r)}})),wi(this,"destroyForm",(function(){var e=new HE;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e})),wi(this,"getInitialValue",(function(e){var t=$f(n.initialValues,e);return e.length?rh(t):t})),wi(this,"setCallbacks",(function(e){n.callbacks=e})),wi(this,"setValidateMessages",(function(e){n.validateMessages=e})),wi(this,"setPreserve",(function(e){n.preserve=e})),wi(this,"watchList",[]),wi(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),wi(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,i,e)}))}})),wi(this,"timeoutId",null),wi(this,"warningUnhooked",(function(){0})),wi(this,"updateStore",(function(e){n.store=e})),wi(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),wi(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new HE;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),wi(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=kE(e);return t.get(n)||{INVALIDATE_NAME_PATH:kE(e)}}))})),wi(this,"getFieldsValue",(function(e,t){var i,r,a;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(i=e,r=t):e&&"object"===yi(e)&&(a=e.strict,r=e.filter),!0===i&&!r)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),s=[];return o.forEach((function(e){var t,n,o,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(o=(l=e).isList)&&void 0!==o&&o.call(l))return}else if(!i&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(r){var u="getMeta"in e?e.getMeta():null;r(u)&&s.push(c)}else s.push(c)})),xE(n.store,s.map(kE))})),wi(this,"getFieldValue",(function(e){n.warningUnhooked();var t=kE(e);return $f(n.store,t)})),wi(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:kE(e[n]),errors:[],warnings:[]}}))})),wi(this,"getFieldError",(function(e){n.warningUnhooked();var t=kE(e);return n.getFieldsError([t])[0].errors})),wi(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=kE(e);return n.getFieldsError([t])[0].warnings})),wi(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r,a=t[0],o=t[1],s=!1;0===t.length?r=null:1===t.length?Array.isArray(a)?(r=a.map(kE),s=!1):(r=null,s=a):(r=a.map(kE),s=o);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!r)return s?l.every((function(e){return c(e)||e.isList()})):l.some(c);var u=new HE;r.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();r.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(ru(t),[e])}))}))}));var d=function(e){return e.some(c)},f=u.map((function(e){return e.value}));return s?f.every(d):f.some(d)})),wi(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),wi(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var i=e.map(kE);return t.some((function(e){var t=e.getNamePath();return DE(i,t)&&e.isFieldValidating()}))})),wi(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),wi(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new HE,i=n.getFieldEntities(!0);i.forEach((function(e){var n=e.props.initialValue,i=e.getNamePath();if(void 0!==n){var r=t.get(i)||new Set;r.add({entity:e,value:n}),t.set(i,r)}}));var r;e.entities?r=e.entities:e.namePathList?(r=[],e.namePathList.forEach((function(e){var n,i=t.get(e);i&&(n=r).push.apply(n,ru(ru(i).map((function(e){return e.entity}))))}))):r=i,r.forEach((function(i){if(void 0!==i.props.initialValue){var r=i.getNamePath();if(void 0!==n.getInitialValue(r))Mu(!1,"Form already set 'initialValues' with path '".concat(r.join("."),"'. Field can not overwrite it."));else{var a=t.get(r);if(a&&a.size>1)Mu(!1,"Multiple Field with path '".concat(r.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(r);i.isListField()||e.skipExist&&void 0!==o||n.updateStore(th(n.store,r,ru(a)[0].value))}}}}))})),wi(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(rh(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var i=e.map(kE);i.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(th(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(t,i,{type:"reset"}),n.notifyWatch(i)})),wi(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,i=[];e.forEach((function(e){var r=e.name,a=jl(e,GE),o=kE(r);i.push(o),"value"in a&&n.updateStore(th(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(i)})),wi(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),i=Tl(Tl({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))})),wi(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var i=e.getNamePath();void 0===$f(n.store,i)&&n.updateStore(th(n.store,i,t))}})),wi(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),wi(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var i=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(i,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(i,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(r)&&(!i||a.length>1)){var o=i?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!OE(e.getNamePath(),t)}))){var s=n.store;n.updateStore(th(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}})),wi(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,i=e.value;n.updateValue(t,i);break;case"validateField":var r=e.namePath,a=e.triggerName;n.validateFields([r],{triggerName:a})}})),wi(this,"notifyObservers",(function(e,t,i){if(n.subscribable){var r=Tl(Tl({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,r)}))}else n.forceRootUpdate()})),wi(this,"triggerDependenciesUpdate",(function(e,t){var i=n.getDependencyChildrenFields(t);return i.length&&n.validateFields(i),n.notifyObservers(e,i,{type:"dependenciesUpdate",relatedFields:[t].concat(ru(i))}),i})),wi(this,"updateValue",(function(e,t){var i=kE(e),r=n.store;n.updateStore(th(n.store,i,t)),n.notifyObservers(r,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var a=n.triggerDependenciesUpdate(r,i),o=n.callbacks.onValuesChange;o&&o(xE(n.store,[i]),n.getFieldsValue());n.triggerOnFieldsChange([i].concat(ru(a)))})),wi(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var i=rh(n.store,e);n.updateStore(i)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),wi(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),wi(this,"getDependencyChildrenFields",(function(e){var t=new Set,i=[],r=new HE;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=kE(t);r.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(r.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var r=n.getNamePath();n.isFieldDirty()&&r.length&&(i.push(r),e(r))}}))}(e),i})),wi(this,"triggerOnFieldsChange",(function(e,t){var i=n.callbacks.onFieldsChange;if(i){var r=n.getFields();if(t){var a=new HE;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),r.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var o=r.filter((function(t){var n=t.name;return DE(e,n)}));o.length&&i(o,r)}})),wi(this,"validateFields",(function(e,t){var i,r;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(i=e,r=t):r=e;var a=!!i,o=a?i.map(kE):[],s=[],l=String(Date.now()),c=new Set,u=r||{},d=u.recursive,f=u.dirty;n.getFieldEntities(!0).forEach((function(e){if(a||o.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!f||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!a||DE(o,t,d)){var i=e.validateRules(Tl({validateMessages:Tl(Tl({},CE),n.validateMessages)},r));s.push(i.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,i=[],r=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?r.push.apply(r,ru(n)):i.push.apply(i,ru(n))})),i.length?Promise.reject({name:t,errors:i,warnings:r}):{name:t,errors:i,warnings:r}})))}}}));var h=function(e){var t=!1,n=e.length,i=[];return e.length?new Promise((function(r,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,i[o]=e,n>0||(t&&a(i),r(i))}))}))})):Promise.resolve([])}(s);n.lastValidatePromise=h,h.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=h.then((function(){return n.lastValidatePromise===h?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==h})}));p.catch((function(e){return e}));var g=o.filter((function(e){return c.has(e.join(l))}));return n.triggerOnFieldsChange(g),p})),wi(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(i){console.error(i)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const JE=function(e){var t=i.useRef(),n=nu(i.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new YE((function(){n({})}));t.current=r.getForm()}return[t.current]};var QE=i.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const qE=QE;var XE=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const KE=function(e,t){var n=e.name,r=e.initialValues,a=e.fields,o=e.form,s=e.preserve,l=e.children,c=e.component,u=void 0===c?"form":c,d=e.validateMessages,f=e.validateTrigger,h=void 0===f?"onChange":f,p=e.onValuesChange,g=e.onFieldsChange,m=e.onFinish,v=e.onFinishFailed,b=jl(e,XE),y=i.useContext(qE),C=nu(JE(o),1)[0],w=C.getInternalHooks(WT),S=w.useSubscribe,I=w.setInitialValues,T=w.setCallbacks,E=w.setValidateMessages,M=w.setPreserve,R=w.destroyForm;i.useImperativeHandle(t,(function(){return C})),i.useEffect((function(){return y.registerForm(n,C),function(){y.unregisterForm(n)}}),[y,C,n]),E(Tl(Tl({},y.validateMessages),d)),T({onValuesChange:p,onFieldsChange:function(e){if(y.triggerFormChange(n,e),g){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];g.apply(void 0,[e].concat(i))}},onFinish:function(e){y.triggerFormFinish(n,e),m&&m(e)},onFinishFailed:v}),M(s);var A,k=i.useRef(null);I(r,!k.current),k.current||(k.current=!0),i.useEffect((function(){return R}),[]);var x="function"===typeof l;x?A=l(C.getFieldsValue(!0),C):A=l;S(!x);var D=i.useRef();i.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==yi(e)||"object"!==yi(t))return!1;var n=Object.keys(e),i=Object.keys(t);return ru(new Set([].concat(n,i))).every((function(n){var i=e[n],r=t[n];return"function"===typeof i&&"function"===typeof r||i===r}))})(D.current||[],a||[])||C.setFields(a||[]),D.current=a}),[a,C]);var O=i.useMemo((function(){return Tl(Tl({},C),{},{validateTrigger:h})}),[C,h]),L=i.createElement(GT.Provider,{value:null},i.createElement(HT.Provider,{value:O},A));return!1===u?L:i.createElement(u,Sl({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),L)};function ZE(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var $E=function(){};const eM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=void 0===a?{}:a,s=function(e){return e&&!!e._init}(o)?{form:o}:o,l=s.form,c=nu((0,i.useState)(),2),u=c[0],d=c[1],f=(0,i.useMemo)((function(){return ZE(u)}),[u]),h=(0,i.useRef)(f);h.current=f;var p=(0,i.useContext)(HT),g=l||p,m=g&&g._init,v=kE(r),b=(0,i.useRef)(v);return b.current=v,$E(v),(0,i.useEffect)((function(){if(m){var e=g.getFieldsValue,t=(0,g.getInternalHooks)(WT).registerWatch,n=function(e,t){var n=s.preserve?t:e;return"function"===typeof r?r(n):$f(n,b.current)},i=t((function(e,t){var i=n(e,t),r=ZE(i);h.current!==r&&(h.current=r,d(i))})),a=n(e(),e(!0));return u!==a&&d(a),i}}),[m]),u};var tM=i.forwardRef(KE);tM.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,o=i.useContext(QE),s=i.useRef({});return i.createElement(QE.Provider,{value:Tl(Tl({},o),{},{validateMessages:Tl(Tl({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Tl(Tl({},s.current),{},wi({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Tl({},s.current);delete t[e],s.current=t,o.unregisterForm(e)}})},a)},tM.Field=FE,tM.List=BE,tM.useForm=JE,tM.useWatch=eM;const nM=i.createContext({});const iM=e=>{let{children:t,status:n,override:r}=e;const a=(0,i.useContext)(nM),o=(0,i.useMemo)((()=>{const e=Object.assign({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return i.createElement(nM.Provider,{value:o},t)},rM=(0,i.createContext)(void 0);function aM(){}const oM=i.createContext({add:aM,remove:aM});const sM=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=(0,i.useContext)(pT);return i.createElement(PI,Object.assign({onClick:n},e),t)},lM=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:a}=(0,i.useContext)(pT);return i.createElement(PI,Object.assign({},VS(n),{loading:e,onClick:a},t),r)};function cM(e,t){return i.createElement("span",{className:"".concat(e,"-close-x")},t||i.createElement(CT,{className:"".concat(e,"-close-icon")}))}const uM=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:s,okButtonProps:l,cancelButtonProps:c,footer:u}=e,[d]=dT("Modal",Yv()),f={confirmLoading:a,okButtonProps:l,cancelButtonProps:c,okTextLocale:t||(null===d||void 0===d?void 0:d.okText),cancelTextLocale:r||(null===d||void 0===d?void 0:d.cancelText),okType:n,onOk:o,onCancel:s},h=i.useMemo((()=>f),ru(Object.values(f)));let p;return"function"===typeof u||"undefined"===typeof u?(p=i.createElement(i.Fragment,null,i.createElement(sM,null),i.createElement(lM,null)),"function"===typeof u&&(p=u(p,{OkBtn:lM,CancelBtn:sM})),p=i.createElement(gT,{value:h},p)):p=u,i.createElement(Zv,{disabled:!1},p)},dM=new Nf("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),fM=new Nf("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),hM=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,i="".concat(n,"-fade"),r=t?"&":"";return[qC(i,dM,fM,e.motionDurationMid,t),{["\n        ".concat(r).concat(i,"-enter,\n        ").concat(r).concat(i,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(r).concat(i,"-leave")]:{animationTimingFunction:"linear"}}]};function pM(e){return{position:e,inset:0}}const gM=e=>{const{componentCls:t,antCls:n}=e;return[{["".concat(t,"-root")]:{["".concat(t).concat(n,"-zoom-enter, ").concat(t).concat(n,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},["".concat(t).concat(n,"-zoom-leave ").concat(t,"-content")]:{pointerEvents:"none"},["".concat(t,"-mask")]:Object.assign(Object.assign({},pM("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",["".concat(t,"-hidden")]:{display:"none"}}),["".concat(t,"-wrap")]:Object.assign(Object.assign({},pM("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(t,"-root")]:hM(e)}]},mM=e=>{const{componentCls:t}=e;return[{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl"},["".concat(t,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(e.screenSMMax,"px)")]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:"".concat($u(e.marginXS)," auto")},["".concat(t,"-centered")]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Uf(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat($u(e.calc(e.margin).mul(2).equal()),")"),margin:"0 auto",paddingBottom:e.paddingLG,["".concat(t,"-title")]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},["".concat(t,"-content")]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},["".concat(t,"-close")]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:"".concat($u(e.modalCloseBtnSize)),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},Wf(e)),["".concat(t,"-header")]:{color:e.colorText,background:e.headerBg,borderRadius:"".concat($u(e.borderRadiusLG)," ").concat($u(e.borderRadiusLG)," 0 0"),marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},["".concat(t,"-body")]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},["".concat(t,"-footer")]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,["> ".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginInlineStart:e.marginXS}},["".concat(t,"-open")]:{overflow:"hidden"}})},{["".concat(t,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(t,"-content,\n          ").concat(t,"-body,\n          ").concat(t,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(t,"-confirm-body")]:{marginBottom:"auto"}}}]},vM=e=>{const{componentCls:t}=e;return{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl",["".concat(t,"-confirm-body")]:{direction:"rtl"}}}}},bM=e=>{const t=e.padding,n=e.fontSizeHeading5,i=e.lineHeightHeading5;return Sp(e,{modalHeaderHeight:e.calc(e.calc(i).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},yM=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:"".concat($u(e.paddingMD)," ").concat($u(e.paddingContentHorizontalLG)),headerPadding:e.wireframe?"".concat($u(e.padding)," ").concat($u(e.paddingLG)):0,headerBorderBottom:e.wireframe?"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?"".concat($u(e.paddingXS)," ").concat($u(e.padding)):0,footerBorderTop:e.wireframe?"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",footerBorderRadius:e.wireframe?"0 0 ".concat($u(e.borderRadiusLG)," ").concat($u(e.borderRadiusLG)):0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?"".concat($u(2*e.padding)," ").concat($u(2*e.padding)," ").concat($u(e.paddingLG)):0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),CM=Dp("Modal",(e=>{const t=bM(e);return[mM(t),vM(t),gM(t),iw(t,"zoom")]}),yM,{unitless:{titleLineHeight:!0}});var wM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};let SM;const IM=e=>{SM={x:e.pageX,y:e.pageY},setTimeout((()=>{SM=null}),100)};ou()&&window.document.documentElement&&document.documentElement.addEventListener("click",IM,!0);const TM=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:a,modal:o}=i.useContext(Xc),s=t=>{const{onCancel:n}=e;null===n||void 0===n||n(t)};const{prefixCls:l,className:c,rootClassName:u,open:d,wrapClassName:f,centered:h,getContainer:p,closeIcon:g,closable:m,focusTriggerAfterClose:v=!0,style:b,visible:y,width:C=520,footer:w,classNames:S,styles:I}=e,T=wM(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),E=r("modal",l),M=r(),R=EC(E),[A,k,x]=CM(E,R),D=Bl()(f,{["".concat(E,"-centered")]:!!h,["".concat(E,"-wrap-rtl")]:"rtl"===a}),O=null!==w&&i.createElement(uM,Object.assign({},e,{onOk:t=>{const{onOk:n}=e;null===n||void 0===n||n(t)},onCancel:s})),[L,_]=zT({closable:m,closeIcon:"undefined"!==typeof g?g:null===o||void 0===o?void 0:o.closeIcon,customCloseIconRender:e=>cM(E,e),defaultCloseIcon:i.createElement(CT,{className:"".concat(E,"-close-icon")}),defaultClosable:!0}),N=function(e){const t=i.useContext(oM),n=i.useRef();return Vf((i=>{if(i){const r=e?i.querySelector(e):i;t.add(r),n.current=r}else t.remove(n.current)}))}(".".concat(E,"-content")),[j,P]=Sv("Modal",T.zIndex);return A(i.createElement(HC,null,i.createElement(iM,{status:!0,override:!0},i.createElement(bv.Provider,{value:P},i.createElement(FT,Object.assign({width:C},T,{zIndex:j,getContainer:void 0===p?n:p,prefixCls:E,rootClassName:Bl()(k,u,x,R),footer:O,visible:null!==d&&void 0!==d?d:y,mousePosition:null!==(t=T.mousePosition)&&void 0!==t?t:SM,onClose:s,closable:L,closeIcon:_,focusTriggerAfterClose:v,transitionName:IC(M,"zoom",e.transitionName),maskTransitionName:IC(M,"fade",e.maskTransitionName),className:Bl()(k,c,null===o||void 0===o?void 0:o.className),style:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.style),b),classNames:Object.assign(Object.assign(Object.assign({},null===o||void 0===o?void 0:o.classNames),S),{wrapper:Bl()(D,null===S||void 0===S?void 0:S.wrapper)}),styles:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.styles),I),panelRef:N}))))))},EM=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:i,modalConfirmIconSize:r,fontSize:a,lineHeight:o,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=e,u="".concat(t,"-confirm");return{[u]:{"&-rtl":{direction:"rtl"},["".concat(e.antCls,"-modal-header")]:{display:"none"},["".concat(u,"-body-wrapper")]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),["&".concat(t," ").concat(t,"-body")]:{padding:c},["".concat(u,"-body")]:{display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(e.iconCls)]:{flex:"none",fontSize:r,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(r).equal()).div(2).equal()},["&-has-title > ".concat(e.iconCls)]:{marginTop:e.calc(e.calc(s).sub(r).equal()).div(2).equal()}},["".concat(u,"-paragraph")]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:"calc(100% - ".concat($u(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal()),")")},["".concat(u,"-title")]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:i},["".concat(u,"-content")]:{color:e.colorText,fontSize:a,lineHeight:o},["".concat(u,"-btns")]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginBottom:0,marginInlineStart:e.marginXS}}},["".concat(u,"-error ").concat(u,"-body > ").concat(e.iconCls)]:{color:e.colorError},["".concat(u,"-warning ").concat(u,"-body > ").concat(e.iconCls,",\n        ").concat(u,"-confirm ").concat(u,"-body > ").concat(e.iconCls)]:{color:e.colorWarning},["".concat(u,"-info ").concat(u,"-body > ").concat(e.iconCls)]:{color:e.colorInfo},["".concat(u,"-success ").concat(u,"-body > ").concat(e.iconCls)]:{color:e.colorSuccess}}},MM=xp(["Modal","confirm"],(e=>{const t=bM(e);return[EM(t)]}),yM,{order:-1e3});var RM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function AM(e){const{prefixCls:t,icon:n,okText:r,cancelText:a,confirmPrefixCls:o,type:s,okCancel:l,footer:c,locale:u}=e,d=RM(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=n;if(!n&&null!==n)switch(s){case"info":f=i.createElement(uT,null);break;case"success":f=i.createElement(tT,null);break;case"error":f=i.createElement(rT,null);break;default:f=i.createElement(sT,null)}const h=null!==l&&void 0!==l?l:"confirm"===s,p=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[g]=dT("Modal"),m=u||g,v=r||(h?null===m||void 0===m?void 0:m.okText:null===m||void 0===m?void 0:m.justOkText),b=a||(null===m||void 0===m?void 0:m.cancelText),y=Object.assign({autoFocusButton:p,cancelTextLocale:b,okTextLocale:v,mergedOkCancel:h},d),C=i.useMemo((()=>y),ru(Object.values(y))),w=i.createElement(i.Fragment,null,i.createElement(mT,null),i.createElement(vT,null)),S=void 0!==e.title&&null!==e.title,I="".concat(o,"-body");return i.createElement("div",{className:"".concat(o,"-body-wrapper")},i.createElement("div",{className:Bl()(I,{["".concat(I,"-has-title")]:S})},f,i.createElement("div",{className:"".concat(o,"-paragraph")},S&&i.createElement("span",{className:"".concat(o,"-title")},e.title),i.createElement("div",{className:"".concat(o,"-content")},e.content))),void 0===c||"function"===typeof c?i.createElement(gT,{value:C},i.createElement("div",{className:"".concat(o,"-btns")},"function"===typeof c?c(w,{OkBtn:vT,CancelBtn:mT}):w)):c,i.createElement(MM,{prefixCls:t}))}const kM=e=>{const{close:t,zIndex:n,afterClose:r,open:a,keyboard:o,centered:s,getContainer:l,maskStyle:c,direction:u,prefixCls:d,wrapClassName:f,rootPrefixCls:h,bodyStyle:p,closable:g=!1,closeIcon:m,modalRender:v,focusTriggerAfterClose:b,onConfirm:y,styles:C}=e;const w="".concat(d,"-confirm"),S=e.width||416,I=e.style||{},T=void 0===e.mask||e.mask,E=void 0!==e.maskClosable&&e.maskClosable,M=Bl()(w,"".concat(w,"-").concat(e.type),{["".concat(w,"-rtl")]:"rtl"===u},e.className),[,R]=fp(),A=i.useMemo((()=>void 0!==n?n:R.zIndexPopupBase+1e3),[n,R]);return i.createElement(TM,{prefixCls:d,className:M,wrapClassName:Bl()({["".concat(w,"-centered")]:!!e.centered},f),onCancel:()=>{null===t||void 0===t||t({triggerCancel:!0}),null===y||void 0===y||y(!1)},open:a,title:"",footer:null,transitionName:IC(h||"","zoom",e.transitionName),maskTransitionName:IC(h||"","fade",e.maskTransitionName),mask:T,maskClosable:E,style:I,styles:Object.assign({body:p,mask:c},C),width:S,zIndex:A,afterClose:r,keyboard:o,centered:s,getContainer:l,closable:g,closeIcon:m,modalRender:v,focusTriggerAfterClose:b},i.createElement(AM,Object.assign({},e,{confirmPrefixCls:w})))};const xM=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:a}=e;return i.createElement(Cb,{prefixCls:t,iconPrefixCls:n,direction:r,theme:a},i.createElement(kM,Object.assign({},e)))},DM=[];let OM="";function LM(){return OM}const _M=e=>{var t,n;const{prefixCls:r,getContainer:a,direction:o}=e,s=Yv(),l=(0,i.useContext)(Xc),c=LM()||l.getPrefixCls(),u=r||"".concat(c,"-modal");let d=a;return!1===d&&(d=void 0),i.createElement(xM,Object.assign({},e,{rootPrefixCls:c,prefixCls:u,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!==o&&void 0!==o?o:l.direction,locale:null!==(n=null===(t=l.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:s,getContainer:d}))};function NM(e){const t=vb();const n=document.createDocumentFragment();let r,a=Object.assign(Object.assign({},e),{close:l,open:!0});function o(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const a=i.some((e=>e&&e.triggerCancel));e.onCancel&&a&&e.onCancel.apply(e,[()=>{}].concat(ru(i.slice(1))));for(let e=0;e<DM.length;e++){if(DM[e]===l){DM.splice(e,1);break}}xS(n)}function s(e){clearTimeout(r),r=setTimeout((()=>{const r=t.getPrefixCls(void 0,LM()),a=t.getIconPrefixCls(),o=t.getTheme(),s=i.createElement(_M,Object.assign({},e));MS(i.createElement(Cb,{prefixCls:r,iconPrefixCls:a,theme:o},t.holderRender?t.holderRender(s):s),n)}))}function l(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a=Object.assign(Object.assign({},a),{open:!1,afterClose:()=>{"function"===typeof e.afterClose&&e.afterClose(),o.apply(this,n)}}),a.visible&&delete a.visible,s(a)}return s(a),DM.push(l),{destroy:l,update:function(e){a="function"===typeof e?e(a):Object.assign(Object.assign({},a),e),s(a)}}}function jM(e){return Object.assign(Object.assign({},e),{type:"warning"})}function PM(e){return Object.assign(Object.assign({},e),{type:"info"})}function UM(e){return Object.assign(Object.assign({},e),{type:"success"})}function FM(e){return Object.assign(Object.assign({},e),{type:"error"})}function BM(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var zM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const WM=wb((e=>{const{prefixCls:t,className:n,closeIcon:r,closable:a,type:o,title:s,children:l,footer:c}=e,u=zM(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:d}=i.useContext(Xc),f=d(),h=t||d("modal"),p=EC(f),[g,m,v]=CM(h,p),b="".concat(h,"-confirm");let y={};return y=o?{closable:null!==a&&void 0!==a&&a,title:"",footer:"",children:i.createElement(AM,Object.assign({},e,{prefixCls:h,confirmPrefixCls:b,rootPrefixCls:f,content:l}))}:{closable:null===a||void 0===a||a,title:s,footer:null!==c&&i.createElement(uM,Object.assign({},e)),children:l},g(i.createElement(LT,Object.assign({prefixCls:h,className:Bl()(m,"".concat(h,"-pure-panel"),o&&b,o&&"".concat(b,"-").concat(o),n,v,p)},u,{closeIcon:cM(h,r),closable:a},y)))}));var VM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const HM=(e,t)=>{var n,{afterClose:r,config:a}=e,o=VM(e,["afterClose","config"]);const[s,l]=i.useState(!0),[c,u]=i.useState(a),{direction:d,getPrefixCls:f}=i.useContext(Xc),h=f("modal"),p=f(),g=function(){l(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.some((e=>e&&e.triggerCancel));c.onCancel&&i&&c.onCancel.apply(c,[()=>{}].concat(ru(t.slice(1))))};i.useImperativeHandle(t,(()=>({destroy:g,update:e=>{u((t=>Object.assign(Object.assign({},t),e)))}})));const m=null!==(n=c.okCancel)&&void 0!==n?n:"confirm"===c.type,[v]=dT("Modal",Wv.Modal);return i.createElement(xM,Object.assign({prefixCls:h,rootPrefixCls:p},c,{close:g,open:s,afterClose:()=>{var e;r(),null===(e=c.afterClose)||void 0===e||e.call(c)},okText:c.okText||(m?null===v||void 0===v?void 0:v.okText:null===v||void 0===v?void 0:v.justOkText),direction:c.direction||d,cancelText:c.cancelText||(null===v||void 0===v?void 0:v.cancelText)},o))},GM=i.forwardRef(HM);let YM=0;const JM=i.memo(i.forwardRef(((e,t)=>{const[n,r]=function(){const[e,t]=i.useState([]);return[e,i.useCallback((e=>(t((t=>[].concat(ru(t),[e]))),()=>{t((t=>t.filter((t=>t!==e))))})),[])]}();return i.useImperativeHandle(t,(()=>({patchElement:r})),[]),i.createElement(i.Fragment,null,n)})));const QM=function(){const e=i.useRef(null),[t,n]=i.useState([]);i.useEffect((()=>{if(t.length){ru(t).forEach((e=>{e()})),n([])}}),[t]);const r=i.useCallback((t=>function(r){var a;YM+=1;const o=i.createRef();let s;const l=new Promise((e=>{s=e}));let c,u=!1;const d=i.createElement(GM,{key:"modal-".concat(YM),config:t(r),ref:o,afterClose:()=>{null===c||void 0===c||c()},isSilent:()=>u,onConfirm:e=>{s(e)}});c=null===(a=e.current)||void 0===a?void 0:a.patchElement(d),c&&DM.push(c);const f={destroy:()=>{function e(){var e;null===(e=o.current)||void 0===e||e.destroy()}o.current?e():n((t=>[].concat(ru(t),[e])))},update:e=>{function t(){var t;null===(t=o.current)||void 0===t||t.update(e)}o.current?t():n((e=>[].concat(ru(e),[t])))},then:e=>(u=!0,l.then(e))};return f}),[]);return[i.useMemo((()=>({info:r(PM),success:r(UM),error:r(FM),warning:r(jM),confirm:r(BM)})),[]),i.createElement(JM,{key:"modal-holder",ref:e})]};function qM(e){return NM(jM(e))}const XM=TM;XM.useModal=QM,XM.info=function(e){return NM(PM(e))},XM.success=function(e){return NM(UM(e))},XM.error=function(e){return NM(FM(e))},XM.warning=qM,XM.warn=qM,XM.confirm=function(e){return NM(BM(e))},XM.destroyAll=function(){for(;DM.length;){const e=DM.pop();e&&e()}},XM.config=function(e){let{rootPrefixCls:t}=e;OM=t},XM._InternalPanelDoNotUseOrYouWillBeFired=WM;const KM=XM,ZM=e=>{let{isModalOpen:t,setIsModalOpen:n}=e;const i=st();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(KM,{title:"Premium required !!",visible:t,centered:!0,width:"60vh",onOk:()=>{n(!1),i("/plans")},onCancel:()=>n(!1),className:"premiumModalDailogue",okText:"Buy",mask:!0,maskStyle:{backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.5)"},okButtonProps:{style:{background:"linear-gradient(160deg, #ee9ae5ff 0%, #5961f9ff 100%)"}},cancelButtonProps:{style:{border:"1px solid #ee9ae5ff",color:"#ee9ae5ff"}},children:(0,o.jsx)("p",{children:"This feature requires premium. Continue with premium to get advanced features"})})})};const $M=function(e){var t;let{handleSearch:n,setGo:r,activeTab:a,setActiveTab:s}=e,l=so((e=>e.user));const c=st(),u=bo(),[d,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(0),[v,b]=(0,i.useState)(l.value.afk.isOn),[y,C]=(0,i.useState)(!1),w=so((e=>e.myNotes)),S=bl({onSuccess:e=>async function(e){try{!async function(e){try{(await hl({headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},payload:{contacts:e},route:"saveContacts",method:"POST"})).data.success&&(u(Ua({...l.value,googleSynced:!0})),bi.success("Google contacts imported"))}catch(t){console.error("Failed to save contacts:",t),bi.error("Failed to save contacts")}}((await ll.get("https://people.googleapis.com/v1/people/me/connections",{headers:{Authorization:"Bearer ".concat(e.access_token)},params:{pageSize:800,personFields:"names,emailAddresses,coverPhotos,photos",sortOrder:"LAST_MODIFIED_ASCENDING"}})).data.connections)}catch(t){console.error("Failed to fetch contacts:",t),bi.error("Failed to fetch contacts")}}(e),onError:e=>alert("Login Failed:",e)});(0,i.useEffect)((()=>{l.value&&l.value.notifications&&m(l.value.notifications.filter((e=>!e.isReaded)).length),b(!1)}),[l]);const I={reffer:async()=>{try{navigator.share&&navigator.share({title:"SyncUp",text:"Share your referral link by",url:"http://".concat(window.location.hostname,":3000/register?refferal=").concat(btoa(l.value.email))}),await navigator.clipboard.writeText("Hi, User ".concat(l.value.username," wants to connect with you on SyncUp.\n\nClick the link to join:\nhttp://localhost:3000/register?refferal=").concat(btoa(l.value.email))),bi.success("Link copied to clipboard")}catch(e){console.error("Failed to copy link:",e),bi.error("Failed to copy link")}},createNote:()=>f(!d),myNotes:()=>s("My Notes"),premium:()=>c("/plans"),clearNotes:function(){const e={route:"clearNotes",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success?(u(_a(w.value.filter((e=>0==e.isExpired)))),bi.success(e.data.message)):bi.error(e.data.message)}))},scheduleMsg:()=>l.value.isPremium?r("ScheduleMessages"):p(!0),afk:()=>l.value.isPremium?r("Profile"):p(!0)},T=function(){var e;return null===w||void 0===w||null===(e=w.value)||void 0===e||!e.length||"object"!=typeof w.value||!w.value.filter((e=>0==e.isExpired)).length},E=[{label:"My notes",key:"myNotes",icon:(0,o.jsx)("img",{className:"menuIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuElEQVR4nOWUOw7CMBAFp4CGHg6DoCfiTsm2fO6UG+QQMR2HMM0ioQj8WRsRiZVWLvw8Y1uWYSa1BK7AXfsCLGoKzoCf9MkCOgK3NzCvvQV2gXkHNCGBCyz2Ct9HMmNI8AxZy8fWz0rQAgOw+YZgBfSaHWoLROFrHduaAnnJ9HqSrA2GAjJ5jp1hgx8DkgA3CyQRbhJIBtwk8BnwIkGXADcJcuv3Ahf5in1CB7/rplAyAoeCG+AP6wEUyKB5DpnoswAAAABJRU5ErkJggg==",alt:"My Notes"})},{label:"Create note",key:"createNote",icon:(0,o.jsx)("img",{className:"menuIcon",src:Wp,alt:"Create Note"}),hidden:!T()}],M=[{label:"Create note",key:"createNote",icon:(0,o.jsx)("img",{className:"menuIcon",src:Wp,alt:"Create Note"}),hidden:!T()},{label:"Clear expired notes",key:"clearNotes",icon:(0,o.jsx)("img",{className:"menuIcon",src:Vp,alt:"Clear notes"}),disabled:!(null!==(t=w.value)&&void 0!==t&&t.filter((e=>1==(null===e||void 0===e?void 0:e.isExpired))).length)}],R={Notes:E,Chats:[{label:(0,o.jsx)("span",{className:"premiumRequired",children:"Schedule message"}),key:"scheduleMsg",icon:(0,o.jsx)("img",{className:"menuIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNUlEQVR4nO2UT0qDMRDFfwi2K1tUKP65hWdwYbciPYKIrS4sxbN4oGqFKu5ExY11L7RuJTLwguFr09QvCII+mEVmhnkzb5LAF6rACTAA3mVXQAeokIlt4A5wEbsFtsoWrwbFR8ABsCLbBx4Vu4lM4puI4jQovhb4d4GefK/KaZchuFaCde6xDNwDFzq3lGM7MexEpLQmm0WCiYImiUcXGAMNnevKMZ9hdc6+XooEYwVqge8Q+ADOIgQxzJRrIKctNMQR8AZsSD7LuSxD0JHzAVgvxBpa8pNyjuU/nyPRFEFF99zptrQkV02d++JDLX8JeP4OAXpEnmSWDYHNhDxRicJJ2tJ5IutLFut8ESTfRC5ciqCnR/RjBC5zRPdPkMIfkGiU+ALcAjb1XYdoKiGn+F6GAr8Qn4MPrHMKwrroAAAAAElFTkSuQmCC",alt:"Schedule Message"})},{label:(0,o.jsxs)("span",{className:"premiumRequired",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["AFK ",l.value.afk.isOn?(0,o.jsx)("span",{style:{color:"green",fontSize:"10px"},children:"Active"}):(0,o.jsx)("span",{style:{color:"red",fontSize:"10px"},children:"InActive"})," "]}),key:"afk",icon:(0,o.jsx)(D,{far:!0,icon:"keyboard"})},{label:(0,o.jsx)("span",{className:"premiumRequired",children:"Premium"}),key:"premium",icon:(0,o.jsx)("img",{className:"menuIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR4nOWVu0scYRTFf/gAR60sXHTBRhAClsZStNhGWExhIBBRGwt7MWAVrURFG8FqtRNRDFpI0oT8B5tCtBN8BJ9FxBeLoiMXzsDHsLuz45Ye+JiZe885937fDHfgPWAIOAVOgEFgBLhQzHJloRl4AvwCy3JNbzGuA74C8zL6CfQDu1qfgV/KLYhbW6p5NZANdTqQhzcQ4mSljUSPBGfAHPCpCLcPmBXXNN2lFGgX+QZoLMDp0DEaEuL60kaiwjmiXsXqZIq6vAP+AJ44xv0rbSQWJXhQd57MzHRMV8tnZJgQ15c2Ercip5wdZUIvNDAPkFLctJHYE/kQSOcpEjZPi+tLG4lOYN/pyHOKDIXMPWfHpvlIDFxImCzCSYpj3Ni4lvgHcAxs6LO1l7oOHOjqixsbm3lmz7ZWOG6FYqEVyAHPwLjONthR0LHFJoAX4B5oiVNgS0bLeraj+e8UuAIalFtVbK1U81So0ylgRc87wG/dLwHTzpiwnXRFmVdpHOeb/TmgDfgAPBbg2LiojHNUo4540onPOPFhyoAHXAJHzvQ01AP/gHOgppwChu+a+2F8Ab6Va24o9isMxkhBvALDgp4DueiWfgAAAABJRU5ErkJggg==",alt:"Premium"}),hidden:l.value.isPremium},{label:"Refer friends",key:"reffer",icon:(0,o.jsx)("img",{className:"menuIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVR4nOWUXQqCQBzEf774VLeoC/SWniVvo26HyNP01jWyOoIVYixMIKIF7i4EDSwsuzD/jxkG/h0xsAcuQA2UevMGA3SDU/gsUIs0AVLd7ZsXrICHSNNegbMr8VKraUbWY08+lzgCMglqiVqgkshXdZ7PFXkDHHtdnoCtq+1uulfqttN7pmm82a4D7vqz+/duuyewdiUeFkhDFSgnVtT4WlGsIrWsZ4DDQOSdi8jBbfoJkbp/69RqOqNpvaXpQkRTUVGECLskRJpO2do5Tb/ZenaaMoK+rZ3S9HfxAmO4aVnQnh9rAAAAAElFTkSuQmCC",alt:"Refer Friends"})}],"My Notes":M};return(0,o.jsxs)("div",{className:"topBarContainer",children:[(0,o.jsx)("input",{type:"text",onKeyUp:e=>"Enter"==e.key&&n(y),onChange:e=>{C(e.target.value),e.target.value||n("")},maxLength:20,placeholder:"Enter username or email",className:"searchBar"}),(0,o.jsxs)("div",{className:"chatOptions",children:[y.length?(0,o.jsx)("div",{style:{width:"100%",padding:"5px"},children:(0,o.jsx)("img",{onClick:()=>n(y),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChklEQVR4nO2Zu24TQRSGPxeElgYbEVIYHoECCJdXQAIH+YKECA+AxEVESAl0wAsgUUEKpCiiIDFKDYGGS96AhhZSBZGQ2MFwpH+lKQxi8czYu+wnjbTy5f/3jPecOTOGgoKR5AAwDcwDa8A6sKPxBfig9y4DFUaQM0Ab6AC9vxz22WXgNCPAEWDFubku8Aq4BhwDysAeDbs+DlwHVvXZ5HsvgMPDCqIFfNWNfAPuAftTfN8Cuw9sSmMDaBCZOWc2F4DxAbQOAYuO3iyRuCvDH7ouedK9CuzGCqYlIzOsBdCfcoKpEzCxk5y4FcoEmHFyphrCYMXJiZCUnJxph1gneqowE4RnXJWwB5zyKdyWqJXYWFhpNs8ln21HRwtYmnViUGyd6aq9seuBuaKZeUl8Xsv7kg+xeYlZ2xGbG/J+7ENsTWLWO8VmUt7vfIitSyxmfiRU5P3Zh9i2xMaIz155f89LIBt5ebQ++kx22xTF5qS8rQznovw+8iE2LTHbnsbmjbzP+XpOkxbFS6uQskXpAPt8iS5rZqyRi8UDeVpL740TEt0aQht/1Ld425khX/v0fpj2M3k9D2FQ1cLU03Y0FLflYSeTB0OZNJzDBzso8M0F5/DhLIGZdYKZ8fSYlfRLJEHs6sSGWMEkOWOHbP/KhJMT7rDS2yQCdSdnNlWa06wzZZXYLacx7PYJpkEEqk41S4xX1VpMajEd06jotZvqndybXlBiN4cZDDqyWUr5t4JtD572aUZ/F0ydiJR1UPAEeK8Suq3F7RPwFniom/rTtqAxCsH4wsp7p08wF8lRMC0yyFSegqn9D8E0yWgwO0UwGSkAc2SU885jdoeMU4v5d3ZBwa8Z+Ak4rhMJLuUtjQAAAABJRU5ErkJggg==",className:"searchIcon icon",alt:"Menu Icon"})}):(0,o.jsxs)("div",{children:[g>0&&(0,o.jsx)("p",{className:"notiNum",children:g}),(0,o.jsx)("img",{src:zp,onClick:()=>{r("Notifications"),u(Ua({...l.value,notifications:l.value.notifications.map((e=>({...e,isReaded:!0})))}))},className:"icon notificationsIcon",alt:"Notification"})]}),(0,o.jsx)(ZI,{isOpen:d,setOpen:f}),(0,o.jsx)(ZM,{isModalOpen:h,setIsModalOpen:p}),!l.value.googleSynced&&!l.value.settingsConfig.hide_sync_icon&&(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADS0lEQVR4nO2YX2hOYRzHP2xjtiUaMxOjdmG2GvNnW6QQF8Ol4kLIhQtuXBA3IpRCWzalqKX8SXLjX8OFKEsp0mwioiVMYcMwbK8efc96vL3n/XfOvO90PvVcnHOe53d+v/P8/p0HAgICAgIC0p8MoAJYA2wGNgErgZnAcIYAc4ATQBcQchmdwHFgLmnIBOAM0G8p/BQ4DzQCx4CLuuc8N3PPAVNJExYCr6XcB2AvUBxlfimwH/iiNe+BJaQYo8BXKXQWKEhgbaF2zKz9qXhKCdOBz1JkZ5IyhgG7JOMbUM0gMQqoBBYBJdb9TOChFNjnw3sOSZZx0dH4yDTgJNATlnHagVXAFl3f9imdZgC3JNPEmC8ss9Jnn778TeClZVCfxgy/XgrMViYzSWCcV2EVVjYxOzIp7PkCy6VMOvWby5K90augOxJ0MMqcPO3QCvxngx8faZaEPAeyYszNVcDblAFHgDbtqhmPgDo9s9ntIrfIqv5JszXJLJQNNChm3NqSXzIyS0aYe5Ew6bhXsTIi2cL2QC9Yn6ARN7Tuu5SdB+Ro16rUovRqzjPLODc69HxyIgYUWQEWkjssT2B9o5X/jWtGy0ifwnbJjU49r1PHPDKWEqWW9S+AdfqS8VIuF+hVex4Nx51iGZIlN7TnvQN2uMXteClvJl5QJkoUZzcakjDCzZBM7Z5J82vVv/3Q/Hvqsv/itB42R8g+8dImGTUMLiXAXb3rsd3ClMkluoGJDA2y1Q4ZY045Nw9bwTSUKFTC6Hdi8r4MMT9E/5oavdu0OclwQOvrzcVHXYz1qFSkAHar2A5HbUWSoErrW1HhCsWTn2OQqBGVStVeuuYxepfpzgdqxxS8YRvRESk1Wphi+cbjbqBuwSncXNfFarzhGNFlHSLs0ZfP1ahWvXG84FqyPZRVhJ0TmoG/uyt4w3GnAskKxWga631w5+2S12Qu8q2vuNiD0PCYmK/zq3arjW+VAeagwis5wCvpXRtu2Vv9nw8FmqRzi9r9P5gDg0uWMSk/IIuxE44R3ZEyXp5ljBlXdUhW7DEg/VK+XJ7juJOp6kvdFpid2WYVyXQdLfHWnnwd/zerJjh/dKkaPcATuVStHRMBAQEBAQEB/yO/AcwxYl5/iy43AAAAAElFTkSuQmCC",onClick:()=>S(),className:"icon googleSync",alt:"Google Sync"}),(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGjUlEQVR4nO1d72vWVRT/7HG6YjKnSUGUQStTglYRSM7EfliIS7O0eqkZ7IUFMoVeBKE1ay1flC/6BUH+eNEfEOlCC2yzGUHQokmjXCjMZyVk5XBTtzh2Bg/jued7vt/v/f54np0PXBjbc84959773HvOufecAQaDwWAwGAwGg8FgMJTgbQCTMVtnKUNDOHzpYQK6bdCjY8TDBBAPQwTc5mHwp9oim4HweNrjBGywCQiPPR4noMMmIDyOOAbzWYHmOQfNYZsAfwfwnQLNYgfNHzYBfg7gCwAKAl0Nf8YO4oQO4OMK2m/sIE7uAH5XQfueHcTRUQDQCmDQMYibFTw2O2gHmbe0hVU09gF4FcDSCLQ1bMGcCjAnmxW8mgN4nOK+qM+wWMo6kq65wuPTlOxnQZsUtPcD+E5hy18CMFvBbzZ/NojfSQD3Kfg1sS790+hJ51ygtoxwpY0GdweAW8sM1JsALiudqb4QMvUpeV7m82b6xN4CoD1gYfSz7pnjJaWyV9mK2cYr74SSjtowgLYQMrUxjZZ/L8u0jWW8qqQj3TPFDQDOh1A0TLsI4CCAxwDMiiDbLKY9yLySkPE8j0FmeD8Bpf4CsAtAo0c5idduwUmL02gMMsE9AK54VGQCwAcA5ico8wIAH3JfvuS+wmOROr52CDQGYK9gy5drpwGsSlH2hwEMhZBvkHUac/ydxiJVbBKE7Sr53N28nfwqfL4HwE1pK8B791eCXGfZq15R4jO8I3x+Y1qCXy+snnMAGsrQkPe5kvfL0ijnAQBzkB3msAxT8oywjCsdHnMD61hO9yEem8TxmrAKtijoyXZeDeDliN6ob9SwLKuVdv0WQX8am0RBDsq/js6/r+Y4y7QJczl6oxxKTwyfCRbMsiQ7xv/eaivvy+TEFQGMcyvy7+j8aUlhISwTLCkao0TQInT6Y4JueR2HMoohrJZhpiHaJFDLOrsWI42VdxwPUPpzAPWe+3wqpLlY7mBc71mmetZV6ldzcRQaq9hLlTqm4NWNnvbZV0LEZKQ2wc8TC55M196A/v5JMlLazPaxJMAvyjC0NPilpqGvdiCm1dXEukl9nFXeWcTCzQB+CBDkTwAPRuS/K4HBj2smPiDY/1PtpzRf4M0DcFTxVVwTYc+fCOBLb3xe4Cco9dzo563CW6LS7WhdSJnWsC4S36M8Jql7kfsVgaqdSn7XBRy4PwNYruBDFshAQNxJax3tVAQc92fpzddwmFcS8IyS146AFVYuxOECrcZjAj+67dLgTIBuu3PizV/bEsaFFaJxsorCyo/y9Z4nfBOGlVaR6xs+zjrnCp0OYbcraFuFVabZdlxYEZPvdgftW8ghXKuFglxB2CccuHHRrQibu/CEg/ZT5BAnHcLerqA94aD18TXfKtxDaGz/uC80UsPvDmE1l9ZFBy2Zl3Fxl4M32fVBWOigJWstdxh1CKsx0cYctHM9yDXXwZsebwWhzkFLryxyh4s5nYCGBCaA7kRyB9uCMkZfTg/hF2McwndU0iHsMkM1odkuBy3FduJixpihcRyxFgftZMzbpYdmiiMWNxRREB7TRg1FNAr5BtpQxCd5D0X4DMa1CzyOhZyExoBHV9pgnPTsPvNgnO9wdB2Hil28Bji2o9l2pEyb30KEo9sU+QuZhKOTupBZr7iQOcKWzZKSC5kl/DvXgTvViPeTlX4hY1eSyO5K0i7lkd2lPD3pnunPUhawAxe09ZL/UBUPs9YFHMxB7XSEPT+3D7OyfJrYHjLpbphpquppYtaPcwvsvXbx67RzHEW9xD/3cJG/5dX6OJdgz9NxbXIze55OsAQNZJegQbAUJWSbogROSHOtAkpkq4QkvYVCpqcrSW+v8PlnKjlNdQjAIynK/qhwg1cRaapJJWp/lHDqP/H+uFoStZMqVXABwOueM+aJ1xsA/q6mUgVJF+sYBXDIQ7GOQ8KTmYov1hGnXE1vjsrV9FRquZq4BZv2CFeZaRRsGuetqbaSCzbFLVl2r3LAfJcs+1YZOs59yTJfRfs2BWS2+CraN8B9VVXRPp9xlrUJlq1cm5eMlryjwzGI5JlGzTWgvd6gxAbHIFJZ4iC4bqwoA9OgxCLhuk+K9RcEZ2u6FWaIWL5+cYRkDCtfHwGHHYNJZYddeN5B80UUAWY6OpTOlKbZAezxIJ6M0OwA9ngQT0ZodgBHxIiHwbd/5BYD3R4mwEeWzYxFp4cJyF02i8FgMBgMBoPBYDAYkB3+A5Zv9M/AOiuMAAAAAElFTkSuQmCC",className:"icon settingsIcon",onClick:()=>r("Settings"),alt:"Profile"}),(0,o.jsx)(KI,{arrow:!0,menu:{items:R[a],onClick:e=>{var t;let{key:n}=e;return null===(t=I[n])||void 0===t?void 0:t.call()}},trigger:["click"],children:(0,o.jsx)("img",{src:Bp,className:"icon menuIcon",alt:"Menu Icon"})}),(0,o.jsx)("img",{src:l.value.avatar_url,onClick:()=>r("Profile"),style:{borderRadius:"50px"},className:"icon profileIcon",alt:"Profile"})]})]})};const eR=function(e){let{activeTab:t,setActiveTab:n,setGo:r}=e;const a=so((e=>e.callLogs)),s=so((e=>e.user)),[l,c]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=a.value.filter((e=>{if(e.data.to==s.value._id.toString()&&!e.data.readedParticipants.includes(s.value._id.toString()))return e})).length;c(Boolean(e))}),[a]),(0,o.jsxs)("div",{className:"chatTabs",children:[(0,o.jsx)("h2",{className:"activeTab",children:t||"Chats"}),(0,o.jsx)("img",{className:"rightIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVR4nO3WMQrCQBCF4Z+AWNkJgpWFB7DQ0iqVrTZ6B/USxkOk0it4AIONoOAZBAUrsRNBFCOBFZbBTjKRJQ+2/phldnYgz58lAmJztkBJC95ZcHIWgKcB14CzwAOU0gbuFvwCBlr4SFR9A1paeCjwE1DVgAvASuBroKiBl4G9wOcopQFcBZ70gEq6prs/8BPoaOGBqPoC1DVgz0yyWIxVd+FpFlfdE831APwsntMwbbQCHAU6c3ZkhgI9mBtINeMv32IzbdQ3XWsvAv0sVp8JLi97SwvdaK63efg1bx9lay4TR1IYAAAAAElFTkSuQmCC",alt:""}),(0,o.jsx)("h5",{className:"inActiveTab",onClick:()=>n("Chats"==t?"Notes":"Chats"),children:"Chats"==t?"Notes":"Chats"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{onClick:()=>r("CallLogs"),className:"rightIcon callLogIcon",title:"Call logs",style:{cursor:"pointer"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAADlklEQVR4nO2ba4gOURjHf8u6ht0vbrXkXhttUrLEurS1KZK1myiRSEjyQT5Ikg8iEaI290s+KG0kYomUhKTIan1gtW5L7pcVa1+dnLem6cy8886ceecs51f/L2dmnuc5zztn5pxnzgsWi8VisVgMIA/YADQCd4HJmu2PBS4D94DVGEoH4ACQcqgFqNBkvyfw1mW/EsPoCBxzBZnWd6Bcg49JCtv7MCwJxz2SkNY3YFpEPxUKu/sxhM7A6QxJcCZjSgRf0xU2azAkCbUBk5DWV6AspL8ZJg6NLsDZLJOQ1idgXAifsxS29pAg+UBdyCSk9QEYk6Xf2Qo7u0iQ5R6d+ww0KNofepxf7+OjTL4aeznaqhQ2driuGwYMJ0fsVAT0ERgPnFEcKwUueCRDzA3cHHYcfwYUy/a5iuu3y2PdgFOO9pNychcrU4E2h9P3csYnOKcItgToClxytd9X2C5WXP8SGAHMUxzbCnT3GKriLRM7lbLTR123ouqXH+X41cSYfiLPE51zM9rjzmkCNiradwPXPK5ZRIJcVASUvrWDkCfXEqqO/Va0/fI4V0zF+5AgVxRBqX55PwqAWxHfSOK5lChXFYENDWGnELgTIgnO51WiXFcENzikrUK5lA+ahGb5YDaCG4oAB0aw1xt4ECAJrx0PZSO4qQiyKKLNvsAjnyQ05XISFRT3SvSHXJdEpb/HrPVphKEXK6XAF0egomyniyJXMh5HHHaxMwBYEHKFmQkxJV8ILAF6xGDfYrFYLGEoAbbJumSdh2plMUSU8lfJxVKuEG+MZcAhGYOfTsglfNaTrs0eS95MehPDJz4VE4BXIeITS/Z1QZ2sjLD8TdctRd0wLgbJZXaUGBcH+U7xLqKTlPz0Fxc1GuITq9ROfk4manCSHiJx0agpRlFo9mSOJicp+e0jDlo0xSf66km1xkSIYRYHXjXKbFXd3hPRahPxF+f3lP/6jki1t0Qcka86nTqYq0RUaXRkunwTUW5AgLmS756ukQYEmCv5foYs0PhUNlltrn0XSm4bEGjcEn3MyHoDAo1boo8ZGQL8NCDYuPQrmzLBXgMCjkuib4HpJ/dEpf4xfZR9y3q7b6sBweuSKD3OJCRrDOiALq0lIvM1FkOSejiKCru2qnG9AZ3KVg3yrw1ayQeWyv0IKcP1HFiRqUCrgzHAJrnLVszSXshNXEmoWW4tOg9skfszxD+JLBaLxWKxECt/AAyT6p2B+YYOAAAAAElFTkSuQmCC",alt:""}),l&&(0,o.jsx)("span",{className:"callLogIndicator"})]})]})},tR=(n.p,Object.create(null));tR.open="0",tR.close="1",tR.ping="2",tR.pong="3",tR.message="4",tR.upgrade="5",tR.noop="6";const nR=Object.create(null);Object.keys(tR).forEach((e=>{nR[tR[e]]=e}));const iR={type:"error",data:"parser error"},rR="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),aR="function"===typeof ArrayBuffer,oR=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,sR=(e,t,n)=>{let{type:i,data:r}=e;return rR&&r instanceof Blob?t?n(r):lR(r,n):aR&&(r instanceof ArrayBuffer||oR(r))?t?n(r):lR(new Blob([r]),n):n(tR[i]+(r||""))},lR=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function cR(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let uR;const dR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fR="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)fR[dR.charCodeAt(n)]=n;const hR="function"===typeof ArrayBuffer,pR=(e,t)=>{if("string"!==typeof e)return{type:"message",data:mR(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:gR(e.substring(1),t)};return nR[n]?e.length>1?{type:nR[n],data:e.substring(1)}:{type:nR[n]}:iR},gR=(e,t)=>{if(hR){const n=(e=>{let t,n,i,r,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=fR[e.charCodeAt(t)],i=fR[e.charCodeAt(t+1)],r=fR[e.charCodeAt(t+2)],a=fR[e.charCodeAt(t+3)],u[l++]=n<<2|i>>4,u[l++]=(15&i)<<4|r>>2,u[l++]=(3&r)<<6|63&a;return c})(e);return mR(n,t)}return{base64:!0,data:e}},mR=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,vR=String.fromCharCode(30);function bR(){return new TransformStream({transform(e,t){!function(e,t){rR&&e.data instanceof Blob?e.data.arrayBuffer().then(cR).then(t):aR&&(e.data instanceof ArrayBuffer||oR(e.data))?t(cR(e.data)):sR(e,!1,(e=>{uR||(uR=new TextEncoder),t(uR.encode(e))}))}(e,(n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})}let yR;function CR(e){return e.reduce(((e,t)=>e+t.length),0)}function wR(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function SR(e){if(e)return function(e){for(var t in SR.prototype)e[t]=SR.prototype[t];return e}(e)}SR.prototype.on=SR.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},SR.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},SR.prototype.off=SR.prototype.removeListener=SR.prototype.removeAllListeners=SR.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},SR.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},SR.prototype.emitReserved=SR.prototype.emit,SR.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},SR.prototype.hasListeners=function(e){return!!this.listeners(e).length};const IR="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function TR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const ER=IR.setTimeout,MR=IR.clearTimeout;function RR(e,t){t.useNativeTimers?(e.setTimeoutFn=ER.bind(IR),e.clearTimeoutFn=MR.bind(IR)):(e.setTimeoutFn=IR.setTimeout.bind(IR),e.clearTimeoutFn=IR.clearTimeout.bind(IR))}class AR extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class kR extends SR{constructor(e){super(),this.writable=!1,RR(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new AR(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=pR(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const xR="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),DR=64,OR={};let LR,_R=0,NR=0;function jR(e){let t="";do{t=xR[e%DR]+t,e=Math.floor(e/DR)}while(e>0);return t}function PR(){const e=jR(+new Date);return e!==LR?(_R=0,LR=e):e+"."+jR(_R++)}for(;NR<DR;NR++)OR[xR[NR]]=NR;let UR=!1;try{UR="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(o1){}const FR=UR;function BR(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||FR))return new XMLHttpRequest}catch(nn){}if(!t)try{return new(IR[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(nn){}}function zR(){}const WR=null!=new BR({xdomain:!1}).responseType;class VR extends SR{constructor(e,t){super(),RR(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=TR(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new BR(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(nn){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(nn){}try{n.setRequestHeader("Accept","*/*")}catch(nn){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(nn){return void this.setTimeoutFn((()=>{this.onError(nn)}),0)}"undefined"!==typeof document&&(this.index=VR.requestsCount++,VR.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=zR,e)try{this.xhr.abort()}catch(nn){}"undefined"!==typeof document&&delete VR.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(VR.requestsCount=0,VR.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",HR);else if("function"===typeof addEventListener){addEventListener("onpagehide"in IR?"pagehide":"unload",HR,!1)}function HR(){for(let e in VR.requests)VR.requests.hasOwnProperty(e)&&VR.requests[e].abort()}const GR="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),YR=IR.WebSocket||IR.MozWebSocket,JR="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const QR={websocket:class extends kR{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=JR?{}:TR(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=JR?new YR(e,t,n):t?new YR(e,t):new YR(e)}catch(o1){return this.emitReserved("error",o1)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;sR(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(nn){}i&&GR((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=PR()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!YR}},webtransport:class extends kR{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){yR||(yR=new TextDecoder);const n=[];let i=0,r=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===i){if(CR(n)<1)break;const e=wR(n,1);a=128===(128&e[0]),r=127&e[0],i=r<126?3:126===r?1:2}else if(1===i){if(CR(n)<2)break;const e=wR(n,2);r=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(CR(n)<8)break;const e=wR(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){s.enqueue(iR);break}r=a*Math.pow(2,32)+t.getUint32(4),i=3}else{if(CR(n)<r)break;const e=wR(n,r);s.enqueue(pR(a?e:yR.decode(e),t)),i=0}if(0===r||r>e){s.enqueue(iR);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=bR();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),r())})).catch((e=>{}))};r();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(a).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this.writer.write(n).then((()=>{i&&GR((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends kR{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=WR&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(vR),i=[];for(let r=0;r<n.length;r++){const e=pR(n[r],t);if(i.push(e),"error"===e.type)break}return i})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,i=new Array(n);let r=0;e.forEach(((e,a)=>{sR(e,!1,(e=>{i[a]=e,++r===n&&t(i.join(vR))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=PR()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new VR(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},qR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,XR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function KR(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let r=qR.exec(e||""),a={},o=14;for(;o--;)a[XR[o]]=r[o]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,a.query),a}class ZR extends SR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=KR(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=KR(t.host).host),RR(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let i=0,r=n.length;i<r;i++){let e=n[i].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new QR[e](n)}open(){let e;if(this.opts.rememberUpgrade&&ZR.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(nn){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;ZR.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ZR.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function r(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,r(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function s(){a("socket closed")}function l(e){t&&e.name!==t.name&&r()}const c=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",i),t.once("error",a),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",ZR.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(e+="string"===typeof(t=i)?function(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0),"function"===typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){ZR.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}ZR.protocol=4;ZR.protocol;const $R="function"===typeof ArrayBuffer,eA=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,tA=Object.prototype.toString,nA="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===tA.call(Blob),iA="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===tA.call(File);function rA(e){return $R&&(e instanceof ArrayBuffer||eA(e))||nA&&e instanceof Blob||iA&&e instanceof File}function aA(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(aA(e[t]))return!0;return!1}if(rA(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return aA(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&aA(e[n]))return!0;return!1}function oA(e){const t=[],n=e.data,i=e;return i.data=sA(n,t),i.attachments=t.length,{packet:i,buffers:t}}function sA(e,t){if(!e)return e;if(rA(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=sA(e[i],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=sA(e[i],t));return n}return e}function lA(e,t){return e.data=cA(e.data,t),delete e.attachments,e}function cA(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=cA(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=cA(e[n],t));return e}const uA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dA=5;var fA;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(fA||(fA={}));class hA{constructor(e){this.replacer=e}encode(e){return e.type!==fA.EVENT&&e.type!==fA.ACK||!aA(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===fA.EVENT?fA.BINARY_EVENT:fA.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==fA.BINARY_EVENT&&e.type!==fA.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=oA(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function pA(e){return"[object Object]"===Object.prototype.toString.call(e)}class gA extends SR{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===fA.BINARY_EVENT;n||t.type===fA.BINARY_ACK?(t.type=n?fA.EVENT:fA.ACK,this.reconstructor=new mA(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!rA(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===fA[n.type])throw new Error("unknown packet type "+n.type);if(n.type===fA.BINARY_EVENT||n.type===fA.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(i,t)}else n.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!gA.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(nn){return!1}}static isPayloadValid(e,t){switch(e){case fA.CONNECT:return pA(t);case fA.DISCONNECT:return void 0===t;case fA.CONNECT_ERROR:return"string"===typeof t||pA(t);case fA.EVENT:case fA.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===uA.indexOf(t[0]));case fA.ACK:case fA.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mA{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=lA(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vA(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const bA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yA extends SR{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vA(e,"open",this.onopen.bind(this)),vA(e,"packet",this.onpacket.bind(this)),vA(e,"error",this.onerror.bind(this)),vA(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(bA.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:fA.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),r.id=e}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var n,i=this;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const a=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=function(){i.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(i,[null,...n])}}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((t,i)=>{n.push(((e,n)=>r?e?i(e):t(n):t(e))),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(i!==t._queue[0])return;if(null!==e)i.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];n(null,...a)}return i.pending=!1,t._drainQueue()})),this._queue.push(i),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fA.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fA.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fA.EVENT:case fA.BINARY_EVENT:this.onevent(e);break;case fA.ACK:case fA.BINARY_ACK:this.onack(e);break;case fA.DISCONNECT:this.ondisconnect();break;case fA.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.packet({type:fA.ACK,id:e,data:r})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fA.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function CA(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}CA.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},CA.prototype.reset=function(){this.attempts=0},CA.prototype.setMin=function(e){this.ms=e},CA.prototype.setMax=function(e){this.max=e},CA.prototype.setJitter=function(e){this.jitter=e};class wA extends SR{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,RR(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=n.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new CA({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||t;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ZR(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=vA(t,"open",(function(){n.onopen(),e&&e()})),r=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=vA(t,"error",r);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{i(),r(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vA(e,"ping",this.onping.bind(this)),vA(e,"data",this.ondata.bind(this)),vA(e,"error",this.onerror.bind(this)),vA(e,"close",this.onclose.bind(this)),vA(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(nn){this.onclose("parse error",nn)}}ondecoded(e){GR((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new yA(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const SA={};function IA(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i=KR(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),i=n.source,r=n.id,a=n.path,o=SA[r]&&a in SA[r].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new wA(i,t):(SA[r]||(SA[r]=new wA(i,t)),s=SA[r]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(IA,{Manager:wA,Socket:yA,io:IA,connect:IA});const TA=(0,i.createContext)(null),EA=e=>{let t=IA("http://".concat(window.location.hostname,":5000"));return t.on("connect_error",(e=>{console.log("connect_error due to ".concat(e.message))})),(0,o.jsx)(TA.Provider,{value:t,children:e.children})},MA=()=>(0,i.useContext)(TA),RA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC9klEQVR4nO2UWU9TURSF7xv8BEn0Lzj8C59s1DCIxYu2WJkEoRVsKlRqg9IYOgiVitEHII4JAkWmMBi0BjEqapAaOnPb0tuZAj7UbfZNikh6C514MK7kS849Z++11ktLEP+Vola7LHkerU2I4JnYT1m11gKndsXnukcBQnU6QnatVZCVMJPafmRZab2yrLY3mlV2qUVDvbZ1OCEe+IYzOMvsKO2H0wr/rrTxfqhWfi1rnJAKuLuotpamFG5UGXO+tlP0osoF6YAe6JV0gblWy+mFdjdkgrlb5lNJFzAoqNH5O6uQCQxt1Mieg4dVxpyZVpvubZsbDIrVjIBe6IneCcOHms0HJuXU/MxtD2QD9MYM1gKvZE79RCsN2UTfsjLEWmBQ5ooMy2lIhw8vAvCux8/6PiBzhlkLPJc6l17KvJAK/S00fJsKA+rnehT6Wzxx5zCDtUCvxKF6dsMHyfJU6oWFyRDE9Gk8xDrbc51SshbQCU2cviY/sDHa7YWpPh/0Nvm27vD8cSK4FY7n7e876RKZTrAWuFtr4jyS+CEeD8Qe2FyPMiHvxwLwUOJjwHNMsXs2D0RTl6hAPaW+Lw5APHRiP7zR+7bCDCN+hu3fumu+uLvb0QgpFWsBlci91NkYBDY6GvwwPUDDTs0Oe5m3RLsxMIO1gKKOjiivhiAR7aIATPT/KTE9RDN3u+3FUNTR7D9DebVLrxCGYDfa6gPwROeGx10u5ryXnRg3a1yDrAXEFy150mrXB3ldGLIBegsrEvwVo5pJc25DhaO7uTYM0tq1jIBejCdpziX2qnqBe1x8OQKZQHjJPUYkqyqeNV9UtQaiqkiarEF5qSk/6QIkac6tLPN6a8rXIR3QA72IVHSBtJcJ+KFohWADUkHAD0bPkzYekY6KiozHuFyHkMt1SEpKnLJzpZ5ZHj8C/LKNv8A7fMMZnMWd4uKlo0Q2VHDGcraEDPpI3iYgXDIYKuI6Kon9FKfwyyFOob0BOX7y88F9DSf+Jf0GCP+szwmXUhsAAAAASUVORK5CYII=";async function AA(e){console.log("from ".concat(e));const t={route:"getCurrentConversations",crypto:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};return(await hl(t)).data.body}async function kA(e){console.log("Getting messages of ".concat(e));const t={route:"getConversation",params:{recieverId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};return(await hl(t)).data.body}const xA=i.memo((function(e){let{blockOutSideClick:t,okBtnText:n,okBtnDisabled:i,noBtnText:r,value:a,func:s,title:l,content:c,posFunc:u,children:d,params:f,negFunc:h}=e;const p=()=>s(!a);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(X,{staticBackdrop:t,tabIndex:"-1",open:a,setOpen:s,children:(0,o.jsx)(K,{size:"sm",centered:!0,children:(0,o.jsxs)(Z,{children:[(0,o.jsxs)($,{children:[(0,o.jsx)("span",{style:{width:"100%",textAlign:"center"},children:(0,o.jsxs)(ee,{children:[" ",l," "]})}),(0,o.jsx)(m,{className:"btn-close",color:"none",onClick:p})]}),(0,o.jsx)(te,{children:(0,o.jsxs)("p",{className:"text-center",children:[c,d]})}),(0,o.jsxs)(ne,{children:[(0,o.jsx)(m,{style:{background:"#5961F9",color:"white"},onClick:h||p,children:r||"No"}),(0,o.jsx)(m,{disabled:i||!1,onClick:e=>u(f||e),style:{background:"#ED80FD"},children:n||"Yes"})]})]})})})})})),DA=xA;const OA=function(e){let{setChat:t,setGo:n}=e;const r=so((e=>e.conversations)),a=so((e=>e.user)),s=MA(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)({}),f=bo(),[h,p]=(0,i.useState)(null),g=async function(e){f(Sa([])),f(Ca(await AA())),c(!1);const n={route:"clearConversationMessages",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},params:{chatId:e._id}};hl(n).then((e=>{e.data.success&&(t({}),bi.success(e.data.message))}))},m=function(e){c(!1);const t={route:"deleteConversation",params:{chatId:e._id},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(t).then((e=>{e.data.success&&bi.success(e.data.message)}))},v=function(e){const t={route:C(e)?"unBlockContact":"blockContact",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},payload:{userId:e.opponent[0]._id},method:"POST"};f(Ua("unBlockContact"==t.route?{...a.value,blockedContacts:a.value.blockedContacts.filter((t=>t.userId!=e.opponent[0]._id))}:{...a.value,blockedContacts:[...a.value.blockedContacts,{userId:e.opponent[0]._id,blockedAt:Date.now()}]})),c(!1),hl(t).then((async e=>{e.data.success||bi.error(e.data.message)}))},b={viewContact:e=>{t({type:"UserProfile",data:e.opponent[0]._id})},clearMessage:e=>{d({content:"Do you want to clear messages of the current Conversation.?",params:e,posFunc:g,children:"Note : All media and messages will be cleared"}),c(!0)},deleteConversation:e=>{d({content:"Do you want to delete this current Conversation.?",params:e,posFunc:m,children:"Note : All media and messages will be cleared"}),c(!0)},blockUser:e=>{d({content:"Do you want to block ".concat(e.opponent[0].username,"..?"),params:e,posFunc:v,children:"Note : You will not able send or recieve messages "}),c(!0)}},y=[{label:"Clear messages",key:"clearMessage",icon:(0,o.jsx)(D,{fas:!0,icon:"broom"})},{label:"Delete conversation",key:"deleteConversation",icon:(0,o.jsx)(D,{far:!0,icon:"trash-alt"}),disabled:!0,danger:!0},{label:"Block user",key:"blockUser",icon:(0,o.jsx)(D,{fas:!0,icon:"ban"}),danger:!0}],C=e=>a.value.blockedContacts.filter((t=>t.userId==e.opponent[0]._id)).length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(DA,{title:"Think again..",params:u.params,posFunc:u.posFunc,content:u.content,value:l,func:c,children:(0,o.jsx)("p",{className:"text-danger m-3 mb-1",style:{fontSize:"13px"},children:u.children})}),r.value.length&&r.value.map(((e,n)=>{var i,r,l;const c=function(e){var t;return null===e||void 0===e||null===(t=e.filter((e=>0==(null===e||void 0===e?void 0:e.isReaded)&&e.senderId!=a.value._id&&!e.isDeleted)))||void 0===t?void 0:t.length}(e.messages);return(0,o.jsx)(KI,{menu:{items:(u=e,C(u)?y.map((e=>"blockUser"==e.key?{...e,label:(0,o.jsx)("span",{className:"text-success",children:"UnBlock user"}),icon:(0,o.jsx)(D,{far:!0,className:"text-success",icon:"circle"}),danger:!1}:e)):y),onClick:t=>{var n;let{key:i}=t;return null===(n=b[i])||void 0===n?void 0:n.call(this,e)}},placement:"bottom",arrow:{pointAtCenter:!0},trigger:["contextMenu"],children:(0,o.jsxs)("div",{className:"chatlistItem cursor-pointer p-3",onClick:()=>{var n;n=e.opponent[0]._id,t({type:"chat",data:n}),s.emit("markMsgSeen",{userId:n})},children:[(0,o.jsx)("img",{src:e.opponent[0].avatar_url,className:"chatIcon",alt:""}),(0,o.jsxs)("div",{className:"chatDetails",children:[(0,o.jsxs)("div",{className:"lstMsgD",children:[(0,o.jsxs)("h5",{className:"userName",children:[e.opponent[0].username," ",e.opponent[0].isPremium&&(0,o.jsx)("span",{className:"badge badge-success rounded-pill d-inline premiumBadge",children:"Premium"}),"  ",e.opponent[0].isBusiness&&(0,o.jsx)("img",{src:RA,className:"businessBadge",alt:""})," "]}),null!==e&&void 0!==e&&e.messages.length?(0,o.jsxs)("p",{className:"lastMessage",children:[" ",null!==(i=e.last_message)&&void 0!==i&&i.isDeleted?"This messsage has been vanished":null!==(r=e.last_message)&&void 0!==r&&r.isMedia?(0,o.jsx)("img",{style:{width:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVR4nO3UvQnCUBSG4QcrxdIF7F3ABYSM4SiWdo7gAuIQBq1sXSDWdpZCbCKExAgxN0QhL9zi/vC9xT3n0PNLRLgibbiSLKtEEiA8zUlKvC6bklbldCo4Im5TEOPQpqAOQQQT7DEOIZgX9iOcsrfbpoIFHlhn+wF2hZpffiuY4pY7X2HzpqnumNUVDHGu0bmX3H/8RxV9ojKn9WEXBZIkVeO6pxueWSGc73O4Hm8AAAAASUVORK5CYII="}):null===(l=e.last_message)||void 0===l?void 0:l.content]}):""]}),(0,o.jsxs)("div",{className:"messageDetails d-flex flex-column justify-content-center align-items-center mt-2",children:[e.last_message?(0,o.jsxs)("h6",{className:"lastMsgTime",style:{whiteSpace:"nowrap"},children:[new Date(parseInt(e.last_message.sentTime)).getDate()==(new Date).getDate()?e.sentTimeString?e.sentTimeString:new Date(parseInt(e.last_message.sentTime)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.last_message.sentTime)).getDate()==(new Date).getDate()-1?"Yesterday":e.sentDateString?e.sentDateString:new Date(parseInt(e.last_message.sentTime)).toLocaleDateString()," "]}):(0,o.jsx)("h6",{className:"lastMsgTime",children:"None"}),(0,o.jsx)("p",{className:"unreadMsgCount ".concat(c?"visible":"invisible"),children:c})]})]})]},n)});var u}))]})},LA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nOXVvUpDQRCG4aiNWtkYK+2s9WrSiDaClgYD4oXoJahEYiH2xosQkVSCP7WKSEDlkY0bCOH8JCex0RcOLMzu980se2ZKpT8NZrGBU7TwFr+wrmMdM0WEJ7CNJ/mEPVvDZh0yHpZ6bjWYxJniXGAqy2Df6OyliS/gdQwGLygnGezmHPzIid/3rKtJBlcZh6+xiNX4RLt84RyVuKdLM8ngMUO83LNvLj6EQyyHWJ94p5okg3aeeD8p4oH2IBV0xP1keYBGyH4A8dQKmn3ilXi/4Z67hPtfwVKGeOAyyaDam4FsPnPiO0kG83j2W/9BALUxGNRKOV30aATxRuhnqQbRZLqg+PHAs2FI4QdsDiScYtCKpd/hPU60W5xgrehEC33pJo7L9P7+L/gGPU/hKq9HyGQAAAAASUVORK5CYII=";function _A(e){let{contactsModal:t,openContactsModal:n,setChat:r,subTitle:a,modalTitle:s,onClick:l,icon:c,route:u,params:d}=e;const[f,h]=(0,i.useState)([]),[p,g]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{if(t){const e={route:u||"getContacts",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},params:d||{},crypto:!0};hl(e).then((e=>{e.data.success?h(e.data.body):bi.error(e.data.message),g(!1)})).catch((e=>{bi.error(e.message)}))}}),[u,d]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(X,{animationDirection:"bottom",open:t,setOpen:n,tabIndex:"-1",children:(0,o.jsx)(K,{centered:!0,children:(0,o.jsxs)(Z,{children:[(0,o.jsxs)($,{children:[(0,o.jsx)(ee,{className:"text-center w-100 text-dark",children:s||"New chat"}),(0,o.jsx)(m,{className:"btn-close",color:"none",onClick:()=>n(!1)})]}),(0,o.jsx)(te,{children:(0,o.jsxs)("div",{className:"contactsListParent text-dark",children:[p&&(0,o.jsxs)("div",{className:"subLoader",children:[" ",(0,o.jsx)("span",{className:"subLoaderSpinner"})," "]}),Boolean(!f.length&&!p)&&(0,o.jsx)("h1",{children:"List is empty.!!"}),Boolean(f.length&&!p&&!u)&&f.map((e=>(0,o.jsxs)("div",{className:"chatlistItem contactItem",children:[(0,o.jsx)("img",{src:e.contactData.avatar_url,className:"chatIcon",alt:"sd"}),(0,o.jsxs)("div",{className:"chatDetails",children:[(0,o.jsxs)("div",{className:"userContent",children:[(0,o.jsx)("h5",{className:"userName text-start",style:{textTransform:"capitalize"},children:e.contactData.username.length>10?e.contactData.username.slice(0,10)+"...":e.contactData.username}),(0,o.jsx)("p",{className:"lastMessage",children:a||"Message to your contacts"})]}),(0,o.jsx)("div",{className:"followRqstDiv",children:(0,o.jsx)("button",{className:"sendFrndRqst",onClick:()=>{n(!1),l?l(e.contactData._id):r({type:"chat",data:e.contactData._id})},children:(0,o.jsx)("img",{style:{width:"20px"},src:c||LA,alt:""})})})]})]}))),Boolean(f.length&&!p&&"getLikes"==u)&&f.map((e=>(0,o.jsxs)("div",{className:"chatlistItem contactItem",children:[(0,o.jsx)("img",{src:e.likedUserData.avatar_url,className:"chatIcon",alt:"sd"}),(0,o.jsx)("div",{className:"chatDetails",children:(0,o.jsxs)("div",{className:"userContent",children:[(0,o.jsx)("h5",{className:"userName text-start",style:{textTransform:"capitalize"},children:e.likedUserData.username.length>10?e.likedUserData.username.slice(0,10)+"...":e.likedUserData.username}),(0,o.jsx)("p",{className:"lastMessage",children:"Liked at ".concat(new Date(e.likedUserData.likedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))})]})})]}))),Boolean(f.length&&!p&&"getBlockedUsers"==u)&&f.map((e=>(0,o.jsxs)("div",{className:"chatlistItem contactItem",children:[(0,o.jsx)("img",{src:e.blockedUser.avatar_url,className:"chatIcon",alt:"sd"}),(0,o.jsxs)("div",{className:"chatDetails",children:[(0,o.jsxs)("div",{className:"userContent",children:[(0,o.jsx)("h5",{className:"userName text-start",style:{textTransform:"capitalize"},children:e.blockedUser.username.length>10?e.blockedUser.username.slice(0,10)+"...":e.blockedUser.username}),(0,o.jsx)("p",{className:"lastMessage",children:"Blocked at ".concat(new Date(e.blockedAt).toLocaleDateString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))})]}),c&&(0,o.jsx)("div",{className:"followRqstDiv",children:(0,o.jsx)("button",{onClick:l,className:"sendFrndRqst",children:(0,o.jsx)("img",{style:{width:"20px"},src:c,alt:""})})})]})]})))]})})]})})})})}const NA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVR4nO3VPQrCMACG4R5ET+AJ3Bwtbl6kd1TQc2gdBUcneSSggvhDhiSFknf+4IGQNk1Tq40urHCSph5tLNxL2zEWTt4fa4odtsVgzMJpvDYlYCxwedvkhrHG9WOTE0aH29dNZvj3RoVHctTdIJdrsM/pGeY4F4cfePhlHorDIUywx2bQZ7FNiIfXZxkF12qj6w7KwgzJjSEuxAAAAABJRU5ErkJggg==",jA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVR4nO3Wu2sVQRiG8fUCUYOSJp0xIEgI1raS1ElQQfAPMNimsEwjKcQyWGuRQAiBdLm0SfACBluFaJVOtPCSRtT4k4E5sBmyu+csew4IedpvZp7dd7+Z2Sw74X8HZzCOp9jHi27KzmEKz/HFUfabll2IskV8V8x8E7JBTGMDPwtEf5PaWF3ZFTzAGn4r5wBLUS7GfrYT2VXM4GVukSo+4m4S+7N2ZNfxCO91zmZMJp07USXdVo+QxlyIE+tJ7Ufo9irx6xrSEOntOD/IU1baifk8FjqQfgifJs69VdAH9yrFuQcI3furQhoiHYjjR/DtmDFhO11qWxwXu4lPxywW3uoJTsdxF/Gu6OE6krbAZbxJGuVOrn4KqyWp3M/qgr6wD7GH0aQWtl0Rf8IJV1vcIt0SmMRhiXgnaxpcw1flzDQt7StppnwDDjcqDsT7toy3WRcv/N0S8WxXxAEM4XOB+Ej3N078p0rv5r2uSlvgYSJ+nPUKLOfEN3op7scrbIVjtGfiE7I2+AcEHXWoJXkgBAAAAABJRU5ErkJggg==",PA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2WvYsTURTFkw1Wm3QW6mYNqIn5H/wLzJrOxhU7QTRpFj9KK2vBzthtsyxr1CYKVn6VIlgZbCy0d9dVBJPIT25yBh6D8+ZNNkSLHBgY3j33nvfe3I/J5Rb438EEP4A+8AxoAeV5CcfxG9gBKvMQPgfcBt47a/tAc9rAh0KEY2tngHfO6dtZRc8DA+ByFmGtF4C7jnjYyYFV4Ksc1z28N8Brj/2OYnwDjoYIb8rhibP2FrgC5IN2P/FZAp4rVieNfFxXPHAzU6KGl0A1g3gdGAFDYMVH3JDAVmw9D7yQ7Sdwy75loHhXftd8JGsEhgt/sVUlGuFVSL0Cl8Tv+UifRDqRYL8Zaxh7QCNFuCZu30eyFmhYTrAXdFIXX1KEi1FT8ZGs4xhKHk4F2HWEP6cIl0KEP4pUSwnWsJOaKHA2hXs65KoTk2taABdDkstGm2F7hsI2rQxXfaSyiv1XUmZnFD2lWENvAxH5wXh/0J2B8GPFuh9CPuZk9/UDiN5wav1IqFNTI200jbhER4qxltW5LUfDI+Bk4DeNrtd8W1k3PYZ+a2yeoiSxDF3X1CnqqatkHmqqRdeb7aRxAIeBe8rMNBinEzT4Q2HlYLUIPAU+AN/12HtPNn/JLJD7B/gDlYJXK71N54EAAAAASUVORK5CYII=";var UA=n(102);n(7029);const FA=function(e){var t,n;let{setChat:r,chat:a,reciever:s}=e;const l=MA(),[c,u]=(0,i.useState)({}),[d,f]=(0,i.useState)(!1),h=so((e=>e.user)),[p,g]=(0,i.useState)(0),m=new Set([]),[v,b]=(0,i.useState)([]),[y,C]=(0,i.useState)({}),w=(0,i.useRef)(null),[S,I]=(0,i.useState)({type:null}),[T,E]=(0,i.useState)(!1),M=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useRef)(null),(0,i.useEffect)((()=>{if("videoCall"!=a.type||a.isRecieved){var e;console.log(a),u((null===(e=a.data)||void 0===e?void 0:e.participantsData.filter((e=>e.username!=h.value.username)))||[])}else{const e=a.data.to;if(e){const t={route:"getUserInfo",params:{userId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(t).then((e=>{e.data.success?u([e.data.body]):bi.error(e.data.message)}))}}}),[a]);const A=(0,i.useCallback)((async function(e,t){if(!m.has(e.streamId)){m.add(e.streamId);const n=document.querySelector("#videoCallStreams"),i=document.createElement("video");if(i.srcObject=e.data,i.style.width=!t&&90/p+"%",i.id=e.streamId,i.classList.add(t?"selfStream":"remoteStream"),i.muted=!0,i.play(),t)n.appendChild(i);else{const e=document.createElement("div"),t=document.createElement("img");t.classList.add("vidCallUserImg"),e.appendChild(t),e.classList.add("vidParent"),i.style.width="100%",e.style.width=100/p+"%",e.appendChild(i),n.appendChild(e)}I({type:null})}}),[p]),k=()=>{R.current&&(w.current&&w.current.isPublishedStream(R.current)&&(bi("UnPublishing "),w.current.unpublish(R.current),w.current.cancelJoin(),w.current.leave()),R.current.data.getTracks().forEach((e=>e.stop())))},x=function(e){"added"===e.listEventType&&e.isRemote&&w.current&&e.streamId&&w.current.subscribeToMedia(e.streamId).then((t=>{console.log("subscribeToStream success",e)})).catch((e=>{console.error("subscribeToStream error",e)}))},O=function(e){e.isRemote&&(g((e=>e+1)),console.log(c),A(e))},L=function(e){bi("Call ended");try{var t;if(p<=1)k(),null!==(t=M.current)&&void 0!==t&&t.isRegistered()&&M.current.unregister(),r({type:null})}catch(n){bi.error(n.message)}g((e=>e-1))},_=async()=>{const e=new UA.UserAgent({uri:"apiKey:23a4e92766509f0902d27275395c1d18"});M.current=e,e.setUsername(h.value.username),e.register().then((t=>{const n=a.data.conversationName,i=t.getOrCreateConversation(n,{meshOnlyEnabled:!0});w.current=i,i.on("streamListChanged",x),i.on("streamAdded",O),i.on("streamRemoved",L),e.createStream({constraints:{audio:!0,video:!0}}).then((async e=>{R.current=e,h.value.settingsConfig.blur_video_bg&&(e=await e.blur()),A(e,!0),e.attachToElement(document.getElementById("local-video-stream")),i.join().then((t=>{i.publish(e).then((()=>{I({type:null})})).catch((e=>{console.log("publish error")}))})).catch((e=>{console.log("Conversation join error"+e.message)}))})).catch((e=>{var t;console.log("".concat(e.message," ").concat(null===(t=R.current)||void 0===t?void 0:t.streamId))}))}))};(0,i.useEffect)((()=>{const e=e=>{k(),r({type:null})};return l.on("callEnded",e),l.on("callDeclined",e),l.on("callAccepted",(()=>{I({type:"Connecting"}),f(!0),r({...a,isAccepted:!0}),_()})),l.on("userJoinedToCall",(e=>{bi("User joined"),console.log(e)})),()=>{l.off("callEnded",e),l.off("callAccepted".handleCallAccepted),l.off("callDeclined".handleCallEnd),l.off("userJoinedToCall".handleUserJoinedCall)}}),[]);const N=[{label:y.camDisabled?"Enable camera":"Disable camera",key:"toggleCamera",icon:(0,o.jsx)(D,{className:"menuIcon",fas:!0,icon:"video"})},{label:y.micDisabled?"Enable mic":"Diable mic",key:"toggleMic",icon:(0,o.jsx)(D,{className:"menuIcon",fas:!0,icon:"microphone"})},{label:y.isBlur?"Unblur background":"Blur background",key:"blurBg",icon:(0,o.jsx)(D,{className:"menuIcon",fas:!0,icon:"filter"})}],j={toggleCamera:()=>{if(R.current)return R.current.isVideoEnabled()?(C({...y,camDisabled:!0}),R.current.disableVideo(!0)):(C({...y,camDisabled:!1}),R.current.enableVideo(!0))},toggleMic:()=>{if(R.current)return R.current.isAudioEnabled()?(C({...y,micDisabled:!0}),R.current.disableAudio(!0)):(C({...y,micDisabled:!1}),R.current.enableAudio(!0))},blurBg:y.isBlur?e=>{R.current&&(R.current.unblur(),C({...y,isBlur:!1}))}:e=>{R.current&&(R.current.blur(),C({...y,isBlur:!0}))}};return(0,o.jsxs)("div",{className:"videoCallUIParent",children:[T&&(0,o.jsx)(_A,{contactsModal:T,openContactsModal:E,subTitle:"Add user to the meeting",modalTitle:"New member",icon:NA,onClick:e=>{l.emit("requestJoin",{...a.data,request:e})}}),Boolean(!d&&!S.type)&&(0,o.jsx)("div",{className:"videoCallUserDetails center",children:(0,o.jsx)("div",{className:"d-flex",children:(null===c||void 0===c?void 0:c.length)&&c.map((e=>(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:e.avatar_url,className:"vidCallAvatar m-3",alt:""}),(0,o.jsx)("h4",{children:e.username})]})))})}),(0,o.jsxs)("div",{id:"videoCallStreams",className:"videoCallStreams center",children:[(S.type||!d&&(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.from)==(null===(n=h.value)||void 0===n?void 0:n._id))&&(0,o.jsxs)("div",{className:"videoCallLoader center flex-column",children:[(0,o.jsx)("span",{className:"videoCallLoaderSpinner"}),(0,o.jsxs)("p",{children:[S.type||"Waiting for join","..."]})]}),Boolean(a.isRecieved&&!d&&!S.type)&&(0,o.jsxs)("p",{style:{fontSize:"20px",color:"white"},children:["Incoming video call from ",(0,o.jsx)("b",{children:(null===c||void 0===c?void 0:c.length)&&c.map((e=>{if(e.username!=h.value.username)return e.username})).toString()}),"..."]})]}),(0,o.jsxs)("div",{className:"videoCallControls center",children:[(!a.isRecieved||d)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>{var e;w.current&&(null!==(e=M.current)&&void 0!==e&&e.isRegistered()&&M.current.unregister());k(),l.emit("onDeclined",a.data),r({type:null})},className:"syncup-pink-btn",children:"Hangup"}),(0,o.jsx)("button",{onClick:()=>E(!0),className:"syncup-pink-btn",children:"Add members"}),d&&(0,o.jsx)(KI,{arrow:!0,menu:{items:N,onClick:e=>{var t;let{key:n}=e;return null===(t=j[n])||void 0===t?void 0:t.call()}},trigger:["click"],children:(0,o.jsx)("button",{className:"syncup-pink-btn",children:(0,o.jsx)(D,{fas:!0,icon:"ellipsis-v"})})})]}),a.isRecieved&&!d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"syncup-pink-btn",onClick:function(){var e;w.current&&(null!==(e=M.current)&&void 0!==e&&e.isRegistered()&&M.current.unregister());k(),l.emit("onHangup",a.data),r({type:null})},children:"Decline"}),(0,o.jsx)("button",{className:"syncup-pink-btn",onClick:function(){if(f(!0),I({type:"Connecting"}),c.length<=2){const e={...a,isAccepted:!0};l.emit("userAcceptedACall",e.data),r(e)}else l.emit("memberJoined",a);_()},children:"Accept"})]})]})]})};n(6593);IA("http://".concat(window.location.hostname,":5000"));function BA(e){return[].concat(e)}function zA(e){return e.startsWith(":")}function WA(e){return YA(e)&&("*"===e||e.length>1&&":>~.+*".includes(e.slice(0,1))||JA(e))}function VA(e,t){return(YA(t)||"number"===typeof t)&&!GA(e)&&!zA(e)&&!HA(e)}function HA(e){return e.startsWith("@media")}function GA(e){return"--"===e}function YA(e){return e+""===e}function JA(e){return YA(e)&&(e.startsWith("&")||zA(e))}function QA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter(Boolean).join(t)}function qA(e,t){let n=0;if(0===t.length)return n.toString();for(let i=0;i<t.length;i++){n=(n<<5)-n+t.charCodeAt(i),n|=0}return"".concat(null!==e&&void 0!==e?e:"cl","_").concat(n.toString(36))}function XA(e,t){return"".concat(e,":").concat(t)}var KA=class e{constructor(e,t,n,i){this.sheet=e,this.property=t,this.value=n,this.selector=i,this.property=t,this.value=n,this.joined=XA(t,n);const r=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:qA(this.sheet.name,this.joined),this.key=QA([this.joined,r,this.hash])}toString(){let t=ZA(this.selector.preconditions,{right:this.hash});return t=ZA(this.selector.postconditions,{left:t}),"".concat(t," {").concat(e.genRule(this.property,this.value),"}")}static genRule(e,t){return XA(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),function(e,t){return"content"===e?'"'.concat(t,'"'):t}(e,t))+";"}};function ZA(e){let{left:t="",right:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e.reduce(((e,t)=>zA(t)?e+t:JA(t)?e+t.slice(1):QA([e,t]," ")),t);return QA([i,(r=n,r?".".concat(r):"")]," ");var r}var $A,ek=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{preconditions:n,postconditions:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sheet=e,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=n?BA(n):[],this.postconditions=i?BA(i):[],this.setScope(t)}setScope(e){return e?(this.scopeClassName||(this.scopeName=e,this.scopeClassName=qA(this.sheet.name,e+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new e(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new e(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new e(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(e,t){return new KA(this.sheet,e,t,this)}},tk=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id="flairup-".concat(e),this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){this.style=function(e,t){return e?"".concat(e,"\n").concat(t):t}(this.style,e)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){var e;if("undefined"===typeof document||this.isApplied()||null===this.rootNode)return this.styleTag;const t=document.createElement("style");return t.type="text/css",t.id=this.id,(null!==(e=this.rootNode)&&void 0!==e?e:document.head).appendChild(t),t}addRule(e){const t=this.storedClasses[e.key];return YA(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function nk(e,t){for(const n in e)t(n.trim(),e[n])}function ik(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t instanceof Set?e.push(...t):"string"===typeof t?e.push(t):Array.isArray(t)?e.push(ik(...t)):"object"===typeof t&&Object.entries(t).forEach((t=>{let[n,i]=t;i&&e.push(n)})),e)),[]);return QA(i," ").trim()}function rk(e,t){const n=new tk(e,t);return{create:function(e){const t={};return ak(n,e,new ek(n)).forEach((e=>{let[i,r,a]=e;ok(n,r,a).forEach((e=>{!function(e,n){var i;t[e]=null!==(i=t[e])&&void 0!==i?i:new Set,t[e].add(n)}(i,e)}))})),n.apply(),t},getStyle:n.getStyle.bind(n),isApplied:n.isApplied.bind(n)}}function ak(e,t,n){const i=[];return nk(t,((r,a)=>{if(WA(r))return ak(e,a,n.addPrecondition(r)).forEach((e=>i.push(e)));i.push([r,t[r],n.addScope(r)])})),i}function ok(e,t,n){const i=new Set;return nk(t,((t,r)=>{let a=[];if(WA(t))a=ok(e,r,n.addPostcondition(t));else if(function(e){return"."===e}(t))a=BA(r);else if(HA(t))a=function(e,t,n,i){e.append(n+" {");const r=ok(e,t,i);return e.append("}"),r}(e,r,t,n);else if(GA(t))a=function(e,t,n){const i=new Set,r=[];if(nk(t,((t,a)=>{if(VA(t,a))return void r.push(KA.genRule(t,a));sk(ok(e,null!==a&&void 0!==a?a:{},n),i)})),!n.scopeClassName)return i;if(r.length){const t=r.join(" ");e.append("".concat(ZA(n.preconditions,{right:n.scopeClassName})," {").concat(t,"}"))}return i.add(n.scopeClassName),i}(e,r,n);else if(VA(t,r)){const a=n.createRule(t,r);e.addRule(a),i.add(a.hash)}return sk(a,i)})),i}function sk(e,t){return e.forEach((e=>t.add(e))),t}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lk.apply(this,arguments)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ck(e,t)}function uk(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function dk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fk(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return dk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dk(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"."+e})).join("")}!function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariations="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker",e.darkTheme="epr-dark-theme",e.autoTheme="epr-auto-theme"}($A||($A={}));var pk=rk("epr",null),gk={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},mk=pk.create({hidden:lk({".":$A.hidden},gk)}),vk=(0,i.memo)((function(){return(0,i.createElement)("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:pk.getStyle()}})})),bk=pk.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:lk({".":$A.hiddenOnSearch},gk)},":has(input(:placeholder-shown))":{visibleOnSearchOnly:gk}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:lk({".":"epr-visible-on-search-only"},gk)}});function yk(e,t){var n,i;return{".epr-dark-theme":(n={},n[e]=t,n),".epr-auto-theme":(i={},i[e]={"@media (prefers-color-scheme: dark)":t},i)}}function Ck(e,t){var n,i,r=null!=(n=e.customEmojis)?n:[],a=null!=(i=t.customEmojis)?i:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&r.length===a.length}var wk,Sk,Ik,Tk,Ek,Mk,Rk,Ak=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"];!function(e){e.RECENT="recent",e.FREQUENT="frequent"}(wk||(wk={})),function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"}(Sk||(Sk={})),function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"}(Ik||(Ik={})),function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"}(Tk||(Tk={})),function(e){e.SUGGESTED="suggested",e.CUSTOM="custom",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"}(Ek||(Ek={})),function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"}(Mk||(Mk={}));var kk=[Ek.SUGGESTED,Ek.CUSTOM,Ek.SMILEYS_PEOPLE,Ek.ANIMALS_NATURE,Ek.FOOD_DRINK,Ek.TRAVEL_PLACES,Ek.ACTIVITIES,Ek.OBJECTS,Ek.SYMBOLS,Ek.FLAGS],xk={name:"Recently Used",category:Ek.SUGGESTED},Dk=((Rk={})[Ek.SUGGESTED]={category:Ek.SUGGESTED,name:"Frequently Used"},Rk[Ek.CUSTOM]={category:Ek.CUSTOM,name:"Custom Emojis"},Rk[Ek.SMILEYS_PEOPLE]={category:Ek.SMILEYS_PEOPLE,name:"Smileys & People"},Rk[Ek.ANIMALS_NATURE]={category:Ek.ANIMALS_NATURE,name:"Animals & Nature"},Rk[Ek.FOOD_DRINK]={category:Ek.FOOD_DRINK,name:"Food & Drink"},Rk[Ek.TRAVEL_PLACES]={category:Ek.TRAVEL_PLACES,name:"Travel & Places"},Rk[Ek.ACTIVITIES]={category:Ek.ACTIVITIES,name:"Activities"},Rk[Ek.OBJECTS]={category:Ek.OBJECTS,name:"Objects"},Rk[Ek.SYMBOLS]={category:Ek.SYMBOLS,name:"Symbols"},Rk[Ek.FLAGS]={category:Ek.FLAGS,name:"Flags"},Rk);function Ok(e){return kk.map((function(t){return lk({},Dk[t],e&&e[t]&&e[t])}))}function Lk(e){return e.category}function _k(e){return e.name}function Nk(e,t){return void 0===t&&(t={}),Object.assign(Dk[e],t)}var jk="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",Pk="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",Uk="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",Fk="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";var Bk,zk={custom:[],smileys_people:[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],animals_nature:[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],food_drink:[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],travel_places:[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],activities:[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],objects:[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker\u2019s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],symbols:[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],flags:[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","\xe5land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barth\xe9lemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","c\xf4te d\u2019ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","cura\xe7ao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","r\xe9union flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","s\xe3o tom\xe9 & pr\xedncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}]},Wk=[Tk.NEUTRAL,Tk.LIGHT,Tk.MEDIUM_LIGHT,Tk.MEDIUM,Tk.MEDIUM_DARK,Tk.DARK],Vk=Object.entries(Tk).reduce((function(e,t){var n=t[0];return e[t[1]]=n,e}),{}),Hk=Wk.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{});!function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a",e.imgUrl="imgUrl"}(Bk||(Bk={}));var Gk={};function Yk(e){Jk(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("").forEach((function(t){var n;Gk[t]=null!=(n=Gk[t])?n:{},Gk[t][Xk(e)]=e}))}function Jk(e){var t;return null!=(t=e[Bk.name])?t:[]}function Qk(e){return e?Jk(e)[0]:""}function qk(e){var t=e.split("-"),n=t.splice(1,1)[0];return Hk[n]?t.join("-"):e}function Xk(e,t){var n,i=e[Bk.unified];return t&&ex(e)&&null!=(n=function(e,t){return t?$k(e).find((function(e){return e.includes(t)})):Xk(e)}(e,t))?n:i}function Kk(e){var t;return null!=(t=null==zk?void 0:zk[e])?t:[]}function Zk(e,t){return""+function(e){switch(e){case Sk.TWITTER:return Uk;case Sk.GOOGLE:return Fk;case Sk.FACEBOOK:return Pk;case Sk.APPLE:default:return jk}}(t)+e+".png"}function $k(e){var t;return null!=(t=e[Bk.variations])?t:[]}function ex(e){return $k(e).length>0}function tx(e){if(e){if(rx[e])return rx[e];var t=qk(e);return rx[t]}}setTimeout((function(){nx.reduce((function(e,t){return Yk(t),e}),Gk)}));var nx=Object.values(zk).flat();function ix(e){zk[Ek.CUSTOM].length=0,e.forEach((function(e){var t=function(e){var t;return(t={})[Bk.name]=e.names.map((function(e){return e.toLowerCase()})),t[Bk.unified]=e.id.toLowerCase(),t[Bk.added_in]="0",t[Bk.imgUrl]=e.imgUrl,t}(e);zk[Ek.CUSTOM].push(t),rx[t[Bk.unified]]||(nx.push(t),rx[t[Bk.unified]]=t,Yk(t))}))}var rx={};setTimeout((function(){nx.reduce((function(e,t){return e[Xk(t)]=t,ex(t)&&$k(t).forEach((function(n){e[n]=t})),e}),rx)}));var ax=["2640-fe0f","2642-fe0f","2695-fe0f"],ox="Search",sx="No results found",lx=" found. Use up and down arrow keys to navigate.",cx="1 result"+lx,ux="%n results"+lx;function dx(e){var t,n;void 0===e&&(e={});var i=fx(),r=Object.assign(i.previewConfig,null!=(t=e.previewConfig)?t:{}),a=Object.assign(i,e),o=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t={});var i={};t.suggestionMode===wk.RECENT&&(i[Ek.SUGGESTED]=xk);var r=Ok(i);return null!=(n=e)&&n.length?e.map((function(e){return"string"===typeof e?Nk(e,i[e]):lk({},Nk(e.category,i[e.category]),e)})):r}(e.categories,{suggestionMode:a.suggestedEmojisMode});return ix(null!=(n=a.customEmojis)?n:[]),lk({},a,{categories:o,previewConfig:r,skinTonePickerLocation:a.searchDisabled?Mk.PREVIEW:a.skinTonePickerLocation})}function fx(){return{autoFocusSearch:!0,categories:Ok(),className:"",customEmojis:[],defaultSkinTone:Tk.NEUTRAL,emojiStyle:Sk.APPLE,emojiVersion:null,getEmojiUrl:Zk,height:450,lazyLoadEmojis:!1,previewConfig:lk({},hx),searchDisabled:!1,searchPlaceHolder:ox,searchPlaceholder:ox,skinTonePickerLocation:Mk.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:wk.FREQUENT,theme:Ik.LIGHT,unicodeToHide:new Set(ax),width:350,reactionsDefaultOpen:!1,reactions:Ak,open:!0,allowExpandReactions:!0}}var hx={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},px=["children"],gx=(0,i.createContext)(fx());function mx(e){var t=e.children,n=function(e){var t,n=(0,i.useState)((function(){return dx(e)})),r=n[0],a=n[1];return(0,i.useEffect)((function(){Ck(r,e)||a(dx(e))}),[null==(t=e.customEmojis)?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),r}(uk(e,px));return(0,i.createElement)(gx.Provider,{value:n},t)}function vx(){return(0,i.useContext)(gx)}var bx,yx=i.createContext({});function Cx(){}function wx(){return vx().allowExpandReactions}function Sx(){return vx().skinTonesDisabled}function Ix(){return vx().emojiStyle}function Tx(){return vx().categories}function Ex(e){var t,n=i.useContext(yx).current;return(null!=(t=e===bx.REACTIONS?n.onReactionClick:n.onEmojiClick)?t:n.onEmojiClick)||function(){}}function Mx(){return vx().previewConfig}function Rx(){return vx().searchDisabled}function Ax(){return vx().skinTonePickerLocation}function kx(){return vx().getEmojiUrl}function xx(e){return"number"===typeof e?e+"px":e}function Dx(e,t){void 0===t&&(t=0);var n=(0,i.useState)(e),r=n[0],a=n[1],o=(0,i.useRef)(null);return[r,function(e){return new Promise((function(n){var i;o.current&&clearTimeout(o.current),o.current=null==(i=window)?void 0:i.setTimeout((function(){a(e),n(e)}),t)}))}]}function Ox(){var e=vx().unicodeToHide;return function(t){return e.has(t)}}function Lx(){var e=(0,i.useRef)({}),t=vx().emojiVersion;return(0,i.useMemo)((function(){var n=parseFloat(""+t);return!t||Number.isNaN(n)?e.current:nx.reduce((function(e,t){return function(e,t){return function(e){return parseFloat(e[Bk.added_in])}(e)>t}(t,n)&&(e[Xk(t)]=!0),e}),e.current)}),[t])}function _x(e){var t,n=e.children,r=Lx(),a=vx().defaultSkinTone,o=vx().reactionsDefaultOpen,s=(0,i.useRef)(Gk),l=(0,i.useRef)(!1),c=(0,i.useRef)(!1),u=(0,i.useRef)(r),d=Dx(Date.now(),200),f=Dx("",100),h=(0,i.useState)(!1),p=(0,i.useState)(a),g=(0,i.useState)(null),m=(0,i.useState)(new Set),v=(0,i.useState)(null),b=(0,i.useState)(o),y=(0,i.useState)(!1),C=y[0],w=y[1];return t=w,(0,i.useEffect)((function(){t(!0)}),[t]),(0,i.createElement)(Nx.Provider,{value:{activeCategoryState:g,activeSkinTone:p,disallowClickRef:l,disallowMouseRef:c,disallowedEmojisRef:u,emojiVariationPickerState:v,emojisThatFailedToLoadState:m,filterRef:s,isPastInitialLoad:C,searchTerm:f,skinToneFanOpenState:h,suggestedUpdateState:d,reactionsModeState:b}},n)}!function(e){e.REACTIONS="reactions",e.PICKER="picker"}(bx||(bx={}));var Nx=(0,i.createContext)({activeCategoryState:[null,function(){}],activeSkinTone:[Tk.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise((function(){}))}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function jx(){return(0,i.useContext)(Nx).filterRef}function Px(){return(0,i.useContext)(Nx).disallowMouseRef}function Ux(){return(0,i.useContext)(Nx).reactionsModeState}function Fx(){return(0,i.useContext)(Nx).searchTerm}function Bx(){return(0,i.useContext)(Nx).activeSkinTone}function zx(){return(0,i.useContext)(Nx).emojisThatFailedToLoadState}function Wx(){return(0,i.useContext)(Nx).emojiVariationPickerState}function Vx(){return(0,i.useContext)(Nx).skinToneFanOpenState}function Hx(){var e=(0,i.useContext)(Nx).suggestedUpdateState,t=e[0],n=e[1];return[t,function(){n(Date.now())}]}function Gx(){return!!Fx()[0]}function Yx(e){e&&requestAnimationFrame((function(){e.focus()}))}function Jx(e){e&&Yx(e.previousElementSibling)}function Qx(e){e&&Yx(e.nextElementSibling)}function qx(e){e&&Yx(e.firstElementChild)}function Xx(){return document.activeElement}function Kx(e){var t=e.children,n=(0,i.useRef)(null),r=(0,i.useRef)(null),a=(0,i.useRef)(null),o=(0,i.useRef)(null),s=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(null);return(0,i.createElement)($x.Provider,{value:{AnchoredEmojiRef:r,BodyRef:a,CategoryNavigationRef:l,PickerMainRef:n,SearchInputRef:o,SkinTonePickerRef:s,VariationPickerRef:c,ReactionsRef:u}},t)}var Zx,$x=(0,i.createContext)({AnchoredEmojiRef:(0,i.createRef)(),BodyRef:(0,i.createRef)(),CategoryNavigationRef:(0,i.createRef)(),PickerMainRef:(0,i.createRef)(),SearchInputRef:(0,i.createRef)(),SkinTonePickerRef:(0,i.createRef)(),VariationPickerRef:(0,i.createRef)(),ReactionsRef:(0,i.createRef)()});function eD(){return(0,i.useContext)($x)}function tD(){return eD().PickerMainRef}function nD(){return eD().AnchoredEmojiRef}function iD(){var e=nD();return function(t){null===t&&null!==e.current&&Yx(e.current),e.current=t}}function rD(){return eD().BodyRef}function aD(){return eD().SearchInputRef}function oD(){return eD().SkinTonePickerRef}function sD(){return eD().CategoryNavigationRef}function lD(e,t){void 0===t&&(t=0);var n=tO(e);n&&requestAnimationFrame((function(){n.scrollTop=t+1}))}function cD(e){if(e&&function(e){if(!e)return!1;return nO(e)<eO(bO(e))}(e)&&!e.closest(hk($A.variationPicker))){var t=iO(e),n=nO(e);!function(e,t){var n=tO(e);n&&requestAnimationFrame((function(){n.scrollTop=n.scrollTop+t}))}(t,-(eO(bO(e))-n))}}function uD(e){var t=gO(e);Yx(t),cD(t)}function dD(e){if(e){var t=hO(e);if(!t)return uD(vO(e));Yx(t),cD(t)}}function fD(e){if(e){var t=pO(e);if(t)Yx(t),cD(t);else Yx(fO(mO(e)))}}function hD(e,t){if(e){var n=function(e){if(!e)return null;var t=yO(e),n=bO(t),i=VD(t,e),r=HD(t,e),a=WD(t,e);if(0===r){var o=mO(n);return o?YD(dO(o),-1,a,i):null}return function(e,t,n,i){var r=GD(e,t-1,n);return r[i]||r[r.length-1]||null}(dO(t),r,a,i)}(e);if(!n)return t();Yx(n),cD(n)}}function pD(e){if(e){var t=function(e){if(!e)return null;var t=yO(e),n=bO(t),i=VD(t,e),r=HD(t,e),a=WD(t,e);if(!function(e,t){if(!e||!t)return!1;var n=t.getBoundingClientRect().height,i=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().height;return Math.round(i-r+n)<a}(t,e)){var o=vO(n);return o?YD(dO(o),0,a,i):null}return function(e,t,n,i){var r=function(e,t,n){var i=t+1;if(i*n>e.length)return[];return GD(e,i,n)}(e,t,n);return r[i]||r[r.length-1]||null}(dO(t),r,a,i)}(e);return Yx(t)}}function gD(){var e=Wx(),t=e[0],n=e[1],r=Vx(),a=r[0],o=r[1];return(0,i.useCallback)((function(){t&&n(null),a&&o(!1)}),[t,a,n,o])}function mD(){var e=Wx()[0],t=Vx()[0];return function(){return!!e||t}}function vD(){var e=Px();return function(){e.current=!1}}function bD(){var e=Px();return function(){return e.current}}function yD(){var e=aD();return(0,i.useCallback)((function(){Yx(e.current)}),[e])}function CD(){var e=sD();return(0,i.useCallback)((function(){e.current&&qx(e.current)}),[e])}function wD(){var e=ID(),t=aD(),n=yD();return function(){t.current&&(t.current.value=""),e(""),n()}}function SD(){var e=aD(),t=jx(),n=function(){var e=jx();return function t(n){if("function"===typeof n)return t(n(e.current));e.current=n}}(),i=ID(),r=Fx()[0],a=function(e,t){var n;if(null==e||!e[t])return"";var i=(null==(n=Object.entries(null==e?void 0:e[t]))?void 0:n.length)||0;return function(e){return e>0?e>1?ux.replace("%n",e.toString()):cx:sx}(i)}(t.current,r);return{onChange:function(e){var r=t.current,a=e.toLowerCase();if(null!=r&&r[a]||a.length<=1)return i(a);var o=function(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort((function(e,t){return t.length-e.length})).find((function(t){return e.includes(t)}));if(n)return t[n];return null}(a,r);if(!o)return i(a);n((function(e){var t;return Object.assign(e,((t={})[a]=function(e,t){var n={};for(var i in e){var r=e[i];TD(r,t)&&(n[i]=r)}return n}(o,a),t))})),i(a)},searchTerm:r,SearchInputRef:e,statusSearchResults:a}}function ID(){var e=Fx()[1],t=tD();return function(n){requestAnimationFrame((function(){e(n?null==n?void 0:n.toLowerCase():n).then((function(){lD(t.current,0)}))}))}}function TD(e,t){return Jk(e).some((function(e){return e.includes(t)}))}function ED(e){return e&&"string"===typeof e?e.trim().toLowerCase():""}function MD(){var e=iD(),t=Wx()[1];return function(n){var i=KD(n)[0];i&&(e(n),t(i))}}function RD(){return Ax()===Mk.SEARCH}function AD(){return Ax()===Mk.PREVIEW}function kD(){!function(){var e=tD(),t=wD(),n=function(){var e=rD();return(0,i.useCallback)((function(t){requestAnimationFrame((function(){e.current&&(e.current.scrollTop=t)}))}),[e])}(),r=aD(),a=yD(),o=mD(),s=function(){var e=Px();return function(){e.current=!0}}(),l=gD(),c=(0,i.useMemo)((function(){return function(e){var i=e.key;if(s(),i===Zx.Escape){if(e.preventDefault(),o())return void l();t(),n(0),a()}}}),[n,t,l,a,o,s]);(0,i.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",c),function(){t.removeEventListener("keydown",c)}}),[e,r,n,c])}(),function(){var e=function(){var e=oD();return(0,i.useCallback)((function(){e.current&&qx(e.current)}),[e])}(),t=tD(),n=rD(),r=aD(),a=Vx()[1],o=xD(),s=RD(),l=(0,i.useMemo)((function(){return function(t){switch(t.key){case Zx.ArrowRight:if(!s)return;t.preventDefault(),a(!0),e();break;case Zx.ArrowDown:t.preventDefault(),o();break;case Zx.Enter:t.preventDefault(),function(e){var t=gO(e);Yx(t),null==t||t.click()}(n.current)}}}),[e,o,a,n,s]);(0,i.useEffect)((function(){var e=r.current;if(e)return e.addEventListener("keydown",l),function(){e.removeEventListener("keydown",l)}}),[t,r,l])}(),function(){var e=oD(),t=yD(),n=aD(),r=xD(),a=Vx(),o=a[0],s=a[1],l=AD(),c=RD(),u=LD(),d=(0,i.useMemo)((function(){return function(e){var n=e.key;if(c)switch(n){case Zx.ArrowLeft:if(e.preventDefault(),!o)return t();DD(t);break;case Zx.ArrowRight:if(e.preventDefault(),!o)return t();OD();break;case Zx.ArrowDown:e.preventDefault(),o&&s(!1),r();break;default:u(e)}if(l)switch(n){case Zx.ArrowUp:if(e.preventDefault(),!o)return t();DD(t);break;case Zx.ArrowDown:if(e.preventDefault(),!o)return t();OD();break;default:u(e)}}}),[o,t,s,r,u,l,c]);(0,i.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",d),function(){t.removeEventListener("keydown",d)}}),[e,n,o,d])}(),function(){var e=yD(),t=sD(),n=rD(),r=LD(),a=(0,i.useMemo)((function(){return function(t){switch(t.key){case Zx.ArrowUp:t.preventDefault(),e();break;case Zx.ArrowRight:t.preventDefault(),Qx(Xx());break;case Zx.ArrowLeft:t.preventDefault(),Jx(Xx());break;case Zx.ArrowDown:t.preventDefault(),uD(n.current);break;default:r(t)}}}),[n,e,r]);(0,i.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("keydown",a),function(){e.removeEventListener("keydown",a)}}),[t,n,a])}(),function(){var e=rD(),t=function(){var e=yD(),t=CD(),n=Gx();return(0,i.useCallback)((function(){return n?e():t()}),[e,n,t])}(),n=MD(),r=mD(),a=gD(),o=LD(),s=(0,i.useMemo)((function(){return function(e){var i=e.key,s=XD(Xx());switch(i){case Zx.ArrowRight:e.preventDefault(),dD(s);break;case Zx.ArrowLeft:e.preventDefault(),fD(s);break;case Zx.ArrowDown:if(e.preventDefault(),r()){a();break}pD(s);break;case Zx.ArrowUp:if(e.preventDefault(),r()){a();break}hD(s,t);break;case Zx.Space:e.preventDefault(),n(e.target);break;default:o(e)}}}),[t,o,n,r,a]);(0,i.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",s),function(){t.removeEventListener("keydown",s)}}),[e,s])}()}function xD(){var e=CD(),t=Gx(),n=rD();return(0,i.useCallback)((function(){return t?uD(n.current):e()}),[n,e,t])}function DD(e){var t=Xx();t&&(t.nextElementSibling||e(),Qx(t))}function OD(){var e=Xx();e&&Jx(e)}function LD(){var e=function(){var e=aD(),t=ID();return function(n){e.current?(e.current.value=""+e.current.value+n,t(ED(e.current.value))):t(ED(n))}}(),t=yD(),n=Rx(),i=gD();return function(r){var a=r.key;(function(e){var t=e.metaKey,n=e.ctrlKey,i=e.altKey;return t||n||i})(r)||n||a.match(/(^[a-zA-Z0-9]$){1}/)&&(r.preventDefault(),i(),t(),e(a))}}function _D(e,t,n){if(t&&n!==Sk.NATIVE){var i=Xk(t);ND.has(i)||($k(t).forEach((function(t){!function(e){(new Image).src=e}(e(t,n))})),ND.add(i))}}!function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "}(Zx||(Zx={}));var ND=new Set;var jD=["width","height"],PD=40;function UD(e){var t=e.children;return(0,i.createElement)(_x,null,(0,i.createElement)(FD,null,t))}function FD(e){var t,n=e.children,r=Ux()[0],a=vx().theme,o=Gx(),s=tD(),l=vx().className,c=function(){var e=vx(),t=e.height,n=e.width,i=e.style;return lk({height:xx(t),width:xx(n)},i)}();kD(),function(){var e=rD(),t=Ix(),n=kx();(0,i.useEffect)((function(){if(t!==Sk.NATIVE){var i=e.current;return null==i||i.addEventListener("focusin",r),function(){null==i||i.removeEventListener("focusin",r)}}function r(e){var i=XD(e.target);if(i){var r=KD(i)[0];r&&ex(r)&&_D(n,r,t)}}}),[e,t,n])}();var u=c||{},d=u.width,f=u.height,h=uk(u,jD);return(0,i.createElement)("aside",{className:ik(zD.main,zD.baseVariables,a===Ik.DARK&&zD.darkTheme,a===Ik.AUTO&&zD.autoThemeDark,(t={},t[$A.searchActive]=o,t),r&&zD.reactionsMenu,l),ref:s,style:lk({},h,!r&&{height:f,width:d})},n)}var BD={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)"},zD=pk.create({main:{".":["epr-main",$A.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#f1f8ff","--epr-hover-bg-color-reduced-opacity":"#f1f8ff80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":PD+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295"}},autoThemeDark:{".":$A.autoTheme,"@media (prefers-color-scheme: dark)":{"--":BD}},darkTheme:{".":$A.darkTheme,"--":BD},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function WD(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,i=t.getBoundingClientRect().width;return Math.floor(n/i)}function VD(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().width,i=t.getBoundingClientRect().left,r=e.getBoundingClientRect().left;return Math.floor((i-r)/n)}function HD(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().height,i=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;return Math.round((i-r)/n)}function GD(e,t,n){if(-1===t){var i=Math.floor((e.length-1)/n)*n,r=e.length-1;return e.slice(i,r+1)}return e.slice(t*n,(t+1)*n)}function YD(e,t,n,i){var r=GD(e,t,n);return r[i]||r[r.length-1]||null}function JD(e,t){if(!e||!t.length)return null;var n=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom,r=n+function(e){var t,n;return null!=(t=null==(n=e.querySelector(hk($A.label)))?void 0:n.getBoundingClientRect().height)?t:PD}(e);return t.find((function(e){var t=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;return!(t<r)&&(t>=n&&t<=i||a>=n&&a<=i)}))||null}var QD="button"+hk($A.emoji),qD=[QD,hk($A.visible),":not("+hk($A.hidden)+")"].join("");function XD(e){var t;return null!=(t=null==e?void 0:e.closest(QD))?t:null}function KD(e){var t=sO(e),n=oO(e);if(!t)return[];var i=tx(null!=n?n:t);return i?[i,n]:[]}function ZD(e){var t;return null!=(t=null==e?void 0:e.clientHeight)?t:0}function $D(e){if(!e)return 0;var t=XD(e),n=bO(t),i=eO(n);return rO(t)+rO(n)+i}function eO(e){var t,n;if(!e)return 0;var i=e.querySelector(hk($A.categoryContent));return(null!=(t=null==e?void 0:e.clientHeight)?t:0)-(null!=(n=null==i?void 0:i.clientHeight)?n:0)}function tO(e){return e?e.matches(hk($A.scrollBody))?e:e.querySelector(hk($A.scrollBody)):null}function nO(e){var t,n;return e?$D(e)-(null!=(t=null==(n=iO(e))?void 0:n.scrollTop)?t:0):0}function iO(e){var t;return e&&null!=(t=e.closest(hk($A.scrollBody)))?t:null}function rO(e){var t;return null!=(t=null==e?void 0:e.offsetTop)?t:0}function aO(e){var t;return null!=(t=null==e?void 0:e.offsetLeft)?t:0}function oO(e){var t;return null!=(t=function(e,t){var n;return null!=(n=function(e){var t;return null!=(t=null==e?void 0:e.dataset)?t:{}}(e)[t])?n:null}(XD(e),"unified"))?t:null}function sO(e){var t=oO(e);return t?qk(t):null}function lO(e){return e?{unified:oO(e),originalUnified:sO(e)}:{unified:null,originalUnified:null}}function cO(e){return e.classList.contains($A.visible)}function uO(e){return!e||e.classList.contains($A.hidden)}function dO(e){return e?Array.from(e.querySelectorAll(qD)):[]}function fO(e){if(!e)return null;var t=dO(e).slice(-1)[0];return t?cO(t)?t:pO(t):null}function hO(e){var t=e.nextElementSibling;return t?cO(t)?t:hO(t):gO(vO(e))}function pO(e){var t=e.previousElementSibling;return t?cO(t)?t:pO(t):fO(mO(e))}function gO(e){return e?JD(e,dO(e)):null}function mO(e){var t=bO(e);if(!t)return null;var n=t.previousElementSibling;return n?uO(n)?mO(n):n:null}function vO(e){var t=bO(e);if(!t)return null;var n=t.nextElementSibling;return n?uO(n)?vO(n):n:null}function bO(e){return e?e.closest(hk($A.category)):null}function yO(e){return e?e.closest(hk($A.categoryContent)):null}function CO(e){return e.split("-").map((function(e){return String.fromCodePoint(parseInt(e,16))})).join("")}var wO="epr_suggested";function SO(e){try{var t,n,i;if(null==(t=window)||!t.localStorage)return[];var r=JSON.parse(null!=(n=null==(i=window)?void 0:i.localStorage.getItem(wO))?n:"[]");return e===wk.FREQUENT?r.sort((function(e,t){return t.count-e.count})):r}catch(a){return[]}}function IO(e){return void 0!==e.imgUrl}function TO(e,t){var n=(0,i.useRef)(),r=MD(),a=(0,i.useContext)(Nx).disallowClickRef,o=Wx()[1],s=gD(),l=Bx()[0],c=Ex(t),u=Hx()[1],d=kx(),f=Ix(),h=(0,i.useCallback)((function(e){if(!a.current){s();var t=EO(e),n=t[0],i=t[1];if(n&&i){var r=function(e){var t=e.split("-")[1];return Wk.includes(t)?t:null}(i)||l;u(),function(e,t){var n,i=SO(),r=Xk(e,t),a=Xk(e),o=i.find((function(e){return e.unified===r}));n=o?[o].concat(i.filter((function(e){return e!==o}))):[o={unified:r,original:a,count:0}].concat(i),o.count++,n.length=Math.min(n.length,14);try{var s;null==(s=window)||s.localStorage.setItem(wO,JSON.stringify(n))}catch(l){}}(n,r),c(function(e,t,n,i){var r=Jk(e);if(IO(e)){var a=Xk(e);return{activeSkinTone:t,emoji:a,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:r,unified:a,unifiedWithoutSkinTone:a}}var o=Xk(e,t);return{activeSkinTone:t,emoji:CO(o),getImageUrl:function(e){return void 0===e&&(e=null!=n?n:Sk.APPLE),i(o,e)},imageUrl:i(o,null!=n?n:Sk.APPLE),isCustom:!1,names:r,unified:o,unifiedWithoutSkinTone:Xk(e)}}(n,r,f,d),e)}}}),[l,s,a,c,u,d,f]),p=(0,i.useCallback)((function(e){var t;n.current&&clearTimeout(n.current);var i=EO(e)[0];i&&ex(i)&&(n.current=null==(t=window)?void 0:t.setTimeout((function(){a.current=!0,n.current=void 0,s(),r(e.target),o(i)}),500))}),[a,s,r,o]),g=(0,i.useCallback)((function(){n.current?(clearTimeout(n.current),n.current=void 0):a.current&&requestAnimationFrame((function(){a.current=!1}))}),[a]);(0,i.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("click",h,{passive:!0}),t.addEventListener("mousedown",p,{passive:!0}),t.addEventListener("mouseup",g,{passive:!0}),function(){null==t||t.removeEventListener("click",h),null==t||t.removeEventListener("mousedown",p),null==t||t.removeEventListener("mouseup",g)}}}),[e,h,p,g])}function EO(e){var t=null==e?void 0:e.target;return function(e){var t;return Boolean((null==e?void 0:e.matches(QD))||(null==e||null==(t=e.parentElement)?void 0:t.matches(QD)))}(t)?KD(t):[]}function MO(e){return(0,i.createElement)("button",Object.assign({type:"button"},e,{className:ik(RO.button,e.className)}),e.children)}var RO=pk.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function AO(e){var t,n=e.emojiNames,r=e.unified,a=e.hidden,o=e.hiddenOnSearch,s=e.showVariations,l=void 0===s||s,c=e.hasVariations,u=e.children,d=e.className,f=e.noBackground,h=void 0!==f&&f;return(0,i.createElement)(MO,{className:ik(kO.emoji,a&&mk.hidden,o&&bk.hiddenOnSearch,(t={},t[$A.visible]=!a&&!o,t),!(!c||!l)&&kO.hasVariations,h&&kO.noBackground,d),"data-unified":r,"aria-label":n[0],"data-full-name":n},u)}var kO=pk.create({emoji:{".":$A.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":$A.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),xO=pk.create({external:{".":$A.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function DO(e){var t=e.emojiName,n=e.style,r=e.lazyLoad,a=void 0!==r&&r,o=e.imgUrl,s=e.onError,l=e.className;return(0,i.createElement)("img",{src:o,alt:t,className:ik(OO.emojiImag,xO.external,xO.common,l),loading:a?"lazy":"eager",onError:s,style:n})}var OO=pk.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function LO(e){var t=e.unified,n=e.style,r=e.className;return(0,i.createElement)("span",{className:ik(_O.nativeEmoji,xO.common,xO.external,r),"data-unified":t,style:n},CO(t))}var _O=pk.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function NO(e){var t=e.emoji,n=e.unified,r=e.emojiStyle,a=e.size,o=e.lazyLoad,s=e.getEmojiUrl,l=void 0===s?Zk:s,c=e.className,u=zx()[1],d={};a&&(d.width=d.height=d.fontSize=a+"px");var f=t||tx(n);return f?IO(f)?(0,i.createElement)(DO,{style:d,emojiName:n,emojiStyle:Sk.NATIVE,lazyLoad:o,imgUrl:f.imgUrl,onError:h,className:c}):(0,i.createElement)(i.Fragment,null,r===Sk.NATIVE?(0,i.createElement)(LO,{unified:n,style:d,className:c}):(0,i.createElement)(DO,{style:d,emojiName:Qk(f),emojiStyle:r,lazyLoad:o,imgUrl:l(n,r),onError:h,className:c})):null;function h(){u((function(e){return new Set(e).add(n)}))}}function jO(e){var t=e.emoji,n=e.unified,r=e.hidden,a=e.hiddenOnSearch,o=e.emojiStyle,s=e.showVariations,l=void 0===s||s,c=e.size,u=e.lazyLoad,d=e.getEmojiUrl,f=e.className,h=e.noBackground,p=void 0!==h&&h,g=ex(t);return(0,i.createElement)(AO,{hasVariations:g,showVariations:l,hidden:r,hiddenOnSearch:a,emojiNames:Jk(t),unified:n,noBackground:p},(0,i.createElement)(NO,{unified:n,emoji:t,size:c,emojiStyle:o,lazyLoad:u,getEmojiUrl:d,className:f}))}function PO(){var e=Ux()[1];return(0,i.createElement)(MO,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:ik(UO.plusSign),onClick:function(){return e(!1)}})}var UO=pk.create(lk({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=)",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},yk("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function FO(){var e=Ux()[0],t=eD().ReactionsRef,n=vx().reactions;TO(t,bx.REACTIONS);var r=Ix(),a=wx();return e?(0,i.createElement)("ul",{className:ik(BO.list,!e&&mk.hidden),ref:t},n.map((function(e){return(0,i.createElement)("li",{key:e},(0,i.createElement)(jO,{emoji:tx(e),emojiStyle:r,unified:e,showVariations:!1,className:ik(BO.emojiButton),noBackground:!0}))})),a?(0,i.createElement)("li",null,(0,i.createElement)(PO,null)):null):null}var BO=pk.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function zO(){var e=zx()[0],t=function(){var e=jx().current,t=Fx()[0];return function(n){return function(e,t,n){var i;return!(!t||!n)&&!(null!=(i=t[n])&&i[e])}(n,e,t)}}();return function(n){var i=Xk(n),r=e.has(i),a=t(i);return{failedToLoad:r,filteredOut:a,hidden:r||a}}}function WO(e){var t=e.categoryConfig,n=e.children,r=e.hidden,a=e.hiddenOnSearch,o=Lk(t),s=_k(t);return(0,i.createElement)("li",{className:ik(VO.category,r&&mk.hidden,a&&bk.hiddenOnSearch),"data-name":o,"aria-label":s},(0,i.createElement)("h2",{className:ik(VO.label)},s),(0,i.createElement)("div",{className:ik(VO.categoryContent)},n))}var VO=pk.create({category:{".":$A.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":$A.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":$A.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),HO=!1;function GO(e){var t=e.categoryConfig,n=Hx()[0],r=function(){var e=(0,i.useState)(HO),t=e[0],n=e[1];return(0,i.useEffect)((function(){n(!0),HO=!0}),[]),t||HO}(),a=vx().suggestedEmojisMode,o=kx(),s=(0,i.useMemo)((function(){var e;return null!=(e=SO(a))?e:[]}),[n,a]),l=Ix();return r?(0,i.createElement)(WO,{categoryConfig:t,hiddenOnSearch:!0,hidden:0===s.length},s.map((function(e){var t=tx(e.original);return t?(0,i.createElement)(jO,{showVariations:!1,unified:e.unified,emojiStyle:l,emoji:t,key:e.unified,getEmojiUrl:o}):null}))):null}function YO(){var e=Tx(),t=(0,i.useRef)(0);return(0,i.createElement)("ul",{className:ik(qO.emojiList)},e.map((function(e){var n=Lk(e);return n===Ek.SUGGESTED?(0,i.createElement)(GO,{key:n,categoryConfig:e}):(0,i.createElement)(JO,{key:n,category:n,categoryConfig:e,renderdCategoriesCountRef:t})})))}function JO(e){var t=e.category,n=e.categoryConfig,r=e.renderdCategoriesCountRef,a=zO(),o=vx().lazyLoadEmojis,s=Ix(),l=(0,i.useContext)(Nx).isPastInitialLoad,c=Bx()[0],u=function(){var e=Lx(),t=Ox();return function(n){var i=qk(Xk(n));return Boolean(e[i]||t(i))}}(),d=kx(),f=!Sx(),h=!l&&r.current>0?[]:Kk(t);h.length>0&&r.current++;var p=0,g=h.map((function(e){var t=Xk(e,c),n=a(e),r=n.failedToLoad,l=n.filteredOut,h=n.hidden,g=u(e);return(h||g)&&p++,g?null:(0,i.createElement)(jO,{showVariations:f,key:t,emoji:e,unified:t,hidden:r,hiddenOnSearch:l,emojiStyle:s,lazyLoad:o,getEmojiUrl:d})}));return(0,i.createElement)(WO,{categoryConfig:n,hidden:p===g.length},g)}var QO,qO=pk.create({emojiList:{".":$A.emojiList,listStyle:"none",margin:"0",padding:"0"}});function XO(){var e,t,n=nD(),r=eD().VariationPickerRef,a=Wx()[0],o=Ix(),s=function(e){var t=nD(),n=rD(),i=QO.Up;return{getMenuDirection:r,getTop:a};function r(){return i}function a(){i=QO.Up;var r=0;if(!e.current)return 0;var a=ZD(e.current);if(t.current){var o,s=n.current,l=XD(t.current),c=ZD(l);r=$D(l),(null!=(o=null==s?void 0:s.scrollTop)?o:0)>r-a&&(i=QO.Down,r+=c+a)}return r-a}}(r),l=s.getTop,c=s.getMenuDirection,u=iD(),d=function(e){var t=nD();return function(){var n={};if(!e.current)return n;if(t.current){var i=XD(t.current),r=function(e){var t=XD(e),n=bO(t);return aO(t)+aO(n)}(i);if(!i)return n;n.left=r+(null==i?void 0:i.clientWidth)/2}return n}}(r),f=kx(),h=XD(n.current),p=Boolean(a&&h&&ex(a)&&h.classList.contains($A.emojiHasVariations));return(0,i.useEffect)((function(){p&&uD(r.current)}),[r,p,n]),!p&&n.current?u(null):(e=l(),t=d()),(0,i.createElement)("div",{ref:r,className:ik(KO.variationPicker,c()===QO.Down&&KO.pointingUp,p&&KO.visible),style:{top:e}},p&&a?[Xk(a)].concat($k(a)).slice(0,6).map((function(e){return(0,i.createElement)(jO,{key:e,emoji:a,unified:e,emojiStyle:o,showVariations:!1,getEmojiUrl:f})})):null,(0,i.createElement)("div",{className:ik(KO.pointer),style:t}))}!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(QO||(QO={}));var KO=pk.create(lk({variationPicker:{".":$A.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=)"}},yk("pointer",{backgroundPosition:"-25px 0"})));function ZO(){var e=rD();return function(e){var t=gD();(0,i.useEffect)((function(){var n=e.current;if(n)return n.addEventListener("scroll",i,{passive:!0}),function(){null==n||n.removeEventListener("scroll",i)};function i(){t()}}),[e,t])}(e),TO(e,bx.PICKER),function(){var e=rD(),t=vD(),n=bD();(0,i.useEffect)((function(){var i=e.current;function r(){n()&&t()}return null==i||i.addEventListener("mousemove",r,{passive:!0}),function(){null==i||i.removeEventListener("mousemove",r)}}),[e,t,n])}(),(0,i.createElement)("div",{className:ik(tL.body,bk.hiddenOnReactions),ref:e},(0,i.createElement)(XO,null),(0,i.createElement)(YO,null))}var $O,eL,tL=pk.create({body:{".":$A.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function nL(e,t){var n=rD(),r=bD(),a=vD();(0,i.useEffect)((function(){if(e){var i=n.current;return null==i||i.addEventListener("keydown",s,{passive:!0}),null==i||i.addEventListener("mouseover",l,!0),null==i||i.addEventListener("focus",a,!0),null==i||i.addEventListener("mouseout",o,{passive:!0}),null==i||i.addEventListener("blur",o,!0),function(){null==i||i.removeEventListener("mouseover",l),null==i||i.removeEventListener("mouseout",o),null==i||i.removeEventListener("focus",a,!0),null==i||i.removeEventListener("blur",o,!0),null==i||i.removeEventListener("keydown",s)}}function a(e){var n=XD(e.target);if(!n)return o();var i=lO(n),r=i.unified,a=i.originalUnified;if(!r||!a)return o();t({unified:r,originalUnified:a})}function o(e){if(e&&!XD(e.relatedTarget))return t(null);t(null)}function s(e){"Escape"===e.key&&t(null)}function l(e){if(!r()){var n=XD(e.target);if(n){var a=function(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.height-(n.y-i.y)}(n,i);if(a<n.getBoundingClientRect().height)return function(e,t){var n,i=lO(e),r=i.unified,a=i.originalUnified;if(!r||!a)return;null==(n=document.activeElement)||null==n.blur||n.blur(),t({unified:r,originalUnified:a})}(n,t);Yx(n)}}}}),[n,e,t,r,a])}function iL(e){var t=e.children,n=e.className,r=e.style,a=void 0===r?{}:r,o=e.direction,s=void 0===o?eL.ROW:o;return(0,i.createElement)("div",{style:lk({},a),className:ik(rL.flex,n,rL[s])},t)}!function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"}(eL||(eL={}));var rL=pk.create((($O={flex:{display:"flex"}})[eL.ROW]={flexDirection:"row"},$O[eL.COLUMN]={flexDirection:"column"},$O));function aL(e){var t=e.className,n=e.style,r=void 0===n?{}:n;return(0,i.createElement)("div",{style:lk({flex:1},r),className:ik(t)})}function oL(e){var t=e.children,n=e.className,r=e.style;return(0,i.createElement)("div",{style:lk({},r,{position:"absolute"}),className:n},t)}function sL(e){var t=e.children,n=e.className,r=e.style;return(0,i.createElement)("div",{style:lk({},r,{position:"relative"}),className:n},t)}function lL(e){var t=e.isOpen,n=e.onClick,r=e.isActive,a=e.skinToneVariation,o=e.style;return(0,i.createElement)(MO,{style:o,onClick:n,className:ik("epr-tone-"+a,uL.tone,!t&&uL.closedTone,r&&uL.active),tabIndex:t?0:-1,"aria-pressed":r,"aria-label":"Skin tone "+Vk[a]})}var cL,uL=pk.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),dL=28;function fL(){return(0,i.createElement)(sL,{style:{height:dL}},(0,i.createElement)(oL,{style:{bottom:0,right:0}},(0,i.createElement)(hL,{direction:cL.VERTICAL})))}function hL(e){var t=e.direction,n=void 0===t?cL.HORIZONTAL:t,r=oD(),a=Sx(),o=Vx(),s=o[0],l=o[1],c=Bx(),u=c[0],d=c[1],f=gD(),h=yD();if(a)return null;var p=dL*Wk.length+"px",g=s?p:dL+"px",m=n===cL.VERTICAL;return(0,i.createElement)(sL,{className:ik(pL.skinTones,m&&pL.vertical,s&&pL.open,m&&s&&pL.verticalShadow),style:m?{flexBasis:g,height:g}:{flexBasis:g}},(0,i.createElement)("div",{className:ik(pL.select),ref:r},Wk.map((function(e,t){var n=e===u;return(0,i.createElement)(lL,{key:e,skinToneVariation:e,isOpen:s,style:{transform:ik(m?"translateY(-"+t*(s?dL:0)+"px)":"translateX(-"+t*(s?dL:0)+"px)",s&&n&&"scale(1.3)")},isActive:n,onClick:function(){s?(d(e),h()):l(!0),f()}})}))))}!function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"}(cL||(cL={}));var pL=pk.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active:after":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",borderRadius:"5px",border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)","> button":{width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",boxShadow:"0 0 0 0px var(--epr-active-skin-hover-color)"}}});function gL(){var e=Mx(),t=AD();return e.showPreview?(0,i.createElement)(iL,{className:ik(vL.preview,bk.hiddenOnReactions)},(0,i.createElement)(mL,null),(0,i.createElement)(aL,null),t?(0,i.createElement)(fL,null):null):null}function mL(){var e,t=Mx(),n=(0,i.useState)(null),r=n[0],a=n[1],o=Ix(),s=Wx()[0],l=kx();nL(t.showPreview,a);var c=tx(null!=(e=null==r?void 0:r.unified)?e:null==r?void 0:r.originalUnified),u=null!=c&&null!=r;return(0,i.createElement)((function(){var e=null!=s?s:tx(t.defaultEmoji);if(!e)return null;var n=s?Qk(s):t.defaultCaption;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",null,u?(0,i.createElement)(NO,{unified:null==r?void 0:r.unified,emoji:c,emojiStyle:o,size:45,getEmojiUrl:l,className:ik(vL.emoji)}):e?(0,i.createElement)(NO,{unified:Xk(e),emoji:e,emojiStyle:o,size:45,getEmojiUrl:l,className:ik(vL.emoji)}):null),(0,i.createElement)("div",{className:ik(vL.label)},u?Qk(c):n))}),null)}var vL=pk.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"}});function bL(e){var t;return null!=(t=null==e?void 0:e.getAttribute("data-name"))?t:null}function yL(){var e=vx().customEmojis;return!!e&&0===e.length}function CL(e){var t,n=e.isActiveCategory,r=e.category,a=e.allowNavigation,o=e.categoryConfig,s=e.onClick;return(0,i.createElement)(MO,{tabIndex:a?0:-1,className:ik(TL.catBtn,bk.categoryBtn,"epr-icn-"+r,(t={},t[$A.active]=n,t)),onClick:s,"aria-label":_k(o),"aria-selected":n,role:"tab","aria-controls":"epr-category-nav-id"})}var wL={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},SL={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},IL={":not(.epr-search-active)":{catBtn:{":hover":wL,"&.epr-active":wL}}},TL=pk.create(lk({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+)",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},yk("catBtn",SL),{".epr-dark-theme":lk({},IL),".epr-auto-theme":lk({},IL)}));function EL(){var e=(0,i.useState)(null),t=e[0],n=e[1],r=function(){var e=rD(),t=tD();return function(n){var i;if(e.current){var r=null==(i=e.current)?void 0:i.querySelector('[data-name="'+n+'"]');if(r){var a=r.offsetTop||0;lD(t.current,a)}}}}();!function(e){var t=rD();(0,i.useEffect)((function(){var n=new Map,i=t.current,r=new IntersectionObserver((function(t){if(i){for(var r,a=fk(t);!(r=a()).done;){var o=r.value,s=bL(o.target);n.set(s,o.intersectionRatio)}var l=Array.from(n),c=l[l.length-1];if(1==c[1])return e(c[0]);for(var u=0,d=l;u<d.length;u++){var f=d[u],h=f[0];if(f[1]){e(h);break}}}}),{threshold:[0,1]});null==i||i.querySelectorAll(hk($A.category)).forEach((function(e){r.observe(e)}))}),[t,e])}(n);var a=Gx(),o=Tx(),s=sD(),l=yL();return(0,i.createElement)("div",{className:ik(ML.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:s},o.map((function(e){var o=Lk(e),s=o===t;if(function(e){return e.category===Ek.CUSTOM}(e)&&l)return null;var c=!a&&!s;return(0,i.createElement)(CL,{key:o,category:o,isActiveCategory:s,allowNavigation:c,categoryConfig:e,onClick:function(){n(o),r(o)}})})))}var ML=pk.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),RL="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function AL(){var e=wD();return(0,i.createElement)(MO,{className:ik(xL.btnClearSearch,bk.visibleOnSearchOnly),onClick:e,"aria-label":"Clear",title:"Clear"},(0,i.createElement)("div",{className:ik(xL.icnClearnSearch)}))}var kL={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},xL=pk.create(lk({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+RL+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},yk("icnClearnSearch",{backgroundPositionY:"-40px"}),yk("btnClearSearch",kL))),DL=hk($A.emojiPicker)+" "+hk($A.emojiList),OL=["button",hk($A.emoji)].join(""),LL=hk($A.category);function _L(e){var t=e.value;if(!t)return null;var n=function(e){return[OL,'[data-full-name*="',ED(e),'"]'].join("")}(t);return(0,i.createElement)("style",null,"\n    "+DL+" "+OL+" {\n      display: none;\n    }\n\n\n    "+DL+" "+n+" {\n      display: flex;\n    }\n\n    "+DL+" "+LL+":not(:has("+n+")) {\n      display: none;\n    }\n  ")}function NL(){return(0,i.createElement)("div",{className:ik(jL.icnSearch)})}var jL=pk.create(lk({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+)"}},yk("icnSearch",{backgroundPositionY:"-20px"})));function PL(){var e=Rx(),t=RD();return e?null:(0,i.createElement)(iL,{className:ik(FL.overlay)},(0,i.createElement)(UL,null),t?(0,i.createElement)(hL,null):null)}function UL(){var e=(0,i.useState)(0),t=e[0],n=e[1],r=gD(),a=aD(),o=function(){var e,t=vx();return null!=(e=[t.searchPlaceHolder,t.searchPlaceholder].find((function(e){return e!==ox})))?e:ox}(),s=vx().autoFocusSearch,l=SD(),c=l.statusSearchResults,u=l.searchTerm,d=l.onChange,f=null==a?void 0:a.current,h=null==f?void 0:f.value;return(0,i.createElement)(sL,{className:ik(FL.searchContainer)},(0,i.createElement)(_L,{value:h}),(0,i.createElement)("input",{autoFocus:s,"aria-label":"Type to search for an emoji",onFocus:r,className:ik(FL.search),type:"text","aria-controls":"epr-search-id",placeholder:o,onChange:function(e){n(t+1),setTimeout((function(){var t,n;d(null!=(t=null==e||null==(n=e.target)?void 0:n.value)?t:h)}))},ref:a}),u?(0,i.createElement)("div",{role:"status",className:ik("epr-status-search-results",FL.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},c):null,(0,i.createElement)(NL,null),(0,i.createElement)(AL,null))}var FL=pk.create(lk({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+RL+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},yk("icnClearnSearch",{backgroundPositionY:"-40px"}),yk("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function BL(){return(0,i.createElement)(sL,{className:ik("epr-header",bk.hiddenOnReactions)},(0,i.createElement)(PL,null),(0,i.createElement)(EL,null))}function zL(e){return(0,i.createElement)(Kx,null,(0,i.createElement)(vk,null),(0,i.createElement)(mx,Object.assign({},e),(0,i.createElement)(WL,null)))}function WL(){var e=Ux()[0],t=wx(),n=(0,i.useState)(!e),r=n[0],a=n[1],o=vx().open;return(0,i.useEffect)((function(){e&&!t||r||a(!0)}),[r,t,e]),o?(0,i.createElement)(UD,null,(0,i.createElement)(FO,null),(0,i.createElement)(VL,{renderAll:r})):null}function VL(e){return e.renderAll?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(BL,null),(0,i.createElement)(ZO,null),(0,i.createElement)(gL,null)):null}var HL=(0,i.memo)(zL,Ck),GL=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,ck(t,n),i.getDerivedStateFromError=function(){return{hasError:!0}};var r=i.prototype;return r.componentDidCatch=function(e,t){console.error("Emoji Picker React failed to render:",e,t)},r.render=function(){return this.state.hasError?null:this.props.children},i}(i.Component);const YL=function(e){var t=function(e){var t=i.useRef({onEmojiClick:e.onEmojiClick||Cx,onReactionClick:e.onReactionClick||e.onEmojiClick});return i.useEffect((function(){t.current.onEmojiClick=e.onEmojiClick||Cx,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick}),[e.onEmojiClick,e.onReactionClick]),t}({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick});return(0,i.createElement)(GL,null,(0,i.createElement)(yx.Provider,{value:t},(0,i.createElement)(HL,Object.assign({},e))))};const JL=function(e){let{setMessage:t,setOpenEmoji:n}=e;so((e=>e.user));const r=(0,i.useRef)(null);return(0,i.useEffect)((()=>{var e;const t=e=>{r.current!=e.target&&"Escape"!=e.key||n(!1)};return null===(e=document.querySelector(".emojiContainer"))||void 0===e||e.addEventListener("click",t),document.addEventListener("keyup",t),()=>{var e;null===(e=document.querySelector(".emojiContainer"))||void 0===e||e.removeEventListener("click",t),document.removeEventListener("keyup",t)}}),[]),(0,o.jsx)("div",{ref:r,className:"emojiContainer",children:(0,o.jsx)(YL,{autoFocusSearch:!1,emojiStyle:"google",onEmojiClick:function(e){t((t=>t+e.emoji))}})})};const QL=function(e){let{...t}=e;(0,i.useRef)(null);const[n,r]=(0,i.useState)("");return(0,o.jsx)("div",{className:"App",children:(0,o.jsx)("header",{className:"App-header",children:(0,o.jsx)(FA,{...t})})})};function qL(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=qL(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const XL=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=qL(e))&&(i&&(i+=" "),i+=t);return i};function KL(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ZL(e){if("string"!==typeof e)throw new Error(KL(7));return e.charAt(0).toUpperCase()+e.slice(1)}var $L=!!r.useInsertionEffect&&r.useInsertionEffect,e_=$L||function(e){return e()};$L||i.useLayoutEffect;var t_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function n_(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var i_=/[A-Z]|^ms/g,r_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a_=function(e){return 45===e.charCodeAt(1)},o_=function(e){return null!=e&&"boolean"!==typeof e},s_=n_((function(e){return a_(e)?e:e.replace(i_,"-$&").toLowerCase()})),l_=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(r_,(function(e,t,n){return u_={name:t,styles:n,next:u_},t}))}return 1===t_[e]||a_(e)||"number"!==typeof t||0===t?t:t+"px"};function c_(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return u_={name:n.name,styles:n.styles,next:u_},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)u_={name:i.name,styles:i.styles,next:u_},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=c_(e,t,n[r])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?i+=a+"{"+t[o]+"}":o_(o)&&(i+=s_(a)+":"+l_(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=c_(e,t,o);switch(a){case"animation":case"animationName":i+=s_(a)+":"+s+";";break;default:i+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)o_(o[l])&&(i+=s_(a)+":"+l_(a,o[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=u_,a=n(e);return u_=r,c_(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var u_,d_=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var f_=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";u_=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,r+=c_(n,t,a)):r+=a[0];for(var o=1;o<e.length;o++)r+=c_(n,t,e[o]),i&&(r+=a[o]);d_.lastIndex=0;for(var s,l="";null!==(s=d_.exec(r));)l+="-"+s[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:u_}};var h_=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(nn){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function p_(e){return function(t){t.root||(t=t.return)&&e(t)}}var g_=function(e,t,n){for(var i=0,r=0;i=r,r=tf(),38===i&&12===r&&(t[n]=1),!af(r);)ef();return rf(e,Qd)},m_=function(e,t){return sf(function(e,t){var n=-1,i=44;do{switch(af(i)){case 0:38===i&&12===tf()&&(t[n]=1),e[n]+=g_(Qd-1,t,n);break;case 2:e[n]+=lf(i);break;case 4:if(44===i){e[++n]=58===tf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ld(i)}}while(i=ef());return e}(of(e),t))},v_=new WeakMap,b_=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||v_.get(n))&&!i){v_.set(e,!0);for(var r=[],a=m_(t,r),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=r[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},y_=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function C_(e,t){switch(function(e,t){return 45^Ud(e,0)?(((t<<2^Ud(e,0))<<2^Ud(e,1))<<2^Ud(e,2))<<2^Ud(e,3):0}(e,t)){case 5103:return Ed+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ed+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ed+e+Td+e+Id+e+e;case 6828:case 4268:return Ed+e+Id+e+e;case 6165:return Ed+e+Id+"flex-"+e+e;case 5187:return Ed+e+jd(e,/(\w+).+(:[^]+)/,Ed+"box-$1$2"+Id+"flex-$1$2")+e;case 5443:return Ed+e+Id+"flex-item-"+jd(e,/flex-|-self/,"")+e;case 4675:return Ed+e+Id+"flex-line-pack"+jd(e,/align-content|flex-|-self/,"")+e;case 5548:return Ed+e+Id+jd(e,"shrink","negative")+e;case 5292:return Ed+e+Id+jd(e,"basis","preferred-size")+e;case 6060:return Ed+"box-"+jd(e,"-grow","")+Ed+e+Id+jd(e,"grow","positive")+e;case 4554:return Ed+jd(e,/([^-])(transform)/g,"$1"+Ed+"$2")+e;case 6187:return jd(jd(jd(e,/(zoom-|grab)/,Ed+"$1"),/(image-set)/,Ed+"$1"),e,"")+e;case 5495:case 3959:return jd(e,/(image-set\([^]*)/,Ed+"$1$`$1");case 4968:return jd(jd(e,/(.+:)(flex-)?(.*)/,Ed+"box-pack:$3"+Id+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ed+e+e;case 4095:case 3583:case 4068:case 2532:return jd(e,/(.+)-inline(.+)/,Ed+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bd(e)-1-t>6)switch(Ud(e,t+1)){case 109:if(45!==Ud(e,t+4))break;case 102:return jd(e,/(.+:)(.+)-([^]+)/,"$1"+Ed+"$2-$3$1"+Td+(108==Ud(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pd(e,"stretch")?C_(jd(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ud(e,t+1))break;case 6444:switch(Ud(e,Bd(e)-3-(~Pd(e,"!important")&&10))){case 107:return jd(e,":",":"+Ed)+e;case 101:return jd(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ed+(45===Ud(e,14)?"inline-":"")+"box$3$1"+Ed+"$2$3$1"+Id+"$2box$3")+e}break;case 5936:switch(Ud(e,t+11)){case 114:return Ed+e+Id+jd(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ed+e+Id+jd(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ed+e+Id+jd(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ed+e+Id+e+e}return e}var w_=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Ad:e.return=C_(e.value,e.length);break;case xd:return Vd([Zd(e,{value:jd(e.value,"@","@"+Ed)})],i);case Rd:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vd([Zd(e,{props:[jd(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return Vd([Zd(e,{props:[jd(t,/:(plac\w+)/,":"+Ed+"input-$1")]}),Zd(e,{props:[jd(t,/:(plac\w+)/,":-moz-$1")]}),Zd(e,{props:[jd(t,/:(plac\w+)/,Id+"input-$1")]})],i)}return""}))}}],S_=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||w_;var r,a,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l=[b_,y_];var c,u=[Hd,p_((function(e){c.insert(e)}))],d=function(e){var t=zd(e);return function(n,i,r,a){for(var o="",s=0;s<t;s++)o+=e[s](n,i,r,a)||"";return o}}(l.concat(i,u));a=function(e,t,n,i){c=n,function(e){Vd(pf(e),d)}(e?e+"{"+t.styles+"}":t.styles),i&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new h_({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};n(219);function I_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f_(t)}var T_=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,E_=n_((function(e){return T_.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),M_=i.createContext("undefined"!==typeof HTMLElement?S_({key:"css"}):null);M_.Provider;var R_=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(M_);return e(t,r,n)}))};var A_=i.createContext({});var k_=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},x_=E_,D_=function(e){return"theme"!==e},O_=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?x_:D_},L_=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},__=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return k_(t,n,i),e_((function(){return function(e,t,n){k_(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)})),null},N_=function e(t,n){var r,a,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var l=L_(t,n,o),c=l||O_(s),u=!c("as");return function(){var d=arguments,f=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&f.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{0,f.push(d[0][0]);for(var h=d.length,p=1;p<h;p++)f.push(d[p],d[0][p])}var g=R_((function(e,t,n){var r=u&&e.as||s,o="",d=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=i.useContext(A_)}"string"===typeof e.className?o=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(t.registered,d,e.className):null!=e.className&&(o=e.className+" ");var g=f_(f.concat(d),t.registered,h);o+=t.key+"-"+g.name,void 0!==a&&(o+=" "+a);var m=u&&void 0===l?O_(r):c,v={};for(var b in e)u&&"as"===b||m(b)&&(v[b]=e[b]);return v.className=o,v.ref=n,i.createElement(i.Fragment,null,i.createElement(__,{cache:t,serialized:g,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=f,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,i){return e(t,Sl({},n,i,{shouldForwardProp:L_(g,i,!0)})).apply(void 0,f)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){N_[e]=N_(e)}));function j_(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function P_(e){if(!j_(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=P_(e[n])})),t}function U_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?Sl({},e):e;return j_(e)&&j_(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(j_(t[r])&&r in e&&j_(e[r])?i[r]=U_(e[r],t[r],n):n.clone?i[r]=j_(t[r])?P_(t[r]):t[r]:i[r]=t[r])})),i}const F_=["values","unit","step"],B_=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>Sl({},e,{[t.key]:t.val})),{})};function z_(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,r=Nl(e,F_),a=B_(t),o=Object.keys(a);function s(e){const i="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(i).concat(n,")")}function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-i/100).concat(n,")")}function c(e,r){const a=o.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==a&&"number"===typeof t[o[a]]?t[o[a]]:r)-i/100).concat(n,")")}return Sl({keys:o,values:a,up:s,down:l,between:c,only:function(e){return o.indexOf(e)+1<o.length?c(e,o[o.indexOf(e)+1]):s(e)},not:function(e){const t=o.indexOf(e);return 0===t?s(o[1]):t===o.length-1?l(o[t]):c(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},r)}const W_={borderRadius:4},V_={xs:0,sm:600,md:900,lg:1200,xl:1536},H_={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(V_[e],"px)")};function G_(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||H_;return t.reduce(((i,r,a)=>(i[e.up(e.keys[a])]=n(t[a]),i)),{})}if("object"===typeof t){const e=i.breakpoints||H_;return Object.keys(t).reduce(((i,r)=>{if(-1!==Object.keys(e.values||V_).indexOf(r)){i[e.up(r)]=n(t[r],r)}else{const e=r;i[e]=t[e]}return i}),{})}return n(t)}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function J_(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Q_(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function q_(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:Q_(e,n)||r,t&&(i=t(i,r,e)),i}const X_=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:r}=e,a=e=>{if(null==e[t])return null;const a=e[t],o=Q_(e.theme,i)||{};return G_(e,a,(e=>{let i=q_(o,r,e);return e===i&&"string"===typeof e&&(i=q_(o,r,"".concat(t).concat("default"===e?"":ZL(e)),e)),!1===n?i:{[n]:i}}))};return a.propTypes={},a.filterProps=[t],a};const K_=function(e,t){return t?U_(e,t,{clone:!1}):e};const Z_={m:"margin",p:"padding"},$_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},tN=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!eN[e])return[e];e=eN[e]}const[t,n]=e.split(""),i=Z_[t],r=$_[n]||"";return Array.isArray(r)?r.map((e=>i+e)):[i+r]})),nN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],rN=[...nN,...iN];function aN(e,t,n,i){var r;const a=null!=(r=Q_(e,t,!1))?r:n;return"number"===typeof a?e=>"string"===typeof e?e:a*e:Array.isArray(a)?e=>"string"===typeof e?e:a[e]:"function"===typeof a?a:()=>{}}function oN(e){return aN(e,"spacing",8)}function sN(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function lN(e,t,n,i){if(-1===t.indexOf(n))return null;const r=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=sN(t,n),e)),{})}(tN(n),i);return G_(e,e[n],r)}function cN(e,t){const n=oN(e.theme);return Object.keys(e).map((i=>lN(e,t,i,n))).reduce(K_,{})}function uN(e){return cN(e,nN)}function dN(e){return cN(e,iN)}function fN(e){return cN(e,rN)}uN.propTypes={},uN.filterProps=nN,dN.propTypes={},dN.filterProps=iN,fN.propTypes={},fN.filterProps=rN;function hN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=oN({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const pN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),r=e=>Object.keys(e).reduce(((t,n)=>i[n]?K_(t,i[n](e)):t),{});return r.propTypes={},r.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};function gN(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function mN(e,t){return X_({prop:e,themeKey:"borders",transform:t})}const vN=mN("border",gN),bN=mN("borderTop",gN),yN=mN("borderRight",gN),CN=mN("borderBottom",gN),wN=mN("borderLeft",gN),SN=mN("borderColor"),IN=mN("borderTopColor"),TN=mN("borderRightColor"),EN=mN("borderBottomColor"),MN=mN("borderLeftColor"),RN=mN("outline",gN),AN=mN("outlineColor"),kN=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=aN(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:sN(t,e)});return G_(e,e.borderRadius,n)}return null};kN.propTypes={},kN.filterProps=["borderRadius"];pN(vN,bN,yN,CN,wN,SN,IN,TN,EN,MN,kN,RN,AN);const xN=e=>{if(void 0!==e.gap&&null!==e.gap){const t=aN(e.theme,"spacing",8),n=e=>({gap:sN(t,e)});return G_(e,e.gap,n)}return null};xN.propTypes={},xN.filterProps=["gap"];const DN=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=aN(e.theme,"spacing",8),n=e=>({columnGap:sN(t,e)});return G_(e,e.columnGap,n)}return null};DN.propTypes={},DN.filterProps=["columnGap"];const ON=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=aN(e.theme,"spacing",8),n=e=>({rowGap:sN(t,e)});return G_(e,e.rowGap,n)}return null};ON.propTypes={},ON.filterProps=["rowGap"];pN(xN,DN,ON,X_({prop:"gridColumn"}),X_({prop:"gridRow"}),X_({prop:"gridAutoFlow"}),X_({prop:"gridAutoColumns"}),X_({prop:"gridAutoRows"}),X_({prop:"gridTemplateColumns"}),X_({prop:"gridTemplateRows"}),X_({prop:"gridTemplateAreas"}),X_({prop:"gridArea"}));function LN(e,t){return"grey"===t?t:e}pN(X_({prop:"color",themeKey:"palette",transform:LN}),X_({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:LN}),X_({prop:"backgroundColor",themeKey:"palette",transform:LN}));function _N(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const NN=X_({prop:"width",transform:_N}),jN=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||V_[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:_N(t)}};return G_(e,e.maxWidth,t)}return null};jN.filterProps=["maxWidth"];const PN=X_({prop:"minWidth",transform:_N}),UN=X_({prop:"height",transform:_N}),FN=X_({prop:"maxHeight",transform:_N}),BN=X_({prop:"minHeight",transform:_N}),zN=(X_({prop:"size",cssProperty:"width",transform:_N}),X_({prop:"size",cssProperty:"height",transform:_N}),pN(NN,jN,PN,UN,FN,BN,X_({prop:"boxSizing"})),{border:{themeKey:"borders",transform:gN},borderTop:{themeKey:"borders",transform:gN},borderRight:{themeKey:"borders",transform:gN},borderBottom:{themeKey:"borders",transform:gN},borderLeft:{themeKey:"borders",transform:gN},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gN},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kN},color:{themeKey:"palette",transform:LN},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:LN},backgroundColor:{themeKey:"palette",transform:LN},p:{style:dN},pt:{style:dN},pr:{style:dN},pb:{style:dN},pl:{style:dN},px:{style:dN},py:{style:dN},padding:{style:dN},paddingTop:{style:dN},paddingRight:{style:dN},paddingBottom:{style:dN},paddingLeft:{style:dN},paddingX:{style:dN},paddingY:{style:dN},paddingInline:{style:dN},paddingInlineStart:{style:dN},paddingInlineEnd:{style:dN},paddingBlock:{style:dN},paddingBlockStart:{style:dN},paddingBlockEnd:{style:dN},m:{style:uN},mt:{style:uN},mr:{style:uN},mb:{style:uN},ml:{style:uN},mx:{style:uN},my:{style:uN},margin:{style:uN},marginTop:{style:uN},marginRight:{style:uN},marginBottom:{style:uN},marginLeft:{style:uN},marginX:{style:uN},marginY:{style:uN},marginInline:{style:uN},marginInlineStart:{style:uN},marginInlineEnd:{style:uN},marginBlock:{style:uN},marginBlockStart:{style:uN},marginBlockEnd:{style:uN},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xN},rowGap:{style:ON},columnGap:{style:DN},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_N},maxWidth:{style:jN},minWidth:{transform:_N},height:{transform:_N},maxHeight:{transform:_N},minHeight:{transform:_N},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),WN=zN;const VN=function(){function e(e,t,n,i){const r={[e]:t,theme:n},a=i[e];if(!a)return{[e]:t};const{cssProperty:o=e,themeKey:s,transform:l,style:c}=a;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=Q_(n,s)||{};if(c)return c(r);return G_(r,t,(t=>{let n=q_(u,l,t);return t===n&&"string"===typeof t&&(n=q_(u,l,"".concat(e).concat("default"===t?"":ZL(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var i;const{sx:r,theme:a={}}=n||{};if(!r)return null;const o=null!=(i=a.unstable_sxConfig)?i:WN;function s(n){let i=n;if("function"===typeof n)i=n(a);else if("object"!==typeof n)return n;if(!i)return null;const r=Y_(a.breakpoints),s=Object.keys(r);let l=r;return Object.keys(i).forEach((n=>{const r=(s=i[n],c=a,"function"===typeof s?s(c):s);var s,c;if(null!==r&&void 0!==r)if("object"===typeof r)if(o[n])l=K_(l,e(n,r,a,o));else{const e=G_({theme:a},r,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(i);return t.every((e=>r.size===Object.keys(e).length))}(e,r)?l=K_(l,e):l[n]=t({sx:r,theme:a})}else l=K_(l,e(n,r,a,o))})),J_(s,l)}return Array.isArray(r)?r.map(s):s(r)}}();VN.filterProps=["sx"];const HN=VN;function GN(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}const YN=["breakpoints","palette","spacing","shape"];const JN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:i,shape:r={}}=e,a=Nl(e,YN),o=z_(t),s=hN(i);let l=U_({breakpoints:o,direction:"ltr",components:{},palette:Sl({mode:"light"},n),spacing:s,shape:Sl({},W_,r)},a);l.applyStyles=GN;for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce(((e,t)=>U_(e,t)),l),l.unstable_sxConfig=Sl({},WN,null==a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return HN({sx:e,theme:this})},l},QN=["ownerState"],qN=["variants"],XN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function KN(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const ZN=JN(),$N=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function ej(e){let{defaultTheme:t,theme:n,themeId:i}=e;return r=n,0===Object.keys(r).length?t:n[i]||n;var r}function tj(e){return e?(t,n)=>n[e]:null}function nj(e,t){let{ownerState:n}=t,i=Nl(t,QN);const r="function"===typeof e?e(Sl({ownerState:n},i)):e;if(Array.isArray(r))return r.flatMap((e=>nj(e,Sl({ownerState:n},i))));if(r&&"object"===typeof r&&Array.isArray(r.variants)){const{variants:e=[]}=r;let t=Nl(r,qN);return e.forEach((e=>{let r=!0;"function"===typeof e.props?r=e.props(Sl({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(r=!1)})),r&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style(Sl({ownerState:n},i,n)):e.style))})),t}return r}function ij(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(!i.length)return"";const a=i[0];return"string"!==typeof a||a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(a):", var(--".concat(e?"".concat(e,"-"):"").concat(a).concat(t(...i.slice(1)),")")}return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...r),")")}}function rj(e){if(e.type)return e;if("#"===e.charAt(0))return rj(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(KL(9,e));let i,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(KL(10,i))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:n,values:r,colorSpace:i}}const aj=e=>{const t=rj(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};const oj=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=e;t.forEach(((e,a)=>{a===t.length-1?Array.isArray(r)?r[Number(e)]=n:r&&"object"===typeof r&&(r[e]=n):r&&"object"===typeof r&&(r[e]||(r[e]=i.includes(e)?[]:{}),r=r[e])}))},sj=(e,t,n)=>{!function e(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(i).forEach((i=>{let[o,s]=i;(!n||n&&!n([...r,o]))&&void 0!==s&&null!==s&&("object"===typeof s&&Object.keys(s).length>0?e(s,[...r,o],Array.isArray(s)?[...a,o]:a):t([...r,o],s,a))}))}(e)},lj=(e,t)=>{if("number"===typeof t){if(["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t))))return t;return e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:"".concat(t,"px")}return t};function cj(e,t){const{prefix:n,shouldSkipGeneratingVar:i}=t||{},r={},a={},o={};return sj(e,((e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!i||!i(e,t))){const i="--".concat(n?"".concat(n,"-"):"").concat(e.join("-"));Object.assign(r,{[i]:lj(e,t)}),oj(a,e,"var(".concat(i,")"),s),oj(o,e,"var(".concat(i,", ").concat(t,")"),s)}}),(e=>"vars"===e[0])),{css:r,vars:a,varsWithDefaults:o}}const uj=["colorSchemes","components","defaultColorScheme"];const dj=function(e,t){const{colorSchemes:n={},defaultColorScheme:i="light"}=e,r=Nl(e,uj),{vars:a,css:o,varsWithDefaults:s}=cj(r,t);let l=s;const c={},{[i]:u}=n,d=Nl(n,[i].map(Ci));if(Object.entries(d||{}).forEach((e=>{let[n,i]=e;const{vars:r,css:a,varsWithDefaults:o}=cj(i,t);l=U_(l,o),c[n]={css:a,vars:r}})),u){const{css:e,vars:n,varsWithDefaults:r}=cj(u,t);l=U_(l,r),c[i]={css:e,vars:n}}return{vars:l,generateCssVars:e=>{var n;if(!e){var i;const n=Sl({},o);return{css:n,vars:a,selector:(null==t||null==(i=t.getSelector)?void 0:i.call(t,e,n))||":root"}}const r=Sl({},c[e].css);return{css:r,vars:c[e].vars,selector:(null==t||null==(n=t.getSelector)?void 0:n.call(t,e,r))||":root"}}}},fj=Sl({},WN,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}}),hj={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}};function pj(e){var t;return!!e[0].match(/^(typography|variants|breakpoints)$/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null==(t=e[1])||!t.match(/^(mode)$/))||"focus"===e[0]&&"thickness"!==e[1]}const gj=e=>e,mj=(()=>{let e=gj;return{configure(t){e=t},generate:t=>e(t),reset(){e=gj}}})(),vj=mj,bj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function yj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=bj[t];return i?"".concat(n,"-").concat(i):"".concat(vj.generate(e),"-").concat(t)}const Cj=(e,t)=>yj(e,t,"Mui"),wj=(e,t,n)=>{t.includes("Color")&&(e.color=n),t.includes("Bg")&&(e.backgroundColor=n),t.includes("Border")&&(e.borderColor=n)},Sj=(e,t,n)=>{const i={};return Object.entries(t||{}).forEach((t=>{let[r,a]=t;if(r.match(new RegExp("".concat(e,"(color|bg|border)"),"i"))&&a){const e=n?n(r):a;r.includes("Disabled")&&(i.pointerEvents="none",i.cursor="default",i["--Icon-color"]="currentColor"),r.match(/(Hover|Active|Disabled)/)||(i["--variant-borderWidth"]||(i["--variant-borderWidth"]="0px"),r.includes("Border")&&(i["--variant-borderWidth"]="1px",i.border="var(--variant-borderWidth) solid")),wj(i,r,e)}})),i},Ij=(e,t)=>{let n={};if(t){const{getCssVar:i,palette:r}=t;Object.entries(r).forEach((t=>{const[a,o]=t;(e=>e&&"object"===typeof e&&Object.keys(e).some((e=>{var t;return null==(t=e.match)?void 0:t.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)})))(o)&&"object"===typeof o&&(n=Sl({},n,{[a]:Sj(e,o,(e=>"var(--variant-".concat(e,", ").concat(i("palette-".concat(a,"-").concat(e),r[a][e]),")")))}))}))}return n.context=Sj(e,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),n},Tj=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],Ej=["colorSchemes"];const Mj=function(e){var t,n,i,r,a,o,s,l,c,u;const d=e||{},{cssVarPrefix:f="joy",breakpoints:h,spacing:p,components:g,variants:m,shouldSkipGeneratingVar:v=pj}=d,b=Nl(d,Tj),y=function(){return ij(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"joy")}(f),C={primary:hj.blue,neutral:hj.grey,danger:hj.red,success:hj.green,warning:hj.yellow,common:{white:"#FFF",black:"#000"}},w=e=>{var t;const n=e.split("-"),i=n[1],r=n[2];return y(e,null==(t=C[i])?void 0:t[r])},S=e=>({plainColor:w("palette-".concat(e,"-500")),plainHoverBg:w("palette-".concat(e,"-100")),plainActiveBg:w("palette-".concat(e,"-200")),plainDisabledColor:w("palette-neutral-400"),outlinedColor:w("palette-".concat(e,"-500")),outlinedBorder:w("palette-".concat(e,"-300")),outlinedHoverBg:w("palette-".concat(e,"-100")),outlinedActiveBg:w("palette-".concat(e,"-200")),outlinedDisabledColor:w("palette-neutral-400"),outlinedDisabledBorder:w("palette-neutral-200"),softColor:w("palette-".concat(e,"-700")),softBg:w("palette-".concat(e,"-100")),softHoverBg:w("palette-".concat(e,"-200")),softActiveColor:w("palette-".concat(e,"-800")),softActiveBg:w("palette-".concat(e,"-300")),softDisabledColor:w("palette-neutral-400"),softDisabledBg:w("palette-neutral-50"),solidColor:w("palette-common-white"),solidBg:w("palette-".concat(e,"-500")),solidHoverBg:w("palette-".concat(e,"-600")),solidActiveBg:w("palette-".concat(e,"-700")),solidDisabledColor:w("palette-neutral-400"),solidDisabledBg:w("palette-neutral-100")}),I=e=>({plainColor:w("palette-".concat(e,"-300")),plainHoverBg:w("palette-".concat(e,"-800")),plainActiveBg:w("palette-".concat(e,"-700")),plainDisabledColor:w("palette-neutral-500"),outlinedColor:w("palette-".concat(e,"-200")),outlinedBorder:w("palette-".concat(e,"-700")),outlinedHoverBg:w("palette-".concat(e,"-800")),outlinedActiveBg:w("palette-".concat(e,"-700")),outlinedDisabledColor:w("palette-neutral-500"),outlinedDisabledBorder:w("palette-neutral-800"),softColor:w("palette-".concat(e,"-200")),softBg:w("palette-".concat(e,"-800")),softHoverBg:w("palette-".concat(e,"-700")),softActiveColor:w("palette-".concat(e,"-100")),softActiveBg:w("palette-".concat(e,"-600")),softDisabledColor:w("palette-neutral-500"),softDisabledBg:w("palette-neutral-800"),solidColor:w("palette-common-white"),solidBg:w("palette-".concat(e,"-500")),solidHoverBg:w("palette-".concat(e,"-600")),solidActiveBg:w("palette-".concat(e,"-700")),solidDisabledColor:w("palette-neutral-500"),solidDisabledBg:w("palette-neutral-800")}),T={palette:{mode:"light",primary:Sl({},C.primary,S("primary")),neutral:Sl({},C.neutral,S("neutral"),{plainColor:w("palette-neutral-700"),plainHoverColor:w("palette-neutral-900"),outlinedColor:w("palette-neutral-700")}),danger:Sl({},C.danger,S("danger")),success:Sl({},C.success,S("success")),warning:Sl({},C.warning,S("warning")),common:{white:"#FFF",black:"#000"},text:{primary:w("palette-neutral-800"),secondary:w("palette-neutral-700"),tertiary:w("palette-neutral-600"),icon:w("palette-neutral-500")},background:{body:w("palette-common-white"),surface:w("palette-neutral-50"),popup:w("palette-common-white"),level1:w("palette-neutral-100"),level2:w("palette-neutral-200"),level3:w("palette-neutral-300"),tooltip:w("palette-neutral-500"),backdrop:"rgba(".concat(y("palette-neutral-darkChannel",aj(C.neutral[900]))," / 0.25)")},divider:"rgba(".concat(y("palette-neutral-mainChannel",aj(C.neutral[500]))," / 0.2)"),focusVisible:w("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},E={palette:{mode:"dark",primary:Sl({},C.primary,I("primary")),neutral:Sl({},C.neutral,I("neutral"),{plainColor:w("palette-neutral-300"),plainHoverColor:w("palette-neutral-300")}),danger:Sl({},C.danger,I("danger")),success:Sl({},C.success,I("success")),warning:Sl({},C.warning,I("warning")),common:{white:"#FFF",black:"#000"},text:{primary:w("palette-neutral-100"),secondary:w("palette-neutral-300"),tertiary:w("palette-neutral-400"),icon:w("palette-neutral-400")},background:{body:w("palette-common-black"),surface:w("palette-neutral-900"),popup:w("palette-common-black"),level1:w("palette-neutral-800"),level2:w("palette-neutral-700"),level3:w("palette-neutral-600"),tooltip:w("palette-neutral-600"),backdrop:"rgba(".concat(y("palette-neutral-darkChannel",aj(C.neutral[50]))," / 0.25)")},divider:"rgba(".concat(y("palette-neutral-mainChannel",aj(C.neutral[500]))," / 0.16)"),focusVisible:w("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},M='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',R=Sl({body:'"Inter", '.concat(y("fontFamily-fallback, ".concat(M))),display:'"Inter", '.concat(y("fontFamily-fallback, ".concat(M))),code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:M},b.fontFamily),A=Sl({sm:300,md:500,lg:600,xl:700},b.fontWeight),k=Sl({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},b.fontSize),x=Sl({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},b.lineHeight),D=null!=(t=null==(n=b.colorSchemes)||null==(n=n.light)?void 0:n.shadowRing)?t:T.shadowRing,O=null!=(i=null==(r=b.colorSchemes)||null==(r=r.light)?void 0:r.shadowChannel)?i:T.shadowChannel,L=null!=(a=null==(o=b.colorSchemes)||null==(o=o.light)?void 0:o.shadowOpacity)?a:T.shadowOpacity,_={colorSchemes:{light:T,dark:E},fontSize:k,fontFamily:R,fontWeight:A,focus:{thickness:"2px",selector:"&.".concat(Cj("","focusVisible"),", &:focus-visible"),default:{outlineOffset:"var(--focus-outline-offset, ".concat(y("focus-thickness",null!=(s=null==(l=b.focus)?void 0:l.thickness)?s:"2px"),")"),outline:"".concat(y("focus-thickness",null!=(c=null==(u=b.focus)?void 0:u.thickness)?c:"2px")," solid ").concat(y("palette-focusVisible",C.primary[500]))}},lineHeight:x,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:"".concat(y("shadowRing",D),", 0px 1px 2px 0px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),")"),sm:"".concat(y("shadowRing",D),", 0px 1px 2px 0px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),"), 0px 2px 4px 0px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),")"),md:"".concat(y("shadowRing",D),", 0px 2px 8px -2px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),"), 0px 6px 12px -2px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),")"),lg:"".concat(y("shadowRing",D),", 0px 2px 8px -2px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),"), 0px 12px 16px -4px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),")"),xl:"".concat(y("shadowRing",D),", 0px 2px 8px -2px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),"), 0px 20px 24px -4px rgba(").concat(y("shadowChannel",O)," / ").concat(y("shadowOpacity",L),")")},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:y("fontFamily-display, ".concat(R.display)),fontWeight:y("fontWeight-xl, ".concat(A.xl)),fontSize:y("fontSize-xl4, ".concat(k.xl4)),lineHeight:y("lineHeight-xs, ".concat(x.xs)),letterSpacing:"-0.025em",color:y("palette-text-primary, ".concat(T.palette.text.primary))},h2:{fontFamily:y("fontFamily-display, ".concat(R.display)),fontWeight:y("fontWeight-xl, ".concat(A.xl)),fontSize:y("fontSize-xl3, ".concat(k.xl3)),lineHeight:y("lineHeight-xs, ".concat(x.xs)),letterSpacing:"-0.025em",color:y("palette-text-primary, ".concat(T.palette.text.primary))},h3:{fontFamily:y("fontFamily-display, ".concat(R.display)),fontWeight:y("fontWeight-lg, ".concat(A.lg)),fontSize:y("fontSize-xl2, ".concat(k.xl2)),lineHeight:y("lineHeight-xs, ".concat(x.xs)),letterSpacing:"-0.025em",color:y("palette-text-primary, ".concat(T.palette.text.primary))},h4:{fontFamily:y("fontFamily-display, ".concat(R.display)),fontWeight:y("fontWeight-lg, ".concat(A.lg)),fontSize:y("fontSize-xl, ".concat(k.xl)),lineHeight:y("lineHeight-md, ".concat(x.md)),letterSpacing:"-0.025em",color:y("palette-text-primary, ".concat(T.palette.text.primary))},"title-lg":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontWeight:y("fontWeight-lg, ".concat(A.lg)),fontSize:y("fontSize-lg, ".concat(k.lg)),lineHeight:y("lineHeight-xs, ".concat(x.xs)),color:y("palette-text-primary, ".concat(T.palette.text.primary))},"title-md":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontWeight:y("fontWeight-md, ".concat(A.md)),fontSize:y("fontSize-md, ".concat(k.md)),lineHeight:y("lineHeight-md, ".concat(x.md)),color:y("palette-text-primary, ".concat(T.palette.text.primary))},"title-sm":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontWeight:y("fontWeight-md, ".concat(A.md)),fontSize:y("fontSize-sm, ".concat(k.sm)),lineHeight:y("lineHeight-sm, ".concat(x.sm)),color:y("palette-text-primary, ".concat(T.palette.text.primary))},"body-lg":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontSize:y("fontSize-lg, ".concat(k.lg)),lineHeight:y("lineHeight-md, ".concat(x.md)),color:y("palette-text-secondary, ".concat(T.palette.text.secondary))},"body-md":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontSize:y("fontSize-md, ".concat(k.md)),lineHeight:y("lineHeight-md, ".concat(x.md)),color:y("palette-text-secondary, ".concat(T.palette.text.secondary))},"body-sm":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontSize:y("fontSize-sm, ".concat(k.sm)),lineHeight:y("lineHeight-md, ".concat(x.md)),color:y("palette-text-tertiary, ".concat(T.palette.text.tertiary))},"body-xs":{fontFamily:y("fontFamily-body, ".concat(R.body)),fontWeight:y("fontWeight-md, ".concat(A.md)),fontSize:y("fontSize-xs, ".concat(k.xs)),lineHeight:y("lineHeight-md, ".concat(x.md)),color:y("palette-text-tertiary, ".concat(T.palette.text.tertiary))}}},N=b?U_(_,b):_,{colorSchemes:j}=N,P=Nl(N,Ej),U=Sl({colorSchemes:j},P,{breakpoints:z_(null!=h?h:{}),components:U_({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:e=>{let{ownerState:t,theme:n}=e;var i;const r=t.instanceFontSize;return Sl({margin:"var(--Icon-margin)"},t.fontSize&&"inherit"!==t.fontSize&&{fontSize:"var(--Icon-fontSize, ".concat(n.vars.fontSize[t.fontSize],")")},!t.htmlColor&&Sl({color:"var(--Icon-color, ".concat(U.vars.palette.text.icon,")")},t.color&&"inherit"!==t.color&&n.vars.palette[t.color]&&{color:"rgba(".concat(null==(i=n.vars.palette[t.color])?void 0:i.mainChannel," / 1)")}),r&&"inherit"!==r&&{"--Icon-fontSize":n.vars.fontSize[r]})}}}},g),cssVarPrefix:f,getCssVar:y,spacing:hN(p)});Object.entries(U.colorSchemes).forEach((e=>{let[t,n]=e;!function(e,t){Object.keys(t).forEach((n=>{const i={main:"500",light:"200",dark:"700"};"dark"===e&&(i.main=400),!t[n].mainChannel&&t[n][i.main]&&(t[n].mainChannel=aj(t[n][i.main])),!t[n].lightChannel&&t[n][i.light]&&(t[n].lightChannel=aj(t[n][i.light])),!t[n].darkChannel&&t[n][i.dark]&&(t[n].darkChannel=aj(t[n][i.dark]))}))}(t,n.palette)}));const F={prefix:f,shouldSkipGeneratingVar:v},{vars:B,generateCssVars:z}=dj(Sl({colorSchemes:j},P),F);U.vars=B,U.generateCssVars=z,U.unstable_sxConfig=Sl({},fj,null==e?void 0:e.unstable_sxConfig),U.unstable_sx=function(e){return HN({sx:e,theme:this})},U.getColorSchemeSelector=e=>"light"===e?"&":'&[data-joy-color-scheme="'.concat(e,'"], [data-joy-color-scheme="').concat(e,'"] &');const W={getCssVar:y,palette:U.colorSchemes.light.palette};return U.variants=U_({plain:Ij("plain",W),plainHover:Ij("plainHover",W),plainActive:Ij("plainActive",W),plainDisabled:Ij("plainDisabled",W),outlined:Ij("outlined",W),outlinedHover:Ij("outlinedHover",W),outlinedActive:Ij("outlinedActive",W),outlinedDisabled:Ij("outlinedDisabled",W),soft:Ij("soft",W),softHover:Ij("softHover",W),softActive:Ij("softActive",W),softDisabled:Ij("softDisabled",W),solid:Ij("solid",W),solidHover:Ij("solidHover",W),solidActive:Ij("solidActive",W),solidDisabled:Ij("solidDisabled",W)},m),U.palette=Sl({},U.colorSchemes.light.palette,{colorScheme:"light"}),U.shouldSkipGeneratingVar=v,U.applyStyles=GN,U}(),Rj=Mj,Aj="$$joy",kj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=ZN,rootShouldForwardProp:i=KN,slotShouldForwardProp:r=KN}=e,a=e=>HN(Sl({},e,{theme:ej(Sl({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=tj($N(l))}=o,f=Nl(o,XN),h=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let g=KN;"Root"===l||"root"===l?g=i:l?g=r:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const m=function(e,t){return N_(e,t)}(e,Sl({shouldForwardProp:g,label:undefined},f)),v=e=>"function"===typeof e&&e.__emotion_real!==e||j_(e)?i=>nj(e,Sl({},i,{theme:ej({theme:i.theme,defaultTheme:n,themeId:t})})):e,b=function(i){let r=v(i);for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];s&&d&&u.push((e=>{const i=ej(Sl({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[s]||!i.components[s].styleOverrides)return null;const r=i.components[s].styleOverrides,a={};return Object.entries(r).forEach((t=>{let[n,r]=t;a[n]=nj(r,Sl({},e,{theme:i}))})),d(e,a)})),s&&!h&&u.push((e=>{var i;const r=ej(Sl({},e,{defaultTheme:n,themeId:t}));return nj({variants:null==r||null==(i=r.components)||null==(i=i[s])?void 0:i.variants},Sl({},e,{theme:r}))})),p||u.push(a);const f=u.length-l.length;if(Array.isArray(i)&&f>0){const e=new Array(f).fill("");r=[...i,...e],r.raw=[...i.raw,...e]}const g=m(r,...u);return e.muiName&&(g.muiName=e.muiName),g};return m.withConfig&&(b.withConfig=m.withConfig),b}}({defaultTheme:Rj,themeId:Aj}),xj=kj;function Dj(e,t){const n=Sl({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=Sl({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?r&&Object.keys(r)?(n[i]=Sl({},a),Object.keys(r).forEach((e=>{n[i][e]=Dj(r[e],a[e])}))):n[i]=a:n[i]=r}else void 0===n[i]&&(n[i]=e[i])})),n}function Oj(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Dj(t.components[n].defaultProps,i):i}const Lj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(A_);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},_j=JN();const Nj=function(){return Lj(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_j)};function jj(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:i,themeId:r}=e,a=Nj(i);return r&&(a=a[r]||a),Oj({theme:a,name:n,props:t})}({props:t,name:n,defaultTheme:Sl({},Rj,{components:{}}),themeId:Aj})}function Pj(e){return Cj("MuiLinearProgress",e)}!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};t.forEach((t=>{i[t]=yj(e,t,n)}))}("MuiLinearProgress",["root","determinate","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"],"Mui");function Uj(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function Fj(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:a}=e;if(!t){const e=XL(null==n?void 0:n.className,a,null==r?void 0:r.className,null==i?void 0:i.className),t=Sl({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),o=Sl({},n,r,i);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}(Sl({},r,i)),s=Uj(i),l=Uj(r),c=t(o),u=XL(null==c?void 0:c.className,null==n?void 0:n.className,a,null==r?void 0:r.className,null==i?void 0:i.className),d=Sl({},null==c?void 0:c.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),f=Sl({},c,n,l,s);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const Bj=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],zj=["component","slots","slotProps"],Wj=["component"];function Vj(e,t){const{className:n,elementType:r,ownerState:a,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:l}=t,c=Nl(t,Bj),{component:u,slots:d={[e]:void 0},slotProps:f={[e]:void 0}}=o,h=Nl(o,zj),p=d[e]||r,g=function(e,t,n){return"function"===typeof e?e(t,n):e}(f[e],a),m=Fj(Sl({className:n},c,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:g})),{props:{component:v},internalRef:b}=m,y=Nl(m.props,Wj),C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)}(b,null==g?void 0:g.ref,t.ref),w=s?s(y):{},S=Sl({},a,w),I="root"===e?v||u:v,T=function(e,t,n){return void 0===e||"string"===typeof e?t:Sl({},t,{ownerState:Sl({},t.ownerState,n)})}(p,Sl({},"root"===e&&!u&&!d[e]&&l,"root"!==e&&!d[e]&&l,y,I&&{as:I},{ref:C}),S);return Object.keys(w).forEach((e=>{delete T[e]})),[p,T]}var Hj,Gj;const Yj=["children","className","component","color","size","variant","thickness","determinate","value","style","slots","slotProps"];let Jj,Qj;const qj=function(){var e=I_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Jj||(Jj=Hj||(Hj=tn(["\n  0% {\n    left: var(--_LinearProgress-progressInset);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n\n  25% {\n    width: var(--LinearProgress-progressMaxWidth);\n  }\n\n  50% {\n    left: var(--_LinearProgress-progressLeft);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n\n  75% {\n    width: var(--LinearProgress-progressMaxWidth);\n  }\n\n  100% {\n    left: var(--_LinearProgress-progressInset);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n"])))),Xj=e=>{const{determinate:t,color:n,variant:i,size:r}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(e).forEach((r=>{i[r]=e[r].reduce(((e,i)=>{if(i){const r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}({root:["root",t&&"determinate",n&&"color".concat(ZL(n)),i&&"variant".concat(ZL(i)),r&&"size".concat(ZL(r))]},Pj,{})},Kj=xj("div",{name:"JoyLinearProgress",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t,theme:n}=e;var i,r,a,o;return Sl({"--LinearProgress-radius":"var(--LinearProgress-thickness)","--LinearProgress-progressThickness":"var(--LinearProgress-thickness)","--LinearProgress-progressRadius":"max(var(--LinearProgress-radius) - var(--_LinearProgress-padding), min(var(--_LinearProgress-padding) / 2, var(--LinearProgress-radius) / 2))"},"sm"===t.size&&{"--LinearProgress-thickness":"4px"},"md"===t.size&&{"--LinearProgress-thickness":"6px"},"lg"===t.size&&{"--LinearProgress-thickness":"8px"},t.thickness&&{"--LinearProgress-thickness":"".concat(t.thickness,"px")},!t.determinate&&{"--LinearProgress-progressMinWidth":"calc(var(--LinearProgress-percent) * 1% / 2)","--LinearProgress-progressMaxWidth":"calc(var(--LinearProgress-percent) * 1%)","--_LinearProgress-progressLeft":"calc(100% - var(--LinearProgress-progressMinWidth) - var(--_LinearProgress-progressInset))","--_LinearProgress-progressInset":"calc(var(--LinearProgress-thickness) / 2 - var(--LinearProgress-progressThickness) / 2)"},{minBlockSize:"var(--LinearProgress-thickness)",boxSizing:"border-box",borderRadius:"var(--LinearProgress-radius)",display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:"var(--_LinearProgress-padding)",position:"relative"},null==(i=n.variants[t.variant])?void 0:i[t.color],{"--_LinearProgress-padding":"max((var(--LinearProgress-thickness) - 2 * var(--variant-borderWidth, 0px) - var(--LinearProgress-progressThickness)) / 2, 0px)","&::before":{content:'""',display:"block",boxSizing:"inherit",blockSize:"var(--LinearProgress-progressThickness)",borderRadius:"var(--LinearProgress-progressRadius)",backgroundColor:"currentColor",color:"inherit",position:"absolute"}},"soft"===t.variant&&{backgroundColor:n.variants.soft.neutral.backgroundColor,color:null==(r=n.variants.solid)?void 0:r[t.color].backgroundColor},"solid"===t.variant&&{backgroundColor:null==(a=n.variants.softHover)?void 0:a[t.color].backgroundColor,color:null==(o=n.variants.solid)?void 0:o[t.color].backgroundColor})}),(e=>{let{ownerState:t}=e;return t.determinate?{"&::before":{left:"var(--_LinearProgress-padding)",inlineSize:"calc(var(--LinearProgress-percent) * 1% - 2 * var(--_LinearProgress-padding))"}}:I_(Qj||(Qj=Gj||(Gj=tn(["\n          &::before {\n            animation: ","\n              var(--LinearProgress-circulation, 2.5s ease-in-out 0s infinite normal none running);\n          }\n        "]))),qj)}),(e=>{let{ownerState:t,theme:n}=e;const{borderRadius:i,height:r}=((e,t)=>{let{theme:n,ownerState:i}=e,r={};return i.sx&&(function e(t){"function"===typeof t?e(t(n)):Array.isArray(t)?t.forEach((t=>{"boolean"!==typeof t&&e(t)})):"object"===typeof t&&(r=Sl({},r,t))}(i.sx),t.forEach((e=>{const t=r[e];var i;"string"===typeof t||"number"===typeof t?"borderRadius"===e?r[e]="number"===typeof t?"".concat(t,"px"):(null==(i=n.vars)?void 0:i.radius[t])||t:-1!==["p","padding","m","margin"].indexOf(e)&&"number"===typeof t?r[e]=n.spacing(t):r[e]=t:r[e]="function"===typeof t?t(n):void 0}))),r})({theme:n,ownerState:t},["borderRadius","height"]);return Sl({},void 0!==i&&{"--LinearProgress-radius":i},void 0!==r&&{"--LinearProgress-thickness":r})})),Zj=i.forwardRef((function(e,t){const n=jj({props:e,name:"JoyLinearProgress"}),{children:i,className:r,component:a,color:s="primary",size:l="md",variant:c="soft",thickness:u,determinate:d=!1,value:f=(d?0:25),style:h,slots:p={},slotProps:g={}}=n,m=Nl(n,Yj),v=Sl({},n,{component:a,color:s,size:l,variant:c,thickness:u,value:f,determinate:d,instanceSize:e.size}),b=Xj(v),y=Sl({},m,{component:a,slots:p,slotProps:g}),[C,w]=Vj("root",{ref:t,className:XL(b.root,r),elementType:Kj,externalForwardedProps:y,ownerState:v,additionalProps:Sl({as:a,role:"progressbar",style:Sl({},{"--LinearProgress-percent":f},h)},"number"===typeof f&&d&&{"aria-valuenow":Math.round(f)})});return(0,o.jsx)(C,Sl({},w,{children:i}))})),$j=Zj;var eP=n(3536),tP=n.n(eP);const nP=function(e){let{chat:t,reciever:n,setChat:r}=e;const a=so((e=>e.conversations)),s=so((e=>e.user)),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),C=bo(),[w,S]=(0,i.useState)("");(0,i.useEffect)((()=>{if(n&&(c(n),function(){const e={route:"getUserInfo",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},params:{userId:t.data},crypto:!0};hl(e).then((e=>{c(e.data.body)}))}(),s)){var e,i;const t=null===(e=s.value.blockedContacts)||void 0===e||null===(i=e.filter((e=>e.userId==n._id)))||void 0===i?void 0:i.length;g(t)}window.outerWidth<=800&&t.type?y(!0):y(!1);const r=a.value.filter((e=>e.opponent[0]._id==t.data));v(r||!1)}),[t,s]);const I=function(){const e={route:"unBlockContact",payload:{userId:l._id},method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};C(Ua({...s.value,blockedContacts:s.value.blockedContacts.filter((e=>e.userId!=l._id))})),hl(e).then((e=>{e.data.success||bi.error(e.data.message)})),h(!1)};return(0,o.jsxs)("div",{className:"userProfileParent",children:[(0,o.jsx)(D,{animate:"beat",className:"text-light",style:{cursor:"pointer"},onClick:function(){const e=document.querySelector(".userProfileParent");e.style.transition="0.7s",e.style.transform="translateX(100%)",tP().delay((()=>r({type:"chat",data:l._id})),700)},fas:!0,icon:"arrow-right"}),(0,o.jsxs)("div",{className:"userProfileChild",children:[(0,o.jsx)(DA,{func:d,posFunc:function(){const e={route:"reportContact",payload:{reason:w,userId:l._id},method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(e).then((e=>{e.data.success?bi.success(e.data.message):bi.error(e.data.message)})),d(!1),S("")},title:"Do you..?",content:"Ok we will review the report and take appropriate action based on its Community Guidelines.",value:u,children:(0,o.jsx)("input",{value:w,className:"confirmInput",onChange:e=>S(e.target.value),type:"text",placeholder:"Enter reason behind this..."})}),(0,o.jsx)(DA,{func:h,posFunc:function(){const e={route:"blockContact",payload:{userId:l._id,reason:w},method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};C(Ua({...s.value,blockedContacts:[...s.value.blockedContacts,{userId:l._id,blockedAt:Date.now()}]})),hl(e).then((e=>{e.data.success||bi.error(e.data.message)})),h(!1)},title:"Warning \u26a0\ufe0f ",content:"If you block this user then you cannot send or reciever message from this user.",value:f}),(0,o.jsx)("img",{className:"avatrProfile",src:l.avatar_url,alt:""}),(0,o.jsxs)("h2",{className:"profileUsername",children:[l.username," ",l.isPremium&&(0,o.jsx)("span",{title:"Premium member",className:"badge badge-success rounded-pill d-inline premiumBadge align-top",children:"Premium"}),"  "]}),(0,o.jsxs)("p",{children:[l.email," "]}),(0,o.jsxs)("div",{className:"userStatus",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{children:"Notes"}),(0,o.jsx)("span",{children:"65"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{children:"Likes"}),(0,o.jsx)("span",{children:"32"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{children:"Chat points"}),(0,o.jsx)("span",{children:l.chatpoints})]})]}),(0,o.jsx)("button",{className:"profileBtn chatLock",children:"Chatlock"}),b&&(0,o.jsxs)("div",{className:"blkReport",children:[(0,o.jsx)("button",{className:"profileBtn viewNotes",onClick:()=>d(!0),children:"Report"}),p?(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",onClick:I,children:"Unblock"}):(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",onClick:()=>h(!0),children:"Block"}),(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",children:"Remove friend"})]})]}),Boolean(m&&m[0]&&!b)&&(0,o.jsx)("div",{className:"userProfileChild",children:(0,o.jsxs)("div",{className:"stausContainer",children:[(0,o.jsx)("h1",{children:"Status"}),(0,o.jsxs)("div",{className:"statusText text-start",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Conversation started : "})," ",new Date(parseInt(m[0].startedAt)).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Chat locked : "})," ",m[0].isLocked?"Yes":"No"]})]}),(0,o.jsxs)("div",{className:"blkReport",children:[(0,o.jsx)("button",{className:"profileBtn viewNotes",onClick:()=>d(!0),children:"Report"}),p?(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",onClick:I,children:"Unblock"}):(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",onClick:()=>h(!0),children:"Block"}),(0,o.jsx)("button",{className:"profileBtn chatLock btnBlk",children:"Remove friend"})]})]})})]})};function iP(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=iP(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const rP=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=iP(e))&&(i&&(i+=" "),i+=t);return i};var aP=(0,i.createContext)({}),oP=()=>(0,i.useContext)(aP),sP=e=>i.createElement(aP.Provider,{...e});var lP=function(){let e=new Map;return{on(t,n){return e.has(t)?e.get(t).add(n):e.set(t,new Set([n])),this},off(t,n){return e.has(t)&&e.get(t).delete(n),this},emit(t,n){return e.has(t)&&e.get(t).forEach((e=>{e(n)})),this}}}(),cP=()=>(0,i.useRef)(new Map).current,uP=()=>{},dP=["resize","contextmenu","click","scroll","blur"],fP={show(e){let{event:t,id:n,props:i,position:r}=e;t.preventDefault&&t.preventDefault(),lP.emit(0).emit(n,{event:t.nativeEvent||t,props:i,position:r})},hideAll(){lP.emit(0)}};function hP(){let e,t,n,i,r=new Map,a=!1;function o(){i[e].node.focus()}function s(){return-1!==e||(l(),!1)}function l(){e+1<i.length?e++:e+1===i.length&&(e=0),a&&c(),o()}function c(){if(s()&&!n){let s=r.get(t);t.classList.remove("contexify_submenu-isOpen"),i=s.items,t=s.parentNode,s.isRoot&&(n=!0,r.clear()),a||(e=s.focusedIndex,o())}}return{init:function(t){i=Array.from(t.values()),e=-1,n=!0},moveDown:l,moveUp:function(){-1===e||0===e?e=i.length-1:e-1<i.length&&e--,a&&c(),o()},openSubmenu:function(){if(s()&&e>=0&&i[e].isSubmenu){let s=Array.from(i[e].submenuRefTracker.values()),{node:l,setSubmenuPosition:c}=i[e];return r.set(l,{isRoot:n,focusedIndex:e,parentNode:t||l,items:i}),c(),l.classList.add("contexify_submenu-isOpen"),t=l,s.length>0?(e=0,i=s):a=!0,n=!1,o(),!0}return!1},closeSubmenu:c,matchKeys:function(e){!function t(n){for(let i of n)i.isSubmenu&&i.submenuRefTracker&&t(Array.from(i.submenuRefTracker.values())),i.keyMatcher&&i.keyMatcher(e)}(i)}}}function pP(e){return"function"==typeof e}function gP(e){return"string"==typeof e}function mP(e,t){return i.Children.map(i.Children.toArray(e).filter(Boolean),(e=>(0,i.cloneElement)(e,t)))}function vP(e,t){return pP(e)?e(t):e}function bP(e,t){return{...e,...pP(t)?t(e):t}}var yP=e=>{let{id:t,theme:n,style:r,className:a,children:o,animation:s="fade",preventDefaultOnKeydown:l=!0,disableBoundariesCheck:u=!1,onVisibilityChange:d,...f}=e,[h,p]=(0,i.useReducer)(bP,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),g=(0,i.useRef)(null),m=cP(),[v]=(0,i.useState)((()=>hP())),b=(0,i.useRef)(),y=(0,i.useRef)();function C(e,t){if(g.current&&!u){let{innerWidth:n,innerHeight:i}=window,{offsetWidth:r,offsetHeight:a}=g.current;e+r>n&&(e-=e+r-n),t+a>i&&(t-=t+a-i)}return{x:e,y:t}}function w(e){let{event:t,props:n,position:i}=e;t.stopPropagation();let r=i||function(e){let t={x:e.clientX,y:e.clientY},n=e.changedTouches;return n&&(t.x=n[0].clientX,t.y=n[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(t),{x:a,y:o}=C(r.x,r.y);(0,c.flushSync)((()=>{p({visible:!0,willLeave:!1,x:a,y:o,triggerEvent:t,propsFromTrigger:n})})),clearTimeout(y.current),!b.current&&pP(d)&&(d(!0),b.current=!0)}function S(e){null!=e&&(2===e.button||e.ctrlKey)&&"contextmenu"!==e.type||(s&&(gP(s)||"exit"in s&&s.exit)?p((e=>({willLeave:e.visible}))):p((e=>({visible:!e.visible&&e.visible}))),y.current=setTimeout((()=>{pP(d)&&d(!1),b.current=!1})))}(0,i.useEffect)((()=>(lP.on(t,w).on(0,S),()=>{lP.off(t,w).off(0,S)})),[t,s,u]),(0,i.useEffect)((()=>{h.visible?v.init(m):m.clear()}),[h.visible,v,m]),(0,i.useEffect)((()=>{h.visible&&p(C(h.x,h.y))}),[h.visible]),(0,i.useEffect)((()=>{function e(e){l&&e.preventDefault()}function t(t){switch(t.key){case"Enter":case" ":v.openSubmenu()||S();break;case"Escape":S();break;case"ArrowUp":e(t),v.moveUp();break;case"ArrowDown":e(t),v.moveDown();break;case"ArrowRight":e(t),v.openSubmenu();break;case"ArrowLeft":e(t),v.closeSubmenu();break;default:v.matchKeys(t)}}if(h.visible){window.addEventListener("keydown",t);for(let e of dP)window.addEventListener(e,S)}return()=>{window.removeEventListener("keydown",t);for(let e of dP)window.removeEventListener(e,S)}}),[h.visible,v,l]);let{visible:I,triggerEvent:T,propsFromTrigger:E,x:M,y:R,willLeave:A}=h,k=rP("contexify",a,{["contexify_theme-".concat(n)]:n},gP(s)?rP({["contexify_willEnter-".concat(s)]:I&&!A,["contexify_willLeave-".concat(s," ","contexify_willLeave-","'disabled'")]:I&&A}):s&&"enter"in s&&"exit"in s?rP({["contexify_willEnter-".concat(s.enter)]:s.enter&&I&&!A,["contexify_willLeave-".concat(s.exit," ","contexify_willLeave-","'disabled'")]:s.exit&&I&&A}):null);return i.createElement(sP,{value:m},I&&i.createElement("div",{...f,className:k,onAnimationEnd:function(){h.willLeave&&h.visible&&(0,c.flushSync)((()=>p({visible:!1,willLeave:!1})))},style:{...r,left:M,top:R,opacity:1},ref:g,role:"menu"},mP(o,{propsFromTrigger:E,triggerEvent:T})))},CP=e=>{let{id:t,children:n,className:r,style:a,triggerEvent:o,data:s,propsFromTrigger:l,keyMatcher:c,onClick:u=uP,disabled:d=!1,hidden:f=!1,closeOnClick:h=!0,handlerEvent:p="onClick",...g}=e,m=(0,i.useRef)(),v=oP(),b={id:t,data:s,triggerEvent:o,props:l},y=vP(d,b);function C(){let e=m.current;e.focus(),e.addEventListener("animationend",(()=>setTimeout(fP.hideAll)),{once:!0}),e.classList.add("contexify_item-feedback"),u(b)}return vP(f,b)?null:i.createElement("div",{...g,[p]:function(e){b.event=e,e.stopPropagation(),y||(h?C():u(b))},className:rP("contexify_item",r,{"contexify_item-disabled":y}),style:a,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),b.event=e,C())},ref:function(e){e&&!y&&(m.current=e,v.set(e,{node:e,isSubmenu:!1,keyMatcher:!y&&pP(c)&&(e=>{c(e)&&(e.stopPropagation(),e.preventDefault(),b.event=e,C())})}))},tabIndex:-1,role:"menuitem","aria-disabled":y},i.createElement("div",{className:"contexify_itemContent"},n))};function wP(e){let{MENU_ID:t,onHide:n,displayConfirm:i,openEdit:r}=e;return(0,o.jsxs)(yP,{style:{backgroundColor:"#ed80fd","--contexify-menu-bgColor":"#ed80fd","--contexify-separator-color":"#ffffff","--contexify-item-color":"#ffffff","--contexify-activeItem-color":"#fff","--contexify-activeItem-bgColor":"#5961f9","--contexify-rightSlot-color":"#6f6e77","--contexify-activeRightSlot-color":"#fff","--contexify-arrow-color":"#6f6e77","--contexify-activeArrow-color":"#fff"},onVisibilityChange:n,id:t,children:[(0,o.jsx)(CP,{onClick:r,children:"Edit"}),(0,o.jsx)(CP,{onClick:()=>i(!0),children:"Delete"})]})}const SP={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let IP;const TP=new Uint8Array(16);function EP(){if(!IP&&(IP="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!IP))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return IP(TP)}const MP=[];for(let n=0;n<256;++n)MP.push((n+256).toString(16).slice(1));function RP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return MP[e[t+0]]+MP[e[t+1]]+MP[e[t+2]]+MP[e[t+3]]+"-"+MP[e[t+4]]+MP[e[t+5]]+"-"+MP[e[t+6]]+MP[e[t+7]]+"-"+MP[e[t+8]]+MP[e[t+9]]+"-"+MP[e[t+10]]+MP[e[t+11]]+MP[e[t+12]]+MP[e[t+13]]+MP[e[t+14]]+MP[e[t+15]]}const AP=function(e,t,n){if(SP.randomUUID&&!t&&!e)return SP.randomUUID();const i=(e=e||{}).random||(e.rng||EP)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return RP(i)};function kP(e){let{file:t,setMedia:n,fileInputRef:r,sendMedia:a,setCaption:s,isSending:l}=e;const[c,u]=(0,i.useState)(!1),d=(0,i.useRef)(),[f,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=(t.size/1048576).toFixed(2);u(e>2);const n=function(e){!d.current||d.current.contains(e.target)||r.current.contains(e.target)||"imageAdd"==e.target.id||h(!0)};return document.addEventListener("click",n),()=>document.removeEventListener("click",n)}),[t]);return(0,o.jsxs)("div",{className:"mediaSenderContainer",onKeyUp:e=>{"Enter"==e.key&&a()},ref:d,children:[(0,o.jsx)(DA,{value:f,title:"Think again",content:"Do you want to remove added image..?",func:h,posFunc:function(){n(null),s(null)}}),(0,o.jsx)("img",{className:"imageToSend",onClick:()=>r.current.click(),src:t.data}),(0,o.jsxs)("div",{className:"mediaSenderOptions",children:[(0,o.jsx)("p",{className:"text-danger",children:c&&"Please choose image with lessthan 2Mb size"}),(0,o.jsx)("input",{onChange:e=>s(e.target.value),type:"text",placeholder:"Write caption here...",className:"captionInput"}),!c&&(0,o.jsx)("button",{onClick:a,className:"btnSendMedia",children:(0,o.jsx)("img",{src:l?PA:jA,alt:""})})]})]})}var xP=n(2450),DP=n(1151),OP=n.n(DP);const LP=e=>{let{reciever:t,setChat:n,setGo:r,chat:a,isBlocked:s}=e;const l=so((e=>e.user)),c=bo(),[u,d]=(0,i.useState)(!1),f=MA(),[h,p]=(0,i.useState)(!1);so((e=>e.conversations));(0,i.useEffect)((()=>{d(!0),AA().then((e=>{c(Ca(e))})),kA(t._id).then((e=>{null!==e&&void 0!==e&&e.length?c(Sa(e)):c(Sa([])),d(!1)})),f.on("typing",(()=>{console.log("typing"),p(!0)})),f.on("typingEnd",(()=>{p(!1)}))}),[t,f]);const g=function(e){n({type:"UserProfile",data:t._id})};return(0,o.jsxs)("div",{className:"conversationTopBar",children:[(0,o.jsxs)("div",{className:"conversationDetails",children:[(0,o.jsx)(D,{fas:!0,icon:"arrow-right",onClick:function(e){e.stopPropagation();const t=document.querySelector(".conversationContainer");t.style.transition="0.7s",t.style.transform="translateX(100%)",tP().delay((()=>{n({type:null,data:null}),window.outerWidth<=800&&r("")}),700)},size:"sm",style:{color:"white"}}),(0,o.jsx)("img",{src:t.avatar_url,alt:"",onClick:g,className:"conversationAvatar"}),(0,o.jsxs)("div",{className:"conversationUserDetails",onClick:g,children:[(0,o.jsxs)("span",{style:{fontSize:"20px",fontWeight:"bold"},children:[t.username," ",t.isPremium&&(0,o.jsx)("span",{title:"Premium member",className:"badge rounded-pill d-inline premiumBadge mx-1",children:"Premium"})," ",t.isBusiness&&(0,o.jsx)("img",{src:RA,className:"businessBadge",alt:""})," "]}),!s&&(0,o.jsxs)("span",{children:[" ",h?"Typing...":"online"!=t.last_seen?"last seen ".concat(new Date(parseInt(t.last_seen)).getDate()==(new Date).getDate()?"today":new Date(parseInt(t.last_seen)).getDate()==(new Date).getDate()-1?"yesterday":" was "+new Date(parseInt(t.last_seen)).toLocaleDateString()," at ").concat(new Date(parseInt(t.last_seen)).toLocaleTimeString()):(0,o.jsx)("font",{color:"white",children:"Online"})]})]})]}),(0,o.jsxs)("div",{className:"conversationMenu",children:[u&&(0,o.jsx)($j,{variant:"soft",color:"danger",style:{color:"#ED80FD"}}),!s&&(0,o.jsx)("img",{src:NA,onClick:()=>n({type:"videoCall",data:{to:t._id,from:l.value._id,conversationName:"CONVERSATION_".concat(AP().split("-").join(""))}}),alt:""})]})]})},_P=e=>{let{isBlocked:t,reciever:n,openGreeting:r,isChatLoading:a,setReciever:s,setConfettiActive:l,isConfettiActive:c,chat:u}=e;const d=so((e=>e.user)),f=(0,i.useRef)(),[h,p]=(0,i.useState)([]),g=so((e=>e.conversations)),m=bo(),[v,b]=(0,i.useState)(null),[y,C]=(0,i.useState)(!1),[w,S]=(0,i.useState)(""),[I,T]=(0,i.useState)(!1),E=so((e=>e.currentChat)),{show:M}=function(e){return{show(t){fP.show({...e,...t})},hideAll(){fP.hideAll()}}}({id:"MENU_ID"}),[R,A]=(0,i.useState)(!1);(0,i.useEffect)((()=>{var e,t,n;const i=null===(e=g.value)||void 0===e?void 0:e.filter((e=>e.opponent[0]._id==u.data));null!==(t=i[0])&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length?p(i[0].messages):E.value.length?p(E.value):(p([]),AA().then((e=>{m(Ca(e)),kA(u.data).then((e=>{null!==e&&void 0!==e&&e.length?p(e):p([])}))})))}),[u]),(0,i.useEffect)((()=>{E.value.length&&p(E.value)}),[E]),(0,i.useEffect)((()=>{f.current&&(f.current.scrollTop=2e3*f.current.scrollHeight)}),[h]);const k=function(){const e={route:"editMessage",payload:{msgId:null===v||void 0===v?void 0:v._id,message:w},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"PUT"};hl(e).then((e=>{e.data.success?(m(Ra({msgId:null===v||void 0===v?void 0:v._id,content:w})),S(""),b(""),T(!1)):alert(e.data.message)}))},x=function(e){(0,xP.saveAs)(e.mediaConfig.url,"image_syncUp_".concat(e.sentTime))},D=function(){b(""),T(!1),C(!1)};return(0,o.jsx)("div",{className:"chatinInterface",children:(0,o.jsxs)("div",{className:"doodles",onClick:e=>{!y&&!I&&b("")},ref:f,children:[(0,o.jsx)(DA,{negFunc:D,func:C,value:y,posFunc:function(){if(v){C(!1);const e={route:"deleteMessage",params:{id:null===v||void 0===v?void 0:v._id},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success?(b(""),m(Ea(null===v||void 0===v?void 0:v._id))):bi.error(e.data.message)}))}else bi("Select a message")},title:"Are you sure ?",content:"Do you want to delete this message ?"}),(0,o.jsx)(DA,{negFunc:D,func:T,value:I,posFunc:k,title:"Edit your message",children:(0,o.jsx)("input",{onKeyUp:e=>"Enter"==e.key&&k(),onChange:e=>S(e.target.value),className:"confirmInput m-1",type:"text",placeholder:"Enter message"})}),(0,o.jsx)(wP,{displayConfirm:C,openEdit:T,MENU_ID:"MENU_ID"}),a&&(0,o.jsxs)("div",{className:"subLoader",style:{height:"100%"},children:[" ",(0,o.jsx)("span",{className:"subLoaderSpinner"})," "]}),Boolean(null===h||void 0===h?void 0:h.length)&&h.map(((e,t)=>(e.isConfettiEnabled&&e.senderId!=d.value._id&&r(),(0,o.jsx)(o.Fragment,{children:e.senderId===d.value._id?(0,o.jsxs)("div",{title:new Date(e.sentTime).toLocaleString(),className:"message rightMessage ".concat((null===v||void 0===v?void 0:v._id)==e._id?"bg-danger text-light":""," text-center "),onContextMenu:e.isDeleted?e=>e.preventDefault():t=>function(e,t){b(t),M({event:e})}(t,e),children:[(0,o.jsx)("div",{className:"p-1",children:null!==e&&void 0!==e&&e.isDeleted?(0,o.jsx)("i",{children:"This message has been vanished "}):e.isMedia?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:e.mediaConfig.url,alt:"d",onClick:()=>x(e),className:"mediaMessage"}),(0,o.jsx)("p",{className:"p-1 text-start",children:e.content})]}):(0,o.jsx)("span",{className:"messageText",children:e.content})}),(0,o.jsxs)("span",{className:"messageStatusIndicator",children:[new Date(parseInt(e.sentTime)).getDate()==(new Date).getDate()?new Date(parseInt(e.sentTime)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.sentTime)).getDate()==(new Date).getDate()-1?"Yesterday":new Date(parseInt(e.sentTime)).toLocaleDateString()," ",(0,o.jsx)("img",{src:e.isReaded?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVR4nO2RQQrCMBBFcwlFl16id9JLTEA9Ui+iBY8QLEmFrCeMjFawNdRMoLgwfxN4hDfMfKVKSn4aA7TsNG5TuVhuNZ6dDtQB7r5xUfyRFhbwxBKn8XIFWk3xP5W3B1ony7lxLmeKW6DKAXoL2LzYe6H8xhyKm459iHELVInkktXbnmfdXDLE5xb6WBmwGa9sRqdIOkvakFAPeC/Olg9lob7tafPJnxtky1OGm7nkJWqu3AG4VKMhMUMotAAAAABJRU5ErkJggg==":e.isDelivered?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqklEQVR4nO2RQQrCMBBFcwlFl16id7L38wiB/zMhC1vwHl5AGalQQmiTSOnC/E3gEd4w841padk11tojyWsuL5YDGEi+nHP9Gi9KCOFA8q4SAA+SpyX+p3Lv/Tlbro1rOUtcRDqSTwDjl80L1TflMNp06kOKi0hXJC9Z3U+86uYlQ0JtodPKY7yyjU6RdZacISRvEf+Iq+VzmcoBXBLDh5/kOcPtVvIWs1Xe97qaj5UfCNsAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVR4nO2VQQqAMAwE+wlF//8SD9VdLDnowecoBREREZU2KGSgx2ZIyLbOGYbxAu99CaAF0Dhl6UhyBkAVqYgUJIdVOpGsTJoMG++3x0uyIxli9l7mdHxydwNA/6RAEunZyEIItdPaXrkhzxYZuZBnz6mcyNUeB39YniSLdJd9l6q/zK7zPp7snRrGb1kAzfZXogl3RJwAAAAASUVORK5CYII=",alt:""})," ",e.isEdited&&!e.isDeleted?"Edited":""," "]})]},t):(0,o.jsxs)("div",{title:new Date(e.sentTime).toLocaleString(),className:"message leftMessage text-center",children:[(0,o.jsx)("div",{className:"p-1",children:null!==e&&void 0!==e&&e.isDeleted?(0,o.jsx)("i",{children:"This message has been vanished "}):e.isMedia?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:e.mediaConfig.url,alt:"d",onClick:()=>x(e),loading:"lazy",className:"mediaMessage"}),(0,o.jsx)("p",{className:"p-1",children:e.content})]}):(0,o.jsx)("span",{className:"messageText",children:e.content})}),(0,o.jsxs)("span",{className:"messageStatusIndicator",children:[" ",e.isEdited&&!e.isDeleted&&"Edited","  ",new Date(parseInt(e.sentTime)).getDate()==(new Date).getDate()?new Date(parseInt(e.sentTime)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.sentTime)).getDate()==(new Date).getDate()-1?"Yesterday":new Date(parseInt(e.sentTime)).toLocaleDateString(),"  "]})]},t)})))),!Boolean(null===h||void 0===h?void 0:h.length)&&(0,o.jsx)("div",{className:"newConversation",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:zt,alt:""}),(0,o.jsxs)("h6",{children:[" ",t?"You cannot message to this user":'Begin a conversation by sending "Hi"'," "]})]})})]})})};const NP=function(e){let{isBlocked:t,message:n,removeLastEmoji:i,sendMessage:r,handleFileInput:a,handleInputChange:s,isSending:l,setSending:c,setOpenEmoji:u,inputRef:d,fileInputRef:f}=e;return(0,o.jsx)("div",{className:"conversationBottom",children:t?(0,o.jsxs)("div",{className:"blockedDiv",children:[" ",(0,o.jsx)("p",{style:{color:"grey",fontSize:"13px"},children:"This conversation has been ended"})," "]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2ay28URxDGx4HgiIeDzevAhYSTbQThClfeiITkEuxcsfAFsHxKDrZzwxi4gML/wSO2cuEh8oCACVwSb8zjgM0bbnFsgfRDxX4jWst4tme2l10hPmmk1XRVdVVPVXV19UbRB7ynAJqAXcBh4BTwD/AImNLzSO9OicZoF0X1AKAR2AOMAC/IDuMZBr4F5tXCgE+Ag8CEo9Q0cA7oA3YDrUAz8LGeZr2zsX7gvHhi3AMOmOx3ZcRWYNxR4CqwF/g0h6zFQBdwzZH3L7Cl2l/hJ2fC0ZATAtuAvxz5J8x1Q8mPJ1mhlTf8B+wH5gSdpDjPHLmsJQfDFWB5KOGrHFeyrLMmiOD0OdcCBcfVVlUqcJkj8E9gaTBty8/dDPyquW+ZV1QSE7E7/Q4sCK5teR0WAJcdN8seM8BJx51aqqKpnx5LHK84kZV5uxPYVY8Jz5iZkk5bs7iU+aRhf1QnAHqk07jXpgn0OvtE8BSbF8Bc4IZ06/GpneKyY3NUZwB2SLf7qV8F+C4uO6I6BNAgTzF0phH+IqK9UZ0C2CcdR9I2oJeqSMsWgFZ261xhn3kSGMxSiuflp6jnjI4Ai5MIrLw2nPNUxCYuxWAGQ3LzAxdE/2XS4FEN9nkKs1UsxWQGQ3LzAz+K/kjS4PCsVvorMlGhIROevF+L/kzSoFWZhtYKXONQBkNy8wPtoi8kDT7V4JIMwTqolc0b7Ln4gaXS9UnSoGUCatIEyAiKG7dh+r025JkGa1ayZzzwGR5XHOy1BG+CfSxp8GcNfhXVOYBvpOvptA2xP0XAbzpyNlW59XrVzuseG+JQWolyPkXAddGMVCMpUAziuHAdTaG7KJpd5YrGt4uxIs1qy93xZwXmBzRiPnA2DmLg81noWpyiMdkznNXoSplwvZPhzM1WBjBipdpNaGNel0Lb/ZoKhn0OVtfKTNwG3BWtGdVRgRE253PJupOWNXWwit27o1zjYdKnW6E2qsVKDEsEmzIYsBn4w+G3rJnaHgV2Op37Rt/mw/VyzQet0D4nblAH5qi69vblFulpU6P6GHDboX+sbn6DR/PhpngOZG0HHSzLUOQxRX8AHuKPB8D3wELPOXrFV/DuODoNOmuKrfViKvJ9BGy0/A5ckmHTeh7qnR1vNxhtBrlfAP9Lp2xXGc5dSMG3tK9iXTUuXY5X2sS+XKMm9kKl+PxNbGc1xiTI8vyy4NrOPneLMmFl1wqOwM+cT1tI26xCgWJMjAe76Jnl6m1KDeW5QYS/nWJ7ncAOd/WWchlqDeXtgWQ3aLO76cg/HvwytGTSbSXX06PaFJtzxkG3U3ZU/3o64ev0lPxhYEbl9YD6Tu26bZqnx36v0aFoQLRxn8D9w0DjOzEi4fzQqZrLjgBZ8UI1VkdNDEiCNb71Rxnb1c/o7vGpVn1Gv//WOWZItFU7aX5AVGO8An05ztNYEENUAAAAAElFTkSuQmCC",alt:"not",onClick:()=>u(!0)}),(0,o.jsx)("input",{onKeyDown:e=>"Backspace"==e.key&&(null===n||void 0===n?void 0:n.length)<3&&i(e),onInput:s,onKeyUp:e=>"Enter"==e.key&&r(),value:n,type:"text",ref:d,placeholder:"Type a message...",className:"msgInput text-capitalize"}),(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADdElEQVR4nO2aTU8UQRCGx4CAwci3eNQjgah/QgVFAW+g3jByEQh6BTyrJxMSf4cGjSZqFCXitxcFF08qByPeRAiYxxS8Ezu6O7s79Mos4U0m2Wz3Vr01XdVdXbVBsIVNCqAW6ASuAOPANPAdWNJjn99rzOZ0ADVBEgBUAGeAu8Av8scKcAc4DZRvhAE7gAvAnENqEbgPDGtlmuyNA9v11Og7GxsBHug3Ib4AQ/Zy/pcRx4CPDoHnQC9QFUNWNXAWeOHImwXaCu1G1x2FL4HDHuW3Aq8d+WPeVwfYI+KGH8B5oMSrkjU9JcAAsOCsdqMv4fu03GjXafEiOFrnfmBGOlPGYb0CGxyBz4B6b2yz664BHku3xeSe9cRE6E6TQKV3ttk5VAJPHTfLP2acwDZ3qi0I09x41DleMRZniw0Du+AxkWPMLIhTaz6HXXhOnA8SAmDQCf7sLgZcdM4J71tsXAClwBtxG8w2uVypguFQkDAAR8VtLnJVlLyt7hBBAgFsc3bSnqiJlsUaej0qt+1z0qO8c+J4O+o+saKMtMqj4lV4PiiXgOW0PIEu6bznS2khDDEADyX2ePA3gKsaHA6Sb8glib2cbtCuoIYTRWBIl8TeSDf4QYNNRWBIs8ROpxuc12BtERhSL7Ff0w3aTmAoiyF4gviYiKGvXL9dTJIhj3wbMl9ErtUQ5VqbJtjHNdhRBIacjNp+wwNxpNgPxE4N3i+iFKU9UzIWJo3VSTWEteQ2TBp3ZZpkBWXDWY+KJ+JssZkA9InjrahJpzTpRZDci9UrcezOdtB81sQjQcIAtIvbp6xtCJX2keVJKz68Fbf+XCuMYa13IEgI+POCZ3JuCll/Qj+yotj+grPMzucg8FOc8mtlqD8RvoG6grHMLa9Kicu1OAIqVDhGlZCNKGLvBKbEYSp2n1Fvw7qzYVuhwTvb6IPviXTPrrvho0ZPynGzA97YRsdESjotK9/rS3Cj42YLKiiXehH+7xY75AS2udNu30oqnA0AFZTbPJ7Y1soIz4nVwC5o713d13DZUS32XJx/MSgO+py0I3Qlb93iXFZn0ElnUEZq6fWo6k7N6jaV6bHPLboUjWpuWCcI047+jfoHhOVmPVZQ1hUgXyzrZtq9IQakgxWUrRZrtzbgpnqP35w/1djnd3Y91ZzjGe8TWwiKH78BmFs3aLUPAL8AAAAASUVORK5CYII=",id:"imageAdd",onClick:()=>f.current.click(),alt:""}),(0,o.jsx)("input",{type:"file",onInput:a,ref:f,accept:"image/*, video/*",hidden:!0,id:""}),Boolean(n.length)&&(0,o.jsx)("img",{src:n?l?PA:jA:l&&PA,onClick:n?r:()=>alert("mic"),alt:""})]})})},jP=function(e){let{setGo:t,setChat:n,chat:r}=e;const a=MA(),s=so((e=>e.user)),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(""),[f,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),[S,I]=(0,i.useState)(!1),T=(0,i.useRef)(),E=(0,i.useRef)(),[M,R]=(0,i.useState)(null),A=so((e=>e.conversations)),k=bo();(0,i.useEffect)((()=>{a.on("conversationBlocked",(async e=>{if(l)c({...l,blockedContacts:[...l.blockedContacts,{userId:s.value._id,blockedAt:Date.now()}]}),h(!0);else{const e=await AA("From block state");k(Ca(e))}})),a.on("conversationUnblocked",(async e=>{if(l){var t;k(Ua({...s.value,blockedContacts:null===(t=s.value.blockedContacts)||void 0===t?void 0:t.filter((t=>t.userId!=e.userId))})),h(!1)}else{const e=await AA("From block state");k(Ca(e))}})),a.on("msgEdited",(e=>{r.type&&k(Ra({msgId:e.msgId,content:e.content}))}))}),[a]),(0,i.useEffect)((()=>{if("chat"==r.type){var e,t;d(""),a.emit("join-room",{senderId:s.value._id,recieverId:r.data});const n=null===(e=A.value)||void 0===e?void 0:e.filter((e=>e.opponent[0]._id==r.data));if(n&&null!==(t=n[0])&&void 0!==t&&t.opponent[0]){var i,o,l,u;const e=null===(i=s.value.blockedContacts)||void 0===i||null===(o=i.filter((e=>e.userId==r.data)))||void 0===o?void 0:o.length,t=null===(l=n[0].opponent[0].blockedContacts)||void 0===l?void 0:l.filter((e=>e.userId==s.value._id)).length,a=null===(u=A.value)||void 0===u?void 0:u.filter((e=>e.opponent[0]._id==r.data&&e.isBanned)).length;h(e||t||a),c(n[0].opponent[0])}else{const e={route:"getUserInfo",params:{userId:r.data},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(e).then((e=>{var t,n,i,a;const o=(null===(t=s.value.blockedContacts)||void 0===t||null===(n=t.filter((e=>e.userId==r.data)))||void 0===n?void 0:n.length).length,l=null===(i=e.data.body.blockedContacts)||void 0===i?void 0:i.filter((e=>e.userId==s.value._id)).length,u=null===(a=A.value)||void 0===a?void 0:a.filter((e=>e.opponent[0]._id==r.data&&e.isBanned)).length;h(o||l||u),c(e.data.body)}))}}else"videoCall"==r.type&&(r.data.from==s.value._id?a.emit("onCall",{...r.data,createLog:!0,clearLogFromMe:!s.value.settingsConfig.save_call_logs}):a.emit("onCall",r.data));document.addEventListener("keyup",(e=>{if("Escape"==e.key)b&&y(null),n({type:null});else if("Enter"==e.key){var t;null===E||void 0===E||null===(t=E.current)||void 0===t||t.focus()}}))}),[r,s]),(0,i.useEffect)((()=>{s.value.afk.isOn&&r.type&&function(){const e={route:"toggleAfk",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"PATCH"};hl(e).then((e=>{e.data.success?(bi.success("Activity detected AFK turned off"),k(Ua({...s.value,afk:{...s.value.afk,isOn:!s.value.afk.isOn}}))):bi.error(e.data.message)}))}()}),[r]);const x=async()=>{const e=new FormData;e.append("file",b.data),e.append("quality","auto:low"),g(!0),e.append("upload_preset","syncup_preset");const t=await ll.post("https://api.cloudinary.com/v1_1/drjubxrbt/image/upload",e).catch((e=>bi(e.message))),{secure_url:n}=null===t||void 0===t?void 0:t.data;if(n){var i;const e={_id:AP().split("-").join(""),recieverId:l._id,senderId:s.value._id,content:M,userEmail:s.value.email,isMedia:!0,mediaConfig:{url:n,type:b.type},sentTime:Date.now()};null!==e&&void 0!==e&&null!==(i=e.mediaConfig)&&void 0!==i&&i.url&&e.userEmail&&e.recieverId?(a.emit("sendMedia",e),k(Ta(e)),y(null),R(""),g(!1),AA("from first message sender").then((e=>k(Ca(e))))):bi("No message")}else bi.error("Err while sending media")},D=()=>{w(!1);const e={route:"disabledConfetti",params:{userId:r.data},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"PATCH"};hl(e).then((async e=>{e.data.success||bi.error(e.data.message);const t=await kA(r.data),n=await AA("from confetti");k(Ca(n)),k(Sa(t))}))},O={chat:r,setChat:n,reciever:l,setGo:t,setMessage:d,setOpenEmoji:v,handleFileInput:async e=>{if(e.target.files[0]){const t=new FileReader;t.onload=t=>{const n={data:t.target.result,type:e.target.files[0].type,size:e.target.files[0].size};n.type.startsWith("image")?y(n):bi.error("Please select an image")},t.readAsDataURL(e.target.files[0])}},handleInputChange:e=>{e.target.value.startsWith(":emoji")?(v(!0),d("")):e.target.value.trim()&&(a.emit("typingStarted",r),d(e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1)))},inputRef:E,isSending:p,setSending:g,sendMessage:async()=>{if(p)return bi("Umm..trafic makes slow");if(u.length){const t={_id:AP().split("-").join(""),recieverId:l._id,senderId:s.value._id,content:u.charAt(0).toUpperCase()+u.slice(1),userEmail:s.value.email,isDelivered:!1,isReaded:!1,isSent:!1,isDeleted:!1,sentTime:Date.now()};var e;if(d(""),g(!0),t.content&&t.userEmail&&t.recieverId){if(a.emit("sendMsg",t),k(Ta(t)),AA("from first message sender").then((e=>k(Ca(e)))),null!==l&&void 0!==l&&null!==(e=l.afk)&&void 0!==e&&e.isOn){const e=await kA(l._id);k(Sa(e))}}else bi("No message");g(!1)}},message:u,sendMedia:x,setReciever:c,isBlocked:f,fileInputRef:T,setConfettiActive:w,isConfettiActive:C,openGreeting:function(e){w(!0)},changeConfettiState:D,isChatLoading:S,setChatLoading:I};return(0,o.jsxs)(o.Fragment,{children:[!r.type&&s.value.isPremium&&(0,o.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:(0,o.jsx)("h1",{children:s.value.settingsConfig.replace_premium_text?s.value.username.toUpperCase():"Premium user"})}),!s.value.isPremium&&!r.type&&(0,o.jsx)(Fp,{chat:r}),"chat"==r.type&&l&&(0,o.jsxs)("div",{className:"conversationContainer",children:[(0,o.jsx)(LP,{...O}),C&&(0,o.jsx)(OP(),{recycle:!1,active:C,onConfettiComplete:()=>D()}),(0,o.jsx)(_P,{...O}),(0,o.jsx)(NP,{...O,removeLastEmoji:()=>{const e=/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.exec(u);if(e){const t=e[0];d((e=>e.slice(0,-t.length)))}else d((e=>e.slice(0,-1)))}}),(null===b||void 0===b?void 0:b.data)&&(0,o.jsx)(kP,{isSending:p,setCaption:R,sendMedia:x,fileInputRef:T,setMedia:y,file:b})]}),m&&(0,o.jsx)(JL,{setMessage:d,setOpenEmoji:v}),"videoCall"==r.type&&(0,o.jsx)(QL,{declineCall:()=>{a.emit("onDeclined",r.data);const e=r.data.from==s.value._id?r.data.to:r.data.from;n({type:"chat",data:e})},setChat:n,chat:r,hangUpCall:()=>{a.emit("onHangup",r.data);const e=r.data.from==s.value._id?r.data.to:r.data.from;n({type:"chat",data:e})}}),"UserProfile"==r.type&&(0,o.jsx)(nP,{...O})]})};const PP=function(e){let{openContactsModal:t}=e;return(0,o.jsxs)("div",{className:"welcomeContainer",children:[(0,o.jsx)("img",{style:{width:"70px",margin:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVR4nO3ZvUoDQRSG4VcQRJCAjYWNjb2Cl2An/lTWdoKCXoPVkmJrwQuw8QK0CnoHprESrAQr06hFgnhk4USGwJrdzO/CfjCEJDPhPOzOLJxAmzZtzGzoaGwGwBDYo6HpAtJ0RGYgDmhgFoH7ildiEzgMNLa1tn+zDrxo8VIBMZiY63s8a42ludOJfeAG6E1BnOq8EKOvtRQ1luZLJ3WMz/JENnZH6yhqLM34UqW6saWkvkoTUkCIDSAFhNgCYiPEBSAmQlwBYiHEJSAGQlwDQiPEByAkQnwBQiHEJyAEQnwDfCMkBMAnQkIBfCEkJMAHQkIDXCMkBsAlQmIBXCEkJsAFQmIDbBGSAsAGIakAZul2zOv8bxvACrDvsNv2WKMDeGn0rGYCHAEfUzpnNmNYoQM4AnbqAuaAC+BHv3vw0HXrVegAdqv8dzEJKO67K+PeK37IVzIXDzsTsATc6vtPYBf/yWwRY8CqscHegC3CJbNBjAGv+voErBE+ec0j9i/mqVBs1mXiJdc63ussGumia2CB+DkHTuosOAbO9Ohs06YN6ecX67VZA78N+rYAAAAASUVORK5CYII=",alt:""}),(0,o.jsx)("h2",{children:"Look like your chats is empty "}),(0,o.jsx)("button",{onClick:()=>t(!0),children:"Start chat"})]})};const UP=function(e){let{searchResult:t,addToContact:n,checkCondact:i,cancellRequest:r,copyLink:a,setChat:s,setSearchData:l}=e;const c=so((e=>e.user));return t.map((e=>(0,o.jsxs)("div",{className:"chatlistItem",children:[(0,o.jsx)("img",{src:e.avatar_url,className:"chatIcon",alt:""}),(0,o.jsxs)("div",{className:"chatDetails",children:[(0,o.jsxs)("div",{className:"userContent",children:[(0,o.jsxs)("h5",{className:"userName",style:{textTransform:"capitalize"},children:[c.value._id==e._id?"".concat(e.username," (You)"):e.username.length>10?e.username.slice(0,10)+"...":e.username," ",(null===e||void 0===e?void 0:e.isPremium)&&(0,o.jsx)("span",{title:"Premium member",className:"badge rounded-pill d-inline premiumBadge",children:"Premium"})," ",e.isBusiness&&(0,o.jsx)("img",{src:RA,className:"businessBadge"})]}),(0,o.jsx)("p",{className:"lastMessage",children:(t=>{const n=i(e._id,null===e||void 0===e||null===(t=e.settingsConfig)||void 0===t?void 0:t.allow_msg_from_everyone);return"Pending"==n?"Request is not accepted yet":"Accepted"==n?e._id==c.value._id?"Message yourself":"Message to users":404==n?"Not found , Invite to get chat points":"Send friend request to message"})()})]}),(0,o.jsx)("div",{className:"followRqstDiv",children:(t=>{const c=i(e._id,null===e||void 0===e||null===(t=e.settingsConfig)||void 0===t?void 0:t.allow_msg_from_everyone);return"Pending"==c?(0,o.jsx)("button",{onClick:()=>r(e._id),className:"sendFrndRqst",children:(0,o.jsx)("img",{style:{width:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVR4nN1VPU8DMQy9ggQLZS572SiUmY/CTtky3cUvTefOlB6lexGo/cfoVY44oVyulAksWTrFznu2Y/uy7F+LMWbfWnspIgKgBPCmWvKMNvrsBF4UxQWAVxFZpxTAXETOf4LdEpHHCsiTtXYAoGOMOaDyezQaDWgLfs65Ie82ogdwAO8Arhoutay11/StkKTLEsCLouhGyDfRfj8fj8fdCkkvCs7HCjXXyLNtCSjMhDZr7Tz68Notm5rXlUUSBIvFYg/AVAPsxwigALfRFLM0AQXAnRLYmLFUY+cXBB3FKGOXlzROJpPDJgLvfTtm5131We5EgK8aT2MkSYJtSuS9b6dI8jw/SZWIsuaEZgkxxhyFCXbOzfI8P65g3GsGxU5tGsuE/R/aVESea9tUB21evZQSklT9nHM3GuBL7YblVgyrguPfRFIBPwXwAWDlvT9rch4GEkbI1Ot8aWPkBNfMH7YJqBVIQrdwQtldbEMqu0WnNtR8peDN67qSSY+Lq+mHw5o3lqVO9OH73C1sSR1G6oxntO38y/wz8gmPnjEJn1jvzgAAAABJRU5ErkJggg==",alt:""})}):"Accepted"==c?(0,o.jsx)("button",{onClick:()=>{s({type:"chat",data:e._id}),l([])},className:"sendFrndRqst",children:(0,o.jsx)("img",{style:{width:"20px"},src:LA,alt:""})}):404==c?(0,o.jsx)("button",{className:"btnStart",onClick:()=>a(e.username),style:{width:"80px",margin:"7px",height:"35px"},children:"Invite"}):(0,o.jsx)("button",{onClick:()=>n(e._id),className:"sendFrndRqst",children:(0,o.jsx)("img",{style:{width:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVR4nO2Wu0oDQRRAF6xEFAQj9op+g9mksBFL0djaWPoVSXw0YiO2dvZCCh/Y+AFGCwUVrEyh2JhoTGWOXJjAstnXbO5i44GB3XnsYe5l7qzj/BMBMA0cAk9AG3gHToA5JyuAZaBDMK/AJpDLYqdt4mkAU5riA5KzrSl+sBDfaYo7FuKWpvjtr8SnFuJLTXHNQlzTFDcsxC+a4n0L8Z6aWJDcJZBeONoASzHSLrCoLhaA3RDpI1B0soR+roAxMzYJbAE3wJdpdaAqY5pi2emo6V+T4hGRihZQSitd9eXU9UjlPY5uYjkwBCwAx8CP5yPnnvAG7TQPFAL6m5H3NjAPHJm/jCDWzTzJaR8hqelRCRLmgDPimTHzb1OI637pOPBMMobNGm+Y8xERLITeYMAOyRkJELsR4qJnXtM/eG8hnjVr5MwOHOpvC/GGWVNNIS47gxJxnFxfeHt8ABMDi428ZFFAVlSkPrkUhzBkp7pSj1xqQAW4Bj5Nk+eyP7y/OT/0F9x6VRkAAAAASUVORK5CYII=",alt:""})})})()})]})]})))};const FP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};var BP=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:FP}))};const zP=i.forwardRef(BP);function WP(e){return null!==e&&void 0!==e&&e===e.window}function VP(e,t){var n,i;if("undefined"===typeof window)return 0;const r=t?"scrollTop":"scrollLeft";let a=0;return WP(e)?a=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?a=e.documentElement[r]:(e instanceof HTMLElement||e)&&(a=e[r]),e&&!WP(e)&&"number"!==typeof a&&(a=null===(i=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===i?void 0:i[r]),a}const HP=function(e){let t;const n=function(){if(null==t){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t=mm((n=>()=>{t=null,e.apply(void 0,ru(n))})(i))}};return n.cancel=()=>{mm.cancel(t),t=null},n},GP=i.createContext(void 0),{Provider:YP}=GP,JP=GP,QP=new Nf("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),qP=new Nf("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),XP=new Nf("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),KP=new Nf("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ZP=new Nf("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),$P=new Nf("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),eU=e=>{const{fontHeight:t,lineWidth:n,marginXS:i,colorBorderBg:r}=e;return Sp(e,{badgeFontHeight:t,badgeShadowSize:n,badgeTextColor:e.colorBgContainer,badgeColor:e.colorError,badgeColorHover:e.colorErrorHover,badgeShadowColor:r,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},tU=e=>{const{fontSize:t,lineHeight:n,fontSizeSM:i,lineWidth:r}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*r,indicatorHeightSM:t,dotSize:i/2,textFontSize:i,textFontSizeSM:i,textFontWeight:"normal",statusSize:i/2}},nU=Dp("Badge",(e=>(e=>{const{componentCls:t,iconCls:n,antCls:i,badgeShadowSize:r,motionDurationSlow:a,textFontSize:o,textFontSizeSM:s,statusSize:l,dotSize:c,textFontWeight:u,indicatorHeight:d,indicatorHeightSM:f,marginXS:h,calc:p}=e,g="".concat(i,"-scroll-number"),m=aw(e,((e,n)=>{let{darkColor:i}=n;return{["&".concat(t," ").concat(t,"-color-").concat(e)]:{background:i,["&:not(".concat(t,"-count)")]:{color:i}}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,["".concat(t,"-count")]:{zIndex:e.indicatorZIndex,minWidth:d,height:d,color:e.badgeTextColor,fontWeight:u,fontSize:o,lineHeight:$u(d),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:p(d).div(2).equal(),boxShadow:"0 0 0 ".concat($u(r)," ").concat(e.badgeShadowColor),transition:"background ".concat(e.motionDurationMid),a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},["".concat(t,"-count-sm")]:{minWidth:f,height:f,fontSize:s,lineHeight:$u(f),borderRadius:p(f).div(2).equal()},["".concat(t,"-multiple-words")]:{padding:"0 ".concat($u(e.paddingXS)),bdi:{unicodeBidi:"plaintext"}},["".concat(t,"-dot")]:{zIndex:e.indicatorZIndex,width:c,minWidth:c,height:c,background:e.badgeColor,borderRadius:"100%",boxShadow:"0 0 0 ".concat($u(r)," ").concat(e.badgeShadowColor)},["".concat(t,"-dot").concat(g)]:{transition:"background ".concat(a)},["".concat(t,"-count, ").concat(t,"-dot, ").concat(g,"-custom-component")]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",["&".concat(n,"-spin")]:{animationName:$P,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},["&".concat(t,"-status")]:{lineHeight:"inherit",verticalAlign:"baseline",["".concat(t,"-status-dot")]:{position:"relative",top:-1,display:"inline-block",width:l,height:l,verticalAlign:"middle",borderRadius:"50%"},["".concat(t,"-status-success")]:{backgroundColor:e.colorSuccess},["".concat(t,"-status-processing")]:{overflow:"visible",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:r,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:QP,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},["".concat(t,"-status-default")]:{backgroundColor:e.colorTextPlaceholder},["".concat(t,"-status-error")]:{backgroundColor:e.colorError},["".concat(t,"-status-warning")]:{backgroundColor:e.colorWarning},["".concat(t,"-status-text")]:{marginInlineStart:h,color:e.colorText,fontSize:e.fontSize}}}),m),{["".concat(t,"-zoom-appear, ").concat(t,"-zoom-enter")]:{animationName:qP,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},["".concat(t,"-zoom-leave")]:{animationName:XP,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},["&".concat(t,"-not-a-wrapper")]:{["".concat(t,"-zoom-appear, ").concat(t,"-zoom-enter")]:{animationName:KP,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},["".concat(t,"-zoom-leave")]:{animationName:ZP,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},["&:not(".concat(t,"-status)")]:{verticalAlign:"middle"},["".concat(g,"-custom-component, ").concat(t,"-count")]:{transform:"none"},["".concat(g,"-custom-component, ").concat(g)]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},["".concat(g)]:{overflow:"hidden",["".concat(g,"-only")]:{position:"relative",display:"inline-block",height:d,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseOutBack),WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",["> p".concat(g,"-only-unit")]:{height:d,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},["".concat(g,"-symbol")]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",["".concat(t,"-count, ").concat(t,"-dot, ").concat(g,"-custom-component")]:{transform:"translate(-50%, -50%)"}}})}})(eU(e))),tU),iU=Dp(["Badge","Ribbon"],(e=>(e=>{const{antCls:t,badgeFontHeight:n,marginXS:i,badgeRibbonOffset:r,calc:a}=e,o="".concat(t,"-ribbon"),s="".concat(t,"-ribbon-wrapper"),l=aw(e,((e,t)=>{let{darkColor:n}=t;return{["&".concat(o,"-color-").concat(e)]:{background:n,color:n}}}));return{["".concat(s)]:{position:"relative"},["".concat(o)]:Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),{position:"absolute",top:i,padding:"0 ".concat($u(e.paddingXS)),color:e.colorPrimary,lineHeight:$u(n),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,["".concat(o,"-text")]:{color:e.colorTextLightSolid},["".concat(o,"-corner")]:{position:"absolute",top:"100%",width:r,height:r,color:"currentcolor",border:"".concat($u(a(r).div(2).equal())," solid"),transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),l),{["&".concat(o,"-placement-end")]:{insetInlineEnd:a(r).mul(-1).equal(),borderEndEndRadius:0,["".concat(o,"-corner")]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},["&".concat(o,"-placement-start")]:{insetInlineStart:a(r).mul(-1).equal(),borderEndStartRadius:0,["".concat(o,"-corner")]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(eU(e))),tU);const rU=e=>{const{className:t,prefixCls:n,style:r,color:a,children:o,text:s,placement:l="end",rootClassName:c}=e,{getPrefixCls:u,direction:d}=i.useContext(Xc),f=u("ribbon",n),h="".concat(f,"-wrapper"),[p,g,m]=iU(f,h),v=uw(a,!1),b=Bl()(f,"".concat(f,"-placement-").concat(l),{["".concat(f,"-rtl")]:"rtl"===d,["".concat(f,"-color-").concat(a)]:v},t),y={},C={};return a&&!v&&(y.background=a,C.color=a),p(i.createElement("div",{className:Bl()(h,c,g,m)},o,i.createElement("div",{className:Bl()(b,g),style:Object.assign(Object.assign({},y),r)},i.createElement("span",{className:"".concat(f,"-text")},s),i.createElement("div",{className:"".concat(f,"-corner"),style:C}))))};function aU(e){let t,{prefixCls:n,value:r,current:a,offset:o=0}=e;return o&&(t={position:"absolute",top:"".concat(o,"00%"),left:0}),i.createElement("span",{style:t,className:Bl()("".concat(n,"-only-unit"),{current:a})},r)}function oU(e,t,n){let i=e,r=0;for(;(i+10)%10!==t;)i+=n,r+=n;return r}function sU(e){const{prefixCls:t,count:n,value:r}=e,a=Number(r),o=Math.abs(n),[s,l]=i.useState(a),[c,u]=i.useState(o),d=()=>{l(a),u(o)};let f,h;if(i.useEffect((()=>{const e=setTimeout((()=>{d()}),1e3);return()=>{clearTimeout(e)}}),[a]),s===a||Number.isNaN(a)||Number.isNaN(s))f=[i.createElement(aU,Object.assign({},e,{key:a,current:!0}))],h={transition:"none"};else{f=[];const t=a+10,n=[];for(let e=a;e<=t;e+=1)n.push(e);const r=n.findIndex((e=>e%10===s));f=n.map(((t,n)=>{const a=t%10;return i.createElement(aU,Object.assign({},e,{key:t,value:a,offset:n-r,current:n===r}))}));h={transform:"translateY(".concat(-oU(s,a,c<o?1:-1),"00%)")}}return i.createElement("span",{className:"".concat(t,"-only"),style:h,onTransitionEnd:d},f)}var lU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const cU=i.forwardRef(((e,t)=>{const{prefixCls:n,count:r,className:a,motionClassName:o,style:s,title:l,show:c,component:u="sup",children:d}=e,f=lU(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:h}=i.useContext(Xc),p=h("scroll-number",n),g=Object.assign(Object.assign({},f),{"data-show":c,style:s,className:Bl()(p,a,o),title:l});let m=r;if(r&&Number(r)%1===0){const e=String(r).split("");m=i.createElement("bdi",null,e.map(((t,n)=>i.createElement(sU,{prefixCls:p,count:Number(r),value:t,key:e.length-n}))))}return s&&s.borderColor&&(g.style=Object.assign(Object.assign({},s),{boxShadow:"0 0 0 1px ".concat(s.borderColor," inset")})),d?Eb(d,(e=>({className:Bl()("".concat(p,"-custom-component"),null===e||void 0===e?void 0:e.className,o)}))):i.createElement(u,Object.assign({},g,{ref:t}),m)})),uU=cU;var dU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const fU=(e,t)=>{var n,r,a,o,s;const{prefixCls:l,scrollNumberPrefixCls:c,children:u,status:d,text:f,color:h,count:p=null,overflowCount:g=99,dot:m=!1,size:v="default",title:b,offset:y,style:C,className:w,rootClassName:S,classNames:I,styles:T,showZero:E=!1}=e,M=dU(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:R,direction:A,badge:k}=i.useContext(Xc),x=R("badge",l),[D,O,L]=nU(x),_=p>g?"".concat(g,"+"):p,N="0"===_||0===_,j=(null!==d&&void 0!==d||null!==h&&void 0!==h)&&(null===p||N&&!E),P=m&&!N,U=P?"":_,F=(0,i.useMemo)((()=>(null===U||void 0===U||""===U||N&&!E)&&!P),[U,N,E,P]),B=(0,i.useRef)(p);F||(B.current=p);const z=B.current,W=(0,i.useRef)(U);F||(W.current=U);const V=W.current,H=(0,i.useRef)(P);F||(H.current=P);const G=(0,i.useMemo)((()=>{if(!y)return Object.assign(Object.assign({},null===k||void 0===k?void 0:k.style),C);const e={marginTop:y[1]};return"rtl"===A?e.left=parseInt(y[0],10):e.right=-parseInt(y[0],10),Object.assign(Object.assign(Object.assign({},e),null===k||void 0===k?void 0:k.style),C)}),[A,y,C,null===k||void 0===k?void 0:k.style]),Y=null!==b&&void 0!==b?b:"string"===typeof z||"number"===typeof z?z:void 0,J=F||!f?null:i.createElement("span",{className:"".concat(x,"-status-text")},f),Q=z&&"object"===typeof z?Eb(z,(e=>({style:Object.assign(Object.assign({},G),e.style)}))):void 0,q=uw(h,!1),X=Bl()(null===I||void 0===I?void 0:I.indicator,null===(n=null===k||void 0===k?void 0:k.classNames)||void 0===n?void 0:n.indicator,{["".concat(x,"-status-dot")]:j,["".concat(x,"-status-").concat(d)]:!!d,["".concat(x,"-color-").concat(h)]:q}),K={};h&&!q&&(K.color=h,K.background=h);const Z=Bl()(x,{["".concat(x,"-status")]:j,["".concat(x,"-not-a-wrapper")]:!u,["".concat(x,"-rtl")]:"rtl"===A},w,S,null===k||void 0===k?void 0:k.className,null===(r=null===k||void 0===k?void 0:k.classNames)||void 0===r?void 0:r.root,null===I||void 0===I?void 0:I.root,O,L);if(!u&&j){const e=G.color;return D(i.createElement("span",Object.assign({},M,{className:Z,style:Object.assign(Object.assign(Object.assign({},null===T||void 0===T?void 0:T.root),null===(a=null===k||void 0===k?void 0:k.styles)||void 0===a?void 0:a.root),G)}),i.createElement("span",{className:X,style:Object.assign(Object.assign(Object.assign({},null===T||void 0===T?void 0:T.indicator),null===(o=null===k||void 0===k?void 0:k.styles)||void 0===o?void 0:o.indicator),K)}),f&&i.createElement("span",{style:{color:e},className:"".concat(x,"-status-text")},f)))}return D(i.createElement("span",Object.assign({ref:t},M,{className:Z,style:Object.assign(Object.assign({},null===(s=null===k||void 0===k?void 0:k.styles)||void 0===s?void 0:s.root),null===T||void 0===T?void 0:T.root)}),u,i.createElement(Lm,{visible:!F,motionName:"".concat(x,"-zoom"),motionAppear:!1,motionDeadline:1e3},(e=>{let{className:t,ref:n}=e;var r,a;const o=R("scroll-number",c),s=H.current,l=Bl()(null===I||void 0===I?void 0:I.indicator,null===(r=null===k||void 0===k?void 0:k.classNames)||void 0===r?void 0:r.indicator,{["".concat(x,"-dot")]:s,["".concat(x,"-count")]:!s,["".concat(x,"-count-sm")]:"small"===v,["".concat(x,"-multiple-words")]:!s&&V&&V.toString().length>1,["".concat(x,"-status-").concat(d)]:!!d,["".concat(x,"-color-").concat(h)]:q});let u=Object.assign(Object.assign(Object.assign({},null===T||void 0===T?void 0:T.indicator),null===(a=null===k||void 0===k?void 0:k.styles)||void 0===a?void 0:a.indicator),G);return h&&!q&&(u=u||{},u.background=h),i.createElement(uU,{prefixCls:o,show:!F,motionClassName:t,className:l,count:V,title:Y,style:u,key:"scrollNumber",ref:n},Q)})),J))},hU=i.forwardRef(fU);hU.Ribbon=rU;const pU=hU;const gU={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var mU=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:gU}))};const vU=i.forwardRef(mU),bU=e=>{const{icon:t,description:n,prefixCls:r,className:a}=e,o=i.createElement("div",{className:"".concat(r,"-icon")},i.createElement(vU,null));return i.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:Bl()(a,"".concat(r,"-content"))},t||n?i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"".concat(r,"-icon")},t),n&&i.createElement("div",{className:"".concat(r,"-description")},n)):o)},yU=(0,i.memo)(bU),CU=e=>0===e?0:e-Math.sqrt(Math.pow(e,2)/2),wU=e=>{const{componentCls:t,floatButtonSize:n,motionDurationSlow:i,motionEaseInOutCirc:r}=e,a="".concat(t,"-group"),o=new Nf("antFloatButtonMoveDownIn",{"0%":{transform:"translate3d(0, ".concat($u(n),", 0)"),transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new Nf("antFloatButtonMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, ".concat($u(n),", 0)"),transformOrigin:"0 0",opacity:0}});return[{["".concat(a,"-wrap")]:Object.assign({},qC("".concat(a,"-wrap"),o,s,i,!0))},{["".concat(a,"-wrap")]:{["\n          &".concat(a,"-wrap-enter,\n          &").concat(a,"-wrap-appear\n        ")]:{opacity:0,animationTimingFunction:r},["&".concat(a,"-wrap-leave")]:{animationTimingFunction:r}}}]},SU=e=>{const{antCls:t,componentCls:n,floatButtonSize:i,margin:r,borderRadiusLG:a,borderRadiusSM:o,badgeOffset:s,floatButtonBodyPadding:l,calc:c}=e,u="".concat(n,"-group");return{[u]:Object.assign(Object.assign({},Uf(e)),{zIndex:99,display:"block",border:"none",position:"fixed",width:i,height:"auto",boxShadow:"none",minHeight:i,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,borderRadius:a,["".concat(u,"-wrap")]:{zIndex:-1,display:"block",position:"relative",marginBottom:r},["&".concat(u,"-rtl")]:{direction:"rtl"},[n]:{position:"static"}}),["".concat(u,"-circle")]:{["".concat(n,"-circle:not(:last-child)")]:{marginBottom:e.margin,["".concat(n,"-body")]:{width:i,height:i,borderRadius:"50%"}}},["".concat(u,"-square")]:{["".concat(n,"-square")]:{borderRadius:0,padding:0,"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-badge")]:{["".concat(t,"-badge-count")]:{top:c(c(l).add(s)).mul(-1).equal(),insetInlineEnd:c(c(l).add(s)).mul(-1).equal()}}},["".concat(u,"-wrap")]:{display:"block",borderRadius:a,boxShadow:e.boxShadowSecondary,["".concat(n,"-square")]:{boxShadow:"none",marginTop:0,borderRadius:0,padding:l,"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(n,"-body")]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize}}}},["".concat(u,"-circle-shadow")]:{boxShadow:"none"},["".concat(u,"-square-shadow")]:{boxShadow:e.boxShadowSecondary,["".concat(n,"-square")]:{boxShadow:"none",padding:l,["".concat(n,"-body")]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:o}}}}},IU=e=>{const{antCls:t,componentCls:n,floatButtonBodyPadding:i,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:o,badgeOffset:s,dotOffsetInSquare:l,dotOffsetInCircle:c,calc:u}=e;return{[n]:Object.assign(Object.assign({},Uf(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:99,display:"block",width:a,height:a,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},["".concat(t,"-badge")]:{width:"100%",height:"100%",["".concat(t,"-badge-count")]:{transform:"translate(0, 0)",transformOrigin:"center",top:u(s).mul(-1).equal(),insetInlineEnd:u(s).mul(-1).equal()}},["".concat(n,"-body")]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:"all ".concat(e.motionDurationMid),["".concat(n,"-content")]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"".concat($u(u(i).div(2).equal())," ").concat($u(i)),["".concat(n,"-icon")]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),["".concat(n,"-rtl")]:{direction:"rtl"},["".concat(n,"-circle")]:{height:a,borderRadius:"50%",["".concat(t,"-badge")]:{["".concat(t,"-badge-dot")]:{top:c,insetInlineEnd:c}},["".concat(n,"-body")]:{borderRadius:"50%"}},["".concat(n,"-square")]:{height:"auto",minHeight:a,borderRadius:o,["".concat(t,"-badge")]:{["".concat(t,"-badge-dot")]:{top:l,insetInlineEnd:l}},["".concat(n,"-body")]:{height:"auto",borderRadius:o}},["".concat(n,"-default")]:{backgroundColor:e.floatButtonBackgroundColor,transition:"background-color ".concat(e.motionDurationMid),["".concat(n,"-body")]:{backgroundColor:e.floatButtonBackgroundColor,transition:"background-color ".concat(e.motionDurationMid),"&:hover":{backgroundColor:e.colorFillContent},["".concat(n,"-content")]:{["".concat(n,"-icon")]:{color:e.colorText},["".concat(n,"-description")]:{display:"flex",alignItems:"center",lineHeight:$u(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},["".concat(n,"-primary")]:{backgroundColor:e.colorPrimary,["".concat(n,"-body")]:{backgroundColor:e.colorPrimary,transition:"background-color ".concat(e.motionDurationMid),"&:hover":{backgroundColor:e.colorPrimaryHover},["".concat(n,"-content")]:{["".concat(n,"-icon")]:{color:e.colorTextLightSolid},["".concat(n,"-description")]:{display:"flex",alignItems:"center",lineHeight:$u(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},TU=Dp("FloatButton",(e=>{const{colorTextLightSolid:t,colorBgElevated:n,controlHeightLG:i,marginXXL:r,marginLG:a,fontSize:o,fontSizeIcon:s,controlItemBgHover:l,paddingXXS:c,calc:u}=e,d=Sp(e,{floatButtonBackgroundColor:n,floatButtonColor:t,floatButtonHoverBackgroundColor:l,floatButtonFontSize:o,floatButtonIconSize:u(s).mul(1.5).equal(),floatButtonSize:i,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:u(i).sub(u(c).mul(2)).equal(),floatButtonBodyPadding:c,badgeOffset:u(c).mul(1.5).equal()});return[SU(d),IU(d),hM(e),wU(d)]}),(e=>({dotOffsetInCircle:CU(e.controlHeightLG/2),dotOffsetInSquare:CU(e.borderRadiusLG)})));var EU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const MU="float-btn",RU=i.forwardRef(((e,t)=>{const{prefixCls:n,className:r,rootClassName:a,type:o="default",shape:s="circle",icon:l,description:c,tooltip:u,badge:d={}}=e,f=EU(e,["prefixCls","className","rootClassName","type","shape","icon","description","tooltip","badge"]),{getPrefixCls:h,direction:p}=(0,i.useContext)(Xc),g=(0,i.useContext)(JP),m=h(MU,n),v=EC(m),[b,y,C]=TU(m,v),w=g||s,S=Bl()(y,C,v,m,r,a,"".concat(m,"-").concat(o),"".concat(m,"-").concat(w),{["".concat(m,"-rtl")]:"rtl"===p}),I=(0,i.useMemo)((()=>vv(d,["title","children","status","text"])),[d]),T=(0,i.useMemo)((()=>({prefixCls:m,description:c,icon:l,type:o})),[m,c,l,o]);let E=i.createElement("div",{className:"".concat(m,"-body")},i.createElement(yU,Object.assign({},T)));return"badge"in e&&(E=i.createElement(pU,Object.assign({},I),E)),"tooltip"in e&&(E=i.createElement(gw,{title:u,placement:"rtl"===p?"right":"left"},E)),b(e.href?i.createElement("a",Object.assign({ref:t},f,{className:S}),E):i.createElement("button",Object.assign({ref:t},f,{className:S,type:"button"}),E))}));const AU=RU;var kU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const xU=i.forwardRef(((e,t)=>{const{prefixCls:n,className:r,type:a="default",shape:o="circle",visibilityHeight:s=400,icon:l=i.createElement(zP,null),target:c,onClick:u,duration:d=450}=e,f=kU(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[h,p]=(0,i.useState)(0===s),g=i.useRef(null);i.useImperativeHandle(t,(()=>({nativeElement:g.current})));const m=()=>g.current&&g.current.ownerDocument?g.current.ownerDocument:window,v=HP((e=>{const t=VP(e.target,!0);p(t>=s)}));(0,i.useEffect)((()=>{const e=(c||m)();return v({target:e}),null===e||void 0===e||e.addEventListener("scroll",v),()=>{v.cancel(),null===e||void 0===e||e.removeEventListener("scroll",v)}}),[c]);const b=e=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getContainer:n=(()=>window),callback:i,duration:r=450}=t,a=n(),o=VP(a,!0),s=Date.now(),l=()=>{const t=Date.now()-s,n=function(e,t,n,i){const r=n-t;return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(t>r?r:t,o,e,r);WP(a)?a.scrollTo(window.pageXOffset,n):a instanceof Document||"HTMLDocument"===a.constructor.name?a.documentElement.scrollTop=n:a.scrollTop=n,t<r?mm(l):"function"===typeof i&&i()};mm(l)}(0,{getContainer:c||m,duration:d}),null===u||void 0===u||u(e)},{getPrefixCls:y}=(0,i.useContext)(Xc),C=y(MU,n),w=y(),S=(0,i.useContext)(JP)||o,I=Object.assign({prefixCls:C,icon:l,type:a,shape:S},f);return i.createElement(Lm,{visible:h,motionName:"".concat(w,"-fade")},(e=>{let{className:t}=e;return i.createElement(AU,Object.assign({ref:g},I,{onClick:b,className:Bl()(r,t)}))}))}));const DU=xU;var OU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const LU=e=>{const{prefixCls:t,className:n,style:r,shape:a="circle",type:o="default",icon:s=i.createElement(vU,null),closeIcon:l=i.createElement(CT,null),description:c,trigger:u,children:d,onOpenChange:f,open:h}=e,p=OU(e,["prefixCls","className","style","shape","type","icon","closeIcon","description","trigger","children","onOpenChange","open"]),{direction:g,getPrefixCls:m}=(0,i.useContext)(Xc),v=m(MU,t),b=EC(v),[y,C,w]=TU(v,b),S="".concat(v,"-group"),I=Bl()(S,C,w,b,n,{["".concat(S,"-rtl")]:"rtl"===g,["".concat(S,"-").concat(a)]:a,["".concat(S,"-").concat(a,"-shadow")]:!u}),T=Bl()(C,"".concat(S,"-wrap")),[E,M]=Yf(!1,{value:h}),R=i.useRef(null),A=i.useRef(null),k=i.useMemo((()=>"hover"===u?{onMouseEnter(){M(!0),null===f||void 0===f||f(!0)},onMouseLeave(){M(!1),null===f||void 0===f||f(!1)}}:{}),[u]),x=(0,i.useCallback)((e=>{var t,n;(null===(t=R.current)||void 0===t?void 0:t.contains(e.target))?(null===(n=A.current)||void 0===n?void 0:n.contains(e.target))&&M((e=>(null===f||void 0===f||f(!e),!e))):(M(!1),null===f||void 0===f||f(!1))}),[u]);return(0,i.useEffect)((()=>{if("click"===u)return document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}}),[u]),y(i.createElement(YP,{value:a},i.createElement("div",Object.assign({ref:R,className:I,style:r},k),u&&["click","hover"].includes(u)?i.createElement(i.Fragment,null,i.createElement(Lm,{visible:E,motionName:"".concat(S,"-wrap")},(e=>{let{className:t}=e;return i.createElement("div",{className:Bl()(t,T)},d)})),i.createElement(AU,Object.assign({ref:A,type:o,shape:a,icon:E?l:s,description:c,"aria-label":e["aria-label"]},p))):d)))},_U=(0,i.memo)(LU);var NU=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const jU=e=>{var{backTop:t}=e,n=NU(e,["backTop"]);return t?i.createElement(DU,Object.assign({},n,{visibilityHeight:0})):i.createElement(AU,Object.assign({},n))},PU=e=>{var{className:t,items:n}=e,r=NU(e,["className","items"]);const{prefixCls:a}=r,{getPrefixCls:o}=i.useContext(Xc),s=o(MU,a),l="".concat(s,"-pure");return n?i.createElement(_U,Object.assign({className:Bl()(t,l)},r),n.map(((e,t)=>i.createElement(jU,Object.assign({key:t},e))))):i.createElement(jU,Object.assign({className:Bl()(t,l)},r))};AU.BackTop=DU,AU.Group=_U,AU._InternalPanelDoNotUseOrYouWillBeFired=PU;const UU=AU,FU=i.memo((function(e){let{searchResult:t,setChat:n,setGo:r,setSearchData:a}=e;const s=so((e=>e.conversations)),l=so((e=>e.user)),[c,u]=(0,i.useState)({}),[d,f]=(0,i.useState)(!1),h=(bo(),async e=>{navigator.share&&navigator.share({title:"SyncUp",text:"Share your refferal link by",url:"http://".concat(window.location.hostname,":3000/register?refferal=").concat(btoa(l.value.email))}),await navigator.clipboard.writeText("Hi ".concat(e," ,User ").concat(l.value.username," want to connect with you on SyncUp \n\nClick below link to join \nhttp://localhost:3000/register?refferal=").concat(btoa(l.value.email))).then((()=>{bi.success("Link copied to clipboard")})).catch((e=>{bi.error(e.message)}))});return(0,o.jsxs)("div",{className:"chatlistContainer",children:[(0,o.jsx)(UU,{onClick:()=>f(!0),style:{position:"absolute",right:"50px",height:"50px",width:"50px"},icon:(0,o.jsx)(D,{className:"floatBtnIcon",fas:!0,icon:"plus"})}),d&&(0,o.jsx)(_A,{contactsModal:d,setChat:n,openContactsModal:f}),Boolean(t.length&&!s.value.length)&&(0,o.jsx)(UP,{setSearchData:a,addToContact:e=>{const t=localStorage.getItem("SyncUp_Auth_Token"),n={route:"addToContact",payload:{userId:e},headers:{Authorization:"Bearer ".concat(t)},method:"POST"};hl(n).then((e=>{e.data.success?bi.success(e.data.message):bi.error(e.data.message)}))},copyLink:h,cancellRequest:e=>{const t=localStorage.getItem("SyncUp_Auth_Token"),n={method:"DELETE",route:"cancellRequest",params:{userId:e},headers:{Authorization:"Bearer ".concat(t)}};hl(n).then((e=>{e.data.success?bi.success(e.data.message):bi.error(e.data.message)}))},setChat:n,searchResult:t,checkCondact:(e,t)=>{const n=l.value.contacts.find((t=>t.id===e));return n||t?t||n.isAccepted?"Accepted":"Pending":l.value._id==e?"Accepted":e.toString().length<5?404:0}}),t.notfound&&!s.value.length&&t.data.map((e=>(0,o.jsxs)("div",{className:"chatlistItem",children:[(0,o.jsx)("img",{src:e.avatar_url||"https://res.cloudinary.com/drjubxrbt/image/upload/v1703079644/gz8rffstvw1squbps9ag.png",className:"chatIcon",alt:""}),(0,o.jsxs)("div",{className:"chatDetails",children:[(0,o.jsxs)("div",{className:"userContent",children:[(0,o.jsx)("h5",{className:"userName",children:e.username}),(0,o.jsx)("p",{className:"lastMessage",children:"Not found , Invite to get chat points "})]}),(0,o.jsx)("div",{className:"messageDetails",children:(0,o.jsx)("button",{className:"btnStart",onClick:()=>h(e.username),style:{width:"80px",margin:"7px",height:"35px"},children:"Invite"})})]})]}))),Boolean(s.value.length)&&(0,o.jsx)(OA,{setGo:r,setChat:n}),!s.value.length&&!t.length&&!t.notfound&&(0,o.jsx)(PP,{openContactsModal:f}),(0,o.jsxs)("div",{className:"chatListAdItem smallAds",style:{height:"200px"},children:[!l.value.isPremium&&(0,o.jsx)(Fp,{isMobile:!0}),l.value.isPremium&&(0,o.jsx)("div",{className:"mobilePremiumText",children:(0,o.jsx)("h1",{children:l.value.settingsConfig.replace_premium_text?l.value.username.toUpperCase():"Premium user"})})]})]})})),BU=FU;function zU(){const e=so((e=>e.user)),[t,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(),s=(0,i.useRef)(),l=bo(),c=(0,i.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"modal fade",style:{background:"linear-gradient(160deg, #ee9ae5ff 0%, #5961f9ff 100%)"},id:"profileAvatarModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsx)("div",{className:"modal-header",children:(0,o.jsx)("button",{type:"button",ref:c,className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("h5",{className:"text-dark",children:"Choose image to you profile pic"}),(0,o.jsx)("img",{alt:"dp",src:e.value.avatar_url,onClick:()=>s.current.click(),className:"profileAvatar choosedImg"}),(0,o.jsx)("input",{type:"file",hidden:!0,onChange:e=>{const t=new FileReader;t.onload=async e=>{document.querySelector(".choosedImg").src=e.target.result,a(e.target.result)},e.target.files[0]&&e.target.files[0].type.startsWith("image/")&&t.readAsDataURL(e.target.files[0])},ref:s,accept:"image/*"})]}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,o.jsx)("button",{type:"button",className:"btn",onClick:t?()=>bi("Please wait.."):async()=>{n(!0);const t=await WU(r),i=localStorage.getItem("SyncUp_Auth_Token");if(i){const r={method:"POST",payload:{img:t},headers:{Authorization:"Bearer ".concat(i)},route:"changeDp"};hl(r).then((n=>{var i,r;null!==n&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.success?(bi.success(n.data.message),l(Ua({...e.value,avatar_url:t})),c.current.click()):bi.error(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)})),setTimeout((()=>{n(!1),l(ka())}),100)}},style:{background:"linear-gradient(160deg, #ee9ae5ff 0%, #5961f9ff 100%)",color:"white"},children:t?(0,o.jsx)(o.Fragment,{children:" Uploading... "}):"Apply"})]})]})})})})}const WU=async e=>{const t=new FormData;t.append("file",e),t.append("quality","auto:low"),t.append("upload_preset","syncup_preset");try{const e=await fetch("https://api.cloudinary.com/v1_1/drjubxrbt/image/upload",{method:"POST",body:t}),{secure_url:n}=await e.json();return n}catch(o1){bi.error(o1.message)}},VU=n.p+"static/media/pencil.80645f1c4f4db6c2bc4e.png",HU=n.p+"static/media/tick_save.95c2fec3fb050bfb7a65.png";var GU=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],YU=i.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-switch":r,o=e.className,s=e.checked,l=e.defaultChecked,c=e.disabled,u=e.loadingIcon,d=e.checkedChildren,f=e.unCheckedChildren,h=e.onClick,p=e.onChange,g=e.onKeyDown,m=jl(e,GU),v=nu(Yf(!1,{value:s,defaultValue:l}),2),b=v[0],y=v[1];function C(e,t){var n=b;return c||(y(n=e),null===p||void 0===p||p(n,t)),n}var w=Bl()(a,o,(wi(n={},"".concat(a,"-checked"),b),wi(n,"".concat(a,"-disabled"),c),n));return i.createElement("button",Sl({},m,{type:"button",role:"switch","aria-checked":b,disabled:c,className:w,ref:t,onKeyDown:function(e){e.which===ov.LEFT?C(!1,e):e.which===ov.RIGHT&&C(!0,e),null===g||void 0===g||g(e)},onClick:function(e){var t=C(!b,e);null===h||void 0===h||h(t,e)}}),u,i.createElement("span",{className:"".concat(a,"-inner")},i.createElement("span",{className:"".concat(a,"-inner-checked")},d),i.createElement("span",{className:"".concat(a,"-inner-unchecked")},f)))}));YU.displayName="Switch";const JU=YU,QU=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:i,trackMinWidthSM:r,innerMinMarginSM:a,innerMaxMarginSM:o,handleSizeSM:s,calc:l}=e,c="".concat(t,"-inner"),u=$u(l(s).add(l(i).mul(2)).equal()),d=$u(l(o).mul(2).equal());return{[t]:{["&".concat(t,"-small")]:{minWidth:r,height:n,lineHeight:$u(n),["".concat(t,"-inner")]:{paddingInlineStart:o,paddingInlineEnd:a,["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(u," - ").concat(d,")"),marginInlineEnd:"calc(100% - ".concat(u," + ").concat(d,")")},["".concat(c,"-unchecked")]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(t,"-handle")]:{width:s,height:s},["".concat(t,"-loading-icon")]:{top:l(l(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},["&".concat(t,"-checked")]:{["".concat(t,"-inner")]:{paddingInlineStart:a,paddingInlineEnd:o,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(u," + ").concat(d,")"),marginInlineEnd:"calc(-100% + ".concat(u," - ").concat(d,")")}},["".concat(t,"-handle")]:{insetInlineStart:"calc(100% - ".concat($u(l(s).add(i).equal()),")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},["&".concat(t,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},qU=e=>{const{componentCls:t,handleSize:n,calc:i}=e;return{[t]:{["".concat(t,"-loading-icon").concat(e.iconCls)]:{position:"relative",top:i(i(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},["&".concat(t,"-checked ").concat(t,"-loading-icon")]:{color:e.switchColor}}}},XU=e=>{const{componentCls:t,trackPadding:n,handleBg:i,handleShadow:r,handleSize:a,calc:o}=e,s="".concat(t,"-handle");return{[t]:{[s]:{position:"absolute",top:n,insetInlineStart:n,width:a,height:a,transition:"all ".concat(e.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:i,borderRadius:o(a).div(2).equal(),boxShadow:r,transition:"all ".concat(e.switchDuration," ease-in-out"),content:'""'}},["&".concat(t,"-checked ").concat(s)]:{insetInlineStart:"calc(100% - ".concat($u(o(a).add(n).equal()),")")},["&:not(".concat(t,"-disabled):active")]:{["".concat(s,"::before")]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},["&".concat(t,"-checked ").concat(s,"::before")]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},KU=e=>{const{componentCls:t,trackHeight:n,trackPadding:i,innerMinMargin:r,innerMaxMargin:a,handleSize:o,calc:s}=e,l="".concat(t,"-inner"),c=$u(s(o).add(s(i).mul(2)).equal()),u=$u(s(a).mul(2).equal());return{[t]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:a,paddingInlineEnd:r,transition:"padding-inline-start ".concat(e.switchDuration," ease-in-out, padding-inline-end ").concat(e.switchDuration," ease-in-out"),["".concat(l,"-checked, ").concat(l,"-unchecked")]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:"margin-inline-start ".concat(e.switchDuration," ease-in-out, margin-inline-end ").concat(e.switchDuration," ease-in-out"),pointerEvents:"none"},["".concat(l,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(c," - ").concat(u,")"),marginInlineEnd:"calc(100% - ".concat(c," + ").concat(u,")")},["".concat(l,"-unchecked")]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(t,"-checked ").concat(l)]:{paddingInlineStart:r,paddingInlineEnd:a,["".concat(l,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(l,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(c," + ").concat(u,")"),marginInlineEnd:"calc(-100% + ".concat(c," - ").concat(u,")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(l)]:{["".concat(l,"-unchecked")]:{marginInlineStart:s(i).mul(2).equal(),marginInlineEnd:s(i).mul(-1).mul(2).equal()}},["&".concat(t,"-checked ").concat(l)]:{["".concat(l,"-checked")]:{marginInlineStart:s(i).mul(-1).mul(2).equal(),marginInlineEnd:s(i).mul(2).equal()}}}}}},ZU=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:i}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:i,height:n,lineHeight:"".concat($u(n)),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),userSelect:"none",["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorTextTertiary}}),Wf(e)),{["&".concat(t,"-checked")]:{background:e.switchColor,["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorPrimaryHover}},["&".concat(t,"-loading, &").concat(t,"-disabled")]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(t,"-rtl")]:{direction:"rtl"}})}},$U=Dp("Switch",(e=>{const t=Sp(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(e.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[ZU(t),KU(t),XU(t),qU(t),QU(t)]}),(e=>{const{fontSize:t,lineHeight:n,controlHeight:i,colorWhite:r}=e,a=t*n,o=i/2,s=a-4,l=o-4;return{trackHeight:a,trackHeightSM:o,trackMinWidth:2*s+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:r,handleSize:s,handleSizeSM:l,handleShadow:"0 2px 4px 0 ".concat(new Yh("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}}));var eF=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const tF=i.forwardRef(((e,t)=>{const{prefixCls:n,size:r,disabled:a,loading:o,className:s,rootClassName:l,style:c,checked:u,value:d,defaultChecked:f,defaultValue:h,onChange:p}=e,g=eF(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[m,v]=Yf(!1,{value:null!==u&&void 0!==u?u:d,defaultValue:null!==f&&void 0!==f?f:h}),{getPrefixCls:b,direction:y,switch:C}=i.useContext(Xc),w=i.useContext($v),S=(null!==a&&void 0!==a?a:w)||o,I=b("switch",n),T=i.createElement("div",{className:"".concat(I,"-handle")},o&&i.createElement(KS,{className:"".concat(I,"-loading-icon")})),[E,M,R]=$U(I),A=jC(r),k=Bl()(null===C||void 0===C?void 0:C.className,{["".concat(I,"-small")]:"small"===A,["".concat(I,"-loading")]:o,["".concat(I,"-rtl")]:"rtl"===y},s,l,M,R),x=Object.assign(Object.assign({},null===C||void 0===C?void 0:C.style),c);return E(i.createElement(PS,{component:"Switch"},i.createElement(JU,Object.assign({},g,{checked:m,onChange:function(){v(arguments.length<=0?void 0:arguments[0]),null===p||void 0===p||p.apply(void 0,arguments)},prefixCls:I,className:k,style:x,disabled:S,ref:t,loadingIcon:T}))))}));tF.__ANT_SWITCH=!0;const nF=tF;const iF=function(e){let{setGo:t,chat:n}=e;const r=so((e=>e.user)),[a,s]=(0,i.useState)({usernameEditable:!1,afkEditable:!1}),l=bo(),[c,u]=(0,i.useState)(r.value.username),[d,f]=(0,i.useState)(r.value.afk.message),[h,p]=(0,i.useState)(!0),[g,m]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[y,C]=(0,i.useState)(!1),w=st(),S=()=>{if(h){const e=localStorage.getItem("SyncUp_Auth_Token"),t={route:"changeUsername",payload:{username:c},method:"PATCH",headers:{Authorization:"Bearer ".concat(e)}};hl(t).then((e=>{e.data.success?(l(Ua({...r.value,username:c})),bi.success(e.data.message)):bi.error(e.data.message),s({...a,usernameEditable:!1})}))}else bi.error("Please choose a different one.")},I=function(){s({...a,afkEditable:!a.afkEditable});const e={route:"changeAfkMessage",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},payload:{message:d},method:"PUT"};hl(e).then((e=>{e.data.success?(l(Ua({...r.value,afk:{...r.value.afk,message:d}})),bi.success(e.data.message)):bi.error(e.data.message)}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",className:"close closeProfile",onClick:()=>{t(!1)},"aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsxs)("div",{className:"profileContainer",children:[(0,o.jsx)("img",{src:r.value.avatar_url,alt:"dp","data-toggle":"modal","data-target":"#profileAvatarModal",className:"profileAvatar"}),(0,o.jsx)(zU,{})]}),(0,o.jsx)(ZM,{setIsModalOpen:b,isModalOpen:v}),(0,o.jsx)(DA,{okBtnDisabled:!y,blockOutSideClick:!0,title:"Warning \u26a0\ufe0f",content:"Do you want to logout you account from this device ?",value:g,func:m,posFunc:function(){m(!1),l(Aa());const e={route:"logoutAccount",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success?(localStorage.removeItem("SyncUp_Auth_Token"),localStorage.removeItem("syncup_opened"),bi.success(e.data.message),w("/login"),l(ka())):bi.error(e.data.message)}))},children:(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:[(0,o.jsx)("input",{type:"checkbox",checked:y,onChange:e=>C(e.target.checked),id:"checkBx",name:"checkBx",style:{marginRight:"5px"}}),(0,o.jsx)("label",{htmlFor:"checkBx",style:{marginBottom:0},children:"I got it "})]})}),(0,o.jsxs)("div",{className:"profileConfig",children:[(0,o.jsxs)("div",{class:"input-group mb-3",children:[(0,o.jsx)("input",{type:"text",value:c,onInput:async e=>{const t=e.target.value;u(t);try{hl({route:"checkUsername",params:{username:t}}).then((t=>{t.data.success||e.target.value==r.value.username?p(!0):p(!1)}))}catch(n){console.error("Error checking username:",n),p(!1)}},onKeyUp:e=>"Enter"==e.key&&S(),class:"form-control profileUsernameInput ".concat(h?"":"invalid"),disabled:!a.usernameEditable,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"}),(0,o.jsx)("div",{class:"input-group-append",style:{cursor:"pointer"},children:(0,o.jsxs)("span",{class:"input-group-text",onClick:a.usernameEditable?S:()=>s({...a,usernameEditable:!a.usernameEditable}),id:"basic-addon1",children:[(0,o.jsx)("img",{style:{width:"20px"},src:a.usernameEditable?HU:VU})," "]})})]}),(0,o.jsxs)("div",{onClick:r.value.isPremium?()=>bi("Currently we only have this type    "):()=>b(!0),className:"profilePremiumBadge ".concat(!r.value.isPremium&&"cursor-pointer"),children:[(0,o.jsx)("span",{children:"Select your premium badge : "}),(0,o.jsx)("span",{class:"badge badge-success rounded-pill d-inline premiumBadge",style:{cursor:"pointer",right:"10px"},children:"Premium"})]}),(0,o.jsxs)("div",{className:"afkDiv",onClick:()=>!r.value.isPremium&&b(!0),children:[(0,o.jsx)("span",{children:"Turn on or off away from keyboard : "}),(0,o.jsx)(nF,{checkedChildren:"ON",unCheckedChildren:"OFF",value:r.value.afk.isOn,className:"premiumToggle"})]}),r.value.afk.isOn&&(0,o.jsx)("p",{style:{fontSize:"10px",color:"red"},children:"Note : Afk will automatically turn off if an activity detects"}),(0,o.jsxs)("div",{class:"input-group mb-3",hidden:!r.value.afk.isOn,children:[(0,o.jsx)("input",{type:"text",value:d,onInput:function(e){e.target.value.trim()&&f(e.target.value)},onKeyUp:e=>"Enter"==e.key&&I(),class:"form-control profileUsernameInput ".concat(h?"":"invalid"),disabled:!a.afkEditable,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"}),(0,o.jsx)("div",{class:"input-group-append",style:{cursor:"pointer"},children:(0,o.jsxs)("span",{class:"input-group-text",onClick:a.afkEditable?I:()=>s({...a,afkEditable:!a.afkEditable}),id:"basic-addon1",children:[(0,o.jsx)("img",{style:{width:"20px"},src:a.afkEditable?HU:VU})," "]})})]}),(0,o.jsx)("div",{className:"profileLogoutBtn mb-3",children:(0,o.jsx)("button",{onClick:()=>C(!1)||m(!0),className:"profileBtnLogout",children:"Logout"})})]})]})},rF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA60lEQVR4nN2VPQoCMRSEt7WyEfw5xN5DO8XSQ6yrrWBpI3gh0d0beAVtLOxc0O6T4AgW2Rg3buNAmswk3+O9QKLo7wQMgBOftawK8Lm8OuR10icjreoGfAepCPCHBAD8IIEAfgKw6S8ADSCuDeCtbwDAGMiBQisDRj8BABvHY1oHAXhWbnQDEqADdIGp9oyGIYBcscTipfL2IYBCsY7Fa8u7hgCuDkBP3iUEkCmWWry5vG2VD2ehzOhtyKkGbNYMuMublAH6wLEEcAaayq0dhRgdgJarEx9lniKw09Avpi2mcl1e3qZQmcoFix+yeMjhF9C3+AAAAABJRU5ErkJggg==";const aF=function(e){let{setGo:t,setChat:n,setActiveTab:r}=e;const a=so((e=>e.user)),[s,l]=(0,i.useState)(a.value.notifications),[c,u]=(0,i.useState)(!1),[d,f]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1);st(),(0,i.useEffect)((()=>{let e=localStorage.getItem("SyncUp_Auth_Token");const t={route:"getNotifications",headers:{Authorization:"Bearer ".concat(e)},crypto:!0};hl(t).then((e=>{if(e.data.success){let t=[];e.data.body.forEach((e=>{var n;null!==(n=e.notifications)&&void 0!==n&&n.type?t.unshift({...e,...e.notifications}):t.unshift(e)})),l([...t])}p(!1)}))}),[a]);const g={clearNoti:()=>l([])},m=[{label:"Clear Notifications",key:"clearNoti",icon:(0,o.jsx)("img",{className:"menuIcon",src:Vp,alt:"Clear notes"}),disabled:!s.length}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"notificationOptions",children:[(0,o.jsxs)("button",{className:"closeBtn",onClick:()=>{t(!1)},children:[" ",(0,o.jsx)("span",{children:"\xd7"})," "]}),(0,o.jsx)(KI,{arrow:!0,menu:{items:m,onClick:e=>{var t;let{key:n}=e;return null===(t=g[n])||void 0===t?void 0:t.call()}},trigger:["click"],children:(0,o.jsx)(D,{fas:!0,icon:"bars",style:{cursor:"pointer"}})})]}),h&&(0,o.jsxs)("div",{className:"subLoader",children:[" ",(0,o.jsx)("span",{className:"subLoaderSpinner"})," "]}),(0,o.jsx)(DA,{posFunc:()=>{const e=d,t={route:"removeContact",method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},params:{userId:e}};hl(t).then((e=>{e.data.success&&(u(!1),n({type:null}))}))},value:c,func:u,title:"Uhmm!!",content:"If you change your mind then you have to request again.Do you want to decline ?"}),Boolean(s.length&&!h)&&s.map(((e,i)=>(0,o.jsxs)(o.Fragment,{children:["premium"==e.type&&(0,o.jsxs)("div",{className:"notificationItem premiumNoti",children:[(0,o.jsx)("span",{className:"text-center p-3",style:{width:"100%"},children:e.message}),(0,o.jsx)("div",{className:"followRqstDiv",style:{display:"flex",flexDirection:"column"},children:(0,o.jsx)("span",{style:{fontSize:"10px",fontWeight:400,margin:"60px 50px 0 0 ",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(parseInt(e.time)).getDate()==(new Date).getDate()?new Date(parseInt(e.time)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.time)).getDate()==(new Date).getDate()-1?"Yesterday":e.sentDateString?e.sentDateString:new Date(parseInt(e.time)).toLocaleDateString()})})]},i),"request"==e.type&&(0,o.jsxs)("div",{className:"notificationItem",children:[(0,o.jsx)("img",{src:e.avatar_url,style:{width:"60px"},className:"chatIcon"}),(0,o.jsx)("span",{className:"text-center p-3",style:{width:"100%"},children:"request"!=e.type||a.value.contacts.filter((t=>t.id==e.userId&&t.isAccepted)).length?"You accepted friend request from ".concat(e.username):"Friend request recieved from ".concat(e.username)}),(0,o.jsxs)("div",{className:"followRqstDiv",children:[a.value.contacts.filter((t=>t.id==e.userId&&t.isAccepted)).length?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,o.jsx)("button",{onClick:()=>n({type:"chat",data:e.userId}),className:"btnAccept mb-1 text-light",children:(0,o.jsx)("img",{style:{width:"20px"},src:LA,alt:""})}),(0,o.jsx)("button",{onClick:()=>{u(!c),f(e.userId)},className:"btnAccept mb-1 text-light",children:(0,o.jsx)("img",{style:{width:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPklEQVR4nO2YS07DMBRFvRwYdAtAO+A7ohSYAcNSShmyZBYApRW/gyIaKUrsyBAn2NE949i5R5aT954xQgghhBAiOoABcBlwvxEwDLWf70u3gSfgA7gOsN8O8AwsO5MpSOR8NpEBdoGXwn5LYC9savuLLzYnQVMZYB94Le31BczbSW+XebcEmAaQeGg3fTXIuUPm1mPtAbCyrF10k74aaAK8WQLNatYcRiXxF5loJXKAM4fMXeGZI4fEvYkJ4ARYW4LOk5HIAU4dJ1N7WlECHFtOpnJKJgVwy6Qj0RsR7Jc+jUveq8sOjF2Bk/n84v4hzlL6q0+SL1H4kfhVBVxT+XZbvnuU8VPPXuT/ZbA3VlmXeNOwscp4bDd931pdYKs0fGg0SdlMULofPpRkMokrk+I4qFcDOiGEEEIIYXz4BtnffLYImZRxAAAAAElFTkSuQmCC",alt:""})})]}):(0,o.jsx)("button",{onClick:()=>(e=>{const t={method:"PATCH",route:"acceptReq",payload:{userId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(t).then((e=>{e.data.sucess||bi.error(e.data.message)}))})(e.userId),className:"btnAccept mb-1 text-light",children:"Accept"}),(0,o.jsx)("span",{style:{fontSize:"10px",fontWeight:400,margin:"60px 0px 0 0 ",position:"absolute"},children:new Date(parseInt(e.time)).getDate()==(new Date).getDate()?new Date(parseInt(e.time)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.time)).getDate()==(new Date).getDate()-1?"Yesterday":e.sentDateString?e.sentDateString:new Date(parseInt(e.time)).toLocaleDateString()})]})]},i),"acceptRQ"==e.type&&(0,o.jsxs)("div",{className:"notificationItem",children:[(0,o.jsx)("img",{src:e.avatar_url,style:{width:"60px"},className:"chatIcon"}),(0,o.jsx)("span",{className:"text-center p-3",style:{width:"100%"},children:e.message}),(0,o.jsxs)("div",{className:"followRqstDiv",children:[(()=>{if(a.value.contacts.filter((t=>t.id==e.userId&&t.isAccepted)).length)return(0,o.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,o.jsx)("button",{onClick:()=>n({type:"chat",data:e.userId}),className:"btnAccept mb-1 text-light",children:(0,o.jsx)("img",{style:{width:"20px"},src:LA,alt:""})})})})(),(0,o.jsx)("span",{style:{fontSize:"10px",fontWeight:400,margin:"60px 0px 0 0 ",position:"absolute"},children:new Date(parseInt(e.time)).getDate()==(new Date).getDate()?new Date(parseInt(e.time)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.time)).getDate()==(new Date).getDate()-1?"Yesterday":e.sentDateString?e.sentDateString:new Date(parseInt(e.time)).toLocaleDateString()})]})]},i),"like"==e.type&&(0,o.jsxs)("div",{className:"notificationItem",children:[(0,o.jsx)("img",{src:e.avatar_url,style:{width:"60px"},className:"chatIcon"}),(0,o.jsx)("span",{className:"text-center p-3",style:{width:"100%"},children:"".concat(e.username," liked your note")}),(0,o.jsxs)("div",{className:"followRqstDiv",children:[(0,o.jsx)("button",{onClick:()=>{t(""),r("My Notes")},className:"btnAccept mb-1 text-light",children:(0,o.jsx)("img",{style:{width:"20px"},src:rF,alt:""})}),(0,o.jsx)("span",{style:{fontSize:"10px",fontWeight:400,margin:"60px 20px 0 0 ",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(e.time).toLocaleTimeString("en-GB",{minute:"2-digit",hour:"2-digit",hour12:!0})})]})]},i)]}))),!s.length&&(0,o.jsx)("center",{children:"No notifications"})]})};function oF(){const e=bo();return(0,i.useEffect)((()=>{e(ka())}),[]),(0,o.jsx)("div",{className:"loaderParent",children:(0,o.jsxs)("div",{className:"loaderChild",children:[(0,o.jsx)("h1",{children:"Loading..."}),(0,o.jsx)("p",{children:"Getting latest mesages.."}),(0,o.jsx)($j,{})]})})}function sF(e){return t=>typeof t===e}var lF=sF("function"),cF=e=>"RegExp"===Object.prototype.toString.call(e).slice(8,-1),uF=e=>!dF(e)&&!(e=>null===e)(e)&&(lF(e)||"object"===typeof e),dF=sF("undefined");function fF(e,t){if(e===t)return!0;if(e&&uF(e)&&t&&uF(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let i=n;0!==i--;)if(!fF(e[i],t[i]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!fF(n[1],t.get(n[0])))return!1;return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),i=new DataView(t.buffer);let r=e.byteLength;for(;r--;)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}(e,t);if(cF(e)&&cF(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let e=n.length;0!==e--;)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let r=n.length;0!==r--;){const i=n[r];if(("_owner"!==i||!e.$$typeof)&&!fF(e[i],t[i]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var hF=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],pF=["bigint","boolean","null","number","string","symbol","undefined"];function gF(e){const t=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(t)?"HTMLElement":(n=t,hF.includes(n)?t:void 0);var n}function mF(e){return t=>gF(t)===e}function vF(e){return t=>typeof t===e}var bF=["innerHTML","ownerDocument","style","attributes","nodeValue"];function yF(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(yF.array(e))return"Array";if(yF.plainFunction(e))return"Function";const t=gF(e);return t||"Object"}yF.array=Array.isArray,yF.arrayOf=(e,t)=>!(!yF.array(e)&&!yF.function(t))&&e.every((e=>t(e))),yF.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===gF(e),yF.asyncFunction=mF("AsyncFunction"),yF.bigint=vF("bigint"),yF.boolean=e=>!0===e||!1===e,yF.date=mF("Date"),yF.defined=e=>!yF.undefined(e),yF.domElement=e=>yF.object(e)&&!yF.plainObject(e)&&1===e.nodeType&&yF.string(e.nodeName)&&bF.every((t=>t in e)),yF.empty=e=>yF.string(e)&&0===e.length||yF.array(e)&&0===e.length||yF.object(e)&&!yF.map(e)&&!yF.set(e)&&0===Object.keys(e).length||yF.set(e)&&0===e.size||yF.map(e)&&0===e.size,yF.error=mF("Error"),yF.function=vF("function"),yF.generator=e=>yF.iterable(e)&&yF.function(e.next)&&yF.function(e.throw),yF.generatorFunction=mF("GeneratorFunction"),yF.instanceOf=(e,t)=>!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype,yF.iterable=e=>!yF.nullOrUndefined(e)&&yF.function(e[Symbol.iterator]),yF.map=mF("Map"),yF.nan=e=>Number.isNaN(e),yF.null=e=>null===e,yF.nullOrUndefined=e=>yF.null(e)||yF.undefined(e),yF.number=e=>vF("number")(e)&&!yF.nan(e),yF.numericString=e=>yF.string(e)&&e.length>0&&!Number.isNaN(Number(e)),yF.object=e=>!yF.nullOrUndefined(e)&&(yF.function(e)||"object"===typeof e),yF.oneOf=(e,t)=>!!yF.array(e)&&e.indexOf(t)>-1,yF.plainFunction=mF("Function"),yF.plainObject=e=>{if("Object"!==gF(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},yF.primitive=e=>{return yF.null(e)||(t=typeof e,pF.includes(t));var t},yF.promise=mF("Promise"),yF.propertyOf=(e,t,n)=>{if(!yF.object(e)||!t)return!1;const i=e[t];return yF.function(n)?n(i):yF.defined(i)},yF.regexp=mF("RegExp"),yF.set=mF("Set"),yF.string=vF("string"),yF.symbol=vF("symbol"),yF.undefined=vF("undefined"),yF.weakMap=mF("WeakMap"),yF.weakSet=mF("WeakSet");var CF=yF;function wF(e,t,n){const{actual:i,key:r,previous:a,type:o}=n,s=kF(e,r),l=kF(t,r);let c=[s,l].every(CF.number)&&("increased"===o?s<l:s>l);return CF.undefined(i)||(c=c&&l===i),CF.undefined(a)||(c=c&&s===a),c}function SF(e,t,n){const{key:i,type:r,value:a}=n,o=kF(e,i),s=kF(t,i),l="added"===r?o:s,c="added"===r?s:o;return CF.nullOrUndefined(a)?[o,s].every(CF.array)?!c.every(RF(l)):[o,s].every(CF.plainObject)?function(e,t){return t.some((t=>!e.includes(t)))}(Object.keys(l),Object.keys(c)):![o,s].every((e=>CF.primitive(e)&&CF.defined(e)))&&("added"===r?!CF.defined(o)&&CF.defined(s):CF.defined(o)&&!CF.defined(s)):CF.defined(l)?!(!CF.array(l)&&!CF.plainObject(l))&&function(e,t,n){return!!AF(e,t)&&([e,t].every(CF.array)?!e.some(EF(n))&&t.some(EF(n)):[e,t].every(CF.plainObject)?!Object.entries(e).some(TF(n))&&Object.entries(t).some(TF(n)):t===n)}(l,c,a):fF(c,a)}function IF(e,t){let{key:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=kF(e,n),r=kF(t,n);if(!AF(i,r))throw new TypeError("Inputs have different types");if(!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>CF.string(e)||CF.array(e)||CF.plainObject(e)))}(i,r))throw new TypeError("Inputs don't have length");return[i,r].every(CF.plainObject)&&(i=Object.keys(i),r=Object.keys(r)),[i,r]}function TF(e){return t=>{let[n,i]=t;return CF.array(e)?fF(e,i)||e.some((e=>fF(e,i)||CF.array(i)&&RF(i)(e))):CF.plainObject(e)&&e[n]?!!e[n]&&fF(e[n],i):fF(e,i)}}function EF(e){return t=>CF.array(e)?e.some((e=>fF(e,t)||CF.array(t)&&RF(t)(e))):fF(e,t)}function MF(e,t){return CF.array(e)?e.some((e=>fF(e,t))):fF(e,t)}function RF(e){return t=>e.some((e=>fF(e,t)))}function AF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(CF.array)||t.every(CF.number)||t.every(CF.plainObject)||t.every(CF.string)}function kF(e,t){if(CF.plainObject(e)||CF.array(e)){if(CF.string(t)){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}return CF.number(t)?e[t]:e}return e}function xF(e,t){if([e,t].some(CF.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((e=>CF.plainObject(e)||CF.array(e))))throw new Error("Expected plain objects or array");return{added:(n,i)=>{try{return SF(e,t,{key:n,type:"added",value:i})}catch{return!1}},changed:(n,i,r)=>{try{const a=kF(e,n),o=kF(t,n),s=CF.defined(i),l=CF.defined(r);if(s||l){const e=l?MF(r,a):!MF(i,a),t=MF(i,o);return e&&t}return[a,o].every(CF.array)||[a,o].every(CF.plainObject)?!fF(a,o):a!==o}catch{return!1}},changedFrom:(n,i,r)=>{if(!CF.defined(n))return!1;try{const a=kF(e,n),o=kF(t,n),s=CF.defined(r);return MF(i,a)&&(s?MF(r,o):!s)}catch{return!1}},decreased:(n,i,r)=>{if(!CF.defined(n))return!1;try{return wF(e,t,{key:n,actual:i,previous:r,type:"decreased"})}catch{return!1}},emptied:n=>{try{const[i,r]=IF(e,t,{key:n});return!!i.length&&!r.length}catch{return!1}},filled:n=>{try{const[i,r]=IF(e,t,{key:n});return!i.length&&!!r.length}catch{return!1}},increased:(n,i,r)=>{if(!CF.defined(n))return!1;try{return wF(e,t,{key:n,actual:i,previous:r,type:"increased"})}catch{return!1}},removed:(n,i)=>{try{return SF(e,t,{key:n,type:"removed",value:i})}catch{return!1}}}}var DF=n(3865),OF=n(9496);function LF(e){return Object.keys(e)}function _F(e){if(!CF.plainObject(e))throw new TypeError("Expected an object");const t={};for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const a in e)({}).hasOwnProperty.call(e,a)&&(i.includes(a)||(t[a]=e[a]));return t}var NF=n(7789),jF=n.n(NF),PF=n(5173),UF=n.n(PF),FF="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,BF=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(FF&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var zF=FF&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),BF))}};function WF(e){return e&&"[object Function]"==={}.toString.call(e)}function VF(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function HF(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function GF(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=VF(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:GF(HF(e))}function YF(e){return e&&e.referenceNode?e.referenceNode:e}var JF=FF&&!(!window.MSInputMethodContext||!document.documentMode),QF=FF&&/MSIE 10/.test(navigator.userAgent);function qF(e){return 11===e?JF:10===e?QF:JF||QF}function XF(e){if(!e)return document.documentElement;for(var t=qF(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===VF(n,"position")?XF(n):n:e?e.ownerDocument.documentElement:document.documentElement}function KF(e){return null!==e.parentNode?KF(e.parentNode):e}function ZF(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||i.contains(r))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||XF(e.firstElementChild)===e)}(o)?o:XF(o);var s=KF(e);return s.host?ZF(s.host,t):ZF(e,KF(t).host)}function $F(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function eB(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function tB(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],qF(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function nB(e){var t=e.body,n=e.documentElement,i=qF(10)&&getComputedStyle(n);return{height:tB("Height",t,n,i),width:tB("Width",t,n,i)}}var iB=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),rB=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},aB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function oB(e){return aB({},e,{right:e.left+e.width,bottom:e.top+e.height})}function sB(e){var t={};try{if(qF(10)){t=e.getBoundingClientRect();var n=$F(e,"top"),i=$F(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(nn){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?nB(e.ownerDocument):{},o=a.width||e.clientWidth||r.width,s=a.height||e.clientHeight||r.height,l=e.offsetWidth-o,c=e.offsetHeight-s;if(l||c){var u=VF(e);l-=eB(u,"x"),c-=eB(u,"y"),r.width-=l,r.height-=c}return oB(r)}function lB(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=qF(10),r="HTML"===t.nodeName,a=sB(e),o=sB(t),s=GF(e),l=VF(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=oB({top:a.top-o.top-c,left:a.left-o.left-u,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var f=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=c-f,d.bottom-=c-f,d.left-=u-h,d.right-=u-h,d.marginTop=f,d.marginLeft=h}return(i&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=$F(t,"top"),r=$F(t,"left"),a=n?-1:1;return e.top+=i*a,e.bottom+=i*a,e.left+=r*a,e.right+=r*a,e}(d,t)),d}function cB(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===VF(e,"position"))return!0;var n=HF(e);return!!n&&cB(n)}function uB(e){if(!e||!e.parentElement||qF())return document.documentElement;for(var t=e.parentElement;t&&"none"===VF(t,"transform");)t=t.parentElement;return t||document.documentElement}function dB(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?uB(e):ZF(e,YF(t));if("viewport"===i)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=lB(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:$F(n),s=t?0:$F(n,"left");return oB({top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a})}(o,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=GF(HF(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var l=lB(s,o,r);if("HTML"!==s.nodeName||cB(o))a=l;else{var c=nB(e.ownerDocument),u=c.height,d=c.width;a.top+=l.top-l.marginTop,a.bottom=u+l.top,a.left+=l.left-l.marginLeft,a.right=d+l.left}}var f="number"===typeof(n=n||0);return a.left+=f?n:n.left||0,a.top+=f?n:n.top||0,a.right-=f?n:n.right||0,a.bottom-=f?n:n.bottom||0,a}function fB(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=dB(n,i,a,r),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return aB({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function hB(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return lB(n,i?uB(t):ZF(t,YF(n)),i)}function pB(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function gB(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function mB(e,t,n){n=n.split("-")[0];var i=pB(e),r={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",c=a?"width":"height";return r[o]=t[o]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[c]:t[gB(s)],r}function vB(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function bB(e,t,n){var i=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=vB(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n));return i.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&WF(n)&&(t.offsets.popper=oB(t.offsets.popper),t.offsets.reference=oB(t.offsets.reference),t=n(t,e))})),t}function yB(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=hB(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=fB(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=mB(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=bB(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function CB(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function wB(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],a=r?""+r+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function SB(){return this.state.isDestroyed=!0,CB(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[wB("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function IB(e){var t=e.ownerDocument;return t?t.defaultView:window}function TB(e,t,n,i){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||TB(GF(a.parentNode),t,n,i),i.push(a)}function EB(e,t,n,i){n.updateBound=i,IB(e).addEventListener("resize",n.updateBound,{passive:!0});var r=GF(e);return TB(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function MB(){this.state.eventsEnabled||(this.state=EB(this.reference,this.options,this.state,this.scheduleUpdate))}function RB(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,IB(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function AB(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function kB(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&AB(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var xB=FF&&/Firefox/i.test(navigator.userAgent);function DB(e,t,n){var i=vB(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var OB=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],LB=OB.slice(3);function _B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=LB.indexOf(e),i=LB.slice(n+1).concat(LB.slice(0,n));return t?i.reverse():i}var NB="flip",jB="clockwise",PB="counterclockwise";function UB(e,t,n,i){var r=[0,0],a=-1!==["right","left"].indexOf(i),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(vB(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return c=c.map((function(e,i){var r=(1===i?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return e;if(0===o.indexOf("%")){return oB("%p"===o?n:i)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,r,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,i){AB(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var FB={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:rB({},l,a[l]),end:rB({},l,a[l]+a[c]-o[c])};e.offsets.popper=aB({},o,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,a=r.popper,o=r.reference,s=i.split("-")[0],l=void 0;return l=AB(+n)?[+n,0]:UB(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||XF(e.instance.popper);e.instance.reference===n&&(n=XF(n));var i=wB("transform"),r=e.instance.popper.style,a=r.top,o=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=dB(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=a,r.left=o,r[i]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),rB({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),rB({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=aB({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[s]<a(i[l])&&(e.offsets.popper[l]=a(i[l])-n[c]),n[l]>a(i[s])&&(e.offsets.popper[l]=a(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!DB(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"===typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",p=pB(i)[c];s[h]-p<o[d]&&(e.offsets.popper[d]-=o[d]-(s[h]-p)),s[d]+p>o[h]&&(e.offsets.popper[d]+=s[d]+p-o[h]),e.offsets.popper=oB(e.offsets.popper);var g=s[d]+s[c]/2-p/2,m=VF(e.instance.popper),v=parseFloat(m["margin"+u]),b=parseFloat(m["border"+u+"Width"]),y=g-e.offsets.popper[d]-v-b;return y=Math.max(Math.min(o[c]-p,y),0),e.arrowElement=i,e.offsets.arrow=(rB(n={},d,Math.round(y)),rB(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(CB(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=dB(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=gB(i),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case NB:o=[i,r];break;case jB:o=_B(i);break;case PB:o=_B(i,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(i!==s||o.length===l+1)return e;i=e.placement.split("-")[0],r=gB(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),h=d(c.left)<d(n.left),p=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,b=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(b&&"start"===a&&h||b&&"end"===a&&p||!b&&"start"===a&&g||!b&&"end"===a&&m),C=!!t.flipVariationsByContent&&(b&&"start"===a&&p||b&&"end"===a&&h||!b&&"start"===a&&m||!b&&"end"===a&&g),w=y||C;(f||v||w)&&(e.flipped=!0,(f||v)&&(i=o[l+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=i+(a?"-"+a:""),e.offsets.popper=aB({},e.offsets.popper,mB(e.instance.popper,e.offsets.reference,e.placement)),e=bB(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,a=i.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=a[n]-(s?r[o?"width":"height"]:0),e.placement=gB(t),e.offsets.popper=oB(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!DB(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=vB(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,a=vB(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=XF(e.instance.popper),l=sB(s),c={position:r.position},u=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(r.width),c=a(i.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2===c%2?a:o:s,h=t?a:s;return{left:f(l%2===1&&c%2===1&&!d&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:f(i.right)}}(e,window.devicePixelRatio<2||!xB),d="bottom"===n?"top":"bottom",f="right"===i?"left":"right",h=wB("transform"),p=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,o&&h)c[h]="translate3d("+p+"px, "+g+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var m="bottom"===d?-1:1,v="right"===f?-1:1;c[d]=g*m,c[f]=p*v,c.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=aB({},b,e.attributes),e.styles=aB({},c,e.styles),e.arrowStyles=aB({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return kB(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach((function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)}))}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&kB(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var a=hB(r,t,e,n.positionFixed),o=fB(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),kB(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},BB={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:FB},zB=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=zF(this.update.bind(this)),this.options=aB({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(aB({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=aB({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return aB({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&WF(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return iB(e,[{key:"update",value:function(){return yB.call(this)}},{key:"destroy",value:function(){return SB.call(this)}},{key:"enableEventListeners",value:function(){return MB.call(this)}},{key:"disableEventListeners",value:function(){return RB.call(this)}}]),e}();zB.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,zB.placements=OB,zB.Defaults=BB;const WB=zB;var VB=["innerHTML","ownerDocument","style","attributes","nodeValue"],HB=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],GB=["bigint","boolean","null","number","string","symbol","undefined"];function YB(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,HB.includes(t)?n:void 0)}function JB(e){return function(t){return YB(t)===e}}function QB(e){return function(t){return typeof t===e}}function qB(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(qB.array(e))return"Array";if(qB.plainFunction(e))return"Function";var t=YB(e);return t||"Object"}qB.array=Array.isArray,qB.arrayOf=function(e,t){return!(!qB.array(e)&&!qB.function(t))&&e.every((function(e){return t(e)}))},qB.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===YB(e)},qB.asyncFunction=JB("AsyncFunction"),qB.bigint=QB("bigint"),qB.boolean=function(e){return!0===e||!1===e},qB.date=JB("Date"),qB.defined=function(e){return!qB.undefined(e)},qB.domElement=function(e){return qB.object(e)&&!qB.plainObject(e)&&1===e.nodeType&&qB.string(e.nodeName)&&VB.every((function(t){return t in e}))},qB.empty=function(e){return qB.string(e)&&0===e.length||qB.array(e)&&0===e.length||qB.object(e)&&!qB.map(e)&&!qB.set(e)&&0===Object.keys(e).length||qB.set(e)&&0===e.size||qB.map(e)&&0===e.size},qB.error=JB("Error"),qB.function=QB("function"),qB.generator=function(e){return qB.iterable(e)&&qB.function(e.next)&&qB.function(e.throw)},qB.generatorFunction=JB("GeneratorFunction"),qB.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},qB.iterable=function(e){return!qB.nullOrUndefined(e)&&qB.function(e[Symbol.iterator])},qB.map=JB("Map"),qB.nan=function(e){return Number.isNaN(e)},qB.null=function(e){return null===e},qB.nullOrUndefined=function(e){return qB.null(e)||qB.undefined(e)},qB.number=function(e){return QB("number")(e)&&!qB.nan(e)},qB.numericString=function(e){return qB.string(e)&&e.length>0&&!Number.isNaN(Number(e))},qB.object=function(e){return!qB.nullOrUndefined(e)&&(qB.function(e)||"object"===typeof e)},qB.oneOf=function(e,t){return!!qB.array(e)&&e.indexOf(t)>-1},qB.plainFunction=JB("Function"),qB.plainObject=function(e){if("Object"!==YB(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},qB.primitive=function(e){return qB.null(e)||(t=typeof e,GB.includes(t));var t},qB.promise=JB("Promise"),qB.propertyOf=function(e,t,n){if(!qB.object(e)||!t)return!1;var i=e[t];return qB.function(n)?n(i):qB.defined(i)},qB.regexp=JB("RegExp"),qB.set=JB("Set"),qB.string=QB("string"),qB.symbol=QB("symbol"),qB.undefined=QB("undefined"),qB.weakMap=JB("WeakMap"),qB.weakSet=JB("WeakSet");const XB=qB;function KB(e){return function(t){return typeof t===e}}var ZB=KB("function"),$B=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},ez=function(e){return!tz(e)&&!function(e){return null===e}(e)&&(ZB(e)||"object"===typeof e)},tz=KB("undefined"),nz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function iz(e,t){if(e===t)return!0;if(e&&ez(e)&&t&&ez(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=n;0!==i--;)if(!iz(e[i],t[i]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,i,r,a;if(e.size!==t.size)return!1;try{for(var o=nz(e.entries()),s=o.next();!s.done;s=o.next()){var l=s.value;if(!t.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}try{for(var c=nz(e.entries()),u=c.next();!u.done;u=c.next())if(!iz((l=u.value)[1],t.get(l[0])))return!1}catch(f){r={error:f}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,i;if(e.size!==t.size)return!1;try{for(var r=nz(e.entries()),a=r.next();!a.done;a=r.next()){var o=a.value;if(!t.has(o[0]))return!1}}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),i=new DataView(t.buffer),r=e.byteLength;r--;)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}(e,t);if($B(e)&&$B(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=n.length;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=n.length;0!==r--;){var a=n[r];if(("_owner"!==a||!e.$$typeof)&&!iz(e[a],t[a]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}function rz(e,t,n){var i=n.actual,r=n.key,a=n.previous,o=n.type,s=fz(e,r),l=fz(t,r),c=[s,l].every(XB.number)&&("increased"===o?s<l:s>l);return XB.undefined(i)||(c=c&&l===i),XB.undefined(a)||(c=c&&s===a),c}function az(e,t,n){var i=n.key,r=n.type,a=n.value,o=fz(e,i),s=fz(t,i),l="added"===r?o:s,c="added"===r?s:o;return XB.nullOrUndefined(a)?[o,s].every(XB.array)?!c.every(uz(l)):[o,s].every(XB.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(l),Object.keys(c)):![o,s].every((function(e){return XB.primitive(e)&&XB.defined(e)}))&&("added"===r?!XB.defined(o)&&XB.defined(s):XB.defined(o)&&!XB.defined(s)):XB.defined(l)?!(!XB.array(l)&&!XB.plainObject(l))&&function(e,t,n){return!!dz(e,t)&&([e,t].every(XB.array)?!e.some(lz(n))&&t.some(lz(n)):[e,t].every(XB.plainObject)?!Object.entries(e).some(sz(n))&&Object.entries(t).some(sz(n)):t===n)}(l,c,a):iz(c,a)}function oz(e,t,n){var i=(void 0===n?{}:n).key,r=fz(e,i),a=fz(t,i);if(!dz(r,a))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return XB.string(e)||XB.array(e)||XB.plainObject(e)}))}(r,a))throw new TypeError("Inputs don't have length");return[r,a].every(XB.plainObject)&&(r=Object.keys(r),a=Object.keys(a)),[r,a]}function sz(e){return function(t){var n=t[0],i=t[1];return XB.array(e)?iz(e,i)||e.some((function(e){return iz(e,i)||XB.array(i)&&uz(i)(e)})):XB.plainObject(e)&&e[n]?!!e[n]&&iz(e[n],i):iz(e,i)}}function lz(e){return function(t){return XB.array(e)?e.some((function(e){return iz(e,t)||XB.array(t)&&uz(t)(e)})):iz(e,t)}}function cz(e,t){return XB.array(e)?e.some((function(e){return iz(e,t)})):iz(e,t)}function uz(e){return function(t){return e.some((function(e){return iz(e,t)}))}}function dz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(XB.array)||e.every(XB.number)||e.every(XB.plainObject)||e.every(XB.string)}function fz(e,t){return XB.plainObject(e)||XB.array(e)?XB.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):XB.number(t)?e[t]:e:e}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach((function(t){bz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mz(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ez(i.key),i)}}function vz(e,t,n){return t&&mz(e.prototype,t),n&&mz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bz(e,t,n){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wz(e,t)}function Cz(e){return Cz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cz(e)}function wz(e,t){return wz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wz(e,t)}function Sz(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tz(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(nn){return!1}}();return function(){var n,i=Cz(e);if(t){var r=Cz(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Iz(e)}(this,n)}}function Ez(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Mz={flip:{padding:20},preventOverflow:{padding:10}},Rz="The typeValidator argument must be a function with the signature function(props, propName, componentName).",Az="The error message is optional, but must be a string if provided.";function kz(e,t,n){return function(e,t){if("function"!==typeof e)throw new TypeError(Rz);if(Boolean(t)&&"string"!==typeof t)throw new TypeError(Az)}(e,n),function(i,r,a){for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return function(e,t,n,i){return"boolean"===typeof e?e:"function"===typeof e?e(t,n,i):!0===Boolean(e)&&Boolean(e)}(t,i,r,a)?function(e,t){return Object.hasOwnProperty.call(e,t)}(i,r)?e.apply(void 0,[i,r,a].concat(s)):function(e,t,n,i){return i?new Error(i):new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}(i,r,a,n):e.apply(void 0,[i,r,a].concat(s))}}var xz={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Dz=void 0!==c.createPortal;function Oz(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function Lz(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function _z(e){var t=e.title,n=e.data,i=e.warn,r=void 0!==i&&i,a=e.debug,o=void 0!==a&&a,s=r?console.warn||console.error:console.log;o&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){XB.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[n]),console.groupEnd())}function Nz(){}var jz=function(e){yz(n,e);var t=Tz(n);function n(){return gz(this,n),t.apply(this,arguments)}return vz(n,[{key:"componentDidMount",value:function(){Oz()&&(this.node||this.appendNode(),Dz||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Oz()&&(Dz||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Oz()&&this.node&&(Dz||c.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Oz())return null;var e=this.props,t=e.children,n=e.setRef;return this.node||this.appendNode(),Dz?c.createPortal(t,this.node):(n(c.unstable_renderSubtreeIntoContainer(this,t.length>1?i.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,i=e.target;return t||i||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return Dz?this.renderReact16():null}}]),n}(i.Component);bz(jz,"propTypes",{children:UF().oneOfType([UF().element,UF().array]),hasChildren:UF().bool,id:UF().oneOfType([UF().string,UF().number]),placement:UF().string,setRef:UF().func.isRequired,target:UF().oneOfType([UF().object,UF().string]),zIndex:UF().number});var Pz=function(e){yz(n,e);var t=Tz(n);function n(){return gz(this,n),t.apply(this,arguments)}return vz(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,i={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(i.bottom=0,i.left=0,i.right=0,i.height=n):t.startsWith("bottom")?(i.left=0,i.right=0,i.top=0,i.height=n):t.startsWith("left")?(i.right=0,i.top=0,i.bottom=0):t.startsWith("right")&&(i.left=0,i.top=0),i}},{key:"render",value:function(){var e,t=this.props,n=t.placement,r=t.setArrowRef,a=t.styles.arrow,o=a.color,s=a.display,l=a.length,c=a.margin,u=a.position,d=a.spread,f={display:s,position:u},h=d,p=l;return n.startsWith("top")?(e="0,0 ".concat(h/2,",").concat(p," ").concat(h,",0"),f.bottom=0,f.marginLeft=c,f.marginRight=c):n.startsWith("bottom")?(e="".concat(h,",").concat(p," ").concat(h/2,",0 0,").concat(p),f.top=0,f.marginLeft=c,f.marginRight=c):n.startsWith("left")?(p=d,e="0,0 ".concat(h=l,",").concat(p/2," 0,").concat(p),f.right=0,f.marginTop=c,f.marginBottom=c):n.startsWith("right")&&(p=d,e="".concat(h=l,",").concat(p," ").concat(h,",0 0,").concat(p/2),f.left=0,f.marginTop=c,f.marginBottom=c),i.createElement("div",{className:"__floater__arrow",style:this.parentStyle},i.createElement("span",{ref:r,style:f},i.createElement("svg",{width:h,height:p,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.createElement("polygon",{points:e,fill:o}))))}}]),n}(i.Component);bz(Pz,"propTypes",{placement:UF().string.isRequired,setArrowRef:UF().func.isRequired,styles:UF().object.isRequired});var Uz=["color","height","width"];function Fz(e){var t=e.handleClick,n=e.styles,r=n.color,a=n.height,o=n.width,s=Sz(n,Uz);return i.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},i.createElement("svg",{width:"".concat(o,"px"),height:"".concat(a,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},i.createElement("g",null,i.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}function Bz(e){var t=e.content,n=e.footer,r=e.handleClick,a=e.open,o=e.positionWrapper,s=e.showCloseButton,l=e.title,c=e.styles,u={content:i.isValidElement(t)?t:i.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=i.isValidElement(l)?l:i.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=i.isValidElement(n)?n:i.createElement("div",{className:"__floater__footer",style:c.footer},n)),!s&&!o||XB.boolean(a)||(u.close=i.createElement(Fz,{styles:c.close,handleClick:r})),i.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}Fz.propTypes={handleClick:UF().func.isRequired,styles:UF().object.isRequired},Bz.propTypes={content:UF().node.isRequired,footer:UF().node,handleClick:UF().func.isRequired,open:UF().bool,positionWrapper:UF().bool.isRequired,showCloseButton:UF().bool.isRequired,styles:UF().object.isRequired,title:UF().node};var zz=function(e){yz(n,e);var t=Tz(n);function n(){return gz(this,n),t.apply(this,arguments)}return vz(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,i=e.placement,r=e.hideArrow,a=e.status,o=e.styles,s=o.arrow.length,l=o.floater,c=o.floaterCentered,u=o.floaterClosing,d=o.floaterOpening,f=o.floaterWithAnimation,h=o.floaterWithComponent,p={};return r||(i.startsWith("top")?p.padding="0 0 ".concat(s,"px"):i.startsWith("bottom")?p.padding="".concat(s,"px 0 0"):i.startsWith("left")?p.padding="0 ".concat(s,"px 0 0"):i.startsWith("right")&&(p.padding="0 0 0 ".concat(s,"px"))),-1!==[xz.OPENING,xz.OPEN].indexOf(a)&&(p=pz(pz({},p),d)),a===xz.CLOSING&&(p=pz(pz({},p),u)),a!==xz.OPEN||t||(p=pz(pz({},p),f)),"center"===i&&(p=pz(pz({},p),c)),n&&(p=pz(pz({},p),h)),pz(pz({},l),p)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,r=e.hideArrow,a=e.setFloaterRef,o=e.status,s={},l=["__floater"];return s.content=t?i.isValidElement(t)?i.cloneElement(t,{closeFn:n}):t({closeFn:n}):i.createElement(Bz,this.props),o===xz.OPEN&&l.push("__floater__open"),r||(s.arrow=i.createElement(Pz,this.props)),i.createElement("div",{ref:a,className:l.join(" "),style:this.style},i.createElement("div",{className:"__floater__body"},s.content,s.arrow))}}]),n}(i.Component);bz(zz,"propTypes",{component:UF().oneOfType([UF().func,UF().element]),content:UF().node,disableAnimation:UF().bool.isRequired,footer:UF().node,handleClick:UF().func.isRequired,hideArrow:UF().bool.isRequired,open:UF().bool,placement:UF().string.isRequired,positionWrapper:UF().bool.isRequired,setArrowRef:UF().func.isRequired,setFloaterRef:UF().func.isRequired,showCloseButton:UF().bool,status:UF().string.isRequired,styles:UF().object.isRequired,title:UF().node});var Wz=function(e){yz(n,e);var t=Tz(n);function n(){return gz(this,n),t.apply(this,arguments)}return vz(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.handleClick,a=t.handleMouseEnter,o=t.handleMouseLeave,s=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(n)if(1===i.Children.count(n))if(i.isValidElement(n)){var d=XB.function(n.type)?"innerRef":"ref";e=i.cloneElement(i.Children.only(n),bz({},d,s))}else e=i.createElement("span",null,n);else e=n;return e?i.createElement("span",{ref:l,style:pz(pz({},u),c),onClick:r,onMouseEnter:a,onMouseLeave:o},e):null}}]),n}(i.Component);bz(Wz,"propTypes",{children:UF().node,handleClick:UF().func.isRequired,handleMouseEnter:UF().func.isRequired,handleMouseLeave:UF().func.isRequired,setChildRef:UF().func.isRequired,setWrapperRef:UF().func.isRequired,style:UF().object,styles:UF().object.isRequired});var Vz={zIndex:100};var Hz=["arrow","flip","offset"],Gz=["position","top","right","bottom","left"],Yz=function(e){yz(n,e);var t=Tz(n);function n(e){var i;return gz(this,n),bz(Iz(i=t.call(this,e)),"setArrowRef",(function(e){i.arrowRef=e})),bz(Iz(i),"setChildRef",(function(e){i.childRef=e})),bz(Iz(i),"setFloaterRef",(function(e){i.floaterRef=e})),bz(Iz(i),"setWrapperRef",(function(e){i.wrapperRef=e})),bz(Iz(i),"handleTransitionEnd",(function(){var e=i.state.status,t=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:e===xz.OPENING?xz.OPEN:xz.IDLE},(function(){var e=i.state.status;t(e===xz.OPEN?"open":"close",i.props)}))})),bz(Iz(i),"handleClick",(function(){var e=i.props,t=e.event,n=e.open;if(!XB.boolean(n)){var r=i.state,a=r.positionWrapper,o=r.status;("click"===i.event||"hover"===i.event&&a)&&(_z({title:"click",data:[{event:t,status:o===xz.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}})),bz(Iz(i),"handleMouseEnter",(function(){var e=i.props,t=e.event,n=e.open;if(!XB.boolean(n)&&!Lz()){var r=i.state.status;"hover"===i.event&&r===xz.IDLE&&(_z({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}})),bz(Iz(i),"handleMouseLeave",(function(){var e=i.props,t=e.event,n=e.eventDelay,r=e.open;if(!XB.boolean(r)&&!Lz()){var a=i.state,o=a.status,s=a.positionWrapper;"hover"===i.event&&(_z({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:i.debug}),n?-1===[xz.OPENING,xz.OPEN].indexOf(o)||s||i.eventDelayTimeout||(i.eventDelayTimeout=setTimeout((function(){delete i.eventDelayTimeout,i.toggle()}),1e3*n)):i.toggle(xz.IDLE))}})),i.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:xz.INIT,statusWrapper:xz.INIT},i._isMounted=!1,i.hasMounted=!1,Oz()&&window.addEventListener("load",(function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()})),i}return vz(n,[{key:"componentDidMount",value:function(){if(Oz()){var e=this.state.positionWrapper,t=this.props,n=t.children,i=t.open,r=t.target;this._isMounted=!0,_z({title:"init",data:{hasChildren:!!n,hasTarget:!!r,isControlled:XB.boolean(i),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&r&&XB.boolean(i)}}},{key:"componentDidUpdate",value:function(e,t){if(Oz()){var n,i=this.props,r=i.autoOpen,a=i.open,o=i.target,s=i.wrapperOptions,l=function(e,t){if([e,t].some(XB.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return XB.plainObject(e)||XB.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,i,r){try{var a=fz(e,n),o=fz(t,n),s=XB.defined(i),l=XB.defined(r);if(s||l){var c=l?cz(r,a):!cz(i,a),u=cz(i,o);return c&&u}return[a,o].every(XB.array)||[a,o].every(XB.plainObject)?!iz(a,o):a!==o}catch(d){return!1}};return{added:function(n,i){try{return az(e,t,{key:n,type:"added",value:i})}catch(r){return!1}},changed:n,changedFrom:function(n,i,r){if(!XB.defined(n))return!1;try{var a=fz(e,n),o=fz(t,n),s=XB.defined(r);return cz(i,a)&&(s?cz(r,o):!s)}catch(l){return!1}},changedTo:function(e,t){return!!XB.defined(e)&&n(e,t)},decreased:function(n,i,r){if(!XB.defined(n))return!1;try{return rz(e,t,{key:n,actual:i,previous:r,type:"decreased"})}catch(a){return!1}},emptied:function(n){try{var i=oz(e,t,{key:n}),r=i[0],a=i[1];return!!r.length&&!a.length}catch(o){return!1}},filled:function(n){try{var i=oz(e,t,{key:n}),r=i[0],a=i[1];return!r.length&&!!a.length}catch(o){return!1}},increased:function(n,i,r){if(!XB.defined(n))return!1;try{return rz(e,t,{key:n,actual:i,previous:r,type:"increased"})}catch(a){return!1}},removed:function(n,i){try{return az(e,t,{key:n,type:"removed",value:i})}catch(r){return!1}}}}(t,this.state),c=l.changedFrom,u=l.changed;if(e.open!==a)XB.boolean(a)&&(n=a?xz.OPENING:xz.CLOSING),this.toggle(n);e.wrapperOptions.position===s.position&&e.target===o||this.changeWrapperPosition(this.props),(u("status",xz.IDLE)&&a||c("status",xz.INIT,xz.IDLE)&&r)&&this.toggle(xz.OPEN),this.popper&&u("status",xz.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",xz.OPENING)||u("status",xz.CLOSING))&&function(e,t,n){var i;i=function(r){n(r),function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,i)}(e,t,i)},function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,i)}(e,t,i,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Oz()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,i=this.props,r=i.disableFlip,a=i.getPopper,o=i.hideArrow,s=i.offset,l=i.placement,c=i.wrapperOptions,u="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:xz.IDLE});else if(t&&this.floaterRef){var d=this.options,f=d.arrow,h=d.flip,p=d.offset,g=Sz(d,Hz);new WB(t,this.floaterRef,{placement:l,modifiers:pz({arrow:pz({enabled:!o,element:this.arrowRef},f),flip:pz({enabled:!r,behavior:u},h),offset:pz({offset:"0, ".concat(s,"px")},p)},g),onCreate:function(t){var n;e.popper=t,null!==(n=e.floaterRef)&&void 0!==n&&n.isConnected?(a(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:xz.IDLE}),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var m=XB.undefined(c.offset)?0:c.offset;new WB(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(m,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:xz.IDLE}),a(t,"wrapper"),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval((function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())}),50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===xz.OPEN?xz.CLOSING:xz.OPENING;XB.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||Oz()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&Lz()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return jF()(Mz,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,i=n.status,r=n.positionWrapper,a=n.statusWrapper,o=this.props.styles,s=jF()(function(e){var t=jF()(Vz,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(o),o);r&&(e=-1===[xz.IDLE].indexOf(i)||-1===[xz.IDLE].indexOf(a)?s.wrapperPosition:this.wrapperPopper.styles,s.wrapper=pz(pz({},s.wrapper),e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?s.wrapper=pz(pz({},s.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},r||(Gz.forEach((function(e){t.wrapperStyles[e]=l[e]})),s.wrapper=pz(pz({},s.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return s}},{key:"target",get:function(){if(!Oz())return null;var e=this.props.target;return e?XB.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,r=e.status,a=this.props,o=a.children,s=a.component,l=a.content,c=a.disableAnimation,u=a.footer,d=a.hideArrow,f=a.id,h=a.open,p=a.showCloseButton,g=a.style,m=a.target,v=a.title,b=i.createElement(Wz,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},o),y={};return n?y.wrapperInPortal=b:y.wrapperAsChildren=b,i.createElement("span",null,i.createElement(jz,{hasChildren:!!o,id:f,placement:t,setRef:this.setFloaterRef,target:m,zIndex:this.styles.options.zIndex},i.createElement(zz,{component:s,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:h,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:p,status:r,styles:this.styles,title:v}),y.wrapperInPortal),y.wrapperAsChildren)}}]),n}(i.Component);bz(Yz,"propTypes",{autoOpen:UF().bool,callback:UF().func,children:UF().node,component:kz(UF().oneOfType([UF().func,UF().element]),(function(e){return!e.content})),content:kz(UF().node,(function(e){return!e.component})),debug:UF().bool,disableAnimation:UF().bool,disableFlip:UF().bool,disableHoverToClick:UF().bool,event:UF().oneOf(["hover","click"]),eventDelay:UF().number,footer:UF().node,getPopper:UF().func,hideArrow:UF().bool,id:UF().oneOfType([UF().string,UF().number]),offset:UF().number,open:UF().bool,options:UF().object,placement:UF().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:UF().bool,style:UF().object,styles:UF().object,target:UF().oneOfType([UF().object,UF().string]),title:UF().node,wrapperOptions:UF().shape({offset:UF().number,placement:UF().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:UF().bool})}),bz(Yz,"defaultProps",{autoOpen:!1,callback:Nz,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Nz,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Jz=n(2861),Qz=Object.defineProperty,qz=(e,t,n)=>(((e,t,n)=>{t in e?Qz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),Xz="init",Kz="start",Zz="stop",$z="reset",eW="prev",tW="next",nW="go",iW="close",rW="skip",aW="update",oW="tour:start",sW="step:before",lW="beacon",cW="tooltip",uW="step:after",dW="tour:end",fW="tour:status",hW="error:target_not_found",pW={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},gW={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"};function mW(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function vW(e){return e?e.getBoundingClientRect():null}function bW(){const{body:e,documentElement:t}=document;return e&&t?Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight):0}function yW(e){return"string"===typeof e?document.querySelector(e):e}function CW(e,t,n){if(!e)return TW();const i=OF(e);if(i){if(i.isSameNode(TW()))return n?document:TW();if(!(i.scrollHeight>i.offsetHeight)&&!t)return i.style.overflow="initial",TW()}return i}function wW(e,t){if(!e)return!1;const n=CW(e,t);return!!n&&!n.isSameNode(TW())}function SW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,i=function(e){return e&&1===e.nodeType?getComputedStyle(e):null}(e);return"BODY"!==n&&"HTML"!==n&&(!(!i||i.position!==t)||!!e.parentNode&&SW(e.parentNode,t))}function IW(e,t,n){var i;if(!e)return 0;const{offsetTop:r=0,scrollTop:a=0}=null!=(i=OF(e))?i:{};let o=e.getBoundingClientRect().top+a;r&&(wW(e,n)||function(e){return e.offsetParent!==document.body}(e))&&(o-=r);const s=Math.floor(o-t);return s<0?0:s}function TW(){var e;return null!=(e=document.scrollingElement)?e:document.documentElement}var EW=void 0!==c.createPortal;function MW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"===typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.includes(" OPR/")?t="opera":"undefined"!==typeof window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function RW(e){const t=[],n=e=>{if("string"===typeof e||"number"===typeof e)t.push(e);else if(Array.isArray(e))e.forEach((e=>n(e)));else if((0,i.isValidElement)(e)){const{children:t}=e.props;Array.isArray(t)?t.forEach((e=>n(e))):n(t)}};return n(e),t.join(" ").trim()}function AW(e){const t=e.replace(/^#?([\da-f])([\da-f])([\da-f])$/i,((e,t,n,i)=>t+t+n+n+i+i)),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function kW(e){return e.disableBeacon||"center"===e.placement}function xW(){return!["chrome","safari","firefox","opera"].includes(MW())}function DW(e){let{data:t,debug:n=!1,title:i,warn:r=!1}=e;const a=r?console.warn||console.error:console.log;n&&(i&&t?(console.groupCollapsed("%creact-joyride: ".concat(i),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach((e=>{CF.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}var OW={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},LW={back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},_W={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:LW,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},NW={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},jW={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},PW={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},UW={borderRadius:4,position:"absolute"};function FW(e){return function(e){if(!CF.plainObject(e))throw new TypeError("Expected an object");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;const r={};for(const a in e)({}).hasOwnProperty.call(e,a)&&n.includes(a)&&(r[a]=e[a]);return r}(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function BW(e,t){var n,i,r,a,o,s;const l=null!=e?e:{},c=NF.all([_W,FW(t),l],{isMergeableObject:CF.plainObject}),u=function(e,t){var n,i,r,a;const{floaterProps:o,styles:s}=e,l=NF(null!=s?s:{},null!=(n=null==t?void 0:t.styles)?n:{}),c=NF(jW,l.options||{});let{width:u}=c;window.innerWidth>480&&(u=380),"width"in c&&(u="number"===typeof c.width&&window.innerWidth<c.width?window.innerWidth-30:c.width);const d={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:c.zIndex},f={beacon:{...PW,display:"inline-block",height:c.beaconSize,position:"relative",width:c.beaconSize,zIndex:c.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:c.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(AW(c.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(c.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:c.backgroundColor,borderRadius:5,boxSizing:"border-box",color:c.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:u},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...PW,backgroundColor:c.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...PW,color:c.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...PW,color:c.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...PW,color:c.textColor,fontSize:14},overlay:{...d,backgroundColor:c.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...d},overlayLegacyCenter:{...d,backgroundColor:c.overlayColor},spotlight:{...UW,backgroundColor:"gray"},spotlightLegacy:{...UW,boxShadow:"0 0 0 9999px ".concat(c.overlayColor,", ").concat(c.spotlightShadow)},floaterStyles:{arrow:{color:null!=(a=null==(r=null==(i=null==o?void 0:o.styles)?void 0:i.arrow)?void 0:r.color)?a:c.arrowColor},options:{zIndex:c.zIndex+100}},options:c};return NF(f,l)}(t,c),d=wW(yW(c.target),c.disableScrollParentFix),f=NF.all([OW,null!=(n=t.floaterProps)?n:{},null!=(i=c.floaterProps)?i:{}]);return f.offset=c.offset,f.styles=NF(null!=(r=f.styles)?r:{},u.floaterStyles),f.offset+=null!=(o=null!=(a=t.spotlightPadding)?a:c.spotlightPadding)?o:0,c.placementBeacon&&f.wrapperOptions&&(f.wrapperOptions.placement=c.placementBeacon),d&&f.options.preventOverflow&&(f.options.preventOverflow.boundariesElement="window"),{...c,locale:NF.all([LW,null!=(s=t.locale)?s:{},c.locale||{}]),floaterProps:f,styles:_F(u,"floaterStyles")}}function zW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return CF.plainObject(e)?!!e.target||(DW({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(DW({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function WW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return CF.array(e)?e.every((e=>zW(e,t))):(DW({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var VW={action:"init",controlled:!1,index:0,lifecycle:pW.INIT,origin:null,size:0,status:gW.IDLE},HW=LF(_F(VW,"controlled","size")),GW=class{constructor(e){var t=this;qz(this,"beaconPopper"),qz(this,"tooltipPopper"),qz(this,"data",new Map),qz(this,"listener"),qz(this,"store",new Map),qz(this,"addListener",(e=>{this.listener=e})),qz(this,"setSteps",(e=>{const{size:t,status:n}=this.getState(),i={size:e.length,status:n};this.data.set("steps",e),n===gW.WAITING&&!t&&e.length&&(i.status=gW.RUNNING),this.setState(i)})),qz(this,"getPopper",(e=>"beacon"===e?this.beaconPopper:this.tooltipPopper)),qz(this,"setPopper",((e,t)=>{"beacon"===e?this.beaconPopper=t:this.tooltipPopper=t})),qz(this,"cleanupPoppers",(()=>{this.beaconPopper=null,this.tooltipPopper=null})),qz(this,"close",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{index:n,status:i}=t.getState();i===gW.RUNNING&&t.setState({...t.getNextState({action:iW,index:n+1,origin:e})})})),qz(this,"go",(e=>{const{controlled:t,status:n}=this.getState();if(t||n!==gW.RUNNING)return;const i=this.getSteps()[e];this.setState({...this.getNextState({action:nW,index:e}),status:i?n:gW.FINISHED})})),qz(this,"info",(()=>this.getState())),qz(this,"next",(()=>{const{index:e,status:t}=this.getState();t===gW.RUNNING&&this.setState(this.getNextState({action:tW,index:e+1}))})),qz(this,"open",(()=>{const{status:e}=this.getState();e===gW.RUNNING&&this.setState({...this.getNextState({action:aW,lifecycle:pW.TOOLTIP})})})),qz(this,"prev",(()=>{const{index:e,status:t}=this.getState();t===gW.RUNNING&&this.setState({...this.getNextState({action:eW,index:e-1})})})),qz(this,"reset",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{controlled:n}=t.getState();n||t.setState({...t.getNextState({action:$z,index:0}),status:e?gW.RUNNING:gW.READY})})),qz(this,"skip",(()=>{const{status:e}=this.getState();e===gW.RUNNING&&this.setState({action:rW,lifecycle:pW.INIT,status:gW.SKIPPED})})),qz(this,"start",(e=>{const{index:t,size:n}=this.getState();this.setState({...this.getNextState({action:Kz,index:CF.number(e)?e:t},!0),status:n?gW.RUNNING:gW.WAITING})})),qz(this,"stop",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{index:n,status:i}=t.getState();[gW.FINISHED,gW.SKIPPED].includes(i)||t.setState({...t.getNextState({action:Zz,index:n+(e?1:0)}),status:gW.PAUSED})})),qz(this,"update",(e=>{var t,n;if(!function(e,t){return!(!CF.plainObject(e)||!CF.array(t))&&Object.keys(e).every((e=>t.includes(e)))}(e,HW))throw new Error("State is not valid. Valid keys: ".concat(HW.join(", ")));this.setState({...this.getNextState({...this.getState(),...e,action:null!=(t=e.action)?t:aW,origin:null!=(n=e.origin)?n:null},!0)})}));const{continuous:n=!1,stepIndex:i,steps:r=[]}=null!=e?e:{};this.setState({action:Xz,controlled:CF.number(i),continuous:n,index:CF.number(i)?i:0,lifecycle:pW.INIT,origin:null,status:r.length?gW.READY:gW.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...VW}}getNextState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,i,r,a,o;const{action:s,controlled:l,index:c,size:u,status:d}=this.getState(),f=CF.number(e.index)?e.index:c,h=l&&!t?c:Math.min(Math.max(f,0),u);return{action:null!=(n=e.action)?n:s,controlled:l,index:h,lifecycle:null!=(i=e.lifecycle)?i:pW.INIT,origin:null!=(r=e.origin)?r:null,size:null!=(a=e.size)?a:u,status:h===u?gW.FINISHED:null!=(o=e.status)?o:d}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}setState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getState(),{action:i,index:r,lifecycle:a,origin:o=null,size:s,status:l}={...n,...e};this.store.set("action",i),this.store.set("index",r),this.store.set("lifecycle",a),this.store.set("origin",o),this.store.set("size",s),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};var YW=class{constructor(e,t){if(qz(this,"element"),qz(this,"options"),qz(this,"canBeTabbed",(e=>{const{tabIndex:t}=e;return!(null===t||t<0)&&this.canHaveFocus(e)})),qz(this,"canHaveFocus",(e=>{const t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&this.isVisible(e)})),qz(this,"findValidTabElements",(()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed))),qz(this,"handleKeyDown",(e=>{const{code:t="Tab"}=this.options;e.code===t&&this.interceptTab(e)})),qz(this,"interceptTab",(e=>{e.preventDefault();const t=this.findValidTabElements(),{shiftKey:n}=e;if(!t.length)return;let i=document.activeElement?t.indexOf(document.activeElement):0;-1===i||!n&&i+1===t.length?i=0:n&&0===i?i=t.length-1:i+=n?-1:1,t[i].focus()})),qz(this,"isHidden",(e=>{const t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),qz(this,"isVisible",(e=>{let t=e;for(;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(this.isHidden(t))return!1;t=t.parentNode}return!0})),qz(this,"removeScope",(()=>{window.removeEventListener("keydown",this.handleKeyDown)})),qz(this,"checkFocus",(e=>{document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((()=>this.checkFocus(e))))})),qz(this,"setFocus",(()=>{const{selector:e}=this.options;if(!e)return;const t=this.element.querySelector(e);t&&window.requestAnimationFrame((()=>this.checkFocus(t)))})),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},JW=class extends i.Component{constructor(e){if(super(e),qz(this,"beacon",null),qz(this,"setBeaconRef",(e=>{this.beacon=e})),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce);n.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout((()=>{CF.domElement(this.beacon)&&e&&this.beacon.focus()}),0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:r,locale:a,onClickOrHover:o,size:s,step:l,styles:c}=this.props,u=CF.string(a.open)?a.open:Jz(a.open),d={"aria-label":u,onClick:o,onMouseEnter:o,ref:this.setBeaconRef,title:u};let f;if(e){const a=e;f=i.createElement(a,{continuous:t,index:n,isLastStep:r,size:s,step:l,...d})}else f=i.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...d},i.createElement("span",{style:c.beaconInner}),i.createElement("span",{style:c.beaconOuter}));return f}};var QW=function(e){let{styles:t}=e;return i.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})},qW=class extends i.Component{constructor(){super(...arguments),qz(this,"isActive",!1),qz(this,"resizeTimeout"),qz(this,"scrollTimeout"),qz(this,"scrollParent"),qz(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),qz(this,"handleMouseMove",(e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:i,position:r,top:a,width:o}=this.spotlightStyles,s="fixed"===r?e.clientY:e.pageY,l="fixed"===r?e.clientX:e.pageX,c=l>=i&&l<=i+o&&(s>=a&&s<=a+n);c!==t&&this.updateState({mouseOverSpotlight:c})})),qz(this,"handleScroll",(()=>{const{target:e}=this.props,t=yW(e);if(this.scrollParent!==document){const{isScrolling:e}=this.state;e||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout((()=>{this.updateState({isScrolling:!1,showSpotlight:!0})}),50)}else SW(t,"sticky")&&this.updateState({})})),qz(this,"handleResize",(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((()=>{this.isActive&&this.forceUpdate()}),100)}))}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:i}=this.props,r=yW(i);this.scrollParent=CW(null!=r?r:document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{lifecycle:n,spotlightClicks:i}=this.props,{changed:r}=xF(e,this.props);r("lifecycle",pW.TOOLTIP)&&(null==(t=this.scrollParent)||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((()=>{const{isScrolling:e}=this.state;e||this.updateState({showSpotlight:!0})}),100)),(r("spotlightClicks")||r("disableOverlay")||r("lifecycle"))&&(i&&n===pW.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==pW.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),null==(e=this.scrollParent)||e.removeEventListener("scroll",this.handleScroll)}get spotlightStyles(){var e,t,n;const{showSpotlight:i}=this.state,{disableScrollParentFix:r=!1,spotlightClicks:a,spotlightPadding:o=0,styles:s,target:l}=this.props,c=yW(l),u=vW(c),d=SW(c),f=function(e,t,n){var i;const r=vW(e),a=CW(e,n),o=wW(e,n);let s=0,l=null!=(i=null==r?void 0:r.top)?i:0;return a instanceof HTMLElement&&(s=a.scrollTop,o||SW(e)||(l+=s),a.isSameNode(TW())||(l+=TW().scrollTop)),Math.floor(l-t)}(c,o,r);return{...xW()?s.spotlightLegacy:s.spotlight,height:Math.round((null!=(e=null==u?void 0:u.height)?e:0)+2*o),left:Math.round((null!=(t=null==u?void 0:u.left)?t:0)-o),opacity:i?1:0,pointerEvents:a?"none":"auto",position:d?"fixed":"absolute",top:f,transition:"opacity 0.2s",width:Math.round((null!=(n=null==u?void 0:u.width)?n:0)+2*o)}}updateState(e){this.isActive&&this.setState((t=>({...t,...e})))}render(){const{mouseOverSpotlight:e,showSpotlight:t}=this.state,{disableOverlay:n,disableOverlayClose:r,lifecycle:a,onClickOverlay:o,placement:s,styles:l}=this.props;if(n||a!==pW.TOOLTIP)return null;let c=l.overlay;xW()&&(c="center"===s?l.overlayLegacyCenter:l.overlayLegacy);const u={cursor:r?"default":"pointer",height:bW(),pointerEvents:e?"none":"auto",...c};let d="center"!==s&&t&&i.createElement(QW,{styles:this.spotlightStyles});if("safari"===MW()){const{mixBlendMode:e,zIndex:t,...n}=u;d=i.createElement("div",{style:{...n}},d),delete u.backgroundColor}return i.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:o,role:"presentation",style:u},d)}},XW=class extends i.Component{constructor(){super(...arguments),qz(this,"node",null)}componentDidMount(){const{id:e}=this.props;mW()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),EW||this.renderReact15())}componentDidUpdate(){mW()&&(EW||this.renderReact15())}componentWillUnmount(){mW()&&this.node&&(EW||c.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!mW())return;const{children:e}=this.props;this.node&&c.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!mW()||!EW)return null;const{children:e}=this.props;return this.node?c.createPortal(e,this.node):null}render(){return EW?this.renderReact16():null}};var KW=function(e){let{styles:t,...n}=e;const{color:r,height:a,width:o,...s}=t;return i.createElement("button",{style:s,type:"button",...n},i.createElement("svg",{height:"number"===typeof a?"".concat(a,"px"):a,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:"number"===typeof o?"".concat(o,"px"):o,xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",null,i.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))};var ZW=function(e){const{backProps:t,closeProps:n,continuous:r,index:a,isLastStep:o,primaryProps:s,size:l,skipProps:c,step:u,tooltipProps:d}=e,{content:f,hideBackButton:h,hideCloseButton:p,hideFooter:g,locale:m,showProgress:v,showSkipButton:b,styles:y,title:C}=u,{back:w,close:S,last:I,next:T,skip:E}=m,M={primary:S};return r&&(M.primary=o?I:T,v&&(M.primary=i.createElement("span",null,M.primary," (",a+1,"/",l,")"))),b&&!o&&(M.skip=i.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:y.buttonSkip,type:"button",...c},E)),!h&&a>0&&(M.back=i.createElement("button",{"data-test-id":"button-back",style:y.buttonBack,type:"button",...t},w)),M.close=!p&&i.createElement(KW,{"data-test-id":"button-close",styles:y.buttonClose,...n}),i.createElement("div",{key:"JoyrideTooltip","aria-label":RW(C)||RW(f),className:"react-joyride__tooltip",style:y.tooltip,...d},i.createElement("div",{style:y.tooltipContainer},C&&i.createElement("h1",{"aria-label":RW(C),style:y.tooltipTitle},C),i.createElement("div",{style:y.tooltipContent},f)),!g&&i.createElement("div",{style:y.tooltipFooter},i.createElement("div",{style:y.tooltipFooterSpacer},M.skip),M.back,i.createElement("button",{"data-test-id":"button-primary",style:y.buttonNext,type:"button",...s},M.primary)),M.close)},$W=class extends i.Component{constructor(){super(...arguments),qz(this,"handleClickBack",(e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()})),qz(this,"handleClickClose",(e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")})),qz(this,"handleClickPrimary",(e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;t?n.next():n.close("button_primary")})),qz(this,"handleClickSkip",(e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()})),qz(this,"getElementsProps",(()=>{const{continuous:e,isLastStep:t,setTooltipRef:n,step:i}=this.props,r=RW(i.locale.back),a=RW(i.locale.close),o=RW(i.locale.last),s=RW(i.locale.next),l=RW(i.locale.skip);let c=e?s:a;return t&&(c=o),{backProps:{"aria-label":r,"data-action":"back",onClick:this.handleClickBack,role:"button",title:r},closeProps:{"aria-label":a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:a},primaryProps:{"aria-label":c,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:c},skipProps:{"aria-label":l,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:l},tooltipProps:{"aria-modal":!0,ref:n,role:"alertdialog"}}}))}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:a,step:o}=this.props,{beaconComponent:s,tooltipComponent:l,...c}=o;let u;if(l){const o={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:a,step:c,setTooltipRef:r},s=l;u=i.createElement(s,{...o})}else u=i.createElement(ZW,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:a,step:o});return u}},eV=class extends i.Component{constructor(){super(...arguments),qz(this,"scope",null),qz(this,"tooltip",null),qz(this,"handleClickHoverBeacon",(e=>{const{step:t,store:n}=this.props;"mouseenter"===e.type&&"hover"!==t.event||n.update({lifecycle:pW.TOOLTIP})})),qz(this,"handleClickOverlay",(()=>{const{helpers:e,step:t}=this.props;t.disableOverlayClose||e.close("overlay")})),qz(this,"setTooltipRef",(e=>{this.tooltip=e})),qz(this,"setPopper",((e,t)=>{var n;const{action:i,lifecycle:r,step:a,store:o}=this.props;"wrapper"===t?o.setPopper("beacon",e):o.setPopper("tooltip",e),o.getPopper("beacon")&&o.getPopper("tooltip")&&r===pW.INIT&&o.update({action:i,lifecycle:pW.READY}),(null==(n=a.floaterProps)?void 0:n.getPopper)&&a.floaterProps.getPopper(e,t)})),qz(this,"renderTooltip",(e=>{const{continuous:t,helpers:n,index:r,size:a,step:o}=this.props;return i.createElement($W,{continuous:t,helpers:n,index:r,isLastStep:r+1===a,setTooltipRef:this.setTooltipRef,size:a,step:o,...e})}))}componentDidMount(){const{debug:e,index:t}=this.props;DW({title:"step:".concat(t),data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:i,continuous:r,controlled:a,debug:o,helpers:s,index:l,lifecycle:c,status:u,step:d,store:f}=this.props,{changed:h,changedFrom:p}=xF(e,this.props),g=s.info(),m=r&&n!==iW&&(l>0||n===eW),v=h("action")||h("index")||h("lifecycle")||h("status"),b=p("lifecycle",[pW.TOOLTIP,pW.INIT],pW.INIT),y=h("action",[tW,eW,rW,iW]),C=a&&l===e.index;if(y&&(b||C)&&i({...g,index:e.index,lifecycle:pW.COMPLETE,step:e.step,type:uW}),"center"===d.placement&&u===gW.RUNNING&&h("index")&&n!==Kz&&c===pW.INIT&&f.update({lifecycle:pW.READY}),v){const e=yW(d.target),t=!!e,r=t&&function(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:e,visibility:t}=getComputedStyle(n);if("none"===e||"hidden"===t)return!1}n=null!=(t=n.parentElement)?t:null}return!0}(e);r?(p("status",gW.READY,gW.RUNNING)||p("lifecycle",pW.INIT,pW.READY))&&i({...g,step:d,type:sW}):(console.warn(t?"Target not visible":"Target not mounted",d),i({...g,type:hW,step:d}),a||f.update({index:l+(n===eW?-1:1)}))}p("lifecycle",pW.INIT,pW.READY)&&f.update({lifecycle:kW(d)||m?pW.TOOLTIP:pW.BEACON}),h("index")&&DW({title:"step:".concat(c),data:[{key:"props",value:this.props}],debug:o}),h("lifecycle",pW.BEACON)&&i({...g,step:d,type:lW}),h("lifecycle",pW.TOOLTIP)&&(i({...g,step:d,type:cW}),this.tooltip&&(this.scope=new YW(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),p("lifecycle",[pW.TOOLTIP,pW.INIT],pW.INIT)&&(null==(t=this.scope)||t.removeScope(),f.cleanupPoppers())}componentWillUnmount(){var e;null==(e=this.scope)||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return kW(t)||e===pW.TOOLTIP}render(){const{continuous:e,debug:t,index:n,lifecycle:r,nonce:a,shouldScroll:o,size:s,step:l}=this.props,c=yW(l.target);return zW(l)&&CF.domElement(c)?i.createElement("div",{key:"JoyrideStep-".concat(n),className:"react-joyride__step"},i.createElement(XW,{id:"react-joyride-portal"},i.createElement(qW,{...l,debug:t,lifecycle:r,onClickOverlay:this.handleClickOverlay})),i.createElement(Yz,{...l.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:"react-joyride-step-".concat(n),open:this.open,placement:l.placement,target:l.target},i.createElement(JW,{beaconComponent:l.beaconComponent,continuous:e,index:n,isLastStep:n+1===s,locale:l.locale,nonce:a,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:o,size:s,step:l,styles:l.styles}))):null}},tV=class extends i.Component{constructor(e){super(e),qz(this,"helpers"),qz(this,"store"),qz(this,"callback",(e=>{const{callback:t}=this.props;CF.function(t)&&t(e)})),qz(this,"handleKeyboard",(e=>{const{index:t,lifecycle:n}=this.state,{steps:i}=this.props,r=i[t];n===pW.TOOLTIP&&"Escape"===e.code&&r&&!r.disableCloseOnEsc&&this.store.close("keyboard")})),qz(this,"syncState",(e=>{this.setState(e)}));const{debug:t,getHelpers:n,run:i,stepIndex:r}=e;var a;this.store=(a={...e,controlled:i&&CF.number(r)},new GW(a)),this.helpers=this.store.getHelpers();const{addListener:o}=this.store;DW({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),o(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!mW())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:i}=this.props,{start:r}=this.store;WW(i,e)&&n&&r(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!mW())return;const{action:n,controlled:i,index:r,lifecycle:a,status:o}=this.state,{debug:s,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:d,steps:f}=e,{reset:h,setSteps:p,start:g,stop:m,update:v}=this.store,{changed:b}=xF(e,this.props),{changed:y,changedFrom:C}=xF(t,this.state),w=BW(u[r],this.props),S=!fF(f,u),I=CF.number(c)&&b("stepIndex"),T=yW(w.target);if(S&&(WW(u,s)?p(u):console.warn("Steps are not valid",u)),b("run")&&(l?g(c):m()),I){let e=CF.number(d)&&d<c?tW:eW;n===Zz&&(e=Kz),[gW.FINISHED,gW.SKIPPED].includes(o)||v({action:n===iW?iW:e,index:c,lifecycle:pW.INIT})}i||o!==gW.RUNNING||0!==r||T||(this.store.update({index:r+1}),this.callback({...this.state,type:hW,step:w}));const E={...this.state,index:r,step:w};if(y("action",[tW,eW,rW,iW])&&y("status",gW.PAUSED)){const e=BW(u[t.index],this.props);this.callback({...E,index:t.index,lifecycle:pW.COMPLETE,step:e,type:uW})}if(y("status",[gW.FINISHED,gW.SKIPPED])){const e=BW(u[t.index],this.props);i||this.callback({...E,index:t.index,lifecycle:pW.COMPLETE,step:e,type:uW}),this.callback({...E,type:dW,step:e,index:t.index}),h()}else C("status",[gW.IDLE,gW.READY],gW.RUNNING)?this.callback({...E,type:oW}):(y("status")||y("action",$z))&&this.callback({...E,type:fW});this.scrollToStep(t),"center"===w.placement&&o===gW.RUNNING&&a===pW.INIT&&this.store.update({lifecycle:pW.READY})}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:i}=this.state,{debug:r,disableScrollParentFix:a=!1,scrollDuration:o,scrollOffset:s=20,scrollToFirstStep:l=!1,steps:c}=this.props,u=BW(c[t],this.props),d=yW(u.target),f=function(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:i,scrollToFirstStep:r,step:a,target:o}=e;return!a.disableScrolling&&(!t||r||n===pW.TOOLTIP)&&"center"!==a.placement&&(!a.isFixed||!SW(o))&&i!==n&&[pW.BEACON,pW.TOOLTIP].includes(n)}({isFirstStep:0===t,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:u,target:d});if(i===gW.RUNNING&&f){const e=wW(d,a),l=CW(d,a);let c=Math.floor(IW(d,s,a))||0;DW({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:i}],debug:r});const f=this.store.getPopper("beacon"),h=this.store.getPopper("tooltip");if(n===pW.BEACON&&f){const{offsets:t,placement:n}=f;["bottom"].includes(n)||e||(c=Math.floor(t.popper.top-s))}else if(n===pW.TOOLTIP&&h){const{flipped:t,offsets:n,placement:i}=h;!["top","right","left"].includes(i)||t||e?c-=u.spotlightPadding:c=Math.floor(n.popper.top-s)}c=c>=0?c:0,i===gW.RUNNING&&function(e,t){const{duration:n,element:i}=t;return new Promise(((t,r)=>{const{scrollTop:a}=i,o=e>a?e-a:a-e;DF.top(i,e,{duration:o<100?50:n},(e=>e&&"Element already at target scroll position"!==e.message?r(e):t()))}))}(c,{element:l,duration:o}).then((()=>{setTimeout((()=>{var e;null==(e=this.store.getPopper("tooltip"))||e.instance.update()}),10)}))}}render(){if(!mW())return null;const{index:e,status:t}=this.state,{continuous:n=!1,debug:r=!1,nonce:a,scrollToFirstStep:o=!1,steps:s}=this.props;let l;if(t===gW.RUNNING&&s[e]){const t=BW(s[e],this.props);l=i.createElement(eV,{...this.state,callback:this.callback,continuous:n,debug:r,helpers:this.helpers,nonce:a,shouldScroll:!t.disableScrolling&&(0!==e||o),step:t,store:this.store})}return i.createElement("div",{className:"react-joyride"},l)}};qz(tV,"defaultProps",NW);var nV=tV;const iV=function(){const e=so((e=>e.user)),t=bo(),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{var t;null!==(t=e.value)&&void 0!==t&&t.joyRideFinished||r(!1)}),[e]),(0,o.jsx)(nV,{steps:[{target:".searchBar",content:"You can search users here (Email/Username).",disableBeacon:!0,disableOverlayClose:!0},{target:".notificationsIcon",content:"You can see notifications by clicking here."},{target:".googleSync",content:"Import google contacts by adding account."},{target:".menuIcon",content:"Create new chat and more options"},{target:".profileIcon",content:"This icon takes you to your profile information page"},{target:".inActiveTab",content:"Clck here to view updates or to create notes"},{target:".callLogIcon",content:"This icon let you know about previos calls"}],run:!n,continuous:!0,disableCloseOnEsc:!0,showSkipButton:!0,styles:{options:{arrowColor:"#ED80FD",primaryColor:"#ED80FD"}},floaterProps:{autoOpen:!0},callback:n=>{if("skip"===n.action||"finished"===n.status){t(Ua({...e.value,joyRideFinished:!0}));const n={route:"joyrideFinished",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"PUT"};hl(n).catch((e=>{bi.error(e.message)}))}},disableOverlayClose:!0})};function rV(e){var t;let{activeTab:n}=e;const r=MA(),a=so((e=>e.user)),s=so((e=>e.notes)),l=so((e=>e.myNotes)),[c,u]=(0,i.useState)(""),[d,f]=(0,i.useState)(!1),h=bo(),[p,g]=(0,i.useState)([]),m=function(){const e={route:"getNotes",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(e).then((e=>{e.data.success?(h(Da(e.data.body)),g(e.data.body)):bi.error(e.data.message)}))};(0,i.useEffect)((()=>{g("My Notes"==n?l.value:s.value)}),[n,l,s]),(0,i.useEffect)((()=>{r.on("noteDeleted",(()=>{m()})),r.on("newNote",(()=>{m()})),r.on("refreshMyNotes",(()=>{!function(e){console.log(e);const t={route:"getMyNotes",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(t).then((e=>{e.data.success?h(_a(e.data.body)):bi.error(e.data.message)}))}("by socket")})),console.log("Rendering socket useEffect")}),[r]);const v=function(){const e={route:"deleteNote",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success?(h(_a(l.value.map((e=>({...e,isExpired:!0}))))),bi.success(e.data.message)):bi.error(e.data.message)}))},b=function(e){const t={route:"likeNote",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},payload:{noteId:e},method:"PUT"};hl(t).then((e=>{m(),e.data.success||bi.error(e.data.message)}))},y=function(e){const t={route:"unLikeNote",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},payload:{noteId:e},method:"PUT"};hl(t).then((e=>{m(),e.data.success||bi.error(e.data.message)}))};return(0,o.jsxs)("div",{className:"notesContainer","data-aos":"fade-up","data-aos-duration":"700",children:[c&&(0,o.jsx)(_A,{contactsModal:d,openContactsModal:f,modalTitle:"Likes",route:"getLikes",params:{noteId:c._id}}),"My Notes"==n&&(0,o.jsx)("p",{style:{width:"100%",textAlign:"center",color:"rgb(184, 184, 184)"},children:"Note : You cannot publish two notes at a time."}),Boolean("Notes"==n&&p.length)&&p.map((e=>(0,o.jsxs)("div",{className:"notesListItem",onDoubleClick:()=>e.notes.likes.includes(a.value._id)?y(e.notes._id):b(e.notes._id),children:[(0,o.jsx)("img",{src:e.userData[0].avatar_url,alt:"",className:"notesAvatar"}),(0,o.jsxs)("div",{className:"notesDetails",children:[(0,o.jsx)("h4",{className:"username",children:e.userData[0].username}),(0,o.jsx)("p",{className:"noteContent",children:e.notes.content})]}),(0,o.jsx)("span",{className:"textReply",children:"Reply"}),(0,o.jsxs)("div",{className:"notesState",children:[(0,o.jsx)("p",{className:"time",children:new Date(e.notes.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}),e.notes.likes.includes(a.value._id)?(0,o.jsx)(D,{onClick:()=>y(e.notes._id),fas:!0,icon:"heart text-danger",className:"likeBtn"}):(0,o.jsx)(D,{onClick:()=>b(e.notes._id),far:!0,icon:"heart text-dark",className:"likeBtn"})]})]}))),Boolean("My Notes"==n&&p.length)&&p.map((e=>{var t;return(0,o.jsxs)("div",{className:"notesListItem",children:[(0,o.jsx)("img",{src:a.value.avatar_url,alt:"",className:"notesAvatar"}),(0,o.jsxs)("div",{className:"notesDetails",children:[(0,o.jsx)("h4",{className:"username",children:a.value.username}),(0,o.jsx)("p",{className:"noteContent",children:e.content})]}),(0,o.jsxs)("div",{className:"notesState",children:[(0,o.jsx)("p",{className:"time",children:new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}),(0,o.jsx)("p",{style:{fontSize:"10px"},children:e.isExpired?"Expired":(0,o.jsx)("img",{className:"btnDelete",onClick:v,src:Vp})}),(0,o.jsxs)("p",{style:{fontSize:"10px",cursor:"pointer"},onClick:()=>{var t;null!==e&&void 0!==e&&null!==(t=e.likes)&&void 0!==t&&t.length&&(u(e),f(!0))},children:[null===e||void 0===e||null===(t=e.likes)||void 0===t?void 0:t.length," likes"]})]})]})})),Boolean(!p.length&&(!(null!==(t=s.value)&&void 0!==t&&t.length)||!l.value.length))&&(0,o.jsx)("div",{className:"notesEmptyContainer",children:(0,o.jsx)("h3",{children:"Currenly there is no notes available"})})]})}const aV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVR4nO2WTytEURTAfxZEspEiH4HsbOyEr6CsfAHZKF9A+QCyZ80nkAWlaZAy/sROYsGCNHPOjGymp1Pz6nW788x73ntR86u7u/f+zj3vnnMfdPlvKIwKXCqUCpUq3CsECmepNwpgQGBbQRQ2O5UKXAuMpJX2CRy3orfNmg2YzlVq1GA9lEZGOYAeHASuPHPjRol2KNz5FtVh2SOuJBSftBULfPoWCby8wVBuqRZ4jol4zZOhbOQKuzHipQ7K6TyteK6N1HvBPA2kTFoEDj3iefJGYUrgyxEv5i42FFYdcdUCoggU9h35Yx3Gche/wqDCqVPPlULkVRgWuHVPLjARzrHbbqVmde42mV/RgHGFB0f+YRdOYcFKKNrhrL3GlV4iLL1JHgWBixrMkFXa1fnmP8ibChuZyO3CCewleJHeMxGHKKx4mozv1FuZilvySYGDGOlRAP2ZiyMBzCrsCDzZf5rAjZVWAL25Sbv8eb4BxfeebYJjmaEAAAAASUVORK5CYII=",oV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR4nO2VsS4EYRSFT6cg0YgoxQN4BI1CoVBJVBKPoFJSbnbuXdmEQiKRiEJNi9ARr6ChtJ0IGcInO2Yng9nxD5luT3KrmXO+3P+fe0caqJKMcznk6lnGXICvEQZw4m8A5HiAjzCI0ykAHAYBgiDG9Q+AcVUY1q9KIc5egeFFW4xUAKyXAVYKTDdqMxR4RCXhXUWMy3nNGW7VYirwkn8J78k4ysI3mQzyOBsKVsRM2kFHxphqkXOcdrFbD6B77s6DjHc5y/VAnKUUEMuYrQuylu0kZ/HLs4hhOSdyHmWcydhOhqzFQjVIxKqct6QMS4buM/yiz7DF1TuJmM/tqbtkfZRN85/UZELOfnov5eviX2oyLedAxlM9gJ4ajCZfmrMj51LGffo/Oc3eGUgB+gAipG01St7T2QAAAABJRU5ErkJggg==",sV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR4nO2Vv0oDQRDGV7SQzBxpTCmITyE2R2aDWChWVv7Bt9BO0cZCH0Hsj8xcDNamFrFI7Rtol1gYQSN72YQznnd7Idflg+WKm9nffLczt0rNlEfE2NKC/eEiwR6F3nZWnmY4cwMI9uIAu64yAVEcXGYCNMPbHwDDrRsgik13QoJPCQ6eEzf7d6U4MdWOJ5Dglx9U0BmQ5oJC7yjJgd9SC1P5RJsBVrTgZ2zztt/EpdQkCyDB06y4gQuGhq3mxQBdcpzb1KjG3lpUEcO7H5ZXVBEigXsLaRQC0PXyqhboDiB4XAiEBPYHZ4Hf1XrpIClmN1DzW01VmhzCcDGE1ARP4u9Md5kWNnNinmaGiPFaC+64E/pqjgTOY1N6txEuLtt2bicNGjF+5HaiGfY0Q8e2b8e0cNo05waMDp6hmf0vmhAwVDX01jVDODbx0wP8OmQuHRLDjWZ4JIFXe588jIJmUg76AVlDGlkliUcWAAAAAElFTkSuQmCC",lV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR4nO2Vv07DQAzGD8GAYkdd6IiEeArEEtVXIQYQExN/xFuUEcEKj4C6R7VTImY6I8TQmTeArTC0SFB0JIFQkrZXJVs/6ZThHP/i8+ecUnPZiBg7WnCYLBIcUODu5sVrhjM7gOAgDYjXZV5ys28F0Awv/wAMzbzk1gASfMio4DEved4aV0FzNJgEPzy/ioUAKHBPsirwOmqpkCPa9rGqBd9TybteiCuZH8PYsAZEL0I7bu6TAY6LtbapUZ3dje+zZ3jzgsqaKkMkcBtD2qUAdKuyrgVeIwg2SoGQwGHUC/ystZyjrJh9Xy3uhMqZHcJwkUDqgqfpPeMuY2EzJ+ZpZogYr7Tg3vSEoVoggfNf28LNVrC8Gtu5mzVkxNi3rkQzHGiGXmzfnrHwTJM8sfEM4aTfxMyARLXA3dQMwcjEFwf402R2jonhWjPck8BzfJ/c/QTNpabQF5kcGj7hPP5MAAAAAElFTkSuQmCC";function cV(e){var t;let{setGo:n,setChat:r}=e;const a=so((e=>e.callLogs)),[s,l]=(0,i.useState)(a.value),c=bo(),u=so((e=>e.user)),[d,f]=(0,i.useState)(!u.value.settingsConfig.save_call_logs);(0,i.useEffect)((()=>{const e={route:"getCallLogs",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},params:{setRead:!0},crypto:!0};hl(e).then((e=>{e.data.success?(c(Wa(e.data.body)),console.log(e.data.body),l(e.data.body)):bi.error(e.data.message)}));const t=function(e){"Escape"==e.key&&n("")};return window.addEventListener("keyup",t),()=>window.removeEventListener("keyup",t)}),[]);const h=[{label:"Clear logs",key:"clearLogs",icon:(0,o.jsx)("img",{className:"menuIcon",src:Vp,alt:"Clear notes"}),disabled:!(null!==(t=a.value)&&void 0!==t&&t.length)}];const p={clearLogs:function(){c(Va()),l([]);const e={route:"resetCallLogs",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success?bi.success(e.data.message):bi.error(e.data.message)}))}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"callLogOptions",children:[(0,o.jsx)(DA,{value:d,func:f,title:"Warning!!",content:"You have disabled saving call logs..",posFunc:()=>n("Settings"),okBtnText:"Change",noBtnText:"cancell"}),(0,o.jsx)("button",{onClick:()=>n(""),children:(0,o.jsx)(D,{fas:!0,icon:"angle-left"})}),(0,o.jsx)("button",{children:(0,o.jsx)(KI,{arrow:!0,menu:{items:h,onClick:e=>{var t;let{key:n}=e;return null===(t=p[n])||void 0===t?void 0:t.call()}},trigger:["click"],children:(0,o.jsx)(D,{fas:!0,icon:"bars"})})})]}),(0,o.jsx)("div",{className:"text-center callLogParent","data-aos":"fade-up","data-aos-duration":"700",children:s.length?s.map((e=>(0,o.jsxs)("div",{className:"callLogItem",children:[(0,o.jsx)("img",{src:e.opponentData.avatar_url,className:"chatIcon",style:{maxWidth:"60px"}}),(0,o.jsxs)("div",{className:"text-center p-3",style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:"callStateIndicator",src:e.data.isAccepted?e.data.from==u.value._id?sV:lV:e.data.from==u.value._id?oV:aV,alt:""}),e.data.from==u.value._id?"Outgoing videocall to ".concat(e.opponentData.username):e.data.isAccepted?"Incoming videocall from ".concat(e.opponentData.username):"Missed videocall from ".concat(e.opponentData.username)]}),e.data.isAccepted&&(0,o.jsxs)("span",{className:"callDuration",children:[" Duration : ",e.data.duration," "]})]}),(0,o.jsx)("div",{className:"followRqstDiv",style:{display:"flex",flexDirection:"column"},children:(0,o.jsx)("span",{style:{fontSize:"10px",fontWeight:400,margin:"60px 10px 10px 0 ",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:new Date(parseInt(e.data.createdAt)).getDate()==(new Date).getDate()?new Date(parseInt(e.data.createdAt)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):new Date(parseInt(e.data.createdAt)).getDate()==(new Date).getDate()-1?"Yesterday":new Date(parseInt(e.data.createdAt)).toLocaleDateString()})}),(0,o.jsx)("img",{className:"logVidCallIcon",onClick:()=>r({type:"videoCall",data:{from:u.value._id,to:e.opponentData._id,conversationName:"CONVERSATION_".concat(AP())}}),src:NA,alt:""})]}))):(0,o.jsx)("h3",{children:"There is no logs available"})})]})}const uV=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),dV=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},uV(Sp(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),fV=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),hV=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},fV(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),pV=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fV(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},dV(e))}),hV(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),hV(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),gV=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),mV=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.addonBg,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},gV(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),gV(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group-addon")]:Object.assign({},dV(e))}})}),vV=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(e.componentCls,"-disabled, &[disabled]")]:{color:e.colorTextDisabled}},t)}),bV=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),yV=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},bV(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),CV=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bV(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},dV(e))}),yV(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),yV(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),wV=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{background:t.addonBg,color:t.addonColor}}}),SV=e=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary},["".concat(e.componentCls,"-filled:not(:focus):not(:focus-within)")]:{"&:not(:first-child)":{borderInlineStart:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},"&:not(:last-child)":{borderInlineEnd:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}}}},wV(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),wV(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}}}})}),IV=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:i,paddingInlineLG:r}=e;return{padding:"".concat($u(t)," ").concat($u(r)),fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:i}},TV=e=>({padding:"".concat($u(e.paddingBlockSM)," ").concat($u(e.paddingInlineSM)),fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),EV=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat($u(e.paddingBlock)," ").concat($u(e.paddingInline)),color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},(e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}))(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},IV(e)),"&-sm":Object.assign({},TV(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),MV=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(t,", &-lg > ").concat(t,"-group-addon")]:Object.assign({},IV(e)),["&-sm ".concat(t,", &-sm > ").concat(t,"-group-addon")]:Object.assign({},TV(e)),["&-lg ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightLG},["&-sm ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightSM},["> ".concat(t)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(t,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat($u(e.paddingInline)),color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1,["".concat(n,"-select")]:{margin:"".concat($u(e.calc(e.paddingBlock).add(1).mul(-1).equal())," ").concat($u(e.calc(e.paddingInline).mul(-1).equal())),["&".concat(n,"-select-single:not(").concat(n,"-select-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["".concat(n,"-select-selector")]:{backgroundColor:"inherit",border:"".concat($u(e.lineWidth)," ").concat(e.lineType," transparent"),boxShadow:"none"}},"&-open, &-focused":{["".concat(n,"-select-selector")]:{color:e.colorPrimary}}},["".concat(n,"-cascader-picker")]:{margin:"-9px ".concat($u(e.calc(e.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(n,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},["".concat(t)]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(t,"-search-with-button &")]:{zIndex:0}}},["> ".concat(t,":first-child, ").concat(t,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,"-affix-wrapper")]:{["&:not(:first-child) ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,":last-child, ").concat(t,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(t,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(t,"-search &")]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},["&:not(:first-child), ".concat(t,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(t,"-group-compact")]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{["".concat(t,"-group-addon, ").concat(t,"-group-wrap, > ").concat(t)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(t,"-affix-wrapper,\n        & > ").concat(t,"-number-affix-wrapper,\n        & > ").concat(n,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},["".concat(t)]:{float:"none"},["& > ".concat(n,"-select > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete ").concat(t,",\n      & > ").concat(n,"-cascader-picker ").concat(t,",\n      & > ").concat(t,"-group-wrapper ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},["& > ".concat(n,"-select-focused")]:{zIndex:1},["& > ".concat(n,"-select > ").concat(n,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(n,"-select:first-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete:first-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker:first-child ").concat(t)]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},["& > *:last-child,\n      & > ".concat(n,"-select:last-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-cascader-picker:last-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker-focused:last-child ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},["& > ".concat(n,"-select-auto-complete ").concat(t)]:{verticalAlign:"top"},["".concat(t,"-group-wrapper + ").concat(t,"-group-wrapper")]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),["".concat(t,"-affix-wrapper")]:{borderRadius:0}},["".concat(t,"-group-wrapper:not(:last-child)")]:{["&".concat(t,"-search > ").concat(t,"-group")]:{["& > ".concat(t,"-group-addon > ").concat(t,"-search-button")]:{borderRadius:0},["& > ".concat(t)]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},RV=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:i,calc:r}=e,a=r(n).sub(r(i).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Uf(e)),EV(e)),pV(e)),CV(e)),vV(e)),{'&[type="color"]':{height:e.controlHeight,["&".concat(t,"-lg")]:{height:e.controlHeightLG},["&".concat(t,"-sm")]:{height:n,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},AV=e=>{const{componentCls:t}=e;return{["".concat(t,"-clear-icon")]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat($u(e.inputAffixPadding))}}}},kV=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:i,motionDurationSlow:r,colorIcon:a,colorIconHover:o,iconCls:s}=e;return{["".concat(t,"-affix-wrapper")]:Object.assign(Object.assign(Object.assign(Object.assign({},EV(e)),{display:"inline-flex",["&:not(".concat(t,"-disabled):hover")]:{zIndex:1,["".concat(t,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(t)]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(t)]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),AV(e)),{["".concat(s).concat(t,"-password-icon")]:{color:a,cursor:"pointer",transition:"all ".concat(r),"&:hover":{color:o}}})}},xV=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:i}=e;return{["".concat(t,"-group")]:Object.assign(Object.assign(Object.assign({},Uf(e)),MV(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(t,"-group-addon")]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{["".concat(t,"-group-addon")]:{borderRadius:i}}},mV(e)),SV(e)),{["&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},DV=e=>{const{componentCls:t,antCls:n}=e,i="".concat(t,"-search");return{[i]:{["".concat(t)]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,["+ ".concat(t,"-group-addon ").concat(i,"-button:not(").concat(n,"-btn-primary)")]:{borderInlineStartColor:e.colorPrimaryHover}}},["".concat(t,"-affix-wrapper")]:{borderRadius:0},["".concat(t,"-lg")]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},["> ".concat(t,"-group")]:{["> ".concat(t,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(i,"-button")]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},["".concat(i,"-button:not(").concat(n,"-btn-primary)")]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},["&".concat(n,"-btn-loading::before")]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},["".concat(i,"-button")]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},["&-large ".concat(i,"-button")]:{height:e.controlHeightLG},["&-small ".concat(i,"-button")]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},["&".concat(t,"-compact-item")]:{["&:not(".concat(t,"-compact-last-item)")]:{["".concat(t,"-group-addon")]:{["".concat(t,"-search-button")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(t,"-compact-first-item)")]:{["".concat(t,",").concat(t,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(t,"-group-addon ").concat(t,"-search-button,\n        > ").concat(t,",\n        ").concat(t,"-affix-wrapper")]:{"&:hover,&:focus,&:active":{zIndex:2}},["> ".concat(t,"-affix-wrapper-focused")]:{zIndex:2}}}}},OV=e=>{const{componentCls:t,paddingLG:n}=e,i="".concat(t,"-textarea");return{[i]:{position:"relative","&-show-count":{["> ".concat(t)]:{height:"100%"},["".concat(t,"-data-count")]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{["> ".concat(t)]:{paddingInlineEnd:n}},["&-affix-wrapper".concat(i,"-has-feedback")]:{["".concat(t)]:{paddingInlineEnd:n}},["&-affix-wrapper".concat(t,"-affix-wrapper")]:{padding:0,["> textarea".concat(t)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},["".concat(t,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(t,"-clear-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},["".concat(i,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},LV=e=>{const{componentCls:t}=e;return{["".concat(t,"-out-of-range")]:{["&, & input, & textarea, ".concat(t,"-show-count-suffix, ").concat(t,"-data-count")]:{color:e.colorError}}}},_V=Dp("Input",(e=>{const t=Sp(e,function(e){return Sp(e,{inputAffixPadding:e.paddingXXS})}(e));return[RV(t),OV(t),kV(t),xV(t),DV(t),LV(t),kI(t)]}),(e=>{const{controlHeight:t,fontSize:n,lineHeight:i,lineWidth:r,controlHeightSM:a,controlHeightLG:o,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,colorPrimary:p,controlOutlineWidth:g,controlOutline:m,colorErrorOutline:v,colorWarningOutline:b,colorBgContainer:y}=e;return{paddingBlock:Math.max(Math.round((t-n*i)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((a-n*i)/2*10)/10-r,0),paddingBlockLG:Math.ceil((o-s*l)/2*10)/10-r,paddingInline:c-r,paddingInlineSM:u-r,paddingInlineLG:d-r,addonBg:f,activeBorderColor:p,hoverBorderColor:h,activeShadow:"0 0 0 ".concat(g,"px ").concat(m),errorActiveShadow:"0 0 0 ".concat(g,"px ").concat(v),warningActiveShadow:"0 0 0 ".concat(g,"px ").concat(b),hoverBg:y,activeBg:y,inputFontSize:n,inputFontSizeLG:s,inputFontSizeSM:n}})),NV=e=>{const{getPrefixCls:t,direction:n}=(0,i.useContext)(Xc),{prefixCls:r,className:a}=e,o=t("input-group",r),s=t("input"),[l,c]=_V(s),u=Bl()(o,{["".concat(o,"-lg")]:"large"===e.size,["".concat(o,"-sm")]:"small"===e.size,["".concat(o,"-compact")]:e.compact,["".concat(o,"-rtl")]:"rtl"===n},c,a),d=(0,i.useContext)(nM),f=(0,i.useMemo)((()=>Object.assign(Object.assign({},d),{isFormItemInput:!1})),[d]);return l(i.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},i.createElement(nM.Provider,{value:f},e.children)))};function jV(e,t,n,i){if(n){var r=t;if("click"===t.type){var a=e.cloneNode(!0);return r=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(r)}if("file"!==e.type&&void 0!==i){var o=e.cloneNode(!0);return r=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value=i,void n(r)}n(r)}}const PV=function(e){var t,n,r=e.inputElement,a=e.children,o=e.prefixCls,s=e.prefix,l=e.suffix,c=e.addonBefore,u=e.addonAfter,d=e.className,f=e.style,h=e.disabled,p=e.readOnly,g=e.focused,m=e.triggerFocus,v=e.allowClear,b=e.value,y=e.handleReset,C=e.hidden,w=e.classes,S=e.classNames,I=e.dataAttrs,T=e.styles,E=e.components,M=null!==a&&void 0!==a?a:r,R=(null===E||void 0===E?void 0:E.affixWrapper)||"span",A=(null===E||void 0===E?void 0:E.groupWrapper)||"span",k=(null===E||void 0===E?void 0:E.wrapper)||"span",x=(null===E||void 0===E?void 0:E.groupAddon)||"span",D=(0,i.useRef)(null),O=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),L=(0,i.cloneElement)(M,{value:b,className:Bl()(M.props.className,!O&&(null===S||void 0===S?void 0:S.variant))||null});if(O){var _,N=null;if(v){var j,P=!h&&!p&&b,U="".concat(o,"-clear-icon"),F="object"===yi(v)&&null!==v&&void 0!==v&&v.clearIcon?v.clearIcon:"\u2716";N=i.createElement("span",{onClick:y,onMouseDown:function(e){return e.preventDefault()},className:Bl()(U,(j={},wi(j,"".concat(U,"-hidden"),!P),wi(j,"".concat(U,"-has-suffix"),!!l),j)),role:"button",tabIndex:-1},F)}var B="".concat(o,"-affix-wrapper"),z=Bl()(B,(wi(_={},"".concat(o,"-disabled"),h),wi(_,"".concat(B,"-disabled"),h),wi(_,"".concat(B,"-focused"),g),wi(_,"".concat(B,"-readonly"),p),wi(_,"".concat(B,"-input-with-clear-btn"),l&&v&&b),_),null===w||void 0===w?void 0:w.affixWrapper,null===S||void 0===S?void 0:S.affixWrapper,null===S||void 0===S?void 0:S.variant),W=(l||v)&&i.createElement("span",{className:Bl()("".concat(o,"-suffix"),null===S||void 0===S?void 0:S.suffix),style:null===T||void 0===T?void 0:T.suffix},N,l);L=i.createElement(R,Sl({className:z,style:null===T||void 0===T?void 0:T.affixWrapper,onClick:function(e){var t;null!==(t=D.current)&&void 0!==t&&t.contains(e.target)&&(null===m||void 0===m||m())}},null===I||void 0===I?void 0:I.affixWrapper,{ref:D}),s&&i.createElement("span",{className:Bl()("".concat(o,"-prefix"),null===S||void 0===S?void 0:S.prefix),style:null===T||void 0===T?void 0:T.prefix},s),L,W)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var V="".concat(o,"-group"),H="".concat(V,"-addon"),G="".concat(V,"-wrapper"),Y=Bl()("".concat(o,"-wrapper"),V,null===w||void 0===w?void 0:w.wrapper,null===S||void 0===S?void 0:S.wrapper),J=Bl()(G,wi({},"".concat(G,"-disabled"),h),null===w||void 0===w?void 0:w.group,null===S||void 0===S?void 0:S.groupWrapper);L=i.createElement(A,{className:J},i.createElement(k,{className:Y},c&&i.createElement(x,{className:H},c),L,u&&i.createElement(x,{className:H},u)))}return i.cloneElement(L,{className:Bl()(null===(t=L.props)||void 0===t?void 0:t.className,d)||null,style:Tl(Tl({},null===(n=L.props)||void 0===n?void 0:n.style),f),hidden:C})};var UV=["show"];function FV(e,t){return i.useMemo((function(){var n={};t&&(n.show="object"===yi(t)&&t.formatter?t.formatter:!!t);var i=n=Tl(Tl({},n),e),r=i.show,a=jl(i,UV);return Tl(Tl({},a),{},{show:!!r,showFormatter:"function"===typeof r?r:void 0,strategy:a.strategy||function(e){return e.length}})}),[e,t])}var BV=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],zV=(0,i.forwardRef)((function(e,t){var n=e.autoComplete,r=e.onChange,a=e.onFocus,o=e.onBlur,s=e.onPressEnter,l=e.onKeyDown,c=e.prefixCls,u=void 0===c?"rc-input":c,d=e.disabled,f=e.htmlSize,h=e.className,p=e.maxLength,g=e.suffix,m=e.showCount,v=e.count,b=e.type,y=void 0===b?"text":b,C=e.classes,w=e.classNames,S=e.styles,I=e.onCompositionStart,T=e.onCompositionEnd,E=jl(e,BV),M=nu((0,i.useState)(!1),2),R=M[0],A=M[1],k=(0,i.useRef)(!1),x=(0,i.useRef)(null),D=function(e){x.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var i=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}(x.current,e)},O=nu(Yf(e.defaultValue,{value:e.value}),2),L=O[0],_=O[1],N=void 0===L||null===L?"":String(L),j=nu((0,i.useState)(null),2),P=j[0],U=j[1],F=FV(v,m),B=F.max||p,z=F.strategy(N),W=!!B&&z>B;(0,i.useImperativeHandle)(t,(function(){return{focus:D,blur:function(){var e;null===(e=x.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var i;null===(i=x.current)||void 0===i||i.setSelectionRange(e,t,n)},select:function(){var e;null===(e=x.current)||void 0===e||e.select()},input:x.current}})),(0,i.useEffect)((function(){A((function(e){return(!e||!d)&&e}))}),[d]);var V=function(e,t,n){var i,a,o=t;if(!k.current&&F.exceedFormatter&&F.max&&F.strategy(t)>F.max)t!==(o=F.exceedFormatter(t,{max:F.max}))&&U([(null===(i=x.current)||void 0===i?void 0:i.selectionStart)||0,(null===(a=x.current)||void 0===a?void 0:a.selectionEnd)||0]);else if("compositionEnd"===n.source)return;_(o),x.current&&jV(x.current,e,r,o)};(0,i.useEffect)((function(){var e;P&&(null===(e=x.current)||void 0===e||e.setSelectionRange.apply(e,ru(P)))}),[P]);var H=function(e){V(e,e.target.value,{source:"change"})},G=function(e){k.current=!1,V(e,e.currentTarget.value,{source:"compositionEnd"}),null===T||void 0===T||T(e)},Y=function(e){s&&"Enter"===e.key&&s(e),null===l||void 0===l||l(e)},J=function(e){A(!0),null===a||void 0===a||a(e)},Q=function(e){A(!1),null===o||void 0===o||o(e)},q=W&&"".concat(u,"-out-of-range");return i.createElement(PV,Sl({},E,{prefixCls:u,className:Bl()(h,q),handleReset:function(e){_(""),D(),x.current&&jV(x.current,e,r)},value:N,focused:R,triggerFocus:D,suffix:function(){var e=Number(B)>0;if(g||F.show){var t=F.showFormatter?F.showFormatter({value:N,count:z,maxLength:B}):"".concat(z).concat(e?" / ".concat(B):"");return i.createElement(i.Fragment,null,F.show&&i.createElement("span",{className:Bl()("".concat(u,"-show-count-suffix"),wi({},"".concat(u,"-show-count-has-suffix"),!!g),null===w||void 0===w?void 0:w.count),style:Tl({},null===S||void 0===S?void 0:S.count)},t),g)}return null}(),disabled:d,classes:C,classNames:w,styles:S}),function(){var t=vv(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return i.createElement("input",Sl({autoComplete:n},t,{onChange:H,onFocus:J,onBlur:Q,onKeyDown:Y,className:Bl()(u,wi({},"".concat(u,"-disabled"),d),null===w||void 0===w?void 0:w.input),style:null===S||void 0===S?void 0:S.input,ref:x,size:f,type:y,onCompositionStart:function(e){k.current=!0,null===I||void 0===I||I(e)},onCompositionEnd:G}))}())}));const WV=zV,VV=e=>{let t;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?t=e:e&&(t={clearIcon:i.createElement(rT,null)}),t};function HV(e,t,n){return Bl()({["".concat(e,"-status-success")]:"success"===t,["".concat(e,"-status-warning")]:"warning"===t,["".concat(e,"-status-error")]:"error"===t,["".concat(e,"-status-validating")]:"validating"===t,["".concat(e,"-has-feedback")]:n})}const GV=(e,t)=>t||e,YV=["outlined","borderless","filled"],JV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=(0,i.useContext)(rM);let r;r="undefined"!==typeof e?e:!1===t?"borderless":null!==n&&void 0!==n?n:"outlined";return[r,YV.includes(r)]};function QV(e,t){const n=(0,i.useRef)([]),r=()=>{n.current.push(setTimeout((()=>{var t,n,i,r;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(i=e.current)||void 0===i?void 0:i.input.hasAttribute("value"))&&(null===(r=e.current)||void 0===r||r.input.removeAttribute("value"))})))};return(0,i.useEffect)((()=>(t&&r(),()=>n.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}var qV=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const XV=(0,i.forwardRef)(((e,t)=>{var n;const{prefixCls:r,bordered:a=!0,status:o,size:s,disabled:l,onBlur:c,onFocus:u,suffix:d,allowClear:f,addonAfter:h,addonBefore:p,className:g,style:m,styles:v,rootClassName:b,onChange:y,classNames:C,variant:w}=e,S=qV(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:I,direction:T,input:E}=i.useContext(Xc),M=I("input",r),R=(0,i.useRef)(null),A=EC(M),[k,x,D]=_V(M,A),{compactSize:O,compactItemClassnames:L}=VC(M,T),_=jC((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:O)&&void 0!==t?t:e})),N=i.useContext($v),j=null!==l&&void 0!==l?l:N,{status:P,hasFeedback:U,feedbackIcon:F}=(0,i.useContext)(nM),B=GV(P,o),z=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!U;(0,i.useRef)(z);const W=QV(R,!0),V=(U||d)&&i.createElement(i.Fragment,null,d,U&&F),H=VV(null!==f&&void 0!==f?f:null===E||void 0===E?void 0:E.allowClear),[G,Y]=JV(w,a);return k(i.createElement(WV,Object.assign({ref:qf(t,R),prefixCls:M,autoComplete:null===E||void 0===E?void 0:E.autoComplete},S,{disabled:j,onBlur:e=>{W(),null===c||void 0===c||c(e)},onFocus:e=>{W(),null===u||void 0===u||u(e)},style:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),m),styles:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.styles),v),suffix:V,allowClear:H,className:Bl()(g,b,D,A,L,null===E||void 0===E?void 0:E.className),onChange:e=>{W(),null===y||void 0===y||y(e)},addonAfter:h&&i.createElement(HC,null,i.createElement(iM,{override:!0,status:!0},h)),addonBefore:p&&i.createElement(HC,null,i.createElement(iM,{override:!0,status:!0},p)),classNames:Object.assign(Object.assign(Object.assign({},C),null===E||void 0===E?void 0:E.classNames),{input:Bl()({["".concat(M,"-sm")]:"small"===_,["".concat(M,"-lg")]:"large"===_,["".concat(M,"-rtl")]:"rtl"===T},null===C||void 0===C?void 0:C.input,null===(n=null===E||void 0===E?void 0:E.classNames)||void 0===n?void 0:n.input,x),variant:Bl()({["".concat(M,"-").concat(G)]:Y},HV(M,B)),affixWrapper:Bl()({["".concat(M,"-affix-wrapper-sm")]:"small"===_,["".concat(M,"-affix-wrapper-lg")]:"large"===_,["".concat(M,"-affix-wrapper-rtl")]:"rtl"===T},x),wrapper:Bl()({["".concat(M,"-group-rtl")]:"rtl"===T},x),groupWrapper:Bl()({["".concat(M,"-group-wrapper-sm")]:"small"===_,["".concat(M,"-group-wrapper-lg")]:"large"===_,["".concat(M,"-group-wrapper-rtl")]:"rtl"===T,["".concat(M,"-group-wrapper-").concat(G)]:Y},HV("".concat(M,"-group-wrapper"),B,U),x)})})))})),KV=XV;const ZV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var $V=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:ZV}))};const eH=i.forwardRef($V);const tH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var nH=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:tH}))};const iH=i.forwardRef(nH);var rH=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const aH=e=>e?i.createElement(iH,null):i.createElement(eH,null),oH={click:"onClick",hover:"onMouseOver"},sH=i.forwardRef(((e,t)=>{const{visibilityToggle:n=!0}=e,r="object"===typeof n&&void 0!==n.visible,[a,o]=(0,i.useState)((()=>!!r&&n.visible)),s=(0,i.useRef)(null);i.useEffect((()=>{r&&o(n.visible)}),[r,n]);const l=QV(s),c=()=>{const{disabled:t}=e;t||(a&&l(),o((e=>{var t;const i=!e;return"object"===typeof n&&(null===(t=n.onVisibleChange)||void 0===t||t.call(n,i)),i})))},{className:u,prefixCls:d,inputPrefixCls:f,size:h}=e,p=rH(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:g}=i.useContext(Xc),m=g("input",f),v=g("input-password",d),b=n&&(t=>{const{action:n="click",iconRender:r=aH}=e,o=oH[n]||"",s=r(a),l={[o]:c,className:"".concat(t,"-icon"),key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return i.cloneElement(i.isValidElement(s)?s:i.createElement("span",null,s),l)})(v),y=Bl()(v,u,{["".concat(v,"-").concat(h)]:!!h}),C=Object.assign(Object.assign({},vv(p,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:y,prefixCls:m,suffix:b});return h&&(C.size=h),i.createElement(KV,Object.assign({ref:qf(t,s)},C))}));const lH=sH;const cH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var uH=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:cH}))};const dH=i.forwardRef(uH);var fH=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const hH=i.forwardRef(((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:a,size:o,suffix:s,enterButton:l=!1,addonAfter:c,loading:u,disabled:d,onSearch:f,onChange:h,onCompositionStart:p,onCompositionEnd:g}=e,m=fH(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:b}=i.useContext(Xc),y=i.useRef(!1),C=v("input-search",n),w=v("input",r),{compactSize:S}=VC(C,b),I=jC((e=>{var t;return null!==(t=null!==o&&void 0!==o?o:S)&&void 0!==t?t:e})),T=i.useRef(null),E=e=>{var t;document.activeElement===(null===(t=T.current)||void 0===t?void 0:t.input)&&e.preventDefault()},M=e=>{var t,n;f&&f(null===(n=null===(t=T.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},R="boolean"===typeof l?i.createElement(dH,null):null,A="".concat(C,"-button");let k;const x=l||{},D=x.type&&!0===x.type.__ANT_BUTTON;k=D||"button"===x.type?Eb(x,Object.assign({onMouseDown:E,onClick:e=>{var t,n;null===(n=null===(t=null===x||void 0===x?void 0:x.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),M(e)},key:"enterButton"},D?{className:A,size:I}:{})):i.createElement(PI,{className:A,type:l?"primary":void 0,size:I,disabled:d,key:"enterButton",onMouseDown:E,onClick:M,loading:u,icon:R},l),c&&(k=[k,Eb(c,{key:"addonAfter"})]);const O=Bl()(C,{["".concat(C,"-rtl")]:"rtl"===b,["".concat(C,"-").concat(I)]:!!I,["".concat(C,"-with-button")]:!!l},a);return i.createElement(KV,Object.assign({ref:qf(T,t),onPressEnter:e=>{y.current||u||M(e)}},m,{size:I,onCompositionStart:e=>{y.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:e=>{y.current=!1,null===g||void 0===g||g(e)},prefixCls:w,addonAfter:k,suffix:s,onChange:e=>{e&&e.target&&"click"===e.type&&f&&f(e.target.value,e,{source:"clear"}),h&&h(e)},className:O,disabled:d}))}));const pH=hH;var gH,mH=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],vH={};function bH(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;gH||((gH=document.createElement("textarea")).setAttribute("tab-index","-1"),gH.setAttribute("aria-hidden","true"),document.body.appendChild(gH)),e.getAttribute("wrap")?gH.setAttribute("wrap",e.getAttribute("wrap")):gH.removeAttribute("wrap");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&vH[n])return vH[n];var i=window.getComputedStyle(e),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),a=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),o=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),s={sizingStyle:mH.map((function(e){return"".concat(e,":").concat(i.getPropertyValue(e))})).join(";"),paddingSize:a,borderSize:o,boxSizing:r};return t&&n&&(vH[n]=s),s}(e,t),a=r.paddingSize,o=r.borderSize,s=r.boxSizing,l=r.sizingStyle;gH.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),gH.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,f=gH.scrollHeight;if("border-box"===s?f+=o:"content-box"===s&&(f-=a),null!==n||null!==i){gH.value=" ";var h=gH.scrollHeight-a;null!==n&&(u=h*n,"border-box"===s&&(u=u+a+o),f=Math.max(u,f)),null!==i&&(d=h*i,"border-box"===s&&(d=d+a+o),c=f>d?"":"hidden",f=Math.min(d,f))}var p={height:f,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var yH=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],CH=i.forwardRef((function(e,t){var n=e,r=n.prefixCls,a=(n.onPressEnter,n.defaultValue),o=n.value,s=n.autoSize,l=n.onResize,c=n.className,u=n.style,d=n.disabled,f=n.onChange,h=(n.onInternalAutoSize,jl(n,yH)),p=nu(Yf(a,{value:o,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),g=p[0],m=p[1],v=i.useRef();i.useImperativeHandle(t,(function(){return{textArea:v.current}}));var b=nu(i.useMemo((function(){return s&&"object"===yi(s)?[s.minRows,s.maxRows]:[]}),[s]),2),y=b[0],C=b[1],w=!!s,S=nu(i.useState(2),2),I=S[0],T=S[1],E=nu(i.useState(),2),M=E[0],R=E[1],A=function(){T(0)};sd((function(){w&&A()}),[o,y,C,w]),sd((function(){if(0===I)T(1);else if(1===I){var e=bH(v.current,!1,y,C);T(2),R(e)}else!function(){try{if(document.activeElement===v.current){var e=v.current,t=e.selectionStart,n=e.selectionEnd,i=e.scrollTop;v.current.setSelectionRange(t,n),v.current.scrollTop=i}}catch(nn){}}()}),[I]);var k=i.useRef(),x=function(){mm.cancel(k.current)};i.useEffect((function(){return x}),[]);var D=w?M:null,O=Tl(Tl({},u),D);return 0!==I&&1!==I||(O.overflowY="hidden",O.overflowX="hidden"),i.createElement(xg,{onResize:function(e){2===I&&(null===l||void 0===l||l(e),s&&(x(),k.current=mm((function(){A()}))))},disabled:!(s||l)},i.createElement("textarea",Sl({},h,{ref:v,style:O,className:Bl()(r,c,wi({},"".concat(r,"-disabled"),d)),disabled:d,value:g,onChange:function(e){m(e.target.value),null===f||void 0===f||f(e)}})))}));const wH=CH;var SH=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],IH=i.forwardRef((function(e,t){var n,r,a=e.defaultValue,o=e.value,s=e.onFocus,l=e.onBlur,c=e.onChange,u=e.allowClear,d=e.maxLength,f=e.onCompositionStart,h=e.onCompositionEnd,p=e.suffix,g=e.prefixCls,m=void 0===g?"rc-textarea":g,v=e.showCount,b=e.count,y=e.className,C=e.style,w=e.disabled,S=e.hidden,I=e.classNames,T=e.styles,E=e.onResize,M=jl(e,SH),R=nu(Yf(a,{value:o,defaultValue:a}),2),A=R[0],k=R[1],x=void 0===A||null===A?"":String(A),D=nu(i.useState(!1),2),O=D[0],L=D[1],_=i.useRef(!1),N=nu(i.useState(null),2),j=N[0],P=N[1],U=(0,i.useRef)(null),F=function(){var e;return null===(e=U.current)||void 0===e?void 0:e.textArea},B=function(){F().focus()};(0,i.useImperativeHandle)(t,(function(){return{resizableTextArea:U.current,focus:B,blur:function(){F().blur()}}})),(0,i.useEffect)((function(){L((function(e){return!w&&e}))}),[w]);var z=nu(i.useState(null),2),W=z[0],V=z[1];i.useEffect((function(){var e;W&&(e=F()).setSelectionRange.apply(e,ru(W))}),[W]);var H,G=FV(b,v),Y=null!==(n=G.max)&&void 0!==n?n:d,J=Number(Y)>0,Q=G.strategy(x),q=!!Y&&Q>Y,X=function(e,t){var n=t;!_.current&&G.exceedFormatter&&G.max&&G.strategy(t)>G.max&&t!==(n=G.exceedFormatter(t,{max:G.max}))&&V([F().selectionStart||0,F().selectionEnd||0]),k(n),jV(e.currentTarget,e,c,n)},K=p;G.show&&(H=G.showFormatter?G.showFormatter({value:x,count:Q,maxLength:Y}):"".concat(Q).concat(J?" / ".concat(Y):""),K=i.createElement(i.Fragment,null,K,i.createElement("span",{className:Bl()("".concat(m,"-data-count"),null===I||void 0===I?void 0:I.count),style:null===T||void 0===T?void 0:T.count},H)));var Z=!M.autoSize&&!v&&!u;return i.createElement(PV,{value:x,allowClear:u,handleReset:function(e){k(""),B(),jV(F(),e,c)},suffix:K,prefixCls:m,classNames:Tl(Tl({},I),{},{affixWrapper:Bl()(null===I||void 0===I?void 0:I.affixWrapper,(r={},wi(r,"".concat(m,"-show-count"),v),wi(r,"".concat(m,"-textarea-allow-clear"),u),r))}),disabled:w,focused:O,className:Bl()(y,q&&"".concat(m,"-out-of-range")),style:Tl(Tl({},C),j&&!Z?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof H?H:void 0}},hidden:S},i.createElement(wH,Sl({},M,{maxLength:d,onKeyDown:function(e){var t=M.onPressEnter,n=M.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){X(e,e.target.value)},onFocus:function(e){L(!0),null===s||void 0===s||s(e)},onBlur:function(e){L(!1),null===l||void 0===l||l(e)},onCompositionStart:function(e){_.current=!0,null===f||void 0===f||f(e)},onCompositionEnd:function(e){_.current=!1,X(e,e.currentTarget.value),null===h||void 0===h||h(e)},className:Bl()(null===I||void 0===I?void 0:I.textarea),style:Tl(Tl({},null===T||void 0===T?void 0:T.textarea),{},{resize:null===C||void 0===C?void 0:C.resize}),disabled:w,prefixCls:m,onResize:function(e){var t;null===E||void 0===E||E(e),null!==(t=F())&&void 0!==t&&t.style.height&&P(!0)},ref:U})))}));const TH=IH;var EH=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const MH=(0,i.forwardRef)(((e,t)=>{var n,r;const{prefixCls:a,bordered:o=!0,size:s,disabled:l,status:c,allowClear:u,classNames:d,rootClassName:f,className:h,style:p,styles:g,variant:m}=e,v=EH(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:b,direction:y,textArea:C}=i.useContext(Xc),w=jC(s),S=i.useContext($v),I=null!==l&&void 0!==l?l:S,{status:T,hasFeedback:E,feedbackIcon:M}=i.useContext(nM),R=GV(T,c),A=i.useRef(null);i.useImperativeHandle(t,(()=>{var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;!function(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}}));const k=b("input",a),x=EC(k),[D,O,L]=_V(k,x),[_,N]=JV(m,o),j=VV(null!==u&&void 0!==u?u:null===C||void 0===C?void 0:C.allowClear);return D(i.createElement(TH,Object.assign({autoComplete:null===C||void 0===C?void 0:C.autoComplete},v,{style:Object.assign(Object.assign({},null===C||void 0===C?void 0:C.style),p),styles:Object.assign(Object.assign({},null===C||void 0===C?void 0:C.styles),g),disabled:I,allowClear:j,className:Bl()(L,x,h,f,null===C||void 0===C?void 0:C.className),classNames:Object.assign(Object.assign(Object.assign({},d),null===C||void 0===C?void 0:C.classNames),{textarea:Bl()({["".concat(k,"-sm")]:"small"===w,["".concat(k,"-lg")]:"large"===w},O,null===d||void 0===d?void 0:d.textarea,null===(n=null===C||void 0===C?void 0:C.classNames)||void 0===n?void 0:n.textarea),variant:Bl()({["".concat(k,"-").concat(_)]:N},HV(k,R)),affixWrapper:Bl()("".concat(k,"-textarea-affix-wrapper"),{["".concat(k,"-affix-wrapper-rtl")]:"rtl"===y,["".concat(k,"-affix-wrapper-sm")]:"small"===w,["".concat(k,"-affix-wrapper-lg")]:"large"===w,["".concat(k,"-textarea-show-count")]:e.showCount||(null===(r=e.count)||void 0===r?void 0:r.show)},O)}),prefixCls:k,suffix:E&&i.createElement("span",{className:"".concat(k,"-textarea-suffix")},M),ref:A})))})),RH=MH,AH=KV;AH.Group=NV,AH.Search=pH,AH.TextArea=RH,AH.Password=lH;const kH=AH;const xH=function(e){let{setGo:t,setChat:n,setSubLoading:r,isSubLoading:a}=e;const[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)({content:"",date:"",time:"",username:""}),[d,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),g=so((e=>e.scheduledMsg)),m=MA(),[v,b]=(0,i.useState)(!1),[y,C]=(0,i.useState)([]),[w,S]=(0,i.useState)(""),I=bo(),T=function(){r(!0);const e={route:"getScheduledMessages",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(e).then((e=>{e.data.success&&(r(!1),I(Ha(e.data.body)))}))};(0,i.useEffect)((()=>{var e;null!==g&&void 0!==g&&null!==(e=g.value)&&void 0!==e&&e.length&&C(g.value)}),[g]),(0,i.useEffect)((()=>{m.on("scheduledMsgSent",(e=>{I(Ga(e.msg))}))}),[m]);const E=function(e){let t={...c,[e.target.id]:e.target.value};if("username"==e.target.id){const t={route:"checkContactByUsername",params:{username:e.target.value},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(t).then((e=>{const t=document.querySelector("#username");e.data.success?(t.classList.remove("invalid"),p(!1)):(p(!0),t.classList.add("invalid"))}))}else if("time"==e.target.id){const n=new Date("2000-01-01T".concat(e.target.value));t={...c,[e.target.id]:{hours:n.getHours(),minutes:n.getMinutes()}}}u(t);const n=Object.values(t).filter((e=>"string"==typeof e?null===e||void 0===e?void 0:e.trim():e)).length;f(4==n)},M=[{label:"Delete all",danger:!0,icon:(0,o.jsx)(D,{far:!0,icon:"trash-alt"}),key:"clearMsgs"}],R={clearMsgs:()=>b(!0)};return(0,o.jsxs)("div",{className:"scheduleMsgsPage",children:[(0,o.jsxs)("div",{className:"scheduleOptions",children:[(0,o.jsx)("button",{onClick:()=>t(""),children:(0,o.jsx)(D,{fas:!0,icon:"angle-left"})}),(0,o.jsx)("button",{children:(0,o.jsx)(KI,{arrow:!0,menu:{items:M,onClick:e=>{var t;let{key:n}=e;return null===(t=R[n])||void 0===t?void 0:t.call()}},trigger:["click"],children:(0,o.jsx)(D,{fas:!0,icon:"bars"})})})]}),(0,o.jsxs)("div",{className:"scheduleMsgParent",children:[(0,o.jsx)(UU,{onClick:()=>l(!0),icon:(0,o.jsx)(D,{fas:!0,icon:"plus"}),badge:"status",style:{position:"absolute"}}),(0,o.jsx)(DA,{posFunc:function(){I(Ha([])),C([]),b(!1);const e={route:"clearScheduledMsgs",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(e).then((e=>{e.data.success||bi.error(e.data.message)}))},title:"Are you sure ?",content:"This action will delete every scheduled messages.",value:v,func:b}),a&&(0,o.jsxs)("div",{className:"subLoader",children:[" ",(0,o.jsx)("span",{className:"subLoaderSpinner"})," "]}),Boolean(!a&&(null===y||void 0===y?void 0:y.length))?y.map((e=>(0,o.jsxs)("div",{className:"scheduleMsgItem",children:[(0,o.jsx)("img",{src:e.recieverData.avatar_url,className:"chatIcon",style:{maxWidth:"60px"}}),(0,o.jsxs)("div",{className:"scheDuleDetails",children:[(0,o.jsxs)("span",{className:"ScheduleContactName",children:["Send to ",e.recieverData.username]}),(0,o.jsxs)("span",{className:"ScheduleMessage",children:["Message : ",e.content]}),(0,o.jsxs)("span",{className:"ScheduleTime",children:["Time : ",new Date(e.scheduledConfig.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})]})]}),(0,o.jsx)("div",{className:"scheduleMsgOptions",children:e.isScheduleCompleted?(0,o.jsx)(D,{fas:!0,className:"scheduleDltIcon text-success",icon:"check"}):(0,o.jsx)(D,{className:"scheduleDltIcon text-danger",far:!0,onClick:()=>function(e){const t={route:"deleteScheduledMsg",params:{id:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"DELETE"};hl(t).then((e=>{e.data.success&&T()}))}(e._id),icon:"trash-alt"})})]}))):!a&&(0,o.jsx)("div",{className:"notFoundSchdl",children:(0,o.jsx)("h3",{children:"No messages scheduled"})}),(0,o.jsx)(DA,{okBtnDisabled:!d||h,okBtnText:"Schedule",noBtnText:"Cancell",posFunc:function(){var e,t;if(4==(null===(e=Object.values(c))||void 0===e||null===(t=e.filter((e=>"string"==typeof e?null===e||void 0===e?void 0:e.trim():e)))||void 0===t?void 0:t.length)){S("");const e={route:"scheduleMessage",method:"POST",payload:{data:c},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(e).then((e=>{e.data.success?(T(),bi.success(e.data.message)):bi.error(e.data.message),l(!1)}))}else S("Please fill everything")},value:s,func:l,title:"Schedule message",children:(0,o.jsxs)("div",{className:"newScheduleMsg",children:[(0,o.jsx)(kH,{id:"username",className:h&&"invalid",value:c.username,onChange:E,placeholder:"Enter recipient username"}),(0,o.jsx)(kH,{id:"content",value:c.content,onChange:E,placeholder:"Enter message"}),(0,o.jsx)(kH,{id:"date",onChange:E,min:(new Date).toISOString().split("T")[0],type:"date",placeholder:"Basic usage"}),(0,o.jsx)(kH,{id:"time",onChange:E,type:"time",placeholder:"Basic usage"}),(0,o.jsx)("span",{style:{color:"red",fontSize:"10px"},children:w})]})})]})]})},DH=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:i,lineWidth:r,textPaddingInline:a,orientationMargin:o,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},Uf(e)),{borderBlockStart:"".concat($u(r)," solid ").concat(i),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat($u(r)," solid ").concat(i)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat($u(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat($u(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(i),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat($u(r)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-left")]:{"&::before":{width:"calc(".concat(o," * 100%)")},"&::after":{width:"calc(100% - ".concat(o," * 100%)")}},["&-horizontal".concat(t,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(o," * 100%)")},"&::after":{width:"calc(".concat(o," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:"".concat($u(r)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-left").concat(t,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:n}},["&-horizontal".concat(t,"-with-text-right").concat(t,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:n}}})}},OH=Dp("Divider",(e=>{const t=Sp(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[DH(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var LH=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const _H=e=>{const{getPrefixCls:t,direction:n,divider:r}=i.useContext(Xc),{prefixCls:a,type:o="horizontal",orientation:s="center",orientationMargin:l,className:c,rootClassName:u,children:d,dashed:f,plain:h,style:p}=e,g=LH(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),m=t("divider",a),[v,b,y]=OH(m),C=s.length>0?"-".concat(s):s,w=!!d,S="left"===s&&null!=l,I="right"===s&&null!=l,T=Bl()(m,null===r||void 0===r?void 0:r.className,b,y,"".concat(m,"-").concat(o),{["".concat(m,"-with-text")]:w,["".concat(m,"-with-text").concat(C)]:w,["".concat(m,"-dashed")]:!!f,["".concat(m,"-plain")]:!!h,["".concat(m,"-rtl")]:"rtl"===n,["".concat(m,"-no-default-orientation-margin-left")]:S,["".concat(m,"-no-default-orientation-margin-right")]:I},c,u),E=i.useMemo((()=>"number"===typeof l?l:/^\d+$/.test(l)?Number(l):l),[l]),M=Object.assign(Object.assign({},S&&{marginLeft:E}),I&&{marginRight:E});return v(i.createElement("div",Object.assign({className:T,style:Object.assign(Object.assign({},null===r||void 0===r?void 0:r.style),p)},g,{role:"separator"}),d&&"vertical"!==o&&i.createElement("span",{className:"".concat(m,"-inner-text"),style:M},d)))};const NH=e=>{let{premiumData:t}=e;return(0,o.jsxs)("div",{className:"premiumPlanContainer",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Type :"})," ",t.type.toUpperCase()]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Price :"})," ","chatpoints"==t.paymentType?t.price+"pts":"\u20b9"+t.price]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Purchased at :"})," ",new Date(t.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Expires at :"})," ",t.expiresAtString?t.expiresAtString:new Date(t.expiresAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Payment type :"})," ",t.paymentType]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"Payment id :"})," ",(0,o.jsx)("code",{onClick:e=>{navigator.clipboard.writeText(t.paymentSessionId).then((()=>{bi.success("Copied to clipboard")}))},style:{cursor:"pointer"},children:"Copy"})]})]})},jH=function(e){let{setGo:t}=e;const n=so((e=>e.user)),[r,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,f]=(0,i.useState)({}),h=bo(),[p,g]=(0,i.useState)(!1),m=e=>{h(Ua({...n.value,settingsConfig:{...n.value.settingsConfig,...e}}));const t={route:"saveConfig",payload:{...e},method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(t).then((e=>{e.data.success||bi.error(e.data.message)})),r&&a(!1)},v=function(){bi("unblcok")};return(0,i.useEffect)((()=>{if(n.value.isPremium){const e={route:"getPremiumDetails",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0};hl(e).then((e=>{e.data.success?u(e.data.body):bi.error(e.data.message)}))}}),[]),(0,o.jsxs)("div",{className:"settingsParent",children:[p&&(0,o.jsx)(_A,{contactsModal:p,icon:d.icon,onClick:d.onClick,openContactsModal:g,modalTitle:d.title,route:d.route}),(0,o.jsx)(ZM,{isModalOpen:s,setIsModalOpen:l}),(0,o.jsx)(DA,{value:r,title:d.title,content:d.content,posFunc:d.posFunc,func:a}),(0,o.jsxs)("button",{className:"closeBtn",onClick:()=>{t(!1)},children:[" ",(0,o.jsx)("span",{children:"\xd7"})," "]}),(0,o.jsxs)("div",{className:"settingsItem mt-5",onClick:()=>{n.value.settingsConfig.allow_msg_from_everyone?m({allow_msg_from_everyone:!n.value.settingsConfig.allow_msg_from_everyone}):f({title:"Are you sure ?",posFunc:()=>m({allow_msg_from_everyone:!n.value.settingsConfig.allow_msg_from_everyone}),content:"This action will allow unknown users to call or text you... "}),a(!0)},children:[(0,o.jsx)("span",{children:"Allow messages from unknown users : "}),(0,o.jsx)(nF,{checkedChildren:"YES",unCheckedChildren:"No",value:n.value.settingsConfig.allow_msg_from_everyone})]}),(0,o.jsx)("div",{className:"settingsItem",onClick:n.value.blockedContacts.length?()=>{f({title:"Blocked users",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAATklEQVR4nGNgGBHg////Df8xQQe5hlEEGAbcAhAgSTED6erpb8F/EvmjFjCMBhHDaCoagUFECAxKC578Jx08IcUCPxIteQLSQ7QFQwoAAIX8orNLyGYcAAAAAElFTkSuQmCC",onClick:v,route:"getBlockedUsers"}),g(!0)}:()=>bi("No blocked users"),children:(0,o.jsxs)("span",{children:["Blocked users (",n.value.blockedContacts.length,")  "]})}),(0,o.jsx)("div",{className:"settingsItem disabled",title:"Coming soon..",children:(0,o.jsx)("span",{children:"Notifications"})}),(0,o.jsx)(_H,{plain:!0,style:{width:"300px"},orientation:"left",children:"Calls"}),(0,o.jsxs)("div",{className:"settingsItem",onClick:()=>m({save_call_logs:!n.value.settingsConfig.save_call_logs}),children:[(0,o.jsx)("span",{children:"Automatically save call logs : "}),(0,o.jsx)(nF,{checkedChildren:"YES",unCheckedChildren:"NO",value:n.value.settingsConfig.save_call_logs})]}),(0,o.jsxs)("div",{className:"settingsItem profilePremiumBadge",onClick:()=>{n.value.isPremium?m({blur_video_bg:!n.value.settingsConfig.blur_video_bg}):l(!0)},children:[(0,o.jsx)("span",{children:"Blur videocall background : "}),(0,o.jsx)(nF,{checkedChildren:"YES",unCheckedChildren:"NO",value:n.value.settingsConfig.blur_video_bg})]}),(0,o.jsx)(_H,{plain:!0,style:{width:"300px"},orientation:"left",children:"Appearence"}),!n.value.googleSynced&&(0,o.jsxs)("div",{className:"settingsItem",onClick:()=>m({hide_sync_icon:!n.value.settingsConfig.hide_sync_icon}),children:[(0,o.jsx)("span",{children:"Hide google contact sync icon : "}),(0,o.jsx)(nF,{checkedChildren:"YES",unCheckedChildren:"NO",value:n.value.settingsConfig.hide_sync_icon})]}),n.value.isPremium&&(0,o.jsxs)("div",{className:"settingsItem profilePremiumBadge",onClick:()=>m({replace_premium_text:!n.value.settingsConfig.replace_premium_text}),children:[(0,o.jsx)("span",{children:"Replace premium text with name : "}),(0,o.jsx)(nF,{checkedChildren:"YES",unCheckedChildren:"NO",value:n.value.settingsConfig.replace_premium_text})]}),n.value.isPremium&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)(_H,{plain:!0,style:{width:"300px"},orientation:"left",children:"Payment"}),(0,o.jsxs)("div",{className:"settingsItem",onClick:null!==c&&void 0!==c&&c.type?()=>{f({title:"Your premium plan",content:(0,o.jsx)(NH,{premiumData:c}),posFunc:m}),a(!0)}:()=>bi("Loading.."),children:[(0,o.jsx)("span",{children:"Premium plan"}),!c&&(0,o.jsx)("span",{className:"text-success small",children:"Active"}),c&&0==c.expiresAt&&(0,o.jsx)("span",{className:"text-success small",children:"Lifetime"}),c&&0!=c.expiresAt&&(0,o.jsxs)("span",{className:"text-success small",children:["Expires at ",c.expiresAtString?c.expiresAtString:new Date(c.expiresAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})," "]})]})},PH=i.memo(BU),UH=i.memo(jP);const FH=function(){const[e,t]=(0,i.useState)([]),n=MA(),[r,a]=(0,i.useState)({type:null}),[s,l]=(0,i.useState)(!0),c=bo(),[u,d]=(0,i.useState)(),f=so((e=>e.user)),[h,p]=(0,i.useState)(!1),g=st(),[m,v]=(0,i.useState)("Chats"),b=function(e){return r.isRestricted&&e.type&&!e.isRestricted?(bi.error("Activity restricted"),!1):"videoCall"==e.type?(window.onbeforeunload=e=>{e.preventDefault(),e.returnValue=""},a({...e,isRestricted:!0})):a(e)};(0,i.useEffect)((()=>{if(s){function e(e){return{route:e,headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},crypto:!0}}function t(t){const n=e(t);return hl(n).then((e=>{if(e.data.success)return e.data.body;throw new Error(e.data.message)}))}async function i(){return localStorage.getItem("SyncUp_Auth_Token")&&!f.value.isPremium?t("getAds").then((e=>c(xa(e)))):Promise.resolve()}function r(){return f.value._id&&n.emit("set-socketId",{userId:f.value._id}),AA("chat use effect").then((e=>c(Ca(e)))).then(i).then((()=>t("getNotes").then((e=>c(Da(e)))))).then((()=>t("getMyNotes").then((e=>c(_a(e)))))).then((()=>t("getCallLogs").then((e=>c(Wa(e)))))).then((()=>t("getScheduledMessages").then((e=>c(Ha(e)))))).then((()=>new Promise((e=>{l(!1),e()})))).catch((e=>{throw e}))}r().then((()=>l(!1))).catch((e=>bi.error(e.message)))}}),[]),(0,i.useEffect)((()=>{n.on("connect",(()=>{f.value._id&&n.emit("set-socketId",{userId:f.value._id})}));n.on("onUpdateNeeded",(()=>{console.log("syncing userDsata");const e=localStorage.getItem("SyncUp_Auth_Token"),t={route:"isAlive",params:{getData:!0},headers:{Authorization:"Bearer ".concat(e)},crypto:!0};hl(t).then((e=>{e.data.success?c(Ua(e.data.body)):(bi.error(e.data.message),localStorage.removeItem("SyncUp_Auth_Token"),g("/login"))}))})),n.on("logoutUser",(e=>{let{message:t}=e;bi.error(t),localStorage.removeItem("SyncUp_Auth_Token"),localStorage.removeItem("syncup_opened"),g("/login")})),n.on("msgSeen",(async()=>{c(Ma(f.value._id))})),n.on("msgDelivered",(async()=>{c(Ia(f.value._id))})),n.on("messageRecieved",(async e=>{e.newMessage&&(c(Ta(e.newMessage)),c(Ca(await AA("messageReceived"))))})),n.on("msgDeleted",(async e=>{c(Ea(e.id)),c(Ca(await AA("Message deleted")))})),n.on("callRecieved",(e=>{b({type:"videoCall",data:e,isRecieved:!0}),c(Ba({userId:e.from,isRecieved:!0,isAccepted:!1,isEnded:!1}))})),n.on("requestJoin",(async e=>{b({type:"videoCall",data:e,isRequested:!0,isRecieved:!0})})),n.on("userOffline",(e=>{bi.error("User ".concat(e.userName," is offline")),b({type:null})}))}),[n]);const y=(0,i.useCallback)((async e=>{if("Chats"!==m&&v("Chats"),e.trim()){p({text:"Searching.."}),b({type:null});const n=localStorage.getItem("SyncUp_Auth_Token"),i={params:{user:e},route:"checkUser",headers:{Authorization:"Bearer ".concat(n)},crypto:!0},r=await hl(i);p(!1),r.data.success?(t(r.data.body),c(wa())):(c(wa()),t({notfound:!0,data:[...r.data.body,{username:e}]})),p(!1)}else t([]),p({text:"Refreshing.."}),AA("searchFunction").then((e=>{c(Ca(e)),p(!1)}))}),[]);(0,i.useEffect)((()=>{window.outerWidth<=1e3&&r.type?d("MobileChat"):d("")}),[r]);const C={setChat:b,chat:r,setGo:d};return(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsx)(oF,{}),(0,o.jsxs)(wl,{rightComponent:"MobileChat"!=u&&(0,o.jsx)(UH,{...C}),children:["Profile"==u&&(0,o.jsx)(iF,{chat:r,setGo:d}),"Notifications"==u&&(0,o.jsx)(aF,{setActiveTab:v,setChat:b,setGo:d}),"MobileChat"==u&&r.type&&(0,o.jsx)(UH,{...C}),"CallLogs"==u&&(0,o.jsx)(cV,{setChat:b,setGo:d}),"ScheduleMessages"==u&&(0,o.jsx)(xH,{isSubLoading:h,setSubLoading:p,setChat:b,setGo:d}),"Settings"==u&&(0,o.jsx)(jH,{isSubLoading:h,setSubLoading:p,setChat:b,setGo:d}),!u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($M,{reConfgiConversation:async()=>{p({text:"Refreshing.."}),t([]),c(Ca(await AA("searchFunction"))),p(!1)},activeTab:m,setActiveTab:v,handleSearch:y,setGo:d}),(0,o.jsx)(eR,{setGo:d,activeTab:m,setActiveTab:v}),["Notes","My Notes"].includes(m)?(0,o.jsx)(rV,{activeTab:m}):h?(0,o.jsxs)("div",{className:"subLoader",children:[" ",(0,o.jsx)("span",{className:"subLoaderSpinner",children:" "}),"  ",(0,o.jsx)("p",{children:h.text})," "]}):(0,o.jsx)(PH,{setChat:b,setSearchData:t,setGo:d,searchResult:e}),(0,o.jsx)(iV,{})]})]})]})};const BH=function(e){let{children:t}=e;const n=st(),r=bo(),[a,s]=(0,i.useState)(localStorage.getItem("syncup_opened")),[l,c]=(so((e=>e.user)),(0,i.useState)(!1));return(0,i.useEffect)((()=>{const e=localStorage.getItem("SyncUp_Auth_Token");if(e){r(Aa());const t={route:"isAlive",headers:{Authorization:"Bearer ".concat(e)},params:{getData:!0},crypto:!0};hl(t).then((e=>{e.data.success?(r(Ua(e.data.body)),c(!0)):(Yn.error(e.data.message),localStorage.removeItem("SyncUp_Auth_Token")),r(ka())}))}else n("/login")}),[]),(0,o.jsx)(o.Fragment,{children:l&&t})};const zH=function(e){let{children:t}=e;const[n,r]=(0,i.useState)(!0),a=bo(),s=st();return(0,i.useEffect)((()=>{a(ka());const e=localStorage.getItem("SyncUp_Auth_Token");if(!e)return r(!1);hl({route:"isAlive",headers:{Authorization:"Bearer ".concat(e)}}).then((e=>{console.log(e),e.data.success?s("/chats"):(localStorage.removeItem("SyncUp_Auth_Token"),r(!1),Yn.error(e.data.message))}))}),[]),(0,o.jsx)(i.Fragment,{children:!n&&t})};function WH(){const[e,t]=(0,i.useState)(""),n=(0,i.useRef)(),[r,a]=(0,i.useState)(!0),s=bo();(0,i.useEffect)((()=>n.current.focus()));return(0,o.jsx)("div",{className:"otpContainer",children:(0,o.jsxs)("div",{className:"otpBox",children:[(0,o.jsx)("h1",{className:"otpHeader",children:"Forget Password"}),(0,o.jsx)("p",{className:"otpDescription2"}),(0,o.jsx)("input",{ref:n,type:"email",onChange:e=>{new RegExp("^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$").test(e.target.value)?(a(!1),t(e.target.value)):a(!0)},placeholder:"Please enter your email",className:"forgetInput ".concat(r&&"invalid")}),(0,o.jsx)("button",{className:"button verifyOtp",disabled:r,onClick:()=>{s(Aa());hl({route:"sendReset",params:{user:e}}).then((e=>{e.data.success?bi.success(e.data.message):bi.error(e.data.message)})),setTimeout((()=>{s(ka())}),2e3)},style:{width:"50%"},children:"Send reset link"})]})})}const VH=function(){const[e,t]=en(),[n,r]=(0,i.useState)({}),[a,s]=(0,i.useState)(!1),l=(0,i.useRef)(),c=e.get("token"),u=atob(e.get("user")),[d,f]=(0,i.useState)(!1),h=bo(),p=st();(0,i.useEffect)((()=>{if(h(Aa()),c&&u){hl({method:"POST",route:"verifyChangePassword",payload:{token:c,user:u}}).then((e=>{e.data.success?f(!0):(bi.error(e.data.message),p("/login"))}))}else p("/login");setTimeout((()=>{h(ka())}),2e3)}),[]);const g=e=>{new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,}$").test(e.target.value)?(e.target.classList.remove("invalid"),r({...n,[e.target.id]:e.target.value}),l.current.disabled=!1):(e.target.classList.add("invalid"),l.current.disabled=!0)};return(0,o.jsx)("div",{className:"otpContainer",children:(0,o.jsxs)("div",{className:"otpBox",children:[(0,o.jsx)("h1",{className:"otpHeader",children:"Reset password"}),(0,o.jsx)("p",{className:"otpDescription2"}),(0,o.jsx)("input",{id:"pass",type:a?"text":"password",onChange:g,placeholder:"Enter password",className:"resetPassInput"}),(0,o.jsx)("input",{id:"confirmPass",type:a?"text":"password",onChange:g,placeholder:"Confirm password",className:"resetPassInput"}),(0,o.jsx)("div",{className:"options",style:{width:"50%"},children:(0,o.jsxs)("div",{className:"Showpassrd",children:[(0,o.jsx)("input",{type:"checkbox",onChange:()=>s(!a),name:"",id:"showPass"}),(0,o.jsx)("label",{htmlFor:"showPass",className:"showPassLabel",children:"Show password"})]})}),(0,o.jsx)("button",{className:"button verifyOtp",ref:l,onClick:()=>{if(console.log(n),2==Object.values(n).length)if(n.confirmPass==n.pass){const e={method:"PATCH",route:"changePass",payload:{password:n.pass,user:u,token:c}};hl(e).then((e=>{e.data.success?(bi.success(e.data.message),p("/login")):bi.error(e.data.message)}))}else bi.error("Passwords aren't match ");else bi.error("Please fill it")},style:{width:"50%"},children:"Change password"})]})})};const HH=e=>{let{handleInput:t,handleSubmit:n}=e;return(0,o.jsx)("div",{className:"adminLoginContainer",children:(0,o.jsxs)("div",{className:"adminLoginBox",children:[(0,o.jsx)("h1",{className:"loginHead",children:"Admin login"}),(0,o.jsxs)("div",{className:"inputBoxAdmin",children:[(0,o.jsxs)("div",{className:"item",children:[(0,o.jsx)("label",{htmlFor:"email",children:"Username :"}),(0,o.jsx)("input",{type:"email",id:"username",onChange:t,placeholder:"Enter your username",name:""})]}),(0,o.jsxs)("div",{className:"item",children:[(0,o.jsx)("label",{htmlFor:"email",children:"Password :"}),(0,o.jsx)("input",{type:"password",id:"password",onChange:t,placeholder:"Enter your password",name:""})]}),(0,o.jsx)("button",{onClick:n,className:"btnAdminLogin",children:"Login"})]})]})})},GH=function(){const[e,t]=(0,i.useState)({}),n=(st(),bo());return(0,o.jsx)(HH,{handleInput:n=>{n.target.value.trim()&&t({...e,[n.target.id]:n.target.value})},handleSubmit:()=>{2==Object.values(e).length?(n(Aa()),hl({route:"admin/login",payload:e,method:"POST"}).then((e=>{e.data.success?(localStorage.setItem("SyncUp_AdminToken",e.data.token),Yn.success(e.data.message),window.location.reload()):Yn.error(e.data.message)}))):Yn.error("Please fill it"),setTimeout((()=>{n(ka())}),2e3)}})};const YH=function(e){let{children:t}=e;const[n,r]=(0,i.useState)(!1),a=bo();return st(),(0,i.useEffect)((()=>{a(Aa());const e=localStorage.getItem("SyncUp_AdminToken");e?hl({route:"admin/isAlive",headers:{Authorization:"Bearer ".concat(e)}}).then((e=>{e.data.success?r(!0):(r(!1),bi.error(e.data.message),localStorage.removeItem("SyncUp_AdminToken"))})):r(!1),setTimeout((()=>{a(ka())}),2e3)}),[]),(0,o.jsx)(i.Fragment,{children:n?t:(0,o.jsx)(GH,{})})};const JH=function(e){let{active:t}=e;const n=st(),i=[" ","users","chats","notes","announcement","ads","reports","business","groups","verification"];return(0,o.jsx)("section",{className:"sidebar animate-sidebar",children:["Dashboard","Users","Chats","Notes","Announcement","Advertisments","Reports","Business","Groups","Verification"].map(((e,r)=>(0,o.jsx)("button",{onClick:e=>{(e=>{document.querySelectorAll(".sidebarBtn").forEach((t=>{t!=e.target?t.classList.remove("sideBtnActive"):t.classList.add("sideBtnActive")}))})(e),(e=>{n("/admin/"+i[e])})(r)},className:e==t?"sidebarBtn sideBtnActive":"sidebarBtn",children:e},r)))})},QH=n.p+"static/media/adminDp.2fd7772dc411a2436332.png";const qH=function(e){let{open:t,setOpen:n}=e;return(0,o.jsxs)("nav",{className:"navbar navbar-light bg-light justify-content-between",children:[(0,o.jsx)("img",{src:t?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR4nO2WQQ6DIBRE3yUw9f4naVlYrd3oosehIaEJIQJfsItWJmHjd2YA+Q7QcEbcgBnoDtCyGk/gKnl5AgywBuYjMCR4Yb1zGsbVslDA4ggvoHfPjRsx+PVQ4yIxjplLjYtNt7Zq3WHsc4rPifJmLzUuXqmFDoT2GvvDalUb3xOcMcKx7dnQcGLoSGukQmL4Zh+bBMcc2ceq4pf5STV+IiS2oq00FsUrV5E8rbkI9BLjR2SrdOaghHX/U00S4+Hgy96cacOGP8UbAXGVtyoLvG8AAAAASUVORK5CYII=":Bp,onClick:()=>{const e=document.querySelector(".sidebar");n(!t),e.classList.contains("animate-sidebar")?e.classList.remove("animate-sidebar"):e.classList.add("animate-sidebar")},alt:"",className:"navbar-brand"}),(0,o.jsx)("h4",{className:"text-dark adminTitle",children:"Welcome to adminPanel"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:zp,className:"adminDp mx-3",alt:""}),(0,o.jsx)("img",{src:QH,className:"adminDp",alt:""})]})]})};const XH=function(e){let{th:t,children:n,backButton:r,backButtonFunction:a,prog:s,active:l,sortList:c,btnRedirect:u,btnText:d,sortData:f}=e;const h=st(),[p,g]=(0,i.useState)(!0);return(0,o.jsxs)("div",{className:"dashboardContainer",children:[(0,o.jsx)(qH,{open:p,setOpen:g}),(0,o.jsx)(JH,{active:l||"Users"}),(0,o.jsx)("div",{className:"dashboard ",children:(0,o.jsxs)("div",{className:"dbDetails usersList",style:{overflowY:"scroll"},children:[(0,o.jsxs)("div",{className:"listTop p-3",children:[(0,o.jsxs)("div",{className:"search",children:[r&&(0,o.jsx)("button",{onClick:()=>a(!1),className:"btnSearch viewBackButton",children:(0,o.jsx)(D,{fas:!0,icon:"chevron-left"})}),(0,o.jsx)("input",{type:"text",className:"inputSearch",placeholder:"Enter name "}),(0,o.jsx)("button",{className:"btnSearch",children:"Search"})]}),(0,o.jsxs)("div",{className:"sort",style:{display:"flex",flexDirection:"row",gap:"10px"},children:[(0,o.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{selected:!0,children:"Sort by :"}),c&&c.map((e=>(0,o.jsx)("option",{value:e,children:e})))]}),d&&(0,o.jsx)("button",{className:"btnNew",onClick:()=>h(u),children:d})]})]}),(0,o.jsxs)("table",{className:"table table-borderless mt-5",children:[(0,o.jsxs)("thead",{children:[s&&(0,o.jsx)("div",{className:"spinner-parent",children:(0,o.jsx)("span",{})}),!s&&(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("th",{scope:"col",children:"#"}),t&&t.map((e=>(0,o.jsx)("th",{scope:"col",children:e})))]})]}),(0,o.jsx)("tbody",{children:n})]})]})})]})},KH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuUlEQVR4nO2Uuw3CMBRFXbJBBOtAAUyTJWigJqswRmgQSRtmICUHObKVxAJ/Ypc+5fPTPfaNFCESA6yBO3BOnT0AVIxcROKbl8AKuClBbS4dgRd+9MBuEt6o+UlJrnJuCmLDNeW/Zw4E1FIAD+a0wCZaQGj4VOBRSxEc7hD0RudP47zRH1TvLa4Ie/hWXiZW8DNcnb3lMJWgNTsHPtECG1ngJFeUpCLf37WNziY4yAWW0wF791szYuQLYr7fPDu55/4AAAAASUVORK5CYII=";const ZH=function(e){let{prog:t,setProg:n,mainData:r}=e;const[a,s]=(0,i.useState)(r||[]),l=function(){const e={route:"/admin/getNotes",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(e).then((e=>{e.data.success&&(s(e.data.body),n(!1),console.log(e.data.body))}))};return(0,i.useEffect)((()=>{r||(n(!0),l())}),[]),(0,o.jsx)(o.Fragment,{children:!t&&a.map(((e,t)=>{var n,i;return(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:(0,o.jsx)("img",{width:"45",style:{borderRadius:"100%"},src:e.userData.avatar_url})}),(0,o.jsx)("td",{children:e.userData.email}),(0,o.jsx)("td",{style:{maxWidth:"150px"},children:(0,o.jsx)("div",{style:{maxHeight:"60px",overflowY:"auto",overflowX:"hidden"},children:e.content||"none"})}),(0,o.jsx)("td",{children:(0,o.jsxs)("button",{style:{width:"70px"},disabled:!Boolean(null===(n=e.likes)||void 0===n?void 0:n.length),className:"btnSearch",children:["View (",null===(i=e.likes)||void 0===i?void 0:i.length,")"]})}),(0,o.jsx)("td",{children:e.createdAtString?e.createdAtString:new Date(e.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})}),(0,o.jsxs)("td",{children:[" ",e.isExpired?"Yes":"No"," "]}),(0,o.jsx)("td",{style:{textWrap:"nowrap",textOverflow:"ellipsis"},children:new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,o.jsx)("td",{children:e.visibility}),(0,o.jsxs)("td",{style:{display:"flex"},children:[(0,o.jsx)("button",{className:"btnSearch",style:{width:"50px"},children:(0,o.jsx)("img",{style:{width:"20px"},src:KH})}),(0,o.jsxs)("button",{className:"btnNew mx-2",onClick:()=>function(e){const t={route:"admin/archiveNote",params:{noteId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},method:"PUT"};hl(t).then((e=>{e.data.success&&(bi.success(e.data.message),l())}))}(e._id),disabled:e.isExpired,style:{width:"50px"},children:[" ",(0,o.jsx)(D,{far:!0,icon:"trash-alt"})," "]})]})]},t)}))})},$H=function(){const[e,t]=(0,i.useState)(!1),n={prog:e,setProg:t};return(0,o.jsx)(XH,{th:["Email","Content","Likes","Created","Expired","Time","Visibility","Actions"],active:"Notes",sortList:["Likes","Expired","Latest"],prog:e,children:(0,o.jsx)(ZH,{...n})})};function eG(e){let{type:t,data:n,activeTab:r,setViewData:a}=e;const[s,l]=(0,i.useState)(!1);const c={users:tG,notes:ZH}[t];return(0,o.jsx)(XH,{backButton:!0,backButtonFunction:a,active:r,prog:s,th:{users:["Username","Email","Notes","Premium","Verified","Points","Business","Block/Unblock","Actions"],notes:["Email","Content","Likes","Created","Expired","Time","Visibility","Actions"]}[t],children:(0,o.jsx)(c,{mainData:n,prog:s,setProg:l})})}const tG=function(e){let{prog:t,setProg:n,mainData:r}=e;const[a,s]=(0,i.useState)(r||[]),[l,c]=(0,i.useState)({type:null,data:null}),u=function(){const e={route:"admin/isAlive",params:{getData:!0,ref:"Users"},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(e).then((e=>{e.data.success?s(e.data.body):(bi.error(e.data.message),localStorage.removeItem("SyncUp_AdminToken")),n(!1)}))};(0,i.useEffect)((()=>{r||(n(!0),u())}),[]);const d={activeTab:"Users",setViewData:c,...l,prog:t,setProg:n};return(0,o.jsx)(o.Fragment,{children:l.type?(0,o.jsx)(eG,{...d}):!t&&a.map(((e,t)=>(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:(0,o.jsx)("img",{width:"35",style:{borderRadius:"100%"},src:e.avatar_url})}),(0,o.jsx)("td",{children:e.username}),(0,o.jsxs)("td",{children:[e.email.slice(0,2),"...",e.email.slice(e.email.length-2,e.email.length)]}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{onClick:()=>function(e){const t={route:"admin/getNotesByUserId",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},params:{userId:e},crypto:!0};hl(t).then((e=>{e.data.success&&c({type:"notes",data:e.data.body})}))}(e._id),className:"btnSearch",style:{width:"50px"},children:(0,o.jsx)("img",{src:rF,style:{width:"15px"},alt:""})})}),(0,o.jsx)("td",{children:e.isPremium?(0,o.jsx)("span",{class:"badge badge-success rounded-pill d-inline premiumBadge",children:"Premium"}):"No"}),(0,o.jsx)("td",{children:e.isEmailVerified?"Yes":"No"}),(0,o.jsx)("td",{children:e.chatpoints}),(0,o.jsx)("td",{children:e.isBusiness?"Yes":"No"}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{onClick:()=>((e,t)=>{const n=localStorage.getItem("SyncUp_AdminToken"),i={route:"admin/changeBlock",payload:{user:e,state:t},headers:{Authorization:"Bearer ".concat(n)},method:"PUT"};hl(i).then((n=>{n.data.success?(bi.success(n.data.message),r?s(a.map((n=>n.email==e?{...n,isBlocked:"unblock"!=t}:n))):u()):bi.error(n.data.message)}))})(e.email,e.isBlocked?"unblock":"block"),className:e.isBlocked?"btnSearch bg-success":"btnSearch bg-danger",style:{width:"70px"},children:e.isBlocked?"Unblock":"Block"})}),(0,o.jsxs)("td",{style:{display:"flex"},children:[(0,o.jsx)("button",{className:"btnSearch btnNew",style:{width:"50px"},children:(0,o.jsx)("img",{style:{width:"20px"},src:KH})}),(0,o.jsx)("button",{className:"btnSearch",style:{width:"50px"},children:(0,o.jsx)("img",{style:{width:"20px"},src:rF})})]})]},t)))})},nG=function(){bo();const[e,t]=(0,i.useState)(!1),n={setProg:t,prog:e};return(0,o.jsx)(XH,{th:["Username","Email","Notes","Premium","Verified","Points","Business","Block/Unblock","Actions"],sortList:["Name","Blocked","Premium","Business","Chatpoints"],prog:e,children:(0,o.jsx)(tG,{...n})})};function iG(e){return e+.5|0}const rG=(e,t,n)=>Math.max(Math.min(e,n),t);function aG(e){return rG(iG(2.55*e),0,255)}function oG(e){return rG(iG(255*e),0,255)}function sG(e){return rG(iG(e/2.55)/100,0,1)}function lG(e){return rG(iG(100*e),0,100)}const cG={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uG=[..."0123456789ABCDEF"],dG=e=>uG[15&e],fG=e=>uG[(240&e)>>4]+uG[15&e],hG=e=>(240&e)>>4===(15&e);function pG(e){var t=(e=>hG(e.r)&&hG(e.g)&&hG(e.b)&&hG(e.a))(e)?dG:fG;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const gG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mG(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function vG(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function bG(e,t,n){const i=mG(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function yG(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let s,l,c;return r!==a&&(c=r-a,l=o>.5?c/(2-r-a):c/(r+a),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),s=60*s+.5),[0|s,l||0,o]}function CG(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(oG)}function wG(e,t,n){return CG(mG,e,t,n)}function SG(e){return(e%360+360)%360}function IG(e){const t=gG.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?aG(+t[5]):oG(+t[5]));const r=SG(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return CG(bG,e,t,n)}(r,a,o):"hsv"===t[1]?function(e,t,n){return CG(vG,e,t,n)}(r,a,o):wG(r,a,o),{r:n[0],g:n[1],b:n[2],a:i}}const TG={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},EG={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let MG;function RG(e){MG||(MG=function(){const e={},t=Object.keys(EG),n=Object.keys(TG);let i,r,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],r=0;r<n.length;r++)a=n[r],s=s.replace(a,TG[a]);a=parseInt(EG[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),MG.transparent=[0,0,0,0]);const t=MG[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const AG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const kG=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,xG=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function DG(e,t,n){if(e){let i=yG(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=wG(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function OG(e,t){return e?Object.assign(t||{},e):e}function LG(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=oG(e[3]))):(t=OG(e,{r:0,g:0,b:0,a:1})).a=oG(t.a),t}function _G(e){return"r"===e.charAt(0)?function(e){const t=AG.exec(e);let n,i,r,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?aG(e):rG(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?aG(n):rG(n,0,255)),i=255&(t[4]?aG(i):rG(i,0,255)),r=255&(t[6]?aG(r):rG(r,0,255)),{r:n,g:i,b:r,a:a}}}(e):IG(e)}class NG{constructor(e){if(e instanceof NG)return e;const t=typeof e;let n;"object"===t?n=LG(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*cG[e[1]],g:255&17*cG[e[2]],b:255&17*cG[e[3]],a:5===n?17*cG[e[4]]:255}:7!==n&&9!==n||(t={r:cG[e[1]]<<4|cG[e[2]],g:cG[e[3]]<<4|cG[e[4]],b:cG[e[5]]<<4|cG[e[6]],a:9===n?cG[e[7]]<<4|cG[e[8]]:255})),t}(e)||RG(e)||_G(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=OG(this._rgb);return e&&(e.a=sG(e.a)),e}set rgb(e){this._rgb=LG(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(sG(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?pG(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=yG(e),n=t[0],i=lG(t[1]),r=lG(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(sG(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,s=n.a-i.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=xG(sG(e.r)),r=xG(sG(e.g)),a=xG(sG(e.b));return{r:oG(kG(i+n*(xG(sG(t.r))-i))),g:oG(kG(r+n*(xG(sG(t.g))-r))),b:oG(kG(a+n*(xG(sG(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new NG(this.rgb)}alpha(e){return this._rgb.a=oG(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=iG(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return DG(this._rgb,2,e),this}darken(e){return DG(this._rgb,2,-e),this}saturate(e){return DG(this._rgb,1,e),this}desaturate(e){return DG(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=yG(e);n[0]=SG(n[0]+t),n=wG(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function jG(){}const PG=(()=>{let e=0;return()=>e++})();function UG(e){return null===e||"undefined"===typeof e}function FG(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function BG(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function zG(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function WG(e,t){return zG(e)?e:t}function VG(e,t){return"undefined"===typeof e?t:e}const HG=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function GG(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function YG(e,t,n,i){let r,a,o;if(FG(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(BG(e))for(o=Object.keys(e),a=o.length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])}function JG(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function QG(e){if(FG(e))return e.map(QG);if(BG(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=QG(e[n[r]]);return t}return e}function qG(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function XG(e,t,n,i){if(!qG(e))return;const r=t[e],a=n[e];BG(r)&&BG(a)?KG(r,a,i):t[e]=QG(a)}function KG(e,t,n){const i=FG(t)?t:[t],r=i.length;if(!BG(e))return e;const a=(n=n||{}).merger||XG;let o;for(let s=0;s<r;++s){if(o=i[s],!BG(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)a(t[i],e,o,n)}return e}function ZG(e,t){return KG(e,t,{merger:$G})}function $G(e,t,n){if(!qG(e))return;const i=t[e],r=n[e];BG(i)&&BG(r)?ZG(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=QG(r))}const eY={"":e=>e,x:e=>e.x,y:e=>e.y};function tY(e,t){const n=eY[t]||(eY[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function nY(e){return e.charAt(0).toUpperCase()+e.slice(1)}const iY=e=>"undefined"!==typeof e,rY=e=>"function"===typeof e,aY=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const oY=Math.PI,sY=2*oY,lY=sY+oY,cY=Number.POSITIVE_INFINITY,uY=oY/180,dY=oY/2,fY=oY/4,hY=2*oY/3,pY=Math.log10,gY=Math.sign;function mY(e,t,n){return Math.abs(e-t)<n}function vY(e){const t=Math.round(e);e=mY(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(pY(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function bY(e){return!isNaN(parseFloat(e))&&isFinite(e)}function yY(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function CY(e){return e*(oY/180)}function wY(e){return e*(180/oY)}function SY(e){if(!zG(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function IY(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*oY&&(a+=sY),{angle:a,distance:r}}function TY(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function EY(e,t){return(e-t+lY)%sY-oY}function MY(e){return(e%sY+sY)%sY}function RY(e,t,n,i){const r=MY(e),a=MY(t),o=MY(n),s=MY(a-r),l=MY(o-r),c=MY(r-a),u=MY(r-o);return r===a||r===o||i&&a===o||s>l&&c<u}function AY(e,t,n){return Math.max(t,Math.min(n,e))}function kY(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function xY(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,a=0;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const DY=(e,t,n,i)=>xY(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),OY=(e,t,n)=>xY(e,n,(i=>e[i][t]>=n));const LY=["push","pop","shift","splice","unshift"];function _Y(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(LY.forEach((t=>{delete e[t]})),delete e._chartjs)}function NY(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const jY="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function PY(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=a,i||(i=!0,jY.call(window,(()=>{i=!1,e.apply(t,n)})))}}const UY=e=>"start"===e?"left":"end"===e?"right":"center",FY=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function BY(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=AY(Math.min(DY(s,l,c).lo,n?i:DY(t,l,o.getPixelForValue(c)).lo),0,i-1)),a=f?AY(Math.max(DY(s,o.axis,u,!0).hi+1,n?0:DY(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:a}}function zY(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const WY=e=>0===e||1===e,VY=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*sY/n),HY=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*sY/n)+1,GY={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*dY),easeOutSine:e=>Math.sin(e*dY),easeInOutSine:e=>-.5*(Math.cos(oY*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>WY(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>WY(e)?e:VY(e,.075,.3),easeOutElastic:e=>WY(e)?e:HY(e,.075,.3),easeInOutElastic(e){const t=.1125;return WY(e)?e:e<.5?.5*VY(2*e,t,.45):.5+.5*HY(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-GY.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*GY.easeInBounce(2*e):.5*GY.easeOutBounce(2*e-1)+.5};function YY(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function JY(e){return YY(e)?e:new NG(e)}function QY(e){return YY(e)?e:new NG(e).saturate(.5).darken(.1).hexString()}const qY=["x","y","borderWidth","radius","tension"],XY=["color","borderColor","backgroundColor"];const KY=new Map;function ZY(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=KY.get(n);return i||(i=new Intl.NumberFormat(e,t),KY.set(n,i)),i}(t,n).format(e)}const $Y={values:e=>FG(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=pY(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),ZY(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(pY(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?$Y.numeric.call(this,e,t,n):""}};var eJ={formatters:$Y};const tJ=Object.create(null),nJ=Object.create(null);function iJ(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function rJ(e,t,n){return"string"===typeof t?KG(iJ(e,t),n):KG(iJ(e,""),t)}class aJ{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>QY(t.backgroundColor),this.hoverBorderColor=(e,t)=>QY(t.borderColor),this.hoverColor=(e,t)=>QY(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return rJ(this,e,t)}get(e){return iJ(this,e)}describe(e,t){return rJ(nJ,e,t)}override(e,t){return rJ(tJ,e,t)}route(e,t,n,i){const r=iJ(this,e),a=iJ(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[i];return BG(e)?Object.assign({},t,e):VG(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var oJ=new aJ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:XY},numbers:{type:"number",properties:qY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eJ.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function sJ(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function lJ(e,t,n,i){let r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,u,d,f;for(l=0;l<s;l++)if(d=n[l],void 0===d||null===d||FG(d)){if(FG(d))for(c=0,u=d.length;c<u;c++)f=d[c],void 0===f||null===f||FG(f)||(o=sJ(e,r,a,o,f))}else o=sJ(e,r,a,o,d);e.restore();const h=a.length/2;if(h>n.length){for(l=0;l<h;l++)delete r[a[l]];a.splice(0,h)}return o}function cJ(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function uJ(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function dJ(e,t,n,i){fJ(e,t,n,i,null)}function fJ(e,t,n,i,r){let a,o,s,l,c,u,d,f;const h=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*uY;if(h&&"object"===typeof h&&(a=h.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,i),e.rotate(m),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),h){default:r?e.ellipse(n,i,r/2,g,0,0,sY):e.arc(n,i,g,0,sY),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=hY,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=hY,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+fY)*l,d=Math.cos(m+fY)*(r?r/2-c:l),s=Math.sin(m+fY)*l,f=Math.sin(m+fY)*(r?r/2-c:l),e.arc(n-d,i-s,c,m-oY,m-dY),e.arc(n+f,i-o,c,m-dY,m),e.arc(n+d,i+s,c,m,m+dY),e.arc(n-f,i+o,c,m+dY,m+oY),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=fY;case"rectRot":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-s),e.lineTo(n+f,i-o),e.lineTo(n+d,i+s),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=fY;case"cross":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=fY,d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,s=Math.sin(m)*g,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function hJ(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function pJ(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function gJ(e){e.restore()}function mJ(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vJ(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function bJ(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function yJ(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function CJ(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=FG(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),UG(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&yJ(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),UG(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,i,a.maxWidth)),e.fillText(c,n,i,a.maxWidth),bJ(e,n,i,c,a),i+=Number(r.lineHeight);e.restore()}function wJ(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*oY,oY,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,oY,dY,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,dY,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-dY,!0),e.lineTo(n+o.topLeft,i)}const SJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TJ(e,t){const n=(""+e).match(SJ);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const EJ=e=>+e||0;function MJ(e,t){const n={},i=BG(t),r=i?Object.keys(t):t,a=BG(e)?i?n=>VG(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=EJ(a(o));return n}function RJ(e){return MJ(e,{top:"y",right:"x",bottom:"y",left:"x"})}function AJ(e){return MJ(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kJ(e){const t=RJ(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xJ(e,t){e=e||{},t=t||oJ.font;let n=VG(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=VG(e.style,t.style);i&&!(""+i).match(IJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:VG(e.family,t.family),lineHeight:TJ(VG(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:VG(e.weight,t.weight),string:""};return r.string=function(e){return!e||UG(e.size)||UG(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function DJ(e,t,n,i){let r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&FG(o)&&(o=o[n%o.length],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}function OJ(e,t){return Object.assign(Object.create(e),t)}function LJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=HJ("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>LJ([i,...e],t,r,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>UJ(n,i,(()=>function(e,t,n,i){let r;for(const a of t)if(r=HJ(jJ(a,e),n),"undefined"!==typeof r)return PJ(e,r)?WJ(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>GJ(e).includes(t),ownKeys:e=>GJ(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function _J(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:NJ(e,i),setContext:t=>_J(e,t,n,i),override:r=>_J(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>UJ(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=e;let s=i[t];rY(s)&&o.isScriptable(t)&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||i);s.delete(e),PJ(e,l)&&(l=WJ(r._scopes,r,e,l));return l}(t,s,e,n));FG(s)&&s.length&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:s}=n;if("undefined"!==typeof a.index&&i(e))return t[a.index%t.length];if(BG(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=WJ(i,r,e,l);t.push(_J(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));PJ(t,s)&&(s=_J(s,r,a&&a[t],o));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function NJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:rY(n)?n:()=>n,isIndexable:rY(i)?i:()=>i}}const jJ=(e,t)=>e?e+nY(t):t,PJ=(e,t)=>BG(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function UJ(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function FJ(e,t,n){return rY(e)?e(t,n):e}const BJ=(e,t)=>!0===e?t:"string"===typeof e?tY(t,e):void 0;function zJ(e,t,n,i,r){for(const a of t){const t=BJ(n,a);if(t){e.add(t);const a=FJ(t._fallback,n,r);if("undefined"!==typeof a&&a!==n&&a!==i)return a}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function WJ(e,t,n,i){const r=t._rootScopes,a=FJ(t._fallback,n,i),o=[...e,...r],s=new Set;s.add(i);let l=VJ(s,o,n,a||n,i);return null!==l&&(("undefined"===typeof a||a===n||(l=VJ(s,o,a,l,i),null!==l))&&LJ(Array.from(s),[""],r,a,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(FG(r)&&BG(n))return n;return r||{}}(t,n,i))))}function VJ(e,t,n,i,r){for(;n;)n=zJ(e,t,n,i,r);return n}function HJ(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function GJ(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function YJ(e,t,n,i){const{iScale:r}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={r:r.parse(tY(u,a),c)};return o}const JJ=Number.EPSILON||1e-14,QJ=(e,t)=>t<e.length&&!e[t].skip&&e[t],qJ=e=>"x"===e?"y":"x";function XJ(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,s=TY(a,r),l=TY(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+f*(o.x-r.x),y:a.y+f*(o.y-r.y)}}}function KJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=qJ(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,s,l,c=QJ(e,0);for(o=0;o<i;++o)if(s=l,l=c,c=QJ(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?gY(r[o-1])!==gY(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,a,o,s,l,c=QJ(e,0);for(let u=0;u<i-1;++u)l=c,c=QJ(e,u+1),l&&c&&(mY(t[u],0,JJ)?n[u]=n[u+1]=0:(r=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(r,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=r*o*t[u],n[u+1]=a*o*t[u])))}(e,r,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=qJ(n),r=e.length;let a,o,s,l=QJ(e,0);for(let c=0;c<r;++c){if(o=s,s=l,l=QJ(e,c+1),!s)continue;const r=s[n],u=s[i];o&&(a=(r-o[n])/3,s["cp1".concat(n)]=r-a,s["cp1".concat(i)]=u-a*t[c]),l&&(a=(l[n]-r)/3,s["cp2".concat(n)]=r+a,s["cp2".concat(i)]=u+a*t[c])}}(e,a,t)}function ZJ(e,t,n){return Math.max(Math.min(e,n),t)}function $J(e,t,n,i,r){let a,o,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)KJ(e,r);else{let n=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=XJ(n,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,a,o,s=hJ(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&hJ(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=ZJ(r.cp1x,t.left,t.right),r.cp1y=ZJ(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=ZJ(r.cp2x,t.left,t.right),r.cp2y=ZJ(r.cp2y,t.top,t.bottom)))}(e,n)}function eQ(){return"undefined"!==typeof window&&"undefined"!==typeof document}function tQ(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function nQ(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const iQ=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const rQ=["top","right","bottom","left"];function aQ(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=rQ[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const oQ=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function sQ(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=iQ(n),a="border-box"===r.boxSizing,o=aQ(r,"padding"),s=aQ(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o,s,l=!1;if(oQ(r,a,e.target))o=r,s=a;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,s=i.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),d=o.left+(u&&s.left),f=o.top+(u&&s.top);let{width:h,height:p}=t;return a&&(h-=o.width+s.width,p-=o.height+s.height),{x:Math.round((l-d)/h*n.width/i),y:Math.round((c-f)/p*n.height/i)}}const lQ=e=>Math.round(10*e)/10;function cQ(e,t,n,i){const r=iQ(e),a=aQ(r,"margin"),o=nQ(r.maxWidth,e,"clientWidth")||cY,s=nQ(r.maxHeight,e,"clientHeight")||cY,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const a=tQ(e);if(a){const e=a.getBoundingClientRect(),o=iQ(a),s=aQ(o,"border","width"),l=aQ(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,i=nQ(o.maxWidth,a,"clientWidth"),r=nQ(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||cY,maxHeight:r||cY}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=aQ(r,"border","width"),t=aQ(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=lQ(Math.min(c,o,l.maxWidth)),u=lQ(Math.min(u,s,l.maxHeight)),c&&!u&&(u=lQ(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=lQ(Math.floor(u*i))),{width:c,height:u}}function uQ(e,t,n){const i=t||1,r=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}const dQ=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};eQ()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(nn){}return e}();function fQ(e,t){const n=function(e,t){return iQ(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function hQ(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function pQ(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function gQ(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=hQ(e,r,n),s=hQ(r,a,n),l=hQ(a,t,n),c=hQ(o,s,n),u=hQ(s,l,n);return hQ(c,u,n)}function mQ(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function vQ(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function bQ(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yQ(e){return"angle"===e?{between:RY,compare:EY,normalize:MY}:{between:kY,compare:(e,t)=>e-t,normalize:e=>e}}function CQ(e){let{start:t,end:n,count:i,loop:r,style:a}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:a}}function wQ(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=yQ(i),{start:u,end:d,loop:f,style:h}=function(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:s}=yQ(i),l=t.length;let c,u,{start:d,end:f,loop:h}=e;if(h){for(d+=l,f+=l,c=0,u=l;c<u&&o(s(t[d%l][i]),r,a);++c)d--,f--;d%=l,f%=l}return f<d&&(f+=l),{start:d,end:f,loop:h,style:e.style}}(e,t,n),p=[];let g,m,v,b=!1,y=null;const C=()=>b||l(r,v,g)&&0!==s(r,v),w=()=>!b||0===s(a,g)||l(a,v,g);for(let S=u,I=u;S<=d;++S)m=t[S%o],m.skip||(g=c(m[i]),g!==v&&(b=l(g,r,a),null===y&&C()&&(y=0===s(g,r)?S:I),null!==y&&w()&&(p.push(CQ({start:y,end:S,loop:f,count:o,style:h})),y=null),I=S,v=g));return null!==y&&p.push(CQ({start:y,end:d,loop:f,count:o,style:h})),p}function SQ(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=wQ(i[r],e.points,t);a.length&&n.push(...a)}return n}function IQ(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),a=TQ(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let u=a,d=t[0].start,f=d;function h(e,t,i,r){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,d=t%l)}}for(const p of t){d=s?d:p.start;let e,t=n[d%l];for(f=d+1;f<=p.end;f++){const a=n[f%l];e=TQ(i.setContext(OJ(r,{type:"segment",p0:t,p1:a,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),EQ(e,u)&&h(d,f-1,p.loop,u),t=a,u=e}d<f-1&&h(d,f-1,p.loop,u)}return c}(e,t,n,i):t}function TQ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function EQ(e,t){if(!t)return!1;const n=[],i=function(e,t){return YY(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class MQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=jY.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a,o=r.length-1,s=!1;for(;o>=0;--o)a=r[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var RQ=new MQ;const AQ="transparent",kQ={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=JY(e||AQ),r=i.valid&&JY(t||AQ);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class xQ{constructor(e,t,n,i){const r=t[n];i=DJ([e.to,i,r,e.from]);const a=DJ([e.from,r,i]);this._active=!0,this._fn=e.fn||kQ[e.type||typeof a],this._easing=GY[e.easing]||GY.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=DJ([e.to,t,i,e.from]),this._from=DJ([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let s;if(this._active=r!==o&&(a||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class DQ{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!BG(e))return;const t=Object.keys(oJ.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!BG(r))return;const a={};for(const e of t)a[e]=r[e];(FG(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(r[l]=u=new xQ(d,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(RQ.add(this._chart,n),!0):void 0}}function OQ(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function LQ(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function _Q(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===i.mode;let o,s,l,c;if(null!==t){for(o=0,s=r.length;o<s;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],zG(c)&&(a||0===t||gY(t)===gY(c))&&(t+=c)}return t}}function NQ(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function jQ(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function PQ(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function UQ(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,i),d=t.length;let f;for(let h=0;h<d;++h){const e=t[h],{[l]:n,[c]:a}=e;f=(e._stacks||(e._stacks={}))[c]=jQ(r,u,n),f[s]=a,f._top=PQ(f,o,!0,i.type),f._bottom=PQ(f,o,!1,i.type);(f._visualValues||(f._visualValues={}))[s]=a}}function FQ(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function BQ(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const zQ=e=>"reset"===e||"none"===e,WQ=(e,t)=>t?e:Object.assign({},e);class VQ{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=NQ(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&BQ(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=VG(n.xAxisID,FQ(e,"x")),a=t.yAxisID=VG(n.yAxisID,FQ(e,"y")),o=t.rAxisID=VG(n.rAxisID,FQ(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,a,o),c=t.vAxisID=i(s,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_Y(this._data,this),e._stacked&&BQ(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(BG(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i],n[i]={x:a,y:e[a]};return n}(t);else if(n!==t){if(n){_Y(n,this);const e=this._cachedMeta;BQ(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),LY.forEach((t=>{const n="_onData"+nY(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const o=i.apply(this,r);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...r)})),o}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=NQ(t.vScale,t),t.stack!==n.stack&&(i=!0,BQ(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&UQ(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,o=r.axis;let s,l,c,u=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=FG(i[e])?this.parseArrayData(n,i,e,t):BG(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||d&&l[o]<d[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(r()&&(u=!1),d=l);n._sorted=u}a&&UQ(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,s=a.axis,l=r.getLabels(),c=r===a,u=new Array(i);let d,f,h;for(d=0,f=i;d<f;++d)h=d+n,u[d]={[o]:c||r.parse(l[h],h),[s]:a.parse(t[h],h)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={x:r.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+n,f=t[d],l[c]={x:r.parse(tY(f,o),d),y:a.parse(tY(f,s),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis];return _Q({keys:LQ(i,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=_Q(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:LQ(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let d,f;function h(){f=i[d];const t=f[o.axis];return!zG(f[e.axis])||c>t||u<t}for(d=0;d<a&&(h()||(this.updateRangeFromParsed(l,e,f,s),!r));++d);if(r)for(d=a-1;d>=0;--d)if(!h()){this.updateRangeFromParsed(l,e,f,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],zG(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return BG(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(VG(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=OQ(e,n),r=OQ(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,s),c=o;c<o+s;++c){const t=i[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return OJ(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return OJ(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,a=e+"-"+t,o=r[a],s=this.enableOptionSharing&&iY(n);if(o)return WQ(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),f=Object.keys(oJ.elements[e]),h=l.resolveNamedOptions(d,f,(()=>this.getContext(n,i,t)),u);return h.$shared&&(h.$shared=s,r[a]=Object.freeze(WQ(h,s))),h}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a="animation-".concat(t),o=r[a];if(o)return o;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),a=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(a,this.getContext(e,n,t))}const l=new DQ(i,s&&s.animations);return s&&s._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||zQ(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){zQ(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!zQ(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&BQ(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function HQ(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=NY(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(iY(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),l();return s}function GQ(e,t,n,i){return FG(e)?function(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),s=Math.max(r,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:o,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function YQ(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),s=r===a,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=t[c],d={},d[r.axis]=s||r.parse(o[c],c),l.push(GQ(f,d,a,c));return l}function JQ(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function QQ(e,t,n,i){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(a[qQ(u,o,s,l)]=!0,r=c)),a[qQ(r,o,s,l)]=!0,e.borderSkipped=a}function qQ(e,t,n,i){var r,a,o;return i?(o=n,e=XQ(e=(r=e)===(a=t)?o:r===o?a:r,n,t)):e=XQ(e,t,n),e}function XQ(e,t,n){return"start"===e?t:"end"===e?n:e}function KQ(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}wi(VQ,"defaults",{}),wi(VQ,"datasetElementType",null),wi(VQ,"dataElementType",null);class ZQ extends VQ{parsePrimitiveData(e,t,n,i){return YQ(e,t,n,i)}parseArrayData(e,t,n,i){return YQ(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?o:s,c="x"===a.axis?o:s,u=[];let d,f,h,p;for(d=n,f=n+i;d<f;++d)p=t[d],h={},h[r.axis]=r.parse(tY(p,l),d),u.push(GQ(tY(p,c),h,a,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=JQ(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const t=this.getParsed(f),n=r||UG(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),h=this._calculateBarIndexPixels(f,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||JQ(t._custom)||a===p._top||a===p._bottom,x:l?n.head:h.center,y:l?h.center:n.head,height:l?h.size:Math.abs(n.size),width:l?Math.abs(n.size):h.size};d&&(g.options=u||this.resolveDataElementOptions(f,e[f].active?"active":i));const m=g.options||e[f].options;QQ(g,m,p,a),KQ(g,m,c.ratio),this.updateElement(e[f],f,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,a=[],o=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(UG(i)||isNaN(i))return!0};for(const s of i)if((void 0===t||!o(s))&&((!1===r||-1===a.indexOf(s.stack)||void 0===r&&void 0===s.stack)&&a.push(s.stack),s.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||HQ(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,o=r||0,s=this.getParsed(e),l=s._custom,c=JQ(l);let u,d,f=s[t.axis],h=0,p=n?this.applyStack(t,s,n):f;p!==f&&(h=p-f,p=f),c&&(f=l.barStart,p=l.barEnd-l.barStart,0!==f&&gY(f)!==gY(l.barEnd)&&(h=0),h+=f);const g=UG(r)||c?h:r;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(h+p):m,d=u-m,Math.abs(d)<a){d=function(e,t,n){return 0!==e?gY(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*a,f===o&&(m-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),h=Math.max(e,r);m=Math.max(Math.min(m,h),l),u=m+d,n&&!c&&(s._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=gY(d)*t.getLineWidthForValue(o)/2;m+=e,d-=e}return{size:d,base:m,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=VG(i.maxBarThickness,1/0);let o,s;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let a,o;return UG(r)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,s=Math.min(a,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}wi(ZQ,"id","bar"),wi(ZQ,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),wi(ZQ,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $Q extends VQ{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=VG(e[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=VG(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!r&&this.getParsed(d),f={},h=f[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),p=f[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);f.skip=isNaN(h)||isNaN(p),l&&(f.options=s||this.resolveDataElementOptions(d,t.active?"active":i),r&&(f.options.radius=0)),this.updateElement(t,d,f,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=VG(n&&n._custom,r),i}}wi($Q,"id","bubble"),wi($Q,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),wi($Q,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class eq extends VQ{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,a,o=e=>+n[e];if(BG(n[e])){const{key:e="value"}=this._parsing;o=t=>+tY(n[t],e)}for(r=e,a=e+t;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return CY(this.options.rotation-90)}_getCircumference(){return CY(this.options.circumference)}_getRotationExtents(){let e=sY,t=-sY;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:h,offsetY:p}=function(e,t,n){let i=1,r=1,a=0,o=0;if(t<sY){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),f=Math.sin(l),h=(e,t,i)=>RY(e,s,l,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>RY(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n),g=h(0,c,d),m=h(dY,u,f),v=p(oY,c,d),b=p(oY+dY,u,f);i=(g-v)/2,r=(m-b)/2,a=-(g+v)/2,o=-(m+b)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}(u,c,s),g=(n.width-a)/d,m=(n.height-a)/f,v=Math.max(Math.min(g,m)/2,0),b=HG(this.options.radius,v),y=(b-Math.max(b*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=h*b,this.offsetY=p*b,i.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*l,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/sY)}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&s.animateScale,d=u?0:this.innerRadius,f=u?0:this.outerRadius,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,i);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:f,innerRadius:d};p&&(a.options=h||this.resolveDataElementOptions(g,n.active?"active":i)),m+=t,this.updateElement(n,g,a,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?sY*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ZY(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=o.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(VG(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wi(eq,"id","doughnut"),wi(eq,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),wi(eq,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),wi(eq,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class tq extends VQ{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=BY(t,i,a);this._drawStart=o,this._drawCount=s,zY(t)&&(o=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,s,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,f=o.axis,{spanGaps:h,segment:p}=this.options,g=bY(h)?h:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=t+n,b=e.length;let y=t>0&&this.getParsed(t-1);for(let C=0;C<b;++C){const n=e[C],h=m?n:{};if(C<t||C>=v){h.skip=!0;continue}const b=this.getParsed(C),w=UG(b[f]),S=h[d]=a.getPixelForValue(b[d],C),I=h[f]=r||w?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,b,s):b[f],C);h.skip=isNaN(S)||isNaN(I)||w,h.stop=C>0&&Math.abs(b[d]-y[d])>g,p&&(h.parsed=b,h.raw=l.data[C]),u&&(h.options=c||this.resolveDataElementOptions(C,n.active?"active":i)),m||this.updateElement(n,C,h,i),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}wi(tq,"id","line"),wi(tq,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),wi(tq,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nq extends VQ{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ZY(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return YJ.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*oY;let d,f=u;const h=360/this.countVisibleElements();for(d=0;d<t;++d)f+=this._computeAngle(d,i,h);for(d=t;d<t+n;d++){const t=e[d];let n=f,p=f+this._computeAngle(d,i,h),g=a.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;f=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,m,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?CY(this.resolveDataElementOptions(e,t).angle||n):0}}wi(nq,"id","polarArea"),wi(nq,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),wi(nq,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class iq extends eq{}wi(iq,"id","pie"),wi(iq,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rq extends VQ{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return YJ.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),s=r.getPointPositionForValue(o,this.getParsed(o).r),l=a?r.xCenter:s.x,c=a?r.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}wi(rq,"id","radar"),wi(rq,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),wi(rq,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class aq extends VQ{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=BY(t,n,i);if(this._drawStart=r,this._drawCount=a,zY(t)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),f=a.axis,h=o.axis,{spanGaps:p,segment:g}=this.options,m=bY(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),c=v?t:{},p=UG(n[h]),C=c[f]=a.getPixelForValue(n[f],y),w=c[h]=r||p?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[h],y);c.skip=isNaN(C)||isNaN(w)||p,c.stop=y>0&&Math.abs(n[f]-b[f])>m,g&&(c.parsed=n,c.raw=l.data[y]),d&&(c.options=u||this.resolveDataElementOptions(y,t.active?"active":i)),v||this.updateElement(t,y,c,i),b=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}wi(aq,"id","scatter"),wi(aq,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),wi(aq,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function oq(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sq{static override(e){Object.assign(sq.prototype,e)}constructor(e){wi(this,"options",void 0),this.options=e||{}}init(){}formats(){return oq()}parse(){return oq()}format(){return oq()}add(){return oq()}diff(){return oq()}startOf(){return oq()}endOf(){return oq()}}var lq=sq;function cq(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const e=s._reversePixels?OY:DY;if(!i)return e(a,t,n);if(r._sharedOptions){const i=a[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(a,t,n-r),o=e(a,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function uq(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=cq(a[s],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function dq(e,t,n,i,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return uq(e,n,t,(function(n,o,s){(r||hJ(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function fq(e,t,n,i,r,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return uq(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,r);if(i&&!d)return;const f=n.getCenterPoint(r);if(!(!!a||e.isPointInArea(f))&&!d)return;const h=s(t,f);h<l?(o=[{element:n,datasetIndex:c,index:u}],l=h):h===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function hq(e,t,n,i,r,a){return a||e.isPointInArea(t)?"r"!==n||i?fq(e,t,n,i,r,a):function(e,t,n,i){let r=[];return uq(e,n,t,(function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:l}=IY(e,{x:t.x,y:t.y});RY(l,o,s)&&r.push({element:e,datasetIndex:n,index:a})})),r}(e,t,n,r):[]}function pq(e,t,n,i,r){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return uq(e,n,t,((e,i,l)=>{e[o](t[n],r)&&(a.push({element:e,datasetIndex:i,index:l}),s=s||e.inRange(t.x,t.y,r))})),i&&!s?[]:a}var gq={evaluateInteractionItems:uq,modes:{index(e,t,n,i){const r=sQ(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?dq(e,r,a,i,o):hq(e,r,a,!1,i,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=sQ(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?dq(e,r,a,i,o):hq(e,r,a,!1,i,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>dq(e,sQ(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=sQ(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return hq(e,r,a,n.intersect,i,o)},x:(e,t,n,i)=>pq(e,sQ(t,e),"x",n.intersect,i),y:(e,t,n,i)=>pq(e,sQ(t,e),"y",n.intersect,i)}};const mq=["left","top","right","bottom"];function vq(e,t){return e.filter((e=>e.pos===t))}function bq(e,t){return e.filter((e=>-1===mq.indexOf(e.pos)&&e.box.axis===t))}function yq(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Cq(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!mq.includes(i))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*i:o&&t.availableWidth,s.height=r):(s.width=i,s.height=c?c*r:o&&t.availableHeight)}return n}function wq(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Sq(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Iq(e,t,n,i){const{pos:r,box:a}=n,o=e.maxPadding;if(!BG(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[r]+=n.size}a.getPadding&&Sq(o,a.getPadding());const s=Math.max(0,t.outerWidth-wq(o,e,"left","right")),l=Math.max(0,t.outerHeight-wq(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Tq(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function Eq(e,t,n,i){const r=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,Tq(s.horizontal,t));const{same:o,other:d}=Iq(t,n,s,i);c|=o&&r.length,u=u||d,l.fullSize||r.push(s)}return c&&Eq(r,t,n,i)||u}function Mq(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Rq(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=i[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const i=t.w*c,a=l.size||e.height;iY(l.start)&&(o=l.start),e.fullSize?Mq(e,r.left,o,n.outerWidth-r.right-r.left,a):Mq(e,t.left+l.placed,o,i,a),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;iY(l.start)&&(a=l.start),e.fullSize?Mq(e,a,r.top,o,n.outerHeight-r.bottom-r.top):Mq(e,a,t.top+l.placed,o,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=o}var Aq={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=kJ(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=yq(t.filter((e=>e.box.fullSize)),!0),i=yq(vq(t,"left"),!0),r=yq(vq(t,"right")),a=yq(vq(t,"top"),!0),o=yq(vq(t,"bottom")),s=bq(t,"x"),l=bq(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(o).concat(s),chartArea:vq(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;YG(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);Sq(f,kJ(i));const h=Object.assign({maxPadding:f,w:a,h:o,x:r.left,y:r.top},r),p=Cq(l.concat(c),d);Eq(s.fullSize,h,d,p),Eq(l,h,d,p),Eq(c,h,d,p)&&Eq(l,h,d,p),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(h),Rq(s.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,Rq(s.rightAndBottom,h,d,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},YG(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})}))}};class kq{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class xq extends kq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dq="$chartjs",Oq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lq=e=>null===e||""===e;const _q=!!dQ&&{passive:!0};function Nq(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,_q)}function jq(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Pq(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||jq(n.addedNodes,i),t=t&&!jq(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Uq(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||jq(n.removedNodes,i),t=t&&!jq(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Fq=new Map;let Bq=0;function zq(){const e=window.devicePixelRatio;e!==Bq&&(Bq=e,Fq.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Wq(e,t,n){const i=e.canvas,r=i&&tQ(i);if(!r)return;const a=PY(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||a(n,i)}));return o.observe(r),function(e,t){Fq.size||window.addEventListener("resize",zq),Fq.set(e,t)}(e,a),o}function Vq(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Fq.delete(e),Fq.size||window.removeEventListener("resize",zq)}(e)}function Hq(e,t,n){const i=e.canvas,r=PY((t=>{null!==e.ctx&&n(function(e,t){const n=Oq[e.type]||e.type,{x:i,y:r}=sQ(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,_q)}(i,t,r),r}class Gq extends kq{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Dq]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lq(r)){const t=fQ(e,"width");void 0!==t&&(e.width=t)}if(Lq(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=fQ(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Dq])return!1;const n=t[Dq].initial;["height","width"].forEach((e=>{const i=n[e];UG(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[Dq],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:Pq,detach:Uq,resize:Wq}[t]||Hq;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Vq,detach:Vq,resize:Vq}[t]||Nq)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return cQ(e,t,n,i)}isAttached(e){const t=tQ(e);return!(!t||!t.isConnected)}}class Yq{constructor(){wi(this,"x",void 0),wi(this,"y",void 0),wi(this,"active",!1),wi(this,"options",void 0),wi(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return bY(this.x)&&bY(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function Jq(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>r)return function(e,t,n,i){let r,a=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),a++,o=n[a*i])}(t,c,a,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const a=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>r)return e}return Math.max(r,1)}(a,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-s)/(o-1)):null;for(Qq(t,c,u,UG(i)?0:s-i,s),e=0,n=o-1;e<n;e++)Qq(t,c,u,a[e],a[e+1]);return Qq(t,c,u,l,UG(i)?t.length:l+i),c}return Qq(t,c,u),c}function Qq(e,t,n,i,r){const a=VG(i,0),o=Math.min(VG(r,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}wi(Yq,"defaults",{}),wi(Yq,"defaultRoutes",void 0);const qq=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Xq=(e,t)=>Math.min(t||e,e);function Kq(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function Zq(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-s||c>o+s)))return c}function $q(e){return e.drawTicks?e.tickLength:0}function eX(e,t){if(!e.display)return 0;const n=xJ(e.font,t),i=kJ(e.padding);return(FG(e.text)?e.text.length:1)*n.lineHeight+i.height}function tX(e,t,n){let i=UY(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class nX extends Yq{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=WG(e,Number.POSITIVE_INFINITY),t=WG(t,Number.NEGATIVE_INFINITY),n=WG(n,Number.POSITIVE_INFINITY),i=WG(i,Number.NEGATIVE_INFINITY),{min:WG(e,n),max:WG(t,i),minDefined:zG(e),maxDefined:zG(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:WG(n,WG(i,n)),max:WG(i,WG(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){GG(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,a=HG(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(a)),max:o(r,a)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?Kq(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Jq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){GG(this.options.afterUpdate,[this])}beforeSetDimensions(){GG(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){GG(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),GG(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){GG(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=GG(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){GG(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){GG(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Xq(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a,o,s,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,f=AY(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),u+6>a&&(a=f/(n-(e.offset?.5:1)),o=this.maxHeight-$q(e.grid)-t.padding-eX(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),l=wY(Math.min(Math.asin(AY((c.highest.height+6)/a,-1,1)),Math.asin(AY(o/s,-1,1))-Math.asin(AY(d/s,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){GG(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){GG(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=eX(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=$q(r)+a):(e.height=this.maxHeight,e.width=$q(r)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:a}=this._getLabelSizes(),s=2*n.padding,l=CY(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?l?(u=i*e.width,d=n*t.height):(u=n*e.height,d=i*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){GG(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)UG(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Kq(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],s=Math.floor(t/Xq(t,n));let l,c,u,d,f,h,p,g,m,v,b,y=0,C=0;for(l=0;l<t;l+=s){if(d=e[l].label,f=this._resolveTickFontOptions(l),i.font=h=f.string,p=r[h]=r[h]||{data:{},gc:[]},g=f.lineHeight,m=v=0,UG(d)||FG(d)){if(FG(d))for(c=0,u=d.length;c<u;++c)b=d[c],UG(b)||FG(b)||(m=sJ(i,p.data,p.gc,m,b),v+=g)}else m=sJ(i,p.data,p.gc,m,d),v=g;a.push(m),o.push(v),y=Math.max(m,y),C=Math.max(v,C)}!function(e,t){YG(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const w=a.indexOf(y),S=o.indexOf(C),I=e=>({width:a[e]||0,height:o[e]||0});return{first:I(0),last:I(t-1),widest:I(w),highest:I(S),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return AY(e,-32768,32767)}(this._alignToPixels?cJ(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return OJ(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=OJ(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=CY(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:o}=i,s=r.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=$q(r),d=[],f=o.setContext(this.getContext()),h=f.display?f.width:0,p=h/2,g=function(e){return cJ(n,e,h)};let m,v,b,y,C,w,S,I,T,E,M,R;if("top"===a)m=g(this.bottom),w=this.bottom-u,I=m-p,E=g(e.top)+p,R=e.bottom;else if("bottom"===a)m=g(this.top),E=e.top,R=g(e.bottom)-p,w=m+p,I=this.top+u;else if("left"===a)m=g(this.right),C=this.right-u,S=m-p,T=g(e.left)+p,M=e.right;else if("right"===a)m=g(this.left),T=e.left,M=g(e.right)-p,C=m+p,S=this.left+u;else if("x"===t){if("center"===a)m=g((e.top+e.bottom)/2+.5);else if(BG(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}E=e.top,R=e.bottom,w=m+p,I=w+u}else if("y"===t){if("center"===a)m=g((e.left+e.right)/2);else if(BG(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}C=m-p,S=C-u,T=e.left,M=e.right}const A=VG(i.ticks.maxTicksLimit,c),k=Math.max(1,Math.ceil(c/A));for(v=0;v<c;v+=k){const e=this.getContext(v),t=r.setContext(e),i=o.setContext(e),a=t.lineWidth,c=t.color,u=i.dash||[],f=i.dashOffset,h=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;b=Zq(this,v,s),void 0!==b&&(y=cJ(n,b,a),l?C=S=T=M=y:w=I=E=R=y,d.push({tx1:C,ty1:w,tx2:S,ty2:I,x1:T,y1:E,x2:M,y2:R,width:a,color:c,borderDash:u,borderDashOffset:f,tickWidth:h,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=r,d=$q(n.grid),f=d+c,h=u?-c:f,p=-CY(this.labelRotation),g=[];let m,v,b,y,C,w,S,I,T,E,M,R,A="middle";if("top"===i)w=this.bottom-h,S=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+h,S=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,C=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,C=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+f;else if(BG(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+f}S=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)C=(e.left+e.right)/2-f;else if(BG(i)){const e=Object.keys(i)[0],t=i[e];C=this.chart.scales[e].getPixelForValue(t)}S=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===s?A="top":"end"===s&&(A="bottom"));const k=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){b=o[m],y=b.label;const e=r.setContext(this.getContext(m));I=this.getPixelForTick(m)+r.labelOffset,T=this._resolveTickFontOptions(m),E=T.lineHeight,M=FG(y)?y.length:1;const t=M/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let d,f=S;if(a?(C=I,"inner"===S&&(f=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),R="top"===i?"near"===l||0!==p?-M*E+E/2:"center"===l?-k.highest.height/2-t*E+E:-k.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?k.highest.height/2-t*E:k.highest.height-M*E,u&&(R*=-1),0===p||e.showLabelBackdrop||(C+=E/2*Math.sin(p))):(w=I,R=(1-M)*E/2),e.showLabelBackdrop){const t=kJ(e.backdropPadding),n=k.heights[m],i=k.widths[m];let r=R-t.top,a=0-t.left;switch(A){case"middle":r-=n/2;break;case"bottom":r-=n}switch(S){case"center":a-=i/2;break;case"right":a-=i;break;case"inner":m===v-1?a-=i:m>0&&(a-=i/2)}d={left:a,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:y,font:T,textOffset:R,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:f,textBaseline:A,translation:[C,w],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-CY(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=e+r,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?i?(l=this.right+r,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=cJ(e,this.left,a)-a/2,c=cJ(e,this.right,o)+o/2,u=d=s):(u=cJ(e,this.top,a)-a/2,d=cJ(e,this.bottom,o)+o/2,l=c=s),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&pJ(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;CJ(t,r.label,0,r.textOffset,n,e)}n&&gJ(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=xJ(n.font),a=kJ(n.padding),o=n.align;let s=r.lineHeight/2;"bottom"===t||"center"===t||BG(t)?(s+=a.bottom,FG(n.text)&&(s+=r.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,i){const{top:r,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let d,f,h,p=0;const g=o-r,m=s-a;if(e.isHorizontal()){if(f=FY(i,a,s),BG(n)){const e=Object.keys(n)[0],i=n[e];h=u[e].getPixelForValue(i)+g-t}else h="center"===n?(c.bottom+c.top)/2+g-t:qq(e,n,t);d=s-a}else{if(BG(n)){const e=Object.keys(n)[0],i=n[e];f=u[e].getPixelForValue(i)-m+t}else f="center"===n?(c.left+c.right)/2-m+t:qq(e,n,t);h=FY(i,o,r),p="left"===n?-dY:dY}return{titleX:f,titleY:h,maxWidth:d,rotation:p}}(this,s,t,o);CJ(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:tX(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=VG(e.grid&&e.grid.z,-1),i=VG(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nX.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[n]!==this.id||e&&a.type!==e||i.push(a)}return i}_resolveTickFontOptions(e){return xJ(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class iX{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=KG(Object.create(null),[n?oJ.get(n):{},oJ.get(t),e.defaults]);oJ.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");oJ.route(a,r,l,s)}))}(t,e.defaultRoutes);e.descriptors&&oJ.describe(t,e.descriptors)}(e,a,n),this.override&&oJ.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in oJ[i]&&(delete oJ[i][n],this.override&&delete tJ[n])}}class rX{constructor(){this.controllers=new iX(VQ,"datasets",!0),this.elements=new iX(Yq,"elements"),this.plugins=new iX(Object,"plugins"),this.scales=new iX(nX,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):YG(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=nY(e);GG(n["before"+i],[],n),t[e](n),GG(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var aX=new rX;class oX{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===GG(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){UG(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=VG(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(aX.plugins.items);for(let a=0;a<i.length;a++)n.push(aX.getPlugin(i[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:a}=t;const o=[],s=e.getContext();for(const l of r){const t=l.id,r=sX(n[t],i);null!==r&&o.push({plugin:l,options:lX(e.config,{plugin:l,local:a[t]},r,s)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function sX(e,t){return t||!1!==e?!0===e?{}:e:null}function lX(e,t,n,i){let{plugin:r,local:a}=t;const o=e.pluginScopeKeys(r),s=e.getOptionScopes(n,o);return a&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cX(e,t){const n=oJ.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function uX(e){if("x"===e||"y"===e||"r"===e)return e}function dX(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function fX(e){if(uX(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n){const t=r.axis||dX(r.position)||e.length>1&&uX(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function hX(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function pX(e,t){const n=tJ[e.type]||{scales:{}},i=t.scales||{},r=cX(e.type,t),a=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!BG(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=fX(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return hX(e,"x",n[0])||hX(e,"y",n[0])}return{}}(t,e),oJ.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),c=n.scales||{};a[t]=ZG(Object.create(null),[{axis:s},o,c[s],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||cX(r,t),s=(tJ[r]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),ZG(a[r],[{axis:t},i[r],s[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];ZG(t,[oJ.scales[t.type],oJ.scale])})),a}function gX(e){const t=e.options||(e.options={});t.plugins=VG(t.plugins,{}),t.scales=pX(e,t)}function mX(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const vX=new Map,bX=new Set;function yX(e,t){let n=vX.get(e);return n||(n=t(),vX.set(e,n),bX.add(n)),n}const CX=(e,t,n)=>{const i=tY(t,n);void 0!==i&&e.add(i)};class wX{constructor(e){this._config=function(e){return(e=e||{}).data=mX(e.data),gX(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),gX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yX(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return yX("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return yX("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return yX("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>CX(s,e,t)))),t.forEach((e=>CX(s,i,e))),t.forEach((e=>CX(s,tJ[r]||{},e))),t.forEach((e=>CX(s,oJ,e))),t.forEach((e=>CX(s,nJ,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),bX.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,tJ[t]||{},oJ.datasets[t]||{},{type:t},oJ,nJ]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:o}=SX(this._resolverCache,e,i);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:i}=NJ(e);for(const r of t){const t=n(r),a=i(r),o=(a||t)&&e[r];if(t&&(rY(o)||IX(o))||a&&FG(o))return!0}return!1}(a,t)){r.$shared=!1;s=_J(a,n=rY(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=s[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=SX(this._resolverCache,e,n);return BG(t)?_J(r,t,void 0,i):r}}function SX(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);if(!a){a={resolver:LJ(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,a)}return a}const IX=e=>BG(e)&&Object.getOwnPropertyNames(e).some((t=>rY(e[t])));const TX=["top","bottom","left","right","chartArea"];function EX(e,t){return"top"===e||"bottom"===e||-1===TX.indexOf(e)&&"x"===t}function MX(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function RX(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),GG(n&&n.onComplete,[e],t)}function AX(e){const t=e.chart,n=t.options.animation;GG(n&&n.onProgress,[e],t)}function kX(e){return eQ()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const xX={},DX=e=>{const t=kX(e);return Object.values(xX).filter((e=>e.canvas===t)).pop()};function OX(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}function LX(e,t,n){return e.options.clip?e[n]:t[n]}class _X{static register(){aX.add(...arguments),NX()}static unregister(){aX.remove(...arguments),NX()}constructor(e,t){const n=this.config=new wX(t),i=kX(e),r=DX(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!eQ()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?xq:Gq}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=PG(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],xX[this.id]=this,o&&s?(RQ.listen(this,"complete",RX),RQ.listen(this,"progress",AX),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return UG(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return aX}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uQ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uJ(this.canvas,this.ctx),this}stop(){return RQ.stop(this),this}resize(e,t){RQ.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,uQ(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),GG(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){YG(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=fX(e,n),r="r"===i,a="x"===i;return{options:n,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}})))),YG(r,(t=>{const r=t.options,a=r.id,o=fX(a,r),s=VG(r.type,t.dtype);void 0!==r.position&&EX(r.position,o)===EX(t.dposition)||(r.position=t.dposition),i[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new(aX.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),YG(i,((e,t)=>{e||delete n[t]})),YG(n,(e=>{Aq.configure(this,e,e.options),Aq.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(MX("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=i.indexAxis||cX(a,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=aX.getController(a),{datasetElementType:i,dataElementType:o}=oJ.datasets[a];Object.assign(t,{dataElementType:aX.getElement(o),datasetElementType:i&&aX.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){YG(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||YG(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(MX("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){YG(this.scales,(e=>{Aq.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);aY(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){OX(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!aY(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Aq.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],YG(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,rY(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(RQ.has(this)?this.attached&&!RQ.running(this)&&RQ.start(this):(this.draw(),RX({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:LX(n,t,"left"),right:LX(n,t,"right"),top:LX(i,t,"top"),bottom:LX(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&pJ(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&gJ(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return hJ(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=gq.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=OJ(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);iY(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),RQ.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uJ(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete xX[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};YG(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){YG(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},YG(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!JG(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,GG(r.onHover,[e,o,this],this),s&&GG(r.onClick,[e,o,this],this));const c=!JG(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function NX(){return YG(_X.instances,(e=>e._plugins.invalidate()))}function jX(e,t,n,i){const r=function(e){return MJ(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,i*t/2),s=e=>{const t=(n-Math.min(a,e))*i/2;return AY(e,0,Math.min(a,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:AY(r.innerStart,0,o),innerEnd:AY(r.innerEnd,0,o)}}function PX(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function UX(e,t,n,i,r,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let h=0;const p=r-l;if(i){const e=((u>0?u-i:0)+(d>0?d-i:0))/2;h=(p-(0!==e?p*e/(e+i):p))/2}const g=(p-Math.max(.001,p*d-n/oY)/d)/2,m=l+g+h,v=r-g-h,{outerStart:b,outerEnd:y,innerStart:C,innerEnd:w}=jX(t,f,d,v-m),S=d-b,I=d-y,T=m+b/S,E=v-y/I,M=f+C,R=f+w,A=m+C/M,k=v-w/R;if(e.beginPath(),a){const t=(T+E)/2;if(e.arc(o,s,d,T,t),e.arc(o,s,d,t,E),y>0){const t=PX(I,E,o,s);e.arc(t.x,t.y,y,E,v+dY)}const n=PX(R,v,o,s);if(e.lineTo(n.x,n.y),w>0){const t=PX(R,k,o,s);e.arc(t.x,t.y,w,v+dY,k+Math.PI)}const i=(v-w/f+(m+C/f))/2;if(e.arc(o,s,f,v-w/f,i,!0),e.arc(o,s,f,i,m+C/f,!0),C>0){const t=PX(M,A,o,s);e.arc(t.x,t.y,C,A+Math.PI,m-dY)}const r=PX(S,m,o,s);if(e.lineTo(r.x,r.y),b>0){const t=PX(S,T,o,s);e.arc(t.x,t.y,b,m-dY,T)}}else{e.moveTo(o,s);const t=Math.cos(T)*d+o,n=Math.sin(T)*d+s;e.lineTo(t,n);const i=Math.cos(E)*d+o,r=Math.sin(E)*d+s;e.lineTo(i,r)}e.closePath()}function FX(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,h="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=f,h?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(a){UX(e,t,n,i,p,r);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(p=o+(s%sY||sY))}h&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=r/s;e.beginPath(),e.arc(a,o,s,i-c,n+c),l>r?(c=r/l,e.arc(a,o,l,n+c,i-c,!0)):e.arc(a,o,r,n+dY,i-dY),e.closePath(),e.clip()}(e,t,p),a||(UX(e,t,n,i,p,r),e.stroke())}wi(_X,"defaults",oJ),wi(_X,"instances",xX),wi(_X,"overrides",tJ),wi(_X,"registry",aX),wi(_X,"version","4.4.2"),wi(_X,"getChart",DX);class BX extends Yq{constructor(e){super(),wi(this,"circumference",void 0),wi(this,"endAngle",void 0),wi(this,"fullCircles",void 0),wi(this,"innerRadius",void 0),wi(this,"outerRadius",void 0),wi(this,"pixelMargin",void 0),wi(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=IY(i,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,f=VG(u,s-o)>=sY||RY(r,o,s),h=kY(a,l+d,c+d);return f&&h}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(i+r)/2,u=(a+o+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>sY?Math.floor(n/sY):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const s=i*(1-Math.sin(Math.min(oY,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){UX(e,t,n,i,l,r);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+(s%sY||sY))}UX(e,t,n,i,l,r),e.fill()}(e,this,s,r,a),FX(e,this,s,r,a),e.restore()}}function zX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=VG(n.borderCapStyle,t.borderCapStyle),e.setLineDash(VG(n.borderDash,t.borderDash)),e.lineDashOffset=VG(n.borderDashOffset,t.borderDashOffset),e.lineJoin=VG(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=VG(n.borderWidth,t.borderWidth),e.strokeStyle=VG(n.borderColor,t.borderColor)}function WX(e,t,n){e.lineTo(n.x,n.y)}function VX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:s}=t,l=Math.max(r,o),c=Math.min(a,s),u=r<o&&a<o||r>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function HX(e,t,n,i){const{points:r,options:a}=t,{count:o,start:s,loop:l,ilen:c}=VX(r,n,i),u=function(e){return e.stepped?mJ:e.tension||"monotone"===e.cubicInterpolationMode?vJ:WX}(a);let d,f,h,{move:p=!0,reverse:g}=i||{};for(d=0;d<=c;++d)f=r[(s+(g?c-d:d))%o],f.skip||(p?(e.moveTo(f.x,f.y),p=!1):u(e,h,f,g,a.stepped),h=f);return l&&(f=r[(s+(g?c:0))%o],u(e,h,f,g,a.stepped)),!!l}function GX(e,t,n,i){const r=t.points,{count:a,start:o,ilen:s}=VX(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,f,h,p,g,m=0,v=0;const b=e=>(o+(c?s-e:e))%a,y=()=>{h!==p&&(e.lineTo(m,p),e.lineTo(m,h),e.lineTo(m,g))};for(l&&(d=r[b(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=r[b(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===f?(n<h?h=n:n>p&&(p=n),m=(v*m+t)/++v):(y(),e.lineTo(t,n),f=i,v=0,h=p=n),g=n}y()}function YX(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?GX:HX}wi(BX,"id","arc"),wi(BX,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),wi(BX,"defaultRoutes",{backgroundColor:"backgroundColor"}),wi(BX,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const JX="function"===typeof Path2D;function QX(e,t,n,i){JX&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),zX(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:a}=t,o=YX(t);for(const s of r)zX(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class qX extends Yq{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;$J(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(n,r,a,i);return IQ(e,!0===i?[{start:o,end:s,loop:a}]:function(e,t,n,i){const r=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,a.push({start:t%r,end:(o-1)%r,loop:i}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%r,end:s%r,loop:i}),a}(n,o,s<o?s+r:s,!!e._fullLoop&&0===o&&s===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=SQ(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],s=function(e){return e.stepped?pQ:e.tension||"monotone"===e.cubicInterpolationMode?gQ:hQ}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=r[c],f=r[u];if(d===f){o.push(d);continue}const h=s(d,f,Math.abs((i-d[t])/(f[t]-d[t])),n.stepped);h[t]=e[t],o.push(h)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return YX(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=YX(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),QX(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XX(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}wi(qX,"id","line"),wi(qX,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),wi(qX,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),wi(qX,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class KX extends Yq{constructor(e){super(),wi(this,"parsed",void 0),wi(this,"skip",void 0),wi(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return XX(this,e,"x",t)}inYRange(e,t){return XX(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!hJ(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,dJ(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ZX(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,d;return e.horizontal?(d=o/2,s=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=a/2,s=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:s,top:c,right:l,bottom:u}}function $X(e,t,n,i){return e?0:AY(t,n,i)}function eK(e){const t=ZX(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=RJ(i);return{t:$X(r.top,a.top,0,n),r:$X(r.right,a.right,0,t),b:$X(r.bottom,a.bottom,0,n),l:$X(r.left,a.left,0,t)}}(e,n/2,i/2),a=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=AJ(r),o=Math.min(t,n),s=e.borderSkipped,l=i||BG(r);return{topLeft:$X(!l||s.top||s.left,a.topLeft,0,o),topRight:$X(!l||s.top||s.right,a.topRight,0,o),bottomLeft:$X(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:$X(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function tK(e,t,n,i){const r=null===t,a=null===n,o=e&&!(r&&a)&&ZX(e,i);return o&&(r||kY(t,o.left,o.right))&&(a||kY(n,o.top,o.bottom))}function nK(e,t){e.rect(t.x,t.y,t.w,t.h)}function iK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}wi(KX,"id","point"),wi(KX,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),wi(KX,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class rK extends Yq{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=eK(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?wJ:nK;var s;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),o(e,iK(a,t,r)),e.clip(),o(e,iK(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,iK(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return tK(this,e,t,n)}inXRange(e,t){return tK(this,e,null,t)}inYRange(e,t){return tK(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}wi(rK,"id","bar"),wi(rK,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wi(rK,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const aK=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class oK extends Yq{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=GG(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=xJ(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=aK(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,i,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach(((e,h)=>{const p=n+t/2+r.measureText(e.text).width;(0===h||l[l.length-1]+p+2*o>a)&&(u+=c,l[l.length-(h>0?0:1)]=0,f+=c,d++),s[h]={left:0,top:f,row:d,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,d=0,f=0,h=0,p=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,i,r){const a=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=sK(t,n));return i}(r,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,r,e,i);a>0&&f+m+2*o>c&&(u+=d+o,l.push({width:d,height:f}),h+=d+o,p++,d=f=0),s[a]={left:h,top:f,col:p,width:g,height:m},d=Math.max(d,g),f+=m+o})),u+=d,l.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=mQ(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=FY(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,o=FY(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+i}else{let r=0,o=FY(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,o=FY(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=o,s.left+=this.left+i,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;pJ(e,this),this._draw(),gJ(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=oJ.color,s=mQ(e.rtl,this.left,this.width),l=xJ(a.font),{padding:c}=a,u=l.size,d=u/2;let f;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:h,boxHeight:p,itemHeight:g}=aK(a,u),m=this.isHorizontal(),v=this._computeTitleHeight();f=m?{x:FY(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:FY(r,this.top+v+c,this.bottom-t[0].height),line:0},vQ(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach(((y,C)=>{i.strokeStyle=y.fontColor,i.fillStyle=y.fontColor;const w=i.measureText(y.text).width,S=s.textAlign(y.textAlign||(y.textAlign=a.textAlign)),I=h+d+w;let T=f.x,E=f.y;s.setWidth(this.width),m?C>0&&T+I+c>this.right&&(E=f.y+=b,f.line++,T=f.x=FY(r,this.left+c,this.right-n[f.line])):C>0&&E+b>this.bottom&&(T=f.x=T+t[f.line].width+c,f.line++,E=f.y=FY(r,this.top+v+c,this.bottom-t[f.line].height));if(function(e,t,n){if(isNaN(h)||h<=0||isNaN(p)||p<0)return;i.save();const r=VG(n.lineWidth,1);if(i.fillStyle=VG(n.fillStyle,o),i.lineCap=VG(n.lineCap,"butt"),i.lineDashOffset=VG(n.lineDashOffset,0),i.lineJoin=VG(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=VG(n.strokeStyle,o),i.setLineDash(VG(n.lineDash,[])),a.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=s.xPlus(e,h/2);fJ(i,o,l,t+d,a.pointStyleWidth&&h)}else{const a=t+Math.max((u-p)/2,0),o=s.leftForLtr(e,h),l=AJ(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?wJ(i,{x:o,y:a,w:h,h:p,radius:l}):i.rect(o,a,h,p),i.fill(),0!==r&&i.stroke()}i.restore()}(s.x(T),E,y),T=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(S,T+h+d,m?T+I:this.right,e.rtl),function(e,t,n){CJ(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(T),E,y),m)f.x+=I+c;else if("string"!==typeof y.text){const e=l.lineHeight;f.y+=sK(y,e)+c}else f.y+=b})),bQ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=xJ(t.font),i=kJ(t.padding);if(!t.display)return;const r=mQ(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=i.top+s;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=FY(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+FY(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const f=FY(o,u,u+d);a.textAlign=r.textAlign(UY(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,CJ(a,t.text,f,c,n)}_computeTitleHeight(){const e=this.options.title,t=xJ(e.font),n=kJ(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(kY(e,this.left,this.right)&&kY(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],kY(e,i.left,i.left+i.width)&&kY(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&GG(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&GG(t.onHover,[e,n,this],this)}else n&&GG(t.onClick,[e,n,this],this)}}function sK(e,t){return t*(e.text?e.text.length:0)}var lK={id:"legend",_element:oK,start(e,t,n){const i=e.legend=new oK({ctx:e.ctx,options:n,chart:e});Aq.configure(e,i,n),Aq.addBox(e,i)},stop(e){Aq.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Aq.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=kJ(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const cK={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++a}}const o=[...i].reduce(((e,t)=>e+t))/i.size;return{x:o,y:r/a}},nearest(e,t){if(!e.length)return!1;let n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=TY(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function uK(e,t){return t&&(FG(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function dK(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function fK(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function hK(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=xJ(t.bodyFont),c=xJ(t.titleFont),u=xJ(t.footerFont),d=a.length,f=r.length,h=i.length,p=kJ(t.padding);let g=p.height,m=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){g+=h*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(v-h)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const y=function(e){m=Math.max(m,n.measureText(e).width+b)};return n.save(),n.font=c.string,YG(e.title,y),n.font=l.string,YG(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?o+2+t.boxPadding:0,YG(i,(e=>{YG(e.before,y),YG(e.lines,y),YG(e.after,y)})),b=0,n.font=u.string,YG(e.footer,y),n.restore(),m+=p.width,{width:m,height:g}}function pK(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===i?c=r<=(s+l)/2?"left":"right":r<=a/2?c="left":r>=o-a/2&&(c="right"),function(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+a+o>t.width||"right"===e&&r-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function gK(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||pK(e,t,n,i),yAlign:i}}function mK(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=r+a,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=AJ(o);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const g=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(u,f)+r:"right"===s&&(p+=Math.max(d,h)+r),{x:AY(p,0,i.width-t.width),y:AY(g,0,i.height-t.height)}}function vK(e,t,n){const i=kJ(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function bK(e){return uK([],dK(e))}function yK(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const CK={beforeTitle:jG,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:jG,beforeBody:jG,beforeLabel:jG,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return UG(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:jG,afterBody:jG,beforeFooter:jG,footer:jG,afterFooter:jG};function wK(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?CK[t].call(n,i):r}class SK extends Yq{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new DQ(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,OJ(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=wK(n,"beforeTitle",this,e),r=wK(n,"title",this,e),a=wK(n,"afterTitle",this,e);let o=[];return o=uK(o,dK(i)),o=uK(o,dK(r)),o=uK(o,dK(a)),o}getBeforeBody(e,t){return bK(wK(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return YG(e,(e=>{const t={before:[],lines:[],after:[]},r=yK(n,e);uK(t.before,dK(wK(r,"beforeLabel",this,e))),uK(t.lines,wK(r,"label",this,e)),uK(t.after,dK(wK(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return bK(wK(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=wK(n,"beforeFooter",this,e),r=wK(n,"footer",this,e),a=wK(n,"afterFooter",this,e);let o=[];return o=uK(o,dK(i)),o=uK(o,dK(r)),o=uK(o,dK(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(fK(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),YG(l,(t=>{const n=yK(e.callbacks,t);i.push(wK(n,"labelColor",this,t)),r.push(wK(n,"labelPointStyle",this,t)),a.push(wK(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(i.length){const e=cK[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=hK(this,n),o=Object.assign({},e,t),s=gK(this.chart,n,o),l=mK(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=AJ(o),{x:d,y:f}=e,{width:h,height:p}=t;let g,m,v,b,y,C;return"center"===r?(y=f+p/2,"left"===i?(g=d,m=g-a,b=y+a,C=y-a):(g=d+h,m=g+a,b=y-a,C=y+a),v=g):(m="left"===i?d+Math.max(s,c)+a:"right"===i?d+h-Math.max(l,u)-a:this.caretX,"top"===r?(b=f,y=b-a,g=m-a,v=m+a):(b=f+p,y=b+a,g=m+a,v=m-a),C=b),{x1:g,x2:m,x3:v,y1:b,y2:y,y3:C}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,s;if(r){const l=mQ(n.rtl,this.x,this.width);for(e.x=vK(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=xJ(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<r;++s)t.fillText(i[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=r,c=xJ(r.bodyFont),u=vK(this,"left",r),d=i.x(u),f=s<c.lineHeight?(c.lineHeight-s)/2:0,h=t.y+f;if(r.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=h+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,dJ(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,dJ(e,t,n,c)}else{e.lineWidth=BG(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),o=AJ(a.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,wJ(e,{x:t,y:h,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),wJ(e,{x:n,y:h+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,h,l,s),e.strokeRect(t,h,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,h+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=xJ(n.bodyFont);let d=u.lineHeight,f=0;const h=mQ(n.rtl,this.x,this.width),p=function(n){t.fillText(n,h.x(e.x+f),e.y+d/2),e.y+=d+r},g=h.textAlign(a);let m,v,b,y,C,w,S;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=vK(this,g,n),t.fillStyle=n.bodyColor,YG(this.beforeBody,p),f=o&&"right"!==g?"center"===a?l/2+c:l+2+c:0,y=0,w=i.length;y<w;++y){for(m=i[y],v=this.labelTextColors[y],t.fillStyle=v,YG(m.before,p),b=m.lines,o&&b.length&&(this._drawColorBox(t,e,y,h,n),d=Math.max(u.lineHeight,s)),C=0,S=b.length;C<S;++C)p(b[C]),d=u.lineHeight;YG(m.after,p)}f=0,d=u.lineHeight,YG(this.afterBody,p),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const s=mQ(n.rtl,this.x,this.width);for(e.x=vK(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=xJ(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=AJ(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+l-d,s),t.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,s+c-h),t.quadraticCurveTo(o+l,s+c,o+l-h,s+c),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+f,s+c),t.quadraticCurveTo(o,s+c,o,s+c-f),"center"===a&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=cK[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=hK(this,e),o=Object.assign({},n,this._size),s=gK(t,e,o),l=mK(e,o,s,t);i._to===l.x&&r._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=kJ(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),vQ(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),bQ(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!JG(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),s=t||!JG(a,r)||o;return s&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=cK[r.position].call(this,e,t);return!1!==a&&(n!==a.x||i!==a.y)}}wi(SK,"positioners",cK);var IK={id:"tooltip",_element:SK,positioners:cK,afterInit(e,t,n){n&&(e.tooltip=new SK({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function TK(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function EK(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class MK extends nX{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(UG(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:AY(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:TK(n,e,VG(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return EK.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function RK(e,t){const n=[],{bounds:i,step:r,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,f=r||1,h=c-1,{min:p,max:g}=t,m=!UG(a),v=!UG(o),b=!UG(l),y=(g-p)/(u+1);let C,w,S,I,T=vY((g-p)/h/f)*f;if(T<1e-14&&!m&&!v)return[{value:p},{value:g}];I=Math.ceil(g/T)-Math.floor(p/T),I>h&&(T=vY(I*T/h/f)*f),UG(s)||(C=Math.pow(10,s),T=Math.ceil(T*C)/C),"ticks"===i?(w=Math.floor(p/T)*T,S=Math.ceil(g/T)*T):(w=p,S=g),m&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/r,T/1e3)?(I=Math.round(Math.min((o-a)/T,c)),T=(o-a)/I,w=a,S=o):b?(w=m?a:w,S=v?o:S,I=l-1,T=(S-w)/I):(I=(S-w)/T,I=mY(I,Math.round(I),T/1e3)?Math.round(I):Math.ceil(I));const E=Math.max(SY(T),SY(w));C=Math.pow(10,UG(s)?E:s),w=Math.round(w*C)/C,S=Math.round(S*C)/C;let M=0;for(m&&(d&&w!==a?(n.push({value:a}),w<a&&M++,mY(Math.round((w+M*T)*C)/C,a,AK(a,y,e))&&M++):w<a&&M++);M<I;++M){const e=Math.round((w+M*T)*C)/C;if(v&&e>o)break;n.push({value:e})}return v&&d&&S!==o?n.length&&mY(n[n.length-1].value,o,AK(o,y,e))?n[n.length-1].value=o:n.push({value:o}):v&&S!==o||n.push({value:S}),n}function AK(e,t,n){let{horizontal:i,minRotation:r}=n;const a=CY(r),o=(i?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}wi(MK,"id","category"),wi(MK,"defaults",{ticks:{callback:EK}});class kK extends nX{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return UG(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=gY(i),t=gY(r);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||a(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=RK({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&yY(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ZY(e,this.chart.options.locale,this.options.ticks.format)}}class xK extends kK{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zG(e)?e:0,this.max=zG(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=CY(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}wi(xK,"id","linear"),wi(xK,"defaults",{ticks:{callback:eJ.formatters.numeric}});const DK=e=>Math.floor(pY(e)),OK=(e,t)=>Math.pow(10,DK(e)+t);function LK(e){return 1===e/Math.pow(10,DK(e))}function _K(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function NK(e,t){let{min:n,max:i}=t;n=WG(e.min,n);const r=[],a=DK(n);let o=function(e,t){let n=DK(t-e);for(;_K(e,t,n)>10;)n++;for(;_K(e,t,n)<10;)n--;return Math.min(n,DK(e))}(n,i),s=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=a>o?Math.pow(10,a):0,u=Math.round((n-c)*s)/s,d=Math.floor((n-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,o)),h=WG(e.min,Math.round((c+d+f*Math.pow(10,o))*s)/s);for(;h<i;)r.push({value:h,major:LK(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(o++,f=2,s=o>=0?1:s),h=Math.round((c+d+f*Math.pow(10,o))*s)/s;const p=WG(e.max,h);return r.push({value:p,major:LK(p),significand:f}),r}class jK extends nX{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=kK.prototype.parse.apply(this,[e,t]);if(0!==n)return zG(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zG(e)?Math.max(0,e):null,this.max=zG(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zG(this._userMin)&&(this.min=e===OK(this.min,0)?OK(this.min,-1):OK(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,a=e=>i=t?i:e;n===i&&(n<=0?(r(1),a(10)):(r(OK(n,-1)),a(OK(i,1)))),n<=0&&r(OK(i,-1)),i<=0&&a(OK(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=NK({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&yY(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":ZY(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=pY(e),this._valueRange=pY(this.max)-pY(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(pY(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function PK(e){const t=e.ticks;if(t.display&&e.display){const e=kJ(t.backdropPadding);return VG(t.font&&t.font.size,oJ.font.size)+e.height}return 0}function UK(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function FK(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?oY/a:0;for(let d=0;d<a;d++){const a=o.setContext(e.getPointLabelContext(d));r[d]=a.padding;const f=e.getPointPosition(d,e.drawingArea+r[d],s),h=xJ(a.font),p=(l=e.ctx,c=h,u=FG(u=e._pointLabels[d])?u:[u],{w:lJ(l,c.string,u),h:u.length*c.lineHeight});i[d]=p;const g=MY(e.getIndexAngle(d)+s),m=Math.round(wY(g));BK(n,t,g,UK(m,f.x,p.w,0,180),UK(m,f.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:PK(a)/2,additionalAngle:o?oY/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=zK(e,u,l);i.push(r),"auto"===s&&(r.visible=WK(r,c),r.visible&&(c=r))}return i}(e,i,r)}function BK(e,t,n,i,r){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function zK(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:a,padding:o,size:s}=n,l=e.getPointPosition(t,i+r+o,a),c=Math.round(wY(MY(l.angle+dY))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),f=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+s.w,bottom:u+s.h}}function WK(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:a}=e;return!(hJ({x:n,y:i},t)||hJ({x:n,y:a},t)||hJ({x:r,y:i},t)||hJ({x:r,y:a},t))}function VK(e,t,n){const{left:i,top:r,right:a,bottom:o}=n,{backdropColor:s}=t;if(!UG(s)){const n=AJ(t.borderRadius),l=kJ(t.backdropPadding);e.fillStyle=s;const c=i-l.left,u=r-l.top,d=a-i+l.width,f=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),wJ(e,{x:c,y:u,w:d,h:f,radius:n}),e.fill()):e.fillRect(c,u,d,f)}}function HK(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,sY);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<i;a++)n=e.getPointPosition(a,t),r.lineTo(n.x,n.y)}}wi(jK,"id","logarithmic"),wi(jK,"defaults",{ticks:{callback:eJ.formatters.logarithmic,major:{enabled:!0}}});class GK extends kK{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=kJ(PK(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=zG(e)&&!isNaN(e)?e:0,this.max=zG(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/PK(this.options))}generateTickLabels(e){kK.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=GG(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?FK(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return MY(e*(sY/(this._pointLabels.length||1))+CY(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(UG(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(UG(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return OJ(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-dY+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),HK(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,a=this._pointLabels.length;let o,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const a=i.setContext(e.getPointLabelContext(r));VK(n,a,t);const o=xJ(a.font),{x:s,y:l,textAlign:c}=t;CJ(n,e._pointLabels[r],s,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!i||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),HK(e,n,o,i),a.closePath(),a.stroke(),a.restore())}(this,o,s,a,l)}})),n.display){for(e.save(),o=a-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:a}=i;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=xJ(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=kJ(s.backdropPadding);e.fillRect(-a/2-t.left,-r-l.size/2-t.top,a+t.width,l.size+t.height)}CJ(e,i.label,0,-r,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}wi(GK,"id","radialLinear"),wi(GK,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eJ.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),wi(GK,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),wi(GK,"descriptors",{angleLines:{_fallback:"grid"}});const YK={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},JK=Object.keys(YK);function QK(e,t){return e-t}function qK(e,t){if(UG(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),zG(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!bY(a)&&!0!==a?n.startOf(o,r):n.startOf(o,"isoWeek",a)),+o)}function XK(e,t,n,i){const r=JK.length;for(let a=JK.indexOf(e);a<r-1;++a){const e=YK[JK[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return JK[a]}return JK[r-1]}function KK(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=xY(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function ZK(e,t,n){const i=[],r={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],r[s]=o,i.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+r.add(s,1,i))l=n[s],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class $K extends nX{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new lq(e.adapters.date);i.init(t),ZG(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:qK(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),i=zG(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=zG(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?XK(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let a=JK.length-1;a>=JK.indexOf(n);a--){const n=JK[a];if(YK[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return JK[n?JK.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=JK.indexOf(e)+1,n=JK.length;t<n;++t)if(YK[JK[t]].common)return JK[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),ZK(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;i=AY(i,0,a),r=AY(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||XK(r.minUnit,t,n,this._getLabelCapacity(t)),o=VG(i.ticks.stepSize,1),s="week"===a&&r.isoWeekday,l=bY(s)||!0===s,c={};let u,d,f=t;if(l&&(f=+e.startOf(f,"isoWeek",s)),f=+e.startOf(f,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const h="data"===i.ticks.source&&this.getDataTimestamps();for(u=f,d=0;u<n;u=+e.add(u,o,a),d++)KK(c,u,h);return u!==n&&"ticks"!==i.bounds&&1!==d||KK(c,u,h),Object.keys(c).sort(QK).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return GG(a,[e,t,n],this);const o=r.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&o[s],u=l&&o[l],d=n[t],f=l&&u&&d&&d.major;return this._adapter.format(e,i||(f?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=CY(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,ZK(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(qK(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NY(e.sort(QK))}}function eZ(e,t,n){let i,r,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=DY(e,"pos",t)),({pos:i,time:a}=e[s]),({pos:r,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=DY(e,"time",t)),({time:i,pos:a}=e[s]),({time:r,pos:o}=e[l]));const c=r-i;return c?a+(o-a)*(t-i)/c:a}wi($K,"id","time"),wi($K,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class tZ extends $K{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=eZ(t,this.min),this._tableRange=eZ(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],s=i[a-1],l=i[a],Math.round((c+s)/2)!==l&&r.push({time:l,pos:a/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(eZ(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return eZ(this._table,n*this._tableRange+this._minPos,!0)}}wi(tZ,"id","timeseries"),wi(tZ,"defaults",$K.defaults);const nZ="label";function iZ(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function rZ(e,t){e.labels=t}function aZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nZ;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}function oZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nZ;const n={labels:[],datasets:[]};return rZ(n,e.labels),aZ(n,e.datasets,t),n}function sZ(e,t){const{height:n=150,width:r=300,redraw:a=!1,datasetIdKey:o,type:s,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,p=(0,i.useRef)(null),g=(0,i.useRef)(),m=()=>{p.current&&(g.current=new _X(p.current,{type:s,data:oZ(l,o),options:c&&{...c},plugins:u}),iZ(t,g.current))},v=()=>{iZ(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)((()=>{!a&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)}),[a,c]),(0,i.useEffect)((()=>{!a&&g.current&&rZ(g.current.config.data,l.labels)}),[a,l.labels]),(0,i.useEffect)((()=>{!a&&g.current&&l.datasets&&aZ(g.current.config.data,l.datasets,o)}),[a,l.datasets]),(0,i.useEffect)((()=>{g.current&&(a?(v(),setTimeout(m)):g.current.update(f))}),[a,c,l.labels,l.datasets,f]),(0,i.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[s]),(0,i.useEffect)((()=>(m(),()=>v())),[]),i.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},h),d)}const lZ=(0,i.forwardRef)(sZ);function cZ(e,t){return _X.register(t),(0,i.forwardRef)(((t,n)=>i.createElement(lZ,Object.assign({},t,{ref:n,type:e}))))}const uZ=cZ("doughnut",eq);function dZ(e){let{xValues:t,yValues:n,barColors:i}=e;const r={labels:t,datasets:[{data:n,borderWidth:1,backgroundColor:i}]};return(0,o.jsx)(uZ,{options:{responsive:!0,maintainAspectRatio:!1,aspectRatio:1,width:50,height:20},data:r})}_X.register(BX,IK,lK);const fZ=function(e){let{count:t,text:n,icon:i}=e;return(0,o.jsxs)("div",{className:"dbItem",children:[(0,o.jsx)("img",{src:i,alt:""}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{children:t}),(0,o.jsx)("span",{children:n})]})]})};const hZ=function(){const e=bo(),[t,n]=(0,i.useState)(!0),[r,a]=(0,i.useState)({});return(0,i.useEffect)((()=>{e(Aa());const t=localStorage.getItem("SyncUp_AdminToken");if(t){const e={route:"admin/isAlive",params:{getData:!Boolean(Object.values(r).length),ref:"Dashboard"},headers:{Authorization:"Bearer ".concat(t)},crypto:!0};hl(e).then((e=>{if(e.data.success)return a(e.data.body);bi.error(e.data.message),localStorage.removeItem("SyncUp_AdminToken")}))}setTimeout((()=>{e(ka())}),500)}),[]),(0,o.jsxs)("div",{className:"dashboardContainer",children:[(0,o.jsx)(qH,{open:t,setOpen:n}),(0,o.jsx)(JH,{active:"Dashboard"}),(0,o.jsx)("section",{className:"dashboard",children:(0,o.jsxs)("div",{className:"dbDetails",children:[(0,o.jsxs)("div",{className:"dtCont",children:[(0,o.jsx)(fZ,{count:r.users,text:"Users",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR4nN2Y7U9TVxzHm73Zkv0Hm9ve7iH7C7bEN0CfWxyIGWbLEuO2N3NummWLMU6E7fb23tKCmzACogidmyIPWpfFOVF77z2nrTxYnlogFis4QVjpbekD7W85F5xoBArclmXf5JuenHvuPZ+ec8/vnt9RKP7PUpm47VpGOGFg8ZjWjOaUJj6lM6OQweLiCiiu9MgReG5rwCqEN/UM7i6yecJlF4Opk64wnOuPwyV/Svqt7pqGD2p7wzoGC/nmnhdzCqekkFJHI5H+fTLt8KfBMbKC/WnYb/fNGyz4ci7h3iJwDXhuZbCRx+70p6DI6o6pTXxMz2Ck/J7LyyqgjsFe5spf6UzgHMt8zhsH27UpKKx0iWoafZkVuAKKz99V7QmvOq0jq/vX2zHQMyiipri3ZQc0sLix/FJwXaNXj0LQdCvyRF3ZpeCCnkWnZQfUs2j8tEfMGK65OwI7qz1QZHOD9eqDf+vP3IqAjkETsgNqaCHSOpDICM52bQqKbW644p2CwFQUdh33QPX1aelax9ACqE18XHZAFcUvkFX5NEzrQAKaPCLUOGfh6MW78GFtL3xS3weD98LwSMOTogR8fiABFwYToKGFedkBNWY0R4IwgaoTQvBpYz9ZlVBS7YY9db1woLkfav64A33jIXiWrL+NweH2AJzyhMHA4IDsgEbW5a0T/oZabhZKqhanbz6RgkzVH5yDkupusHVNg9GCr8oOqGUE27ed46ndNb1wfeghrFeR2AJoaAQHz47GVJRwUHZApUko332iJ62mBYjGF2AjUlI8vGd1p1V0FgAXdylY6mSjUlI8FFe5QWfGIdkB9QyaPXx+ZNOA33WOkTg4KzugkcUtx9pGk5sFLO8YWTBaUJPsgBqz8zU9i2ZUJgFS6fS64VLpNJB7yTMKjuFXFNlQHsW/YWBQckZMrBtwRkyAgUXJggrn64psqtjq4jnfzLoBncMPYafV5VRkW2qK3/u1feDxdyxDfdXSL6oobk/WAbcf+fOFQhbdx6OzmbKBMDIDRhZPqmyO5xW5kIri391hQZHhibUHkmwaCi1IzK/g3lHkUhpK0BpZBD/zwWd+k0mdnQsCaaOmeLViK6QkgbfdB0WVLrBeHoUHobhkUiZ1VIdfin1bAvcIkCgUTUL9tQC8f9wtmZRJHVFOAfOoG68qKX6fgXVxegZPkM5Xi9nkGmlD2pJ7VDT3WVaCtIoStulY3KI1o+j+Fn+EbN9beqKwt8ELzc7gioBnnEH4uMErtSWnDZ/bfRHyDK0ZN2vLuZflgaO5HSQfOdwWSFwYTD6VRsah9IduKGv1Sas1lkhJJuWjrT4o/bFbarP8HrLlP9QWiGtoQVSaeMOm4LQmdGBHpUtsdIVXTJDah5JQdvEufPRTH8l5JZMyyU/ahp78Q8t9Es9BYSUWNWbhiw2PnLESi2f75jecqDvW8C+3Y9Jpg4YWjOuDo4RtZFpJtpYtOMeST7lF0NKCmGe6+VLGgDoG2Q9dCMSyDedY8jetd+J6C27OOJRoaRRb7f2R2+1DSSB9kplbE5DEuf12XyRXcI4l72vxR0icXBOQHN9WdS0eU+TStq5pMFjwjQzeP3zf3pu9letYwSSY6xh8b01AFSVEyedpK6yihOiagP81/QMtKiPTAuQ3hAAAAABJRU5ErkJggg=="}),(0,o.jsx)(fZ,{count:r.premium,text:"Premium",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEklEQVR4nO2ZX2hbdRTHj5sbK6OWrkmbpFt1SdvE4T+cgk/a4XCgvvi0B2ETFHxQ8GHii8LAir6qb0OU9UGEuqqkbW7X1A1W27RZlpvctDZNOtShDJYl3dY5a3LvPXJubrJ7c2/a/Ln3bkgPHCi59/e738/vzznn9yvAlm3ZlhluyMDTQgDO8AysktPf9Bvcj4YB2FtgYKDAwOFCAF4SGBjiGRAEBlDp8m9D9I70LgMD1PbeCfeDTWDgRz4AYqXYWp0vtv0Bg9Bhrfhh2M4z8EujwnVmZ5r6tAyAn4B3dcVMAYohQIEFFBOA4q+ASB4HFKOA4kzxnSoQ71giHifBxTOQUwk4DyiQyGXZk7IvASJ5CWRR9iigcE4DkKO+zRN+Erbx43CMZyCjEh8BFNOAYqoOgIWiiyENBEWt9/A8PGiseD/YNGt+ElBIyOIbBEBqfxFQOKuzJ4zc2BRtNOuWPr7SPABygBgBFCYq+g/AiCHiKVZrQuUlWbxRABygOKsNsYbsCUo4lRtWvGw8AMa1EYq+bQTAERXAQvMAAgdYoKjFqQHEsAbgSPMAAXi53Ok5WXwTADwHmA21YJZ7FW+EHkAhdhdAmoWgCuCVpgGofil1KM43ByCJn2vB9dwUkq1d+RxvhtQA4gXVLAw1JR7H4ClVYbZQHUBY3hiAT6jFk+XXYpidrgBQLCP6No7DM42PfgBGlGtSElcBIKQAb8UBr13chbdj+gCS+PkWXM8Gy+ILfy9jZtaFBVYNIIVUdcj+vmEAqZZXAlzWApD4G7+dQFH8F7NLR3GNVQPwC7L4XIX4kAvzJfFKAFZbYhgHsKIGENKA1yIPIaJQVCYWihBUuCUBCyQ+XEV8TBtGUQ8gANmGAegkpQJI6s9ALv2mAoLHXPJ1CeK6RnwKM3PdRfE6eQCNXkK1bOLSHsil3yb1d2cieRz/qRz5ORfm49UTGdImnq/YxGfhYMMA0iwwcLo8A2H9KCRBxABzKcVMKKxwJ4WZ+e6i+MVNAKZVo38aDE1kUxuH0VssQbylgiiL5zYvJdCMRKYpJRLVE5mQlCGWixCS+LAsvoZaSDSllNAr5laqZ2IJIgqY4V7ATLgT84l7XMxhg+V0nuqexSbKaQYEw46YdPWhOdBwph9ozoBRRsc7OuZZeqScgD2GAZhyqE9YeKjf9FrlZ5Dq+loBxIjchrHwWqWmi62gPKoxnYutS/LFliLOCwpfPbVjEKwyuga8883Oq7oQDXjmi1045nB/ZRkA1/lYF9fXt776SStFi4aF8wHAvz7ejRP796Pf5l5nbD1OSwBYh/cz1ulD8oVHezF1qAfTL+7D9OF9eP2jNl0oEnvlw1YMHXLh7IALZ553YbD/YRy1e8rut7k/NV38Uoe3NerwrpYA9Dz53COYG2zF/Mh2yTODrXjh2b0qsXrut7tvBtvdbaYCRB3e9zcSr+eTnb2bih8teYfnhGniI3BwB+vw/lGP+LCjf61m8XZpFv4chgM7TQFgu7xv1Dv6M539X9YDMCq5+7g5AA5fvD4A79VY1xO7/TbP73UB2DxxUwCiTt98PQBRh+8ktRu1uz+oD8AdAiuNdfpeizp9YoX4dcoX9Hysrafdb3PfVq91j+i3eY7C/WLK3CADfK187rd7Tlke8+sxBNjGOr3jZYDuvieVz3/a03uARl1e45PDYOF/JWs1rufx9qjDG2Ud3u/0no/aPd/67Z4ILamaO4X/uf0HswFj0Ft7J1gAAAAASUVORK5CYII="}),(0,o.jsx)(fZ,{count:r.business,text:"Business",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJTElEQVR4nO2be1BTVx7H+aMzuzu7M939b3e2szvT6c62oBCJhGDA8MxNcvMO5EUSEiAJkIA85KmgiMV33VY7nbV21I71WRTxUduOtj6ggnargtQXvp9Ui26tWkS/O+e6RKJALhUVkDPznTs3/M4vv+8n55zce24ICBhto220DaRFjh37Jz7nrfjnJQE38G/e9+YEBvYXS2oLeJZNKPz7b+U8bussqaxjjpR+LvrMaL9801PWRvSJ1tje82/LadWtGlp7m+hTmfZ2Ej/sKKnxmQGQhXM31Bmsd296yjAUdN1ViCMqK5oVZkaNast9BS906zMxLw3nlMyRyjpetOnHdTUtHy3/B0C0ntbelYVzSwbVvJAbHJkmjGrv8JS+cMO96ZzF7QVAVB0ruhnDC44dFPNR3Df/ouGHXTyfUfDCjfankwanF0CLygpnpOAKb+zY157KvPiNN35Dh4e2HLBnPXjRBv3phrsER7V2L4TDGivUPO5xPv+13/1qADIet2ajzjJkFj1/upZR9NiiaL6vCOdu/lXmKV5oYbWUHnKLnj9dScvzWQ/W09o7NG9c0YDMR3ODBKkTBe0/uofmojeQRZF8Q1THi24IuUHRrMyHhQX+WRMRdmGoL3oDWhSVVjgEEy77XRSDg4N/nxAWcmaxQv2gVm+BP63SGv3GdOuTRAPr2FWJJvaxfdRQp7egSW3GAaWF0RcKA6iwkDPEY58A+MGBYsME3t0ZlOT2DEr8S6VYghlSaa+aQlGQC8ahtDCKlcThnD5zPS4Jj8M6ryQmBCWUqNc882k5Vks1WC1Rd62RajonC4WdxGOfAATcwMj5tOI6myF22lUAkygC35/Rs5JRyGc9fA1CPuu8DmsEWtOze81zNT3fZ0GslSXdJh5HAfTVBKMjIHB0Csx/mdcAPvfN0Cqx5Ac2RR5PnwSTiF2hR07poIsKZw1AP5GP1tPsANhMfBxK9fSa50pqrg+A1bT6FvHYJwBhSMgf7RMFl9gUud2UCh3FbgTs2KuCMU6Aq5nFfvOSGBL7Vb3Kb14CyaDi4wtzGqvb5MqY+Otc7uuvBvTXlOGhjUfTJ/kttEAhwbTCFGyok/kttGp6AuaXurHaYPabd5UhGQumeDCzUuQ3b00tjaoSO4oU9BN5brhL0apJeQRAnQJNxPh9/ZonTcAJCrFGRbT/4O7701pntODdKdlo/34H7MZoNB3W9lnkpq1yFGRqced8AxxKCkdSe5+vRC1pOXCpJbhz4RvkZ6hRu0XeZ97GQ1rYjTG4fnwn5hVmoMaY4rtGmTIemVdaMCU69kc+959jA9g0KixEZxCEd3xry/JJeimzEO9oEzEt04pfLjai68p+NO9ag1RTNPNp9Cyw+aQO7y8Ww22X4cbJXUzs+YPb4FCKUGeyoefuUoe7FLVGG5wqCucPfcbEkj5ZNprJ0XxC55N7fS3NmD+yZx0Te/fCPkxxJuO9xCRcdOajrcd9wCFNCgqE0f8V8ziJAQNpkaGBDpda0uWUJSBfKUEmLUK2To4v1yxm3rSnyEhYUJnJFOV2xMFli4HDIsLaD2cwxfWM/en0Hnw4qxgOhQjZCoqRUyHCR7NL8NOZvT6xpC/JQXI5U2LgccYz77GwKgvXju3wib13uQmfr3oXeXoFZioVWKhQoDxJhTKnqYt4GZB50gTjguTL35v+c3fRnZcefuL+9PO5eu/o8CcyLYjYxBIYJLe/uNvn6nGqqQanmzYwx911/+4kXgKeBkDXMFI3gG4NGoDOS434V3UpTAY1EjVyvyJx86qKnhgNpw9sRqbDDH2iklWegchmTkLT5x8PHoAV71V6AWxcsRCu8irMbWhjrawZc7F6yRwfAHZLEqZvbhhQHraa9dURpFiNOLN/49MD4HJff/Vi8/aO7sKnFWejYuOuARVUua0Jk3MdPnPebDGx6jtn7wnM3n0Ms75uxew9x5lzVtArZuJYw7qnB0DavSv7r3cXX1aYhWl19QMCULX9W+R50rwAbp2th9lmZtW3ZOVWJE8qhMqUDEteMYo+3sQOwPRqHK0fAQDmNrRBa0uFmBZDbbayn3aDBSBi3Ftx65ZU33qRACo27YWAOwZTa75+/gAEj30LvAgAtvxSCEIDYcsrevkAzNrVihgeB9aoCYjmcfD2zpaXC4CruAIrdWa4oidiZZIZGUUVLw+Ayq1NsFIi5iaJALjhKYNVTGH6lm9eDgBWqw0NKRnMnSIBQI6NtkykpKSOfAAlK7egSKH03ip3AyAqkitR4ud6YFgDmLP3BAwKOdqceb0CIK/rZLJ+rwqHNYCcue9jUZLx0baWpwxKPpc5dr+2KFHPxI04ANU7W6CnEtCe9XArjjyaL6DFiBw/Bvm0mDknr5OtOh2VgLd3HB5ZABy5xdicnOrdGc6jKQh5wRBFjUd0eAjyZGLvrvJmkx3O3OKRA2BaXT3SJRLG3AXXZHhkFApdJphkcZDHCWCkY1HmtiKLFuGs6+HvFhw0jYqNu0cGALMxGQftHuZhS7o0HvVbPoJGFIWqQjcDgBy1VBT2bVuGVEkcWtNycDjVA4spefgDKFpWg3KVBudcBUil43HqQB3mT82GXSvHrNJJDABytCfKMW+qh/k7iSPx5Uo1CpeuH74A5tQfh15GM2bI0C6x63D2u63QJEQypnsCINJSE5ktNRJH+pDpoqOlzIbJsATgqVqApXrTo+98pRgeiwY5dmOvACalGeG2qOFUUN4+S5OSkV21YPgBmPnlQWhjo5knRcccuYwsVDQ0CVEoz3V6JY2J8DlXx0cycd19SH+Sh+QbVgCmfroTjjSXj1QSCoqEGCipOK8oYYTPuTwhGiop9URfkm/IA+i81AiDXjOgHANVev5ktDXWDE0AXVf244N3KmD3ZCNn0TJMWrxiUOUqr0RFUdazeTBSNkgAiJp3rUXt8nnYsGxwRa4fbp3ZO/QBdA3lR2P8kH/8NZI3Ni8qLHhVEh3TmWNPYqQQx9xXJiVCYzI9YCuVTg9ZgvBBd47noTKP9d7aJTPvd6s8136PeCGeiLd+zQsDA/8QG8E9607RPci2GzCSRDwRb/3+VFbACQrRyeLauy88Rpr0dGx7+LgxwX2PAKHwlVg+5zu9LP5asorqGEkinmLDOf8hHvufBkLhKxGcoLDn+c+Rz0PEk1/zo220Bbx07X9VdRBFH/PtywAAAABJRU5ErkJggg=="}),(0,o.jsx)(fZ,{count:r.reports,text:"Reports",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG9ElEQVR4nO2a6VMTZxjA8we0nzvTjp/9BzK7OVBAjiggIJfcp2Arth61WDVYROxIrUVrPTvKeDB44Y2IoAJRQFQOFxUQELYKoxRjrfaw0z6d503eNQ05NsluEtruzPNhd9/j+e27+1zvKhQKhUKpVM5gGOYkwzAvWZaF6SxmhtNKpXKmwtZhhp30taIygD9HtinAuLK00azZs+F0bSNMvIZpKag7MliAH7cFTF7jT1Z9ThqpVCrYua/S58q7Kqgz6m7JwrLsT1OA6dPgeCNU7KkEtVpNzj9bo4cx4+8+B3EmYy/ewNr1pURn1H3Ljr2EhXIpHAGjVJ9rhKCgYHItOy8fhsaMPoeyJ4+evoT8xUuIrrMDA+FwzUWBQzQwxxuhztAJEVHzyfWYBXHQ1Tficzhr4R4+hviEJKKjbu48uNDU8Q8Gl4A53giGniFISkkn90JDw+Bq6x2fQ1IxdNyFsHAd0S0+KRmaOwem6O8yMMcb4fbAOCxeupzc1wYEQPWpCz6HPXWhAQJmzSI65X1YCB39T2zq7hYwxxvh7uhz2LR1hzBAWflWePrzn14HffbqL9i+63vBEq8t+RJ6Ribt6u02MGeWXZXVoNFoSduVRWvgyfPfvAY7/uINrF67XrDE2/cdcqqvx8Acb4TjtVcheE4IaZ+ZnQsPH0/KDjs0/gJy8xeTOQODgqDqTL0oXSUB5ngjXLrRDRFR0aRPZNR8uNnTLxtsTz8PC+ITyFxzIyKhtvm2aD0lA+Z4I7TdG4X07DzSD332xSvXJYdtMHRASEgomSMlPQtucMMu6SgpMMcboWv4mRDC4XdVWXVCMtiqE2dBqzXZi8Jlq6Bz8KnL+kkOzFlYcGo5PbXg1BJTnZxZYq8Dc2bZX30GAgJMvvGjpctgdOKVy7A//PgLLP+0yOTztQGw59Bxj3SSFZjjjXCmsRVCwsLJWAtT0uDe8Lho2H5+AtIzs0nfOSGhcLKu2WN9ZAfmeCNcvXUfYhbEk/HmRURCW9cDp7C3ewdhfnQM6RMVHQsN7ZwkungFmOON0H6fh8zcfMFvnr/cbBe2vqkNgoPnkLZpmTnQ1jsimR5eA+bMFnzlar1QUEBDZA17+Nhp0Gg0pM3HK4ugc8h1S+w3wJxZNm/bLVhwfUkZ9I0+I1K8YZPwMLCNHHP7BLjCooJiSxAY3Rq6t2kN3GX5SqvVUFy2BQoKlxELjFJQuJxcU6lMD2PFaj3pMy2B2+/zkJGzyFwFDYR9R2rgOjdiU/AetsG2iQtTITo2DtTm71qMYFvsU/b1t3Crf8z7wI03eyHa7JbCdfPgWG2TXVgBuuqUaEBHEpeQRKo0XgOuudQCIaFhpskTk6HW0OkU9qKhCyLNPhjrU5dbbrqUZ2Nb7ENrW/iwKbSswAeOYmgZYMqT8wqgseOBU9i6693kdSTZUFoGyXs9qV5mZOWYoGPjwNA9KF/yUFpeIQxepC+Flp5hl1Y2NT2TKIyKX2vtJCEmzZQcCbZBSOxDoXEsutKypocqlRrKt+91CupoZc9euiYKdIrhUquh5vzlKSstKXAr9whSMrKEAsD+o+dEwdpbWUvYYl0sdCQvgTsphQ4F2+h1prGwL45hvdIsy2I0975kJR7d3AhRlljsyq4Lj3EKai0luliHK80wzIBKpfrA4yJeYkoa1N3o8SmsW9CsSODv9h8RggIszjd1PhQFe+VWH8TEJTh8jT2BdQad+vb17g0MDHzHKTCWWPQby4XYd13pZjDcfSQKFkW/8SvBz8oF6ww63uynWZYtEb/VotXCtr0HRYNSoUYKAwTqeijsel2sZLBUcEyq7zWzy6pvbqfAffY307oHITE5jdzDgP9gTZ3LsChqtekzoBEU/a6KZYClgmPjHBlZOWTOx5O/UuA3TrdL0SKfamh1CxaFjk+jIrq6YlyPu4Jj01WeMM8r+GVHG+IL0zKhvo1zG9YWMD2XC5aKvXkVlsDf7D5A8lc8X7qiCJq6Bj2C9SfgnEUFeN5i86eWks0VHoP6G/DEazCFmfgTF72JxfSdldWSwfolsFKpnIk/cbkatLsqvgbOyl2EEZeBQs/An7jwv6Z/KzBrL3uS+vgfmP2PrbDW14GH3AfDMH94O7SkhYEMW6GlF4AHcDIM4H2dPDAM80B2YJZlN1inh/hPCG56y5UeWpd84s3pIcMwX8gOrNFo3sXk27oAIDW0PdjUtwUAjhQAvHGwLPsey7L3rEs8UkHbg82wV9eaztB+CesM2rLkgxbW0zKtX8C6stKuiF/DOoNGN4IKu7vV4pewzqA93UzzS1h64DYIDUzc2S7FCAqDCgs/OzBla8XfDlQQfaQEKSjn97AK84EBAUZBLMv2Y7zrAiS27cO+YoOKvwG9QdAUz7RA2QAAAABJRU5ErkJggg=="}),(0,o.jsx)(fZ,{count:r.blocked,text:"Blocked",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXklEQVR4nO2Yb2gbZRzHL5MqQ/CFCvPFQBgmBQVBsrtkw2mf391Iu/SS2tiuYkWqMtir+cK+KG74Byub88XEP4tWNLiS4NyspG3SbbCN3HTIXrt1bNV2o1aRCWuSy+it+clzsW1yuSSX5JbLi/7gSx7unjSfz/2eu3sow6zXeq2XaeV2uzcSQl4CgBMAcIUQkgIAXAnP821Ms1ZbW1uAEDKXD6wNIeQc04wFAO+XA9dIXCWEHAKATUwzFCFkyCi8JouEkG5L4QGAAwClRgHajbsAsNMyAULI2Vrh8yTmnE5nS8PheZ5/xijkQI+Aof0e/OOYV/3UmdPTcAFCyLtGoGdHvYhxsSCR99q187+xQuBcuSuthdZG04lLVgjcqHSlKyWy1onZhgsAgEx/vFpobSB3I6etEECzBAAA1wWqKQzbvYP92zJmdWDo1e0yRhwdTKMKI46by+FW/PQtTwHM0QE7BgfsJWH1zn826MFspBUx7LjRUAGMOIoAKVzwtdICJc9HHA0X6FAlJr3ZepcQxrzLFB7DjvaGCayKxDqn6xaIi5cbDr4mII7U3wExaJ1A3CfULTApgmUCqkSs82wdAucthVcFJrxbMC7+U8PSuYVT4hNMMxRO+J7DuPhvVfBx7w6mmQpPe+04tr0y/Ng2bJorry0MMoihRxF/eBoxShAnO3KhY3qMngsyqxs37Hny/iS/dXeKZ8MpnptOApeioWN6LCmwvXQO01ABA6FzF3lXIAncTIrnsEKuLwpbu5tH4KiNQn1sABzzk+TZw/gOs8F06C4p7dx84MylB1+PLI0d2XmnksBve3bcrRY+tSZxyDRwXyLt8kuZC34pg5v3n0bb7hF8fN93Sjl45cDDRVDpbg+mBHcxsODOndPOB66rLvD2GD7gk+Qv/Qk5S+Fpnv1+Dm19I6pE//CwvsAXNpztJIUwfSIuz99EJT5eKCG4UImexOzfC5h+uauwC8D+XvONLV5MbvJJmZ9XwPNjP3hBFaB5avBbDB0J4Pznj6mh431vvF0IH/BgdmEeV0qJR3MSglsdrxSdQ+cWSnDV/x+p69fbj/gT8rQevJpEBlsPX8QNfV+viuQntKtPs0RcuBQ9sQqakxhHZfxHzbH/xfK/C9xodfSINp8kT5WEzwv56U/cMpzAh/Yex5b+kBo6vty5S2edu4okKsLnMl0Vvz8hv2IEvlxudTyv/3QR9CWK7ouCsEnD8D3H8T6fJM/cSwFl/GSxwNREaQFgbxsW8EkZoV54muu9AX34aDF8xS4Ad8X48pHkT8wQOPPmUEV4JR7FJU03SkgcM96BROYXMwQ+DMZMe4wuAvdiFR3ILJgh0H0+iTO9L5R4kUWLXmT0xs7+pfci42aqepH5JfmOGQI0H3x1qv6tBM/5GSuL7ipr38xxBxmri26Jk8B+VMtOFO/FdrrWorvKFM9eqwzPXrN82ZQqdDpb6MaM7m3os52+YdXQMXCj9GlD55T7I/8Bu6JXG3iL9NgAAAAASUVORK5CYII="})]}),(0,o.jsxs)("div",{className:"graph",children:[(0,o.jsxs)("div",{className:"hel",children:[(0,o.jsx)("h5",{children:"Revenue"}),(0,o.jsx)(dZ,{barColors:["lightblue","#2b5797","green"],xValues:["Ads","Premium","Business"],yValues:[40,100,20]})]}),(0,o.jsxs)("div",{className:"hel",children:[(0,o.jsx)("h5",{children:"Accounts"}),(0,o.jsx)(dZ,{barColors:["green","#00aba9","#2b5797","red"],xValues:["Users","Premium","Business","Blocked"],yValues:[r.users,r.premium,r.business,r.blocked]})]})]})]})}),(0,o.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"})]})};const pZ=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),a=st();return(0,i.useEffect)((()=>{const e=localStorage.getItem("SyncUp_AdminToken");if(e){r(!0);const n={route:"admin/isAlive",params:{getData:!0,ref:"Ads"},headers:{Authorization:"Bearer ".concat(e)},crypto:!0};hl(n).then((e=>{e.data.success?(t(e.data.body),r(!1)):(r(!1),localStorage.removeItem("SyncUp_AdminToken"),a("/admin"))}))}}),[]),(0,o.jsx)(XH,{prog:n,btnText:"New ad",btnRedirect:"/admin/ads/new",sortList:["Name","Unlisted","Listed"],active:"Advertisments",th:["Image","Name","Title","Redirect URL","Unlisted",,"Created At","Actions"],children:!n&&e.map(((e,t)=>(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:t+1}),(0,o.jsxs)("td",{children:[" ",(0,o.jsx)("img",{src:e.image_url,alt:"",style:{width:"30px"}})," "]}),(0,o.jsx)("td",{children:e.name}),(0,o.jsxs)("td",{children:[e.title.slice(0,5),"..",e.title.slice(e.title.length-3,e.title.length)]}),(0,o.jsxs)("td",{children:[e.redirect_url.slice(8,12),"..",e.redirect_url.slice(e.redirect_url.length-7,e.redirect_url.length)]}),(0,o.jsx)("td",{children:e.isUnlisted?"Yes":"No"}),(0,o.jsx)("td",{children:new Date(e.createdAt).toDateString().substring(0,10)}),(0,o.jsxs)("td",{style:{display:"flex"},children:[(0,o.jsx)("button",{className:"btnSearch btnNew",style:{width:"50px"},children:(0,o.jsx)("img",{style:{width:"20px"},src:KH})}),(0,o.jsx)("button",{className:"btnSearch",style:{width:"50px"},children:(0,o.jsx)("img",{style:{width:"20px"},src:rF})})]})]})))})};const gZ=function(e){let{children:t,active:n}=e;const[r,a]=(0,i.useState)(!0);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(qH,{open:r,setOpen:a}),(0,o.jsx)(JH,{active:n}),(0,o.jsx)("div",{className:"newBox",children:(0,o.jsx)("div",{className:"boxAdd",children:t})})]})};const mZ=function(){const e=(0,i.useRef)(),t=st(),[n,r]=(0,i.useState)({}),[a,s]=(0,i.useState)(null),l=e=>{e.target.value.trim()?(s(null),r({...n,[e.target.id]:e.target.value})):s("Please fill ".concat(e.target.id))};return(0,o.jsx)(gZ,{active:"Advertisments",children:(0,o.jsxs)("div",{className:"createAdContainer",children:[(0,o.jsx)("h3",{className:"m-4",children:"Create Ad"}),(0,o.jsx)("img",{src:"",id:"adImg",onClick:()=>e.current.click(),className:"adImageInput"}),(0,o.jsx)("input",{onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{r({...n,img:e.target.result}),document.getElementById("adImg").src=e.target.result},e.readAsDataURL(t)}},ref:e,type:"file",hidden:!0,accept:"image/*"}),(0,o.jsxs)("div",{className:"inputAd mt-3",children:[(0,o.jsx)("input",{id:"ad_name",onChange:l,type:"text",placeholder:"Enter name"}),(0,o.jsx)("input",{id:"ad_title",onChange:l,type:"text",placeholder:"Enter title"}),(0,o.jsx)("input",{id:"ad_redirect_url",onChange:l,type:"text",placeholder:"Enter redirect url"}),(0,o.jsx)("button",{onClick:()=>{if(4==Object.values(n).length&&!a){const e=localStorage.getItem("SyncUp_AdminToken");if(e){const i={route:"admin/createAd",payload:{adData:n},headers:{Authorization:"Bearer ".concat(e)},method:"POST"};hl(i).then((e=>{e.data.success?(bi.success(e.data.message),t("/admin/ads")):bi.error(e.data.message)}))}}},className:"submitAd",children:"Create"}),a&&(0,o.jsx)("p",{className:"text-danger mt-3",children:a})]})]})})};var vZ,bZ="https://js.stripe.com/v3",yZ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,CZ="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",wZ=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(bZ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},SZ=null,IZ=null,TZ=null,EZ=function(e){return null!==SZ?SZ:(SZ=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(CZ),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(bZ,'"]')),t=0;t<e.length;t++){var n=e[t];if(yZ.test(n.src))return n}return null}();if(i&&e)console.warn(CZ);else if(i){if(i&&null!==TZ&&null!==IZ){var r;i.removeEventListener("load",TZ),i.removeEventListener("error",IZ),null===(r=i.parentNode)||void 0===r||r.removeChild(i),i=wZ(e)}}else i=wZ(e);TZ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),IZ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),i.addEventListener("load",TZ),i.addEventListener("error",IZ)}catch(a){return void n(a)}else t(null)})),SZ.catch((function(e){return SZ=null,Promise.reject(e)})))},MZ=!1,RZ=function(){return vZ||(vZ=EZ(null).catch((function(e){return vZ=null,Promise.reject(e)})))};Promise.resolve().then((function(){return RZ()})).catch((function(e){MZ||console.warn(e)}));const AZ=function(e){const t=so((e=>e.user)),n=async t=>{e.setTried(!0);const n=await function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];MZ=!0;var i=Date.now();return RZ().then((function(e){return function(e,t,n){if(null===e)return null;var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(i,n),i}(e,t,i)}))}("pk_test_51OVGPESDYWbkQV1JNkitbkbfHNZT6SFfnQP6ODQuEmXRaYwYPlBUs0VDOMsLTQxBnwXddrDsKSeQMMxAXeeH857H00cf7kSioj"),i={route:"stripePaymentSession",payload:{plan:t},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))},method:"POST"};try{const e=await hl(i),t=await n.redirectToCheckout({sessionId:e.data.id});t.error&&bi.error(t.error)}catch(o1){bi.error(o1.message)}};return(0,o.jsxs)(At,{style:{width:"40vh",textAlign:"center",padding:"30px",margin:"30px",background:"white",minHeight:"400px"},children:[(0,o.jsx)("h3",{className:"planTitle",children:e.planTitle}),(0,o.jsx)("p",{className:"planDescription",children:e.planDescription}),(0,o.jsx)("div",{className:"price",children:(0,o.jsxs)("h2",{style:{color:"#ED80FD"},children:["\u20b9",e.price,(0,o.jsx)("span",{style:{color:"black",fontSize:"18px"},children:e.isMonth?"/month":"only"})," "]})}),(0,o.jsx)("div",{className:"features mt-4",children:e.features.map((e=>(0,o.jsxs)("h6",{children:[(0,o.jsx)(kZ,{}),e]})))}),(0,o.jsx)("button",{disabled:!!t.value.isPremium,onClick:()=>{n(e.planTitle)},className:"btnBuy",children:t.value.isPremium?"Purchased":"Continue"})]})},kZ=function(){return(0,o.jsx)("span",{style:{margin:"5px"},children:(0,o.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:"6",cy:"6",r:"6",fill:"#39DC98"}),(0,o.jsx)("g",{"clip-path":"url(#clip0_35_7)",children:(0,o.jsx)("path",{d:"M9.99832 3.60011C9.91172 3.60243 9.82952 3.635 9.76915 3.69093L4.6715 8.27882L2.57384 6.39093C2.54312 6.36213 2.50634 6.33915 2.46563 6.32331C2.42492 6.30748 2.38111 6.29911 2.33676 6.2987C2.29241 6.2983 2.24842 6.30586 2.20736 6.32095C2.1663 6.33603 2.129 6.35834 2.09764 6.38657C2.06628 6.41479 2.04149 6.44836 2.02473 6.48531C2.00797 6.52227 1.99957 6.56186 2.00002 6.60177C2.00047 6.64168 2.00976 6.68111 2.02736 6.71775C2.04495 6.75439 2.07049 6.7875 2.10249 6.81515L4.43582 8.91515C4.49833 8.97139 4.58311 9.00298 4.6715 9.00298C4.75989 9.00298 4.84466 8.97139 4.90717 8.91515L10.2405 4.11515C10.2887 4.07301 10.3216 4.01875 10.3349 3.9595C10.3482 3.90024 10.3413 3.83875 10.3152 3.78307C10.289 3.7274 10.2447 3.68014 10.1882 3.64749C10.1316 3.61484 10.0655 3.59832 9.99832 3.60011Z",fill:"white"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_35_7",children:(0,o.jsx)("rect",{width:"10",height:"9",fill:"white"})})})]})})},xZ=function(){const e=so((e=>e.user)),[t,n]=(0,i.useState)(!1),r=bo(),a=st(),[s,l]=en();(0,i.useEffect)((()=>{if(s.get("isCancelled")){const e={route:"paymentCancelled",method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(e).then((e=>{e.data.success&&bi.error(e.data.message)}))}else if(s.get("token")){if(atob(s.get("u"))==e.value.email){r(Aa());const t={route:"verifyPremium",params:{token:s.get("token")},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(t).then((t=>{t.data.success?(r(ka()),r(Ua({...e.value,isPremium:!0})),a("/chats")):bi.error(t.data.message)}))}}r(ka())}),[]);const c=()=>{if(e.value.chatpoints>=499){r(Aa());const t={method:"PATCH",route:"convertPointsToPremium",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_Auth_Token"))}};hl(t).then((t=>{t.data.success?(r(ka()),r(Ua({...e.value,isPremium:!0})),a("/chats"),bi.success(t.data.message)):bi.error(t.data.message)}))}else bi.error("You are not eligible")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"preimumPageContainer",children:[(0,o.jsx)("p",{className:"prChatPoints",onClick:c,style:{position:"fixed"},children:e.value.chatpoints}),(0,o.jsx)("p",{className:"closeBtn",onClick:()=>a("/chats"),children:"\xd7"}),(0,o.jsx)("div",{className:"planParentDiv",children:(0,o.jsxs)("div",{className:"pinkBox",children:[(0,o.jsx)("h2",{children:"Here are our all plans"}),(0,o.jsx)("p",{style:{textAlign:"center"},children:"Premium helps you to drive into enormous features"}),(0,o.jsxs)("div",{className:"plans",children:[(0,o.jsx)(AZ,{setTried:n,planTitle:"Monthly",price:"399",features:["Ads disabled","More privacy","More features"],isMonth:!0,planDescription:"Try our premium with monthly subscription"}),(0,o.jsx)(AZ,{setTried:n,planTitle:"Lifetime",price:"1899",features:["Ads disabled","More privacy","More features","Lifetime"],planDescription:"Enjoy premium features for lifetime"})]}),(0,o.jsxs)("div",{className:"buyWithChatPoint",children:[(0,o.jsxs)("p",{children:["Chat points helps you to get premium by paying ",(0,o.jsx)("font",{children:"499"})," chat points"]}),(0,o.jsx)("button",{className:"convert",disabled:!!e.value.isPremium,onClick:c,children:e.value.isPremium?"Purchased":"Convert to premium"})]}),(0,o.jsxs)("div",{className:"sharePremium",children:[(0,o.jsx)("h2",{children:"Share your premium"}),(0,o.jsx)("p",{children:"You can transfer your premium membership to another user"})]})]})})]}),(0,o.jsx)(Ft,{})]})},DZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVR4nN2UW04CUQyGCQReRN8gsgV0D+IGDBjDFshMVNBFEOIyvK5HMIKoizD4oC9+pqaTFFLPDF5eaHKSmfZv/56etrncSgtQAtrANTABXvXI95XaSj8Nvg88ky5PQGuZwHngzAS4BY6BOrCmZwvoAkODG4hvFoIk+BvQCTlpMpFiv0iylCUJvrPErRuGpBl60KTmHaOPgKqDr4rN/Mfq+wgUPYK2qXl+wWlkSTS46ERi1RWM7sAjuFHjkdFVzEOOgZqj2zT4nuovPYIHNdadUozMTez3XOm0u0QmHsFMjWXHVlloybnMDW5d7bO/IKg5uA21v/xXibZDJZLdItL9JvOxlMV7eIM/Vf15qE2Hv2jTu1CblnRxsTBAUcZBO1TfqTtoCmopSMa+4YJ8v13gHfgA9tLAA0MSy9UD2IJmLsFF+lmyyRsStNY9HaKyHumWE1NzybyfaV0boqYurjSZppYlQFKUjpDdoi0pwyjnHrhQm/+gKyOftQCKEvgzv6sAAAAASUVORK5CYII=",OZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVR4nNXWOQrCUBQF0KwgNqI4BBuxcWXuUjvBVnFEKy3cxLERApp0/z/0buDA401F8QtBByvsUOVCSqzVuWTBsPCdM8apoe67ZE3YKDXWa8FOObA+9i3YMDU2fjfDZ445sArXKGyCWwN2wCA1NsU9CpvhEYXN8WzANv8HiShdSDOIaG8RAytiBYlYqiLOhKjDJ/CUlyHPSVG/W0tssyGp8wL8QI4bVQ4bTAAAAABJRU5ErkJggg==";function LZ(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r(!0);const e={route:"admin/getReports",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(e).then((e=>{t(e.data.body),r(!1)}))}),[]),(0,o.jsx)(XH,{prog:n,active:"Reports",sortList:["Rejected","Resolved"],th:["Type","Username","Reason","Date","Rep-By","Rejected","Resolved","Actions"],children:e.map(((e,t)=>(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:(0,o.jsx)("img",{width:"30",style:{borderRadius:"10px"},src:e.userData.avatar_url,alt:""})}),(0,o.jsx)("td",{children:e.type}),(0,o.jsx)("td",{children:e.userData.username}),(0,o.jsx)("td",{children:e.reason?e.reason.substring(0,15)+"...":"null"}),(0,o.jsx)("td",{children:e.reportedAtString}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{title:"View reported user",style:{width:"50px"},className:"btnSearch",children:(0,o.jsx)("img",{src:rF,alt:""})})}),(0,o.jsx)("td",{children:e.isRejected?"Yes":"No"}),(0,o.jsx)("td",{children:e.isSolved?"Yes":"No"}),(0,o.jsxs)("td",{children:[!e.isRejected&&(0,o.jsx)("button",{title:"Reject report",style:{width:"50px"},className:"btnSearch btnNew",children:(0,o.jsx)("img",{src:DZ,alt:""})}),(0,o.jsx)("button",{title:"View report",style:{width:"50px"},className:"btnSearch",children:(0,o.jsx)("img",{src:OZ,alt:""})})]})]})))})}function _Z(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({type:null,data:null}),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)();async function f(){const e={route:"admin/getChats",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(e).then((e=>{e.data.success&&t(e.data.body)}))}(0,i.useEffect)((()=>{f()}),[]);return(0,o.jsx)(o.Fragment,{children:n.type?(0,o.jsx)(eG,{...n,setViewData:r,activeTab:"Chats"}):(0,o.jsxs)(XH,{prog:a,active:"Chats",sortList:["Username","Email","Started"],th:["Type","Participants","Persons","StartedAt","Messages","Banned","Actions"],children:[(0,o.jsx)(DA,{func:c,value:l,posFunc:function(){if(u){const e={route:"admin/resetMessages",params:{chatId:u},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},method:"DELETE"};hl(e).then((e=>{e.data.success&&(bi.success(e.data.message),f()),c(!1)}))}},title:"Warning \u26a0\ufe0f ",content:"This action cannot be undone.Do you want to reset Messages of this conversation..?"}),e&&e.map(((e,t)=>(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:t+1}),(0,o.jsx)("td",{children:e.type}),(0,o.jsx)("td",{children:(0,o.jsxs)("button",{onClick:()=>function(e){const t={route:"admin/getConversationUsersData",params:{chatId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(t).then((e=>{e.data.success&&r({type:"users",data:e.data.body})}))}(e._id),className:"btnSearch",children:["View ",(0,o.jsx)("img",{src:rF,style:{width:"15px"},alt:""})]})}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{children:[e.participantsData[0].email,(0,o.jsx)("br",{}),e.participantsData[1].email]})}),(0,o.jsx)("td",{children:e.startedAtString?e.startedAtString:new Date(e.startedAt).toLocaleDateString("en",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,o.jsx)("td",{children:(0,o.jsxs)("button",{disabled:!Boolean(e.messages),className:"btnSearch",children:[(0,o.jsx)("img",{src:rF,style:{width:"15px"},alt:""})," (",e.messages,")"]})}),(0,o.jsx)("td",{children:e.isBanned?"Yes":"No"}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)("button",{title:"Change ban state",onClick:()=>(async e=>{const t={route:"admin/changeConversationBan",payload:{chatId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},method:"PUT"};hl(t).then((e=>{e.data.success&&f()}))})(e._id),style:{width:"50px"},className:"btnSearch btnNew",children:e.isBanned?(0,o.jsx)(D,{far:!0,icon:"circle"}):(0,o.jsx)(D,{fas:!0,icon:"ban"})}),(0,o.jsx)("button",{disabled:!Boolean(e.messages),style:{width:"50px"},onClick:()=>{c(!0),d(e._id)},className:"btnSearch",children:(0,o.jsx)(D,{far:!0,icon:"trash-alt"})})]})})]})))]})})}function NZ(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r(!0);const e={route:"admin/getBroadcasts",headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},crypto:!0};hl(e).then((e=>{t(e.data.body),console.log(e.data.body),r(!1)}))}),[]),(0,o.jsx)(XH,{btnRedirect:"new",btnText:"Send new",prog:n,active:"Announcement",sortList:["Broadcast","Banned","Excluded"],th:["Type","ContentType","Persons","Exclude","Content","Media","ParyPopper","Date"],children:e.length&&e.map(((e,t)=>{var n,i;return(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{children:t+1}),(0,o.jsx)("td",{children:e.type}),(0,o.jsx)("td",{children:e.contentType}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.persons.toString()}),(0,o.jsx)("td",{children:(null===e||void 0===e||null===(n=e.exclude)||void 0===n?void 0:n.toString())||"none"}),(0,o.jsx)("td",{style:{maxWidth:"150px"},children:(0,o.jsx)("div",{style:{maxHeight:"30px",overflowY:"auto",overflowX:"hidden"},children:e.content||"none"})}),(0,o.jsxs)("td",{children:[e.isMedia?(0,o.jsx)(Kt,{target:"_blank",to:null===(i=e.mediaConfig)||void 0===i?void 0:i.url,children:"Click"}):"none"," "]}),(0,o.jsx)("td",{children:e.isConfettiEnabled?"Yes":"No"}),(0,o.jsx)("td",{children:e.createdAtString})]},t)}))})}const jZ=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,a=e.children,o=e.onMouseDown,s=e.onClick,l="function"===typeof n?n(r):n;return i.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null===o||void 0===o||o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==l?l:i.createElement("span",{className:Bl()(t.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))};var PZ=i.createContext(null);function UZ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=i.useRef(null),n=i.useRef(null);return i.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},function(i){(i||null===t.current)&&(t.current=i),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}]}var FZ=function(e,t){var n,r=e.prefixCls,a=e.id,o=e.inputElement,s=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,d=e.editable,f=e.activeDescendantId,h=e.value,p=e.maxLength,g=e.onKeyDown,m=e.onMouseDown,v=e.onChange,b=e.onPaste,y=e.onCompositionStart,C=e.onCompositionEnd,w=e.open,S=e.attrs,I=o||i.createElement("input",null),T=I,E=T.ref,M=T.props,R=M.onKeyDown,A=M.onChange,k=M.onMouseDown,x=M.onCompositionStart,D=M.onCompositionEnd,O=M.style;return I.props,I=i.cloneElement(I,Tl(Tl(Tl({type:"search"},M),{},{id:a,ref:qf(t,E),disabled:s,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:Bl()("".concat(r,"-selection-search-input"),null===(n=I)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":w||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":w?f:void 0},S),{},{value:d?h:"",maxLength:p,readOnly:!d,unselectable:d?null:"on",style:Tl(Tl({},O),{},{opacity:d?null:0}),onKeyDown:function(e){g(e),R&&R(e)},onMouseDown:function(e){m(e),k&&k(e)},onChange:function(e){v(e),A&&A(e)},onCompositionStart:function(e){y(e),x&&x(e)},onCompositionEnd:function(e){C(e),D&&D(e)},onPaste:b}))};const BZ=i.forwardRef(FZ);function zZ(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var WZ="undefined"!==typeof window&&window.document&&window.document.documentElement;function VZ(e){return["string","number"].includes(yi(e))}function HZ(e){var t=void 0;return e&&(VZ(e.title)?t=e.title.toString():VZ(e.label)&&(t=e.label.toString())),t}function GZ(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var YZ=function(e){e.preventDefault(),e.stopPropagation()};const JZ=function(e){var t,n,r=e.id,a=e.prefixCls,o=e.values,s=e.open,l=e.searchValue,c=e.autoClearSearchValue,u=e.inputRef,d=e.placeholder,f=e.disabled,h=e.mode,p=e.showSearch,g=e.autoFocus,m=e.autoComplete,v=e.activeDescendantId,b=e.tabIndex,y=e.removeIcon,C=e.maxTagCount,w=e.maxTagTextLength,S=e.maxTagPlaceholder,I=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,T=e.tagRender,E=e.onToggleOpen,M=e.onRemove,R=e.onInputChange,A=e.onInputPaste,k=e.onInputKeyDown,x=e.onInputMouseDown,D=e.onInputCompositionStart,O=e.onInputCompositionEnd,L=i.useRef(null),_=nu((0,i.useState)(0),2),N=_[0],j=_[1],P=nu((0,i.useState)(!1),2),U=P[0],F=P[1],B="".concat(a,"-selection"),z=s||"multiple"===h&&!1===c||"tags"===h?l:"",W="tags"===h||"multiple"===h&&!1===c||p&&(s||U);t=function(){j(L.current.scrollWidth)},n=[z],WZ?i.useLayoutEffect(t,n):i.useEffect(t,n);var V=function(e,t,n,r,a){return i.createElement("span",{title:HZ(e),className:Bl()("".concat(B,"-item"),wi({},"".concat(B,"-item-disabled"),n))},i.createElement("span",{className:"".concat(B,"-item-content")},t),r&&i.createElement(jZ,{className:"".concat(B,"-item-remove"),onMouseDown:YZ,onClick:a,customizeIcon:y},"\xd7"))},H=i.createElement("div",{className:"".concat(B,"-search"),style:{width:N},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},i.createElement(BZ,{ref:u,open:s,prefixCls:a,id:r,inputElement:null,disabled:f,autoFocus:g,autoComplete:m,editable:W,activeDescendantId:v,value:z,onKeyDown:k,onMouseDown:x,onChange:R,onPaste:A,onCompositionStart:D,onCompositionEnd:O,tabIndex:b,attrs:MT(e,!0)}),i.createElement("span",{ref:L,className:"".concat(B,"-search-mirror"),"aria-hidden":!0},z,"\xa0")),G=i.createElement(Yb,{prefixCls:"".concat(B,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,a=!f&&!t,o=n;if("number"===typeof w&&("string"===typeof n||"number"===typeof n)){var l=String(o);l.length>w&&(o="".concat(l.slice(0,w),"..."))}var c=function(t){t&&t.stopPropagation(),M(e)};return"function"===typeof T?function(e,t,n,r,a){return i.createElement("span",{onMouseDown:function(e){YZ(e),E(!s)}},T({label:t,value:e,disabled:n,closable:r,onClose:a}))}(r,o,t,a,c):V(e,o,t,a,c)},renderRest:function(e){var t="function"===typeof I?I(e):I;return V({title:t},t,!1)},suffix:H,itemKey:GZ,maxCount:C});return i.createElement(i.Fragment,null,G,!o.length&&!z&&i.createElement("span",{className:"".concat(B,"-placeholder")},d))};const QZ=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,a=e.inputRef,o=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,g=e.showSearch,m=e.searchValue,v=e.activeValue,b=e.maxLength,y=e.onInputKeyDown,C=e.onInputMouseDown,w=e.onInputChange,S=e.onInputPaste,I=e.onInputCompositionStart,T=e.onInputCompositionEnd,E=e.title,M=nu(i.useState(!1),2),R=M[0],A=M[1],k="combobox"===u,x=k||g,D=f[0],O=m||"";k&&v&&!R&&(O=v),i.useEffect((function(){k&&A(!1)}),[k,v]);var L=!("combobox"!==u&&!d&&!g)&&!!O,_=void 0===E?HZ(D):E,N=i.useMemo((function(){return D?null:i.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:L?{visibility:"hidden"}:void 0},h)}),[D,L,h,n]);return i.createElement(i.Fragment,null,i.createElement("span",{className:"".concat(n,"-selection-search")},i.createElement(BZ,{ref:a,prefixCls:n,id:r,open:d,inputElement:t,disabled:o,autoFocus:s,autoComplete:l,editable:x,activeDescendantId:c,value:O,onKeyDown:y,onMouseDown:C,onChange:function(e){A(!0),w(e)},onPaste:S,onCompositionStart:I,onCompositionEnd:T,tabIndex:p,attrs:MT(e,!0),maxLength:k?b:void 0})),!k&&D?i.createElement("span",{className:"".concat(n,"-selection-item"),title:_,style:L?{visibility:"hidden"}:void 0},D.label):null,N)};var qZ=function(e,t){var n=(0,i.useRef)(null),r=(0,i.useRef)(!1),a=e.prefixCls,o=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,p=e.onInputKeyDown,g=e.domRef;i.useImperativeHandle(t,(function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}}));var m=nu(UZ(0),2),v=m[0],b=m[1],y=(0,i.useRef)(null),C=function(e){!1!==d(e,!0,r.current)&&h(!0)},w={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==ov.UP&&n!==ov.DOWN||e.preventDefault(),p&&p(e),n!==ov.ENTER||"tags"!==s||r.current||o||null===f||void 0===f||f(e.target.value),t=n,[ov.ESC,ov.SHIFT,ov.BACKSPACE,ov.TAB,ov.WIN_KEY,ov.ALT,ov.META,ov.WIN_KEY_RIGHT,ov.CTRL,ov.SEMICOLON,ov.EQUALS,ov.CAPS_LOCK,ov.CONTEXT_MENU,ov.F1,ov.F2,ov.F3,ov.F4,ov.F5,ov.F6,ov.F7,ov.F8,ov.F9,ov.F10,ov.F11,ov.F12].includes(t)||h(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(c&&y.current&&/[\r\n]/.test(y.current)){var n=y.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,y.current)}y.current=null,C(t)},onInputPaste:function(e){var t=e.clipboardData,n=null===t||void 0===t?void 0:t.getData("text");y.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==s&&C(e.target.value)}},S="multiple"===s||"tags"===s?i.createElement(JZ,Sl({},e,w)):i.createElement(QZ,Sl({},e,w));return i.createElement("div",{ref:g,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=v();e.target===n.current||t||"combobox"===s||e.preventDefault(),("combobox"===s||l&&t)&&o||(o&&!1!==u&&d("",!0,!1),h())}},S)};const XZ=i.forwardRef(qZ);var KZ=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],ZZ=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),a=e.children,o=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=void 0===d?"ltr":d,h=e.placement,p=e.builtinPlacements,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,v=e.dropdownAlign,b=e.getPopupContainer,y=e.empty,C=e.getTriggerDOMNode,w=e.onPopupVisibleChange,S=e.onPopupMouseEnter,I=jl(e,KZ),T="".concat(n,"-dropdown"),E=o;m&&(E=m(o));var M=i.useMemo((function(){return p||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(g)}),[p,g]),R=s?"".concat(T,"-").concat(s):l,A="number"===typeof g,k=i.useMemo((function(){return A?null:!1===g?"minWidth":"width"}),[g,A]),x=c;A&&(x=Tl(Tl({},x),{},{width:g}));var D=i.useRef(null);return i.useImperativeHandle(t,(function(){return{getPopupElement:function(){return D.current}}})),i.createElement(rv,Sl({},I,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:h||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:M,prefixCls:T,popupTransitionName:R,popup:i.createElement("div",{ref:D,onMouseEnter:S},E),stretch:k,popupAlign:v,popupVisible:r,getPopupContainer:b,popupClassName:Bl()(u,wi({},"".concat(T,"-empty"),y)),popupStyle:x,getTriggerDOMNode:C,onPopupVisibleChange:w}),a)};const $Z=i.forwardRef(ZZ);function e$(e,t){var n,i=e.key;return"value"in e&&(n=e.value),null!==i&&void 0!==i?i:void 0!==n?n:"rc-index-key-".concat(t)}function t$(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function n$(e,t){var n=e||{},i=n.label||(t?"children":"label");return{label:i,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||i}}function i$(e){var t=Tl({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Mu(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const r$=i.createContext(null);var a$=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],o$=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],s$=function(e){return"tags"===e||"multiple"===e},l$=i.forwardRef((function(e,t){var n,r=e.id,a=e.prefixCls,o=e.className,s=e.showSearch,l=e.tagRender,c=e.direction,u=e.omitDomProps,d=e.displayValues,f=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,g=void 0===p?"Not Found":p,m=e.onClear,v=e.mode,b=e.disabled,y=e.loading,C=e.getInputElement,w=e.getRawInputElement,S=e.open,I=e.defaultOpen,T=e.onDropdownVisibleChange,E=e.activeValue,M=e.onActiveValueChange,R=e.activeDescendantId,A=e.searchValue,k=e.autoClearSearchValue,x=e.onSearch,D=e.onSearchSplit,O=e.tokenSeparators,L=e.allowClear,_=e.suffixIcon,N=e.clearIcon,j=e.OptionList,P=e.animation,U=e.transitionName,F=e.dropdownStyle,B=e.dropdownClassName,z=e.dropdownMatchSelectWidth,W=e.dropdownRender,V=e.dropdownAlign,H=e.placement,G=e.builtinPlacements,Y=e.getPopupContainer,J=e.showAction,Q=void 0===J?[]:J,q=e.onFocus,X=e.onBlur,K=e.onKeyUp,Z=e.onKeyDown,$=e.onMouseDown,ee=jl(e,a$),te=s$(v),ne=(void 0!==s?s:te)||"combobox"===v,ie=Tl({},ee);o$.forEach((function(e){delete ie[e]})),null===u||void 0===u||u.forEach((function(e){delete ie[e]}));var re=nu(i.useState(!1),2),ae=re[0],oe=re[1];i.useEffect((function(){oe(_g())}),[]);var se=i.useRef(null),le=i.useRef(null),ce=i.useRef(null),ue=i.useRef(null),de=i.useRef(null),fe=i.useRef(!1),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=nu(i.useState(!1),2),n=t[0],r=t[1],a=i.useRef(null),o=function(){window.clearTimeout(a.current)};return i.useEffect((function(){return o}),[]),[n,function(t,n){o(),a.current=window.setTimeout((function(){r(t),n&&n()}),e)},o]}(),pe=nu(he,3),ge=pe[0],me=pe[1],ve=pe[2];i.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=ue.current)||void 0===e?void 0:e.focus,blur:null===(t=ue.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=de.current)||void 0===t?void 0:t.scrollTo(e)}}}));var be=i.useMemo((function(){var e;if("combobox"!==v)return A;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[A,v,d]),ye="combobox"===v&&"function"===typeof C&&C()||null,Ce="function"===typeof w&&w(),we=Xf(le,null===Ce||void 0===Ce||null===(n=Ce.props)||void 0===n?void 0:n.ref),Se=nu(i.useState(!1),2),Ie=Se[0],Te=Se[1];sd((function(){Te(!0)}),[]);var Ee=nu(Yf(!1,{defaultValue:I,value:S}),2),Me=Ee[0],Re=Ee[1],Ae=!!Ie&&Me,ke=!g&&h;(b||ke&&Ae&&"combobox"===v)&&(Ae=!1);var xe=!ke&&Ae,De=i.useCallback((function(e){var t=void 0!==e?e:!Ae;b||(Re(t),Ae!==t&&(null===T||void 0===T||T(t)))}),[b,Ae,Re,T]),Oe=i.useMemo((function(){return(O||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[O]),Le=i.useContext(r$)||{},_e=Le.maxCount,Ne=Le.rawValues,je=function(e,t,n){if(!(te&&t$(_e)&&(null===Ne||void 0===Ne?void 0:Ne.size)>=_e)){var i=!0,r=e;null===M||void 0===M||M(null);var a=function(e,t,n){if(!t||!t.length)return null;var i=!1,r=function e(t,n){var r=Zf(n),a=r[0],o=r.slice(1);if(!a)return[t];var s=t.split(a);return i=i||s.length>1,s.reduce((function(t,n){return[].concat(ru(t),ru(e(n,o)))}),[]).filter(Boolean)}(e,t);return i?"undefined"!==typeof n?r.slice(0,n):r:null}(e,O,t$(_e)?_e-Ne.size:void 0),o=n?null:a;return"combobox"!==v&&o&&(r="",null===D||void 0===D||D(o),De(!1),i=!1),x&&be!==r&&x(r,{source:t?"typing":"effect"}),i}};i.useEffect((function(){Ae||te||"combobox"===v||je("",!1,!1)}),[Ae]),i.useEffect((function(){Me&&b&&Re(!1),b&&!fe.current&&me(!1)}),[b]);var Pe=nu(UZ(),2),Ue=Pe[0],Fe=Pe[1],Be=i.useRef(!1),ze=[];i.useEffect((function(){return function(){ze.forEach((function(e){return clearTimeout(e)})),ze.splice(0,ze.length)}}),[]);var We,Ve=nu(i.useState({}),2)[1];Ce&&(We=function(e){De(e)}),function(e,t,n,r){var a=i.useRef(null);a.current={open:t,triggerOpen:n,customizedTrigger:r},i.useEffect((function(){function t(t){var n;if(null===(n=a.current)||void 0===n||!n.customizedTrigger){var i=t.target;i.shadowRoot&&t.composed&&(i=t.composedPath()[0]||i),a.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(i)&&e!==i}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[se.current,null===(e=ce.current)||void 0===e?void 0:e.getPopupElement()]}),xe,De,!!Ce);var He,Ge=i.useMemo((function(){return Tl(Tl({},e),{},{notFoundContent:g,open:Ae,triggerOpen:xe,id:r,showSearch:ne,multiple:te,toggleOpen:De})}),[e,g,xe,Ae,r,ne,te,De]),Ye=!!_||y;Ye&&(He=i.createElement(jZ,{className:Bl()("".concat(a,"-arrow"),wi({},"".concat(a,"-arrow-loading"),y)),customizeIcon:_,customizeIconProps:{loading:y,searchValue:be,open:Ae,focused:ge,showSearch:ne}}));var Je,Qe=function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=i.useMemo((function(){return"object"===yi(r)?r.clearIcon:a||void 0}),[r,a]);return{allowClear:i.useMemo((function(){return!(o||!r||!n.length&&!s||"combobox"===l&&""===s)}),[r,o,n.length,s,l]),clearIcon:i.createElement(jZ,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"\xd7")}}(a,(function(){var e;null===m||void 0===m||m(),null===(e=ue.current)||void 0===e||e.focus(),f([],{type:"clear",values:d}),je("",!1,!1)}),d,L,N,b,be,v),qe=Qe.allowClear,Xe=Qe.clearIcon,Ke=i.createElement(j,{ref:de}),Ze=Bl()(a,o,wi(wi(wi(wi(wi(wi(wi(wi(wi(wi({},"".concat(a,"-focused"),ge),"".concat(a,"-multiple"),te),"".concat(a,"-single"),!te),"".concat(a,"-allow-clear"),L),"".concat(a,"-show-arrow"),Ye),"".concat(a,"-disabled"),b),"".concat(a,"-loading"),y),"".concat(a,"-open"),Ae),"".concat(a,"-customize-input"),ye),"".concat(a,"-show-search"),ne)),$e=i.createElement($Z,{ref:ce,disabled:b,prefixCls:a,visible:xe,popupElement:Ke,animation:P,transitionName:U,dropdownStyle:F,dropdownClassName:B,direction:c,dropdownMatchSelectWidth:z,dropdownRender:W,dropdownAlign:V,placement:H,builtinPlacements:G,getPopupContainer:Y,empty:h,getTriggerDOMNode:function(){return le.current},onPopupVisibleChange:We,onPopupMouseEnter:function(){Ve({})}},Ce?i.cloneElement(Ce,{ref:we}):i.createElement(XZ,Sl({},e,{domRef:le,prefixCls:a,inputElement:ye,ref:ue,id:r,showSearch:ne,autoClearSearchValue:k,mode:v,activeDescendantId:R,tagRender:l,values:d,open:Ae,onToggleOpen:De,activeValue:E,searchValue:be,onSearch:je,onSearchSubmit:function(e){e&&e.trim()&&x(e,{source:"submit"})},onRemove:function(e){var t=d.filter((function(t){return t!==e}));f(t,{type:"remove",values:[e]})},tokenWithEnter:Oe})));return Je=Ce?$e:i.createElement("div",Sl({className:Ze},ie,{ref:se,onMouseDown:function(e){var t,n=e.target,i=null===(t=ce.current)||void 0===t?void 0:t.getPopupElement();if(i&&i.contains(n)){var r=setTimeout((function(){var e,t=ze.indexOf(r);-1!==t&&ze.splice(t,1),ve(),ae||i.contains(document.activeElement)||null===(e=ue.current)||void 0===e||e.focus()}));ze.push(r)}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];null===$||void 0===$||$.apply(void 0,[e].concat(o))},onKeyDown:function(e){var t,n=Ue(),i=e.which;if(i===ov.ENTER&&("combobox"!==v&&e.preventDefault(),Ae||De(!0)),Fe(!!be),i===ov.BACKSPACE&&!n&&te&&!be&&d.length){for(var r=ru(d),a=null,o=r.length-1;o>=0;o-=1){var s=r[o];if(!s.disabled){r.splice(o,1),a=s;break}}a&&f(r,{type:"remove",values:[a]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];Ae&&(null===(t=de.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(c))),null===Z||void 0===Z||Z.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;Ae&&(null===(r=de.current)||void 0===r||r.onKeyUp.apply(r,[e].concat(n))),null===K||void 0===K||K.apply(void 0,[e].concat(n))},onFocus:function(){me(!0),b||(q&&!Be.current&&q.apply(void 0,arguments),Q.includes("focus")&&De(!0)),Be.current=!0},onBlur:function(){fe.current=!0,me(!1,(function(){Be.current=!1,fe.current=!1,De(!1)})),b||(be&&("tags"===v?x(be,{source:"submit"}):"multiple"===v&&x("",{source:"blur"})),X&&X.apply(void 0,arguments))}}),ge&&!Ae&&i.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(d.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(yi(t))?t:n})).join(", "))),$e,He,qe&&Xe),i.createElement(PZ.Provider,{value:Ge},Je)}));const c$=l$;var u$=function(){return null};u$.isSelectOptGroup=!0;const d$=u$;var f$=function(){return null};f$.isSelectOption=!0;const h$=f$;var p$=i.forwardRef((function(e,t){var n=e.height,r=e.offsetY,a=e.offsetX,o=e.children,s=e.prefixCls,l=e.onInnerResize,c=e.innerProps,u=e.rtl,d=e.extra,f={},h={display:"flex",flexDirection:"column"};return void 0!==r&&(f={height:n,position:"relative",overflow:"hidden"},h=Tl(Tl({},h),{},wi(wi(wi(wi(wi({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),i.createElement("div",{style:f},i.createElement(xg,{onResize:function(e){e.offsetHeight&&l&&l()}},i.createElement("div",Sl({style:h,className:Bl()(wi({},"".concat(s,"-holder-inner"),s)),ref:t},c),o,d)))}));p$.displayName="Filler";const g$=p$;function m$(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var v$=i.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,a=e.scrollOffset,o=e.scrollRange,s=e.onStartMove,l=e.onStopMove,c=e.onScroll,u=e.horizontal,d=e.spinSize,f=e.containerSize,h=e.style,p=e.thumbStyle,g=nu(i.useState(!1),2),m=g[0],v=g[1],b=nu(i.useState(null),2),y=b[0],C=b[1],w=nu(i.useState(null),2),S=w[0],I=w[1],T=!r,E=i.useRef(),M=i.useRef(),R=nu(i.useState(!1),2),A=R[0],k=R[1],x=i.useRef(),D=function(){clearTimeout(x.current),k(!0),x.current=setTimeout((function(){k(!1)}),3e3)},O=o-f||0,L=f-d||0,_=i.useMemo((function(){return 0===a||0===O?0:a/O*L}),[a,O,L]),N=i.useRef({top:_,dragging:m,pageY:y,startTop:S});N.current={top:_,dragging:m,pageY:y,startTop:S};var j=function(e){v(!0),C(m$(e,u)),I(N.current.top),s(),e.stopPropagation(),e.preventDefault()};i.useEffect((function(){var e=function(e){e.preventDefault()},t=E.current,n=M.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",j),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",j)}}),[]);var P=i.useRef();P.current=O;var U=i.useRef();U.current=L,i.useEffect((function(){if(m){var e,t=function(t){var n=N.current,i=n.dragging,r=n.pageY,a=n.startTop;if(mm.cancel(e),i){var o=m$(t,u)-r,s=a;!T&&u?s-=o:s+=o;var l=P.current,d=U.current,f=d?s/d:0,h=Math.ceil(f*l);h=Math.max(h,0),h=Math.min(h,l),e=mm((function(){c(h,u)}))}},n=function(){v(!1),l()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),mm.cancel(e)}}}),[m]),i.useEffect((function(){D()}),[a]),i.useImperativeHandle(t,(function(){return{delayHidden:D}}));var F="".concat(n,"-scrollbar"),B={position:"absolute",visibility:A?null:"hidden"},z={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(B.height=8,B.left=0,B.right=0,B.bottom=0,z.height="100%",z.width=d,T?z.left=_:z.right=_):(B.width=8,B.top=0,B.bottom=0,T?B.right=0:B.left=0,z.width="100%",z.height=d,z.top=_),i.createElement("div",{ref:E,className:Bl()(F,wi(wi(wi({},"".concat(F,"-horizontal"),u),"".concat(F,"-vertical"),!u),"".concat(F,"-visible"),A)),style:Tl(Tl({},B),h),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:D},i.createElement("div",{ref:M,className:Bl()("".concat(F,"-thumb"),wi({},"".concat(F,"-thumb-moving"),m)),style:Tl(Tl({},z),p),onMouseDown:j}))}));const b$=v$;function y$(e){var t=e.children,n=e.setRef,r=i.useCallback((function(e){n(e)}),[]);return i.cloneElement(t,{ref:r})}var C$=function(){function e(){El(this,e),wi(this,"maps",void 0),wi(this,"id",0),this.maps=Object.create(null)}return Rl(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();const w$=C$;var S$=10;function I$(e,t,n){var r=nu(i.useState(e),2),a=r[0],o=r[1],s=nu(i.useState(null),2),l=s[0],c=s[1];return i.useEffect((function(){var i=function(e,t,n){var i,r,a=e.length,o=t.length;if(0===a&&0===o)return null;a<o?(i=e,r=t):(i=t,r=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(a-o),d=0;d<r.length;d+=1){var f=l(i[d]);if(f!==l(r[d])){c=d,u=u||f!==l(r[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],e||[],t);void 0!==(null===i||void 0===i?void 0:i.index)&&(null===n||void 0===n||n(i.index),c(e[i.index])),o(e)}),[e]),[l]}const T$="object"===("undefined"===typeof navigator?"undefined":yi(navigator))&&/Firefox/i.test(navigator.userAgent),E$=function(e,t){var n=(0,i.useRef)(!1),r=(0,i.useRef)(null);var a=(0,i.useRef)({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e<0&&a.current.top||e>0&&a.current.bottom;return t&&i?(clearTimeout(r.current),n.current=!1):i&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&i}};function M$(e,t,n,r,a){var o=(0,i.useRef)(0),s=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(!1),u=E$(t,n);var d=(0,i.useRef)(null),f=(0,i.useRef)(null);return[function(t){if(e){mm.cancel(f.current),f.current=mm((function(){d.current=null}),2);var n=t.deltaX,i=t.deltaY,h=t.shiftKey,p=n,g=i;("sx"===d.current||!d.current&&h&&i&&!n)&&(p=i,g=0,d.current="sx");var m=Math.abs(p),v=Math.abs(g);null===d.current&&(d.current=r&&m>v?"x":"y"),"y"===d.current?function(e,t){mm.cancel(s.current),o.current+=t,l.current=t,u(t)||(T$||e.preventDefault(),s.current=mm((function(){var e=c.current?10:1;a(o.current*e),o.current=0})))}(t,g):function(e,t){a(t,!0),T$||e.preventDefault()}(t,p)}},function(t){e&&(c.current=t.detail===l.current)}]}var R$=14/15;var A$=20;function k$(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,A$),Math.floor(t)}var x$=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],D$=[],O$={overflowY:"auto",overflowAnchor:"none"};function L$(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,a=e.className,o=e.height,s=e.itemHeight,l=e.fullHeight,u=void 0===l||l,d=e.style,f=e.data,h=e.children,p=e.itemKey,g=e.virtual,m=e.direction,v=e.scrollWidth,b=e.component,y=void 0===b?"div":b,C=e.onScroll,w=e.onVirtualScroll,S=e.onVisibleChange,I=e.innerProps,T=e.extraRender,E=e.styles,M=jl(e,x$),R=!(!1===g||!o||!s),A=R&&f&&(s*f.length>o||!!v),k="rtl"===m,x=Bl()(r,wi({},"".concat(r,"-rtl"),k),a),D=f||D$,O=(0,i.useRef)(),L=(0,i.useRef)(),_=nu((0,i.useState)(0),2),N=_[0],j=_[1],P=nu((0,i.useState)(0),2),U=P[0],F=P[1],B=nu((0,i.useState)(!1),2),z=B[0],W=B[1],V=function(){W(!0)},H=function(){W(!1)},G=i.useCallback((function(e){return"function"===typeof p?p(e):null===e||void 0===e?void 0:e[p]}),[p]),Y={getKey:G};function J(e){j((function(t){var n=function(e){var t=e;Number.isNaN(me.current)||(t=Math.min(t,me.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return O.current.scrollTop=n,n}))}var Q=(0,i.useRef)({start:0,end:D.length}),q=(0,i.useRef)(),X=nu(I$(D,G),1)[0];q.current=X;var K=function(e,t,n){var r=nu(i.useState(0),2),a=r[0],o=r[1],s=(0,i.useRef)(new Map),l=(0,i.useRef)(new w$),c=(0,i.useRef)();function u(){mm.cancel(c.current)}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u();var t=function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=wg(e),i=n.offsetHeight;l.current.get(t)!==i&&l.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))};e?t():c.current=mm(t)}return(0,i.useEffect)((function(){return u}),[]),[function(i,r){var a=e(i),o=s.current.get(a);r?(s.current.set(a,r),d()):s.current.delete(a),!o!==!r&&(r?null===t||void 0===t||t(i):null===n||void 0===n||n(i))},d,l.current,a]}(G,null,null),Z=nu(K,4),$=Z[0],ee=Z[1],te=Z[2],ne=Z[3],ie=i.useMemo((function(){if(!R)return{scrollHeight:void 0,start:0,end:D.length-1,offset:void 0};var e;if(!A)return{scrollHeight:(null===(e=L.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:D.length-1,offset:void 0};for(var t,n,i,r=0,a=D.length,l=0;l<a;l+=1){var c=D[l],u=G(c),d=te.get(u),f=r+(void 0===d?s:d);f>=N&&void 0===t&&(t=l,n=r),f>N+o&&void 0===i&&(i=l),r=f}return void 0===t&&(t=0,n=0,i=Math.ceil(o/s)),void 0===i&&(i=D.length-1),{scrollHeight:r,start:t,end:i=Math.min(i+1,D.length-1),offset:n}}),[A,R,N,D,ne,o]),re=ie.scrollHeight,ae=ie.start,oe=ie.end,se=ie.offset;Q.current.start=ae,Q.current.end=oe;var le=nu(i.useState({width:0,height:o}),2),ce=le[0],ue=le[1],de=(0,i.useRef)(),fe=(0,i.useRef)(),he=i.useMemo((function(){return k$(ce.width,v)}),[ce.width,v]),pe=i.useMemo((function(){return k$(ce.height,re)}),[ce.height,re]),ge=re-o,me=(0,i.useRef)(ge);me.current=ge;var ve=N<=0,be=N>=ge,ye=E$(ve,be),Ce=function(){return{x:k?-U:U,y:N}},we=(0,i.useRef)(Ce()),Se=Vf((function(){if(w){var e=Ce();we.current.x===e.x&&we.current.y===e.y||(w(e),we.current=e)}}));function Ie(e,t){var n=e;t?((0,c.flushSync)((function(){F(n)})),Se()):J(n)}var Te=function(e){var t=e,n=v-ce.width;return t=Math.max(t,0),t=Math.min(t,n)},Ee=Vf((function(e,t){t?((0,c.flushSync)((function(){F((function(t){return Te(t+(k?-e:e))}))})),Se()):J((function(t){return t+e}))})),Me=nu(M$(R,ve,be,!!v,Ee),2),Re=Me[0],Ae=Me[1];!function(e,t,n){var r,a=(0,i.useRef)(!1),o=(0,i.useRef)(0),s=(0,i.useRef)(null),l=(0,i.useRef)(null),c=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageY),i=o.current-t;o.current=t,n(i)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(i*=R$,!0)||Math.abs(i)<=.1)&&clearInterval(l.current)}),16)}},u=function(){a.current=!1,r()},d=function(e){r(),1!==e.touches.length||a.current||(a.current=!0,o.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};r=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},sd((function(){return e&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(l.current)}}),[e])}(R,O,(function(e,t){return!ye(e,t)&&(Re({preventDefault:function(){},deltaY:e}),!0)})),sd((function(){function e(e){R&&e.preventDefault()}var t=O.current;return t.addEventListener("wheel",Re),t.addEventListener("DOMMouseScroll",Ae),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",Re),t.removeEventListener("DOMMouseScroll",Ae),t.removeEventListener("MozMousePixelScroll",e)}}),[R]),sd((function(){v&&F((function(e){return Te(e)}))}),[ce.width,v]);var ke=function(){var e,t;null===(e=de.current)||void 0===e||e.delayHidden(),null===(t=fe.current)||void 0===t||t.delayHidden()},xe=function(e,t,n,r,a,o,s,l){var c=i.useRef(),u=nu(i.useState(null),2),d=u[0],f=u[1];return sd((function(){if(d&&d.times<S$){if(!e.current)return void f((function(e){return Tl({},e)}));o();var i=d.targetAlign,l=d.originAlign,c=d.index,u=d.offset,h=e.current.clientHeight,p=!1,g=i,m=null;if(h){for(var v=i||l,b=0,y=0,C=0,w=Math.min(t.length-1,c),S=0;S<=w;S+=1){var I=a(t[S]);y=b;var T=n.get(I);b=C=y+(void 0===T?r:T)}for(var E="top"===v?u:h-u,M=w;M>=0;M-=1){var R=a(t[M]),A=n.get(R);if(void 0===A){p=!0;break}if((E-=A)<=0)break}switch(v){case"top":m=y-u;break;case"bottom":m=C-h+u;break;default:var k=e.current.scrollTop;y<k?g="top":C>k+h&&(g="bottom")}null!==m&&s(m),m!==d.lastTop&&(p=!0)}p&&f(Tl(Tl({},d),{},{times:d.times+1,targetAlign:g,lastTop:m}))}}),[d,e.current]),function(e){if(null!==e&&void 0!==e){if(mm.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===yi(e)){var n,i=e.align;n="index"in e?e.index:t.findIndex((function(t){return a(t)===e.key}));var r=e.offset;f({times:0,index:n,offset:void 0===r?0:r,originAlign:i})}}else l()}}(O,D,te,s,G,(function(){return ee(!0)}),J,ke);i.useImperativeHandle(t,(function(){return{getScrollInfo:Ce,scrollTo:function(e){var t;(t=e)&&"object"===yi(t)&&("left"in t||"top"in t)?(void 0!==e.left&&F(Te(e.left)),xe(e.top)):xe(e)}}})),sd((function(){if(S){var e=D.slice(ae,oe+1);S(e,D)}}),[ae,oe,D]);var De=function(e,t,n,r){var a=nu(i.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),o=a[0],s=a[1];return function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,l=o.get(i),c=o.get(a);if(void 0===l||void 0===c)for(var u=e.length,d=s.length;d<u;d+=1){var f,h=e[d],p=t(h);o.set(p,d);var g=null!==(f=n.get(p))&&void 0!==f?f:r;if(s[d]=(s[d-1]||0)+g,p===i&&(l=d),p===a&&(c=d),void 0!==l&&void 0!==c)break}return{top:s[l-1]||0,bottom:s[c]}}}(D,G,te,s),Oe=null===T||void 0===T?void 0:T({start:ae,end:oe,virtual:A,offsetX:U,offsetY:se,rtl:k,getSize:De}),Le=function(e,t,n,r,a,o,s){var l=s.getKey;return e.slice(t,n+1).map((function(e,n){var s=o(e,t+n,{style:{width:r}}),c=l(e);return i.createElement(y$,{key:c,setRef:function(t){return a(e,t)}},s)}))}(D,ae,oe,v,$,h,Y),_e=null;o&&(_e=Tl(wi({},u?"height":"maxHeight",o),O$),R&&(_e.overflowY="hidden",v&&(_e.overflowX="hidden"),z&&(_e.pointerEvents="none")));var Ne={};return k&&(Ne.dir="rtl"),i.createElement("div",Sl({style:Tl(Tl({},d),{},{position:"relative"}),className:x},Ne,M),i.createElement(xg,{onResize:function(e){ue({width:e.width||e.offsetWidth,height:e.height||e.offsetHeight})}},i.createElement(y,{className:"".concat(r,"-holder"),style:_e,ref:O,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==N&&J(t),null===C||void 0===C||C(e),Se()},onMouseEnter:ke},i.createElement(g$,{prefixCls:r,height:re,offsetX:U,offsetY:se,scrollWidth:v,onInnerResize:ee,ref:L,innerProps:I,rtl:k,extra:Oe},Le))),A&&re>o&&i.createElement(b$,{ref:de,prefixCls:r,scrollOffset:N,scrollRange:re,rtl:k,onScroll:Ie,onStartMove:V,onStopMove:H,spinSize:pe,containerSize:ce.height,style:null===E||void 0===E?void 0:E.verticalScrollBar,thumbStyle:null===E||void 0===E?void 0:E.verticalScrollBarThumb}),A&&v>ce.width&&i.createElement(b$,{ref:fe,prefixCls:r,scrollOffset:U,scrollRange:v,rtl:k,onScroll:Ie,onStartMove:V,onStopMove:H,spinSize:he,containerSize:ce.width,horizontal:!0,style:null===E||void 0===E?void 0:E.horizontalScrollBar,thumbStyle:null===E||void 0===E?void 0:E.horizontalScrollBarThumb}))}var _$=i.forwardRef(L$);_$.displayName="List";const N$=_$;var j$=["disabled","title","children","style","className"];function P$(e){return"string"===typeof e||"number"===typeof e}var U$=function(e,t){var n=i.useContext(PZ),r=n.prefixCls,a=n.id,o=n.open,s=n.multiple,l=n.mode,c=n.searchValue,u=n.toggleOpen,d=n.notFoundContent,f=n.onPopupScroll,h=i.useContext(r$),p=h.maxCount,g=h.flattenOptions,m=h.onActiveValue,v=h.defaultActiveFirstOption,b=h.onSelect,y=h.menuItemSelectedIcon,C=h.rawValues,w=h.fieldNames,S=h.virtual,I=h.direction,T=h.listHeight,E=h.listItemHeight,M=h.optionRender,R="".concat(r,"-item"),A=yu((function(){return g}),[o,g],(function(e,t){return t[0]&&e[1]!==t[1]})),k=i.useRef(null),x=i.useMemo((function(){return s&&t$(p)&&(null===C||void 0===C?void 0:C.size)>=p}),[s,p,null===C||void 0===C?void 0:C.size]),D=function(e){e.preventDefault()},O=function(e){var t;null===(t=k.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},L=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=A.length,i=0;i<n;i+=1){var r=(e+i*t+n)%n,a=A[r]||{},o=a.group,s=a.data;if(!o&&(null===s||void 0===s||!s.disabled)&&!x)return r}return-1},_=nu(i.useState((function(){return L(0)})),2),N=_[0],j=_[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(e);var n={source:t?"keyboard":"mouse"},i=A[e];i?m(i.value,e,n):m(null,-1,n)};(0,i.useEffect)((function(){P(!1!==v?L(0):-1)}),[A.length,c]);var U=i.useCallback((function(e){return C.has(e)&&"combobox"!==l}),[l,ru(C).toString(),C.size]);(0,i.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&o&&1===C.size){var e=Array.from(C)[0],t=A.findIndex((function(t){return t.data.value===e}));-1!==t&&(P(t),O(t))}}));o&&(null===(e=k.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,c]);var F=function(e){void 0!==e&&b(e,{selected:!C.has(e)}),s||u(!1)};if(i.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case ov.N:case ov.P:case ov.UP:case ov.DOWN:var i=0;if(t===ov.UP?i=-1:t===ov.DOWN?i=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===ov.N?i=1:t===ov.P&&(i=-1)),0!==i){var r=L(N+i,i);O(r),P(r,!0)}break;case ov.ENTER:var a,s=A[N];!s||null!==s&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.disabled||x?F(void 0):F(s.value),o&&e.preventDefault();break;case ov.ESC:u(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){O(e)}}})),0===A.length)return i.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(R,"-empty"),onMouseDown:D},d);var B=Object.keys(w).map((function(e){return w[e]})),z=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(a,"_list_").concat(t)}}var V=function(e){var t=A[e];if(!t)return null;var n=t.data||{},r=n.value,a=t.group,o=MT(n,!0),s=z(t);return t?i.createElement("div",Sl({"aria-label":"string"!==typeof s||a?null:s},o,{key:e},W(t,e),{"aria-selected":U(r)}),r):null},H={role:"listbox",id:"".concat(a,"_list")};return i.createElement(i.Fragment,null,S&&i.createElement("div",Sl({},H,{style:{height:0,width:0,overflow:"hidden"}}),V(N-1),V(N),V(N+1)),i.createElement(N$,{itemKey:"key",ref:k,data:A,height:T,itemHeight:E,fullHeight:!1,onMouseDown:D,onScroll:f,virtual:S,direction:I,innerProps:S?null:H},(function(e,t){var n=e.group,r=e.groupOption,a=e.data,o=e.label,s=e.value,l=a.key;if(n){var c,u=null!==(c=a.title)&&void 0!==c?c:P$(o)?o.toString():void 0;return i.createElement("div",{className:Bl()(R,"".concat(R,"-group"),a.className),title:u},void 0!==o?o:l)}var d=a.disabled,f=a.title,h=(a.children,a.style),p=a.className,g=vv(jl(a,j$),B),m=U(s),v=d||!m&&x,b="".concat(R,"-option"),C=Bl()(R,b,p,wi(wi(wi(wi({},"".concat(b,"-grouped"),r),"".concat(b,"-active"),N===t&&!v),"".concat(b,"-disabled"),v),"".concat(b,"-selected"),m)),w=z(e),I=!y||"function"===typeof y||m,T="number"===typeof w?w:w||s,E=P$(T)?T.toString():void 0;return void 0!==f&&(E=f),i.createElement("div",Sl({},MT(g),S?{}:W(e,t),{"aria-selected":m,className:C,title:E,onMouseMove:function(){N===t||v||P(t)},onClick:function(){v||F(s)},style:h}),i.createElement("div",{className:"".concat(b,"-content")},"function"===typeof M?M(e,{index:t}):T),i.isValidElement(y)||m,I&&i.createElement(jZ,{className:"".concat(R,"-option-state"),customizeIcon:y,customizeIconProps:{value:s,disabled:v,isSelected:m}},m?"\u2713":null))})))};const F$=i.forwardRef(U$);function B$(e,t){return zZ(e).join("").toUpperCase().includes(t)}var z$=0,W$=ou();function V$(e){var t=nu(i.useState(),2),n=t[0],r=t[1];return i.useEffect((function(){r("rc_select_".concat(function(){var e;return W$?(e=z$,z$+=1):e="TEST_OR_SSR",e}()))}),[]),e||n}var H$=["children","value"],G$=["children"];function Y$(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return yg(e).map((function(e,n){if(!i.isValidElement(e)||!e.type)return null;var r=e,a=r.type.isSelectOptGroup,o=r.key,s=r.props,l=s.children,c=jl(s,G$);return t||!a?function(e){var t=e,n=t.key,i=t.props,r=i.children,a=i.value;return Tl({key:n,value:void 0!==a?a:n,children:r},jl(i,H$))}(e):Tl(Tl({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},c),{},{options:Y$(l)})})).filter((function(e){return e}))}const J$=function(e,t,n,r,a){return i.useMemo((function(){var i=e;!e&&(i=Y$(t));var o=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||i?(o.set(u[n.value],u),l(s,u,n.label),l(s,u,r),l(s,u,a)):e(u[n.options],!0)}}(i),{options:i,valueOptions:o,labelOptions:s}}),[e,t,n,r,a])};function Q$(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var q$=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],X$=["inputValue"];var K$=i.forwardRef((function(e,t){var n=e.id,r=e.mode,a=e.prefixCls,o=void 0===a?"rc-select":a,s=e.backfill,l=e.fieldNames,c=e.inputValue,u=e.searchValue,d=e.onSearch,f=e.autoClearSearchValue,h=void 0===f||f,p=e.onSelect,g=e.onDeselect,m=e.dropdownMatchSelectWidth,v=void 0===m||m,b=e.filterOption,y=e.filterSort,C=e.optionFilterProp,w=e.optionLabelProp,S=e.options,I=e.optionRender,T=e.children,E=e.defaultActiveFirstOption,M=e.menuItemSelectedIcon,R=e.virtual,A=e.direction,k=e.listHeight,x=void 0===k?200:k,D=e.listItemHeight,O=void 0===D?20:D,L=e.labelRender,_=e.value,N=e.defaultValue,j=e.labelInValue,P=e.onChange,U=e.maxCount,F=jl(e,q$),B=V$(n),z=s$(r),W=!(S||!T),V=i.useMemo((function(){return(void 0!==b||"combobox"!==r)&&b}),[b,r]),H=i.useMemo((function(){return n$(l,W)}),[JSON.stringify(l),W]),G=nu(Yf("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),Y=G[0],J=G[1],Q=J$(S,T,H,C,w),q=Q.valueOptions,X=Q.labelOptions,K=Q.options,Z=i.useCallback((function(e){return zZ(e).map((function(e){var t,n,i,r,a,o;(function(e){return!e||"object"!==yi(e)})(e)?t=e:(i=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:i);var s,l=q.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[w||H.label]),void 0===i&&(i=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),r=null===l||void 0===l?void 0:l.disabled,a=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:i,disabled:r,title:a}}))}),[H,w,q]),$=nu(Yf(N,{value:_}),2),ee=$[0],te=$[1],ne=i.useMemo((function(){var e,t=Z(z&&null===ee?[]:ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,Z,r,z]),ie=function(e,t){var n=i.useRef({values:new Map,options:new Map});return[i.useMemo((function(){var i=n.current,r=i.values,a=i.options,o=e.map((function(e){var t;return void 0===e.label?Tl(Tl({},e),{},{label:null===(t=r.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return o.forEach((function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||a.get(e.value))})),n.current.values=s,n.current.options=l,o}),[e,t]),i.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,q),re=nu(ie,2),ae=re[0],oe=re[1],se=i.useMemo((function(){if(!r&&1===ae.length){var e=ae[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ae.map((function(e){var t;return Tl(Tl({},e),{},{label:null!==(t="function"===typeof L?L(e):e.label)&&void 0!==t?t:e.value})}))}),[r,ae,L]),le=i.useMemo((function(){return new Set(ae.map((function(e){return e.value})))}),[ae]);i.useEffect((function(){if("combobox"===r){var e,t=null===(e=ae[0])||void 0===e?void 0:e.value;J(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ae]);var ce=Q$((function(e,t){var n=null!==t&&void 0!==t?t:e;return wi(wi({},H.value,e),H.label,n)})),ue=i.useMemo((function(){if("tags"!==r)return K;var e=ru(K);return ru(ae).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return q.has(e)})(n)||e.push(ce(n,t.label))})),e}),[ce,K,q,ae,r]),de=function(e,t,n,r,a){return i.useMemo((function(){if(!n||!1===r)return e;var i=t.options,o=t.label,s=t.value,l=[],c="function"===typeof r,u=n.toUpperCase(),d=c?r:function(e,t){return a?B$(t[a],u):t[i]?B$(t["children"!==o?o:"label"],u):B$(t[s],u)},f=c?function(e){return i$(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(d(n,f(e)))l.push(e);else{var t=e[i].filter((function(e){return d(n,f(e))}));t.length&&l.push(Tl(Tl({},e),{},wi({},i,t)))}else d(n,f(e))&&l.push(e)})),l}),[e,r,a,n,t])}(ue,H,Y,V,C),fe=i.useMemo((function(){return"tags"!==r||!Y||de.some((function(e){return e[C||"value"]===Y}))||de.some((function(e){return e[H.value]===Y}))?de:[ce(Y)].concat(ru(de))}),[ce,C,r,de,Y,H]),he=i.useMemo((function(){return y?ru(fe).sort((function(e,t){return y(e,t)})):fe}),[fe,y]),pe=i.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,i=t.childrenAsData,r=[],a=n$(n,!1),o=a.label,s=a.value,l=a.options,c=a.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach((function(t){if(n||!(l in t)){var a=t[s];r.push({key:e$(t,r.length),groupOption:n,data:t,label:t[o],value:a})}else{var u=t[c];void 0===u&&i&&(u=t.label),r.push({key:e$(t,r.length),group:!0,data:t,label:u}),e(t[l],!0)}}))}(e,!1),r}(he,{fieldNames:H,childrenAsData:W})}),[he,H,W]),ge=function(e){var t=Z(e);if(te(t),P&&(t.length!==ae.length||t.some((function(e,t){var n;return(null===(n=ae[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=j?t:t.map((function(e){return e.value})),i=t.map((function(e){return i$(oe(e.value))}));P(z?n:n[0],z?i:i[0])}},me=nu(i.useState(null),2),ve=me[0],be=me[1],ye=nu(i.useState(0),2),Ce=ye[0],we=ye[1],Se=void 0!==E?E:"combobox"!==r,Ie=i.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,i=void 0===n?"keyboard":n;we(t),s&&"combobox"===r&&null!==e&&"keyboard"===i&&be(String(e))}),[s,r]),Te=function(e,t,n){var i=function(){var t,n=oe(e);return[j?{label:null===n||void 0===n?void 0:n[H.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,i$(n)]};if(t&&p){var r=nu(i(),2),a=r[0],o=r[1];p(a,o)}else if(!t&&g&&"clear"!==n){var s=nu(i(),2),l=s[0],c=s[1];g(l,c)}},Ee=Q$((function(e,t){var n,i=!z||t.selected;n=i?z?[].concat(ru(ae),[e]):[e]:ae.filter((function(t){return t.value!==e})),ge(n),Te(e,i),"combobox"===r?be(""):s$&&!h||(J(""),be(""))})),Me=i.useMemo((function(){var e=!1!==R&&!1!==v;return Tl(Tl({},Q),{},{flattenOptions:pe,onActiveValue:Ie,defaultActiveFirstOption:Se,onSelect:Ee,menuItemSelectedIcon:M,rawValues:le,fieldNames:H,virtual:e,direction:A,listHeight:x,listItemHeight:O,childrenAsData:W,maxCount:U,optionRender:I})}),[U,Q,pe,Ie,Se,Ee,M,le,H,R,v,A,x,O,W,I]);return i.createElement(r$.Provider,{value:Me},i.createElement(c$,Sl({},F,{id:B,prefixCls:o,ref:t,omitDomProps:X$,mode:r,displayValues:se,onDisplayValuesChange:function(e,t){ge(e);var n=t.type,i=t.values;"remove"!==n&&"clear"!==n||i.forEach((function(e){Te(e.value,!1,n)}))},direction:A,searchValue:Y,onSearch:function(e,t){if(J(e),be(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&ge(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat(ru(le),[n])));ge(i),Te(n,!0),J("")}}},autoClearSearchValue:h,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=X.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(ru(le),ru(t))));ge(n),n.forEach((function(e){Te(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:F$,emptyOptions:!pe.length,activeValue:ve,activeDescendantId:"".concat(B,"_list_").concat(Ce)})))}));var Z$=K$;Z$.Option=h$,Z$.OptGroup=d$;const $$=Z$;const e0=()=>{const[,e]=fp(),t=new Yh(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return i.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(24 31.67)"},i.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),i.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),i.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),i.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),i.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),i.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},i.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const t0=()=>{const[,e]=fp(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:a}=e,{borderColor:o,shadowColor:s,contentColor:l}=(0,i.useMemo)((()=>({borderColor:new Yh(t).onBackground(a).toHexShortString(),shadowColor:new Yh(n).onBackground(a).toHexShortString(),contentColor:new Yh(r).onBackground(a).toHexShortString()})),[t,n,r,a]);return i.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),i.createElement("g",{fillRule:"nonzero",stroke:o},i.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},n0=e=>{const{componentCls:t,margin:n,marginXS:i,marginXL:r,fontSize:a,lineHeight:o}=e;return{[t]:{marginInline:i,fontSize:a,lineHeight:o,textAlign:"center",["".concat(t,"-image")]:{height:e.emptyImgHeight,marginBottom:i,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(t,"-description")]:{color:e.colorText},["".concat(t,"-footer")]:{marginTop:n},"&-normal":{marginBlock:r,color:e.colorTextDisabled,["".concat(t,"-description")]:{color:e.colorTextDisabled},["".concat(t,"-image")]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:i,color:e.colorTextDisabled,["".concat(t,"-image")]:{height:e.emptyImgHeightSM}}}}},i0=Dp("Empty",(e=>{const{componentCls:t,controlHeightLG:n,calc:i}=e,r=Sp(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:i(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:i(n).mul(.875).equal()});return[n0(r)]}));var r0=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const a0=i.createElement(e0,null),o0=i.createElement(t0,null),s0=e=>{var{className:t,rootClassName:n,prefixCls:r,image:a=a0,description:o,children:s,imageStyle:l,style:c}=e,u=r0(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:d,direction:f,empty:h}=i.useContext(Xc),p=d("empty",r),[g,m,v]=i0(p),[b]=dT("Empty"),y="undefined"!==typeof o?o:null===b||void 0===b?void 0:b.description,C="string"===typeof y?y:"empty";let w=null;return w="string"===typeof a?i.createElement("img",{alt:C,src:a}):a,g(i.createElement("div",Object.assign({className:Bl()(m,v,p,null===h||void 0===h?void 0:h.className,{["".concat(p,"-normal")]:a===o0,["".concat(p,"-rtl")]:"rtl"===f},t,n),style:Object.assign(Object.assign({},null===h||void 0===h?void 0:h.style),c)},u),i.createElement("div",{className:"".concat(p,"-image"),style:l},w),y&&i.createElement("div",{className:"".concat(p,"-description")},y),s&&i.createElement("div",{className:"".concat(p,"-footer")},s)))};s0.PRESENTED_IMAGE_DEFAULT=a0,s0.PRESENTED_IMAGE_SIMPLE=o0;const l0=s0,c0=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,i.useContext)(Xc),r=n("empty");switch(t){case"Table":case"List":return i.createElement(l0,{image:l0.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return i.createElement(l0,{image:l0.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return i.createElement(l0,null)}};const u0=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},d0=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:i,optionPadding:r}=e;return{position:"relative",display:"block",minHeight:t,padding:r,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:i,boxSizing:"border-box"}},f0=e=>{const{antCls:t,componentCls:n}=e,i="".concat(n,"-item"),r="&".concat(t,"-slide-up-enter").concat(t,"-slide-up-enter-active"),a="&".concat(t,"-slide-up-appear").concat(t,"-slide-up-appear-active"),o="&".concat(t,"-slide-up-leave").concat(t,"-slide-up-leave-active"),s="".concat(n,"-dropdown-placement-");return[{["".concat(n,"-dropdown")]:Object.assign(Object.assign({},Uf(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,["\n          ".concat(r).concat(s,"bottomLeft,\n          ").concat(a).concat(s,"bottomLeft\n        ")]:{animationName:Rw},["\n          ".concat(r).concat(s,"topLeft,\n          ").concat(a).concat(s,"topLeft,\n          ").concat(r).concat(s,"topRight,\n          ").concat(a).concat(s,"topRight\n        ")]:{animationName:kw},["".concat(o).concat(s,"bottomLeft")]:{animationName:Aw},["\n          ".concat(o).concat(s,"topLeft,\n          ").concat(o).concat(s,"topRight\n        ")]:{animationName:xw},"&-hidden":{display:"none"},["".concat(i)]:Object.assign(Object.assign({},d0(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Pf),"&-state":{flex:"none",display:"flex",alignItems:"center"},["&-active:not(".concat(i,"-option-disabled)")]:{backgroundColor:e.optionActiveBg},["&-selected:not(".concat(i,"-option-disabled)")]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,["".concat(i,"-option-state")]:{color:e.colorPrimary},["&:has(+ ".concat(i,"-option-selected:not(").concat(i,"-option-disabled))")]:{borderEndStartRadius:0,borderEndEndRadius:0,["& + ".concat(i,"-option-selected:not(").concat(i,"-option-disabled)")]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{["&".concat(i,"-option-selected")]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},d0(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},jw(e,"slide-up"),jw(e,"slide-down"),sS(e,"move-up"),sS(e,"move-down")]},h0=(e,t)=>{const{componentCls:n,iconCls:i}=e,r="".concat(n,"-selection-overflow"),a=e.multipleSelectItemHeight,o=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:i}=e;return e.calc(n).sub(t).div(2).sub(i).equal()})(e),s=t?"".concat(n,"-").concat(t):"";return{["".concat(n,"-multiple").concat(s)]:{[r]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},["".concat(n,"-selector")]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:e.calc(2).mul(2).equal(),paddingBlock:e.calc(o).sub(2).equal(),borderRadius:e.borderRadius,["".concat(n,"-disabled&")]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"".concat($u(2)," 0"),lineHeight:$u(a),visibility:"hidden",content:'"\\a0"'}},["".concat(n,"-selection-item")]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:a,marginTop:2,marginBottom:2,lineHeight:$u(e.calc(a).sub(e.calc(e.lineWidth).mul(2)).equal()),borderRadius:e.borderRadiusSM,cursor:"default",transition:"font-size ".concat(e.motionDurationSlow,", line-height ").concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),marginInlineEnd:e.calc(2).mul(2).equal(),paddingInlineStart:e.paddingXS,paddingInlineEnd:e.calc(e.paddingXS).div(2).equal(),["".concat(n,"-disabled&")]:{color:e.multipleItemColorDisabled,borderColor:e.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(e.paddingXS).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",["> ".concat(i)]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},["".concat(r,"-item + ").concat(r,"-item")]:{["".concat(n,"-selection-search")]:{marginInlineStart:0}},["".concat(r,"-item-suffix")]:{height:"100%"},["".concat(n,"-selection-search")]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(o).equal(),"\n          &-input,\n          &-mirror\n        ":{height:a,fontFamily:e.fontFamily,lineHeight:$u(a),transition:"all ".concat(e.motionDurationSlow)},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},["".concat(n,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}}}};function p0(e,t){const{componentCls:n}=e,i=t?"".concat(n,"-").concat(t):"",r={["".concat(n,"-multiple").concat(i)]:{fontSize:e.fontSize,["".concat(n,"-selector")]:{["".concat(n,"-show-search&")]:{cursor:"text"}},["\n        &".concat(n,"-show-arrow ").concat(n,"-selector,\n        &").concat(n,"-allow-clear ").concat(n,"-selector\n      ")]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[h0(e,t),r]}const g0=e=>{const{componentCls:t}=e,n=Sp(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),i=Sp(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[p0(e),p0(n,"sm"),{["".concat(t,"-multiple").concat(t,"-sm")]:{["".concat(t,"-selection-placeholder")]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},["".concat(t,"-selection-search")]:{marginInlineStart:2}}},p0(i,"lg")]};function m0(e,t){const{componentCls:n,inputPaddingHorizontalBase:i,borderRadius:r}=e,a=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),o=t?"".concat(n,"-").concat(t):"";return{["".concat(n,"-single").concat(o)]:{fontSize:e.fontSize,height:e.controlHeight,["".concat(n,"-selector")]:Object.assign(Object.assign({},Uf(e,!0)),{display:"flex",borderRadius:r,["".concat(n,"-selection-search")]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},["\n          ".concat(n,"-selection-item,\n          ").concat(n,"-selection-placeholder\n        ")]:{padding:0,lineHeight:$u(a),transition:"all ".concat(e.motionDurationSlow,", visibility 0s"),alignSelf:"center"},["".concat(n,"-selection-placeholder")]:{transition:"none",pointerEvents:"none"},[["&:after","".concat(n,"-selection-item:empty:after"),"".concat(n,"-selection-placeholder:empty:after")].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),["\n        &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n        &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n      ")]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},["&".concat(n,"-open ").concat(n,"-selection-item")]:{color:e.colorTextPlaceholder},["&:not(".concat(n,"-customize-input)")]:{["".concat(n,"-selector")]:{width:"100%",height:"100%",padding:"0 ".concat($u(i)),["".concat(n,"-selection-search-input")]:{height:a},"&:after":{lineHeight:$u(a)}}},["&".concat(n,"-customize-input")]:{["".concat(n,"-selector")]:{"&:after":{display:"none"},["".concat(n,"-selection-search")]:{position:"static",width:"100%"},["".concat(n,"-selection-placeholder")]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat($u(i)),"&:after":{display:"none"}}}}}}}function v0(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[m0(e),m0(Sp(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{["".concat(t,"-single").concat(t,"-sm")]:{["&:not(".concat(t,"-customize-input)")]:{["".concat(t,"-selection-search")]:{insetInlineStart:n,insetInlineEnd:n},["".concat(t,"-selector")]:{padding:"0 ".concat($u(n))},["&".concat(t,"-show-arrow ").concat(t,"-selection-search")]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},["\n            &".concat(t,"-show-arrow ").concat(t,"-selection-item,\n            &").concat(t,"-show-arrow ").concat(t,"-selection-placeholder\n          ")]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},m0(Sp(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const b0=(e,t)=>{const{componentCls:n,antCls:i,controlOutlineWidth:r}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(t.borderColor),background:e.selectorBg},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(i,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{borderColor:t.hoverBorderHover},["".concat(n,"-focused& ").concat(n,"-selector")]:{borderColor:t.activeBorderColor,boxShadow:"0 0 0 ".concat($u(r)," ").concat(t.activeShadowColor),outline:0}}}},y0=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},b0(e,t))}),C0=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},b0(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),y0(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),y0(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}})}),w0=(e,t)=>{const{componentCls:n,antCls:i}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{background:t.bg,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," transparent"),color:t.color},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(i,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{background:t.hoverBg},["".concat(n,"-focused& ").concat(n,"-selector")]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},S0=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},w0(e,t))}),I0=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},w0(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),S0(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),S0(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.colorBgContainer,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}})}),T0=e=>({"&-borderless":{["".concat(e.componentCls,"-selector")]:{background:"transparent",borderColor:"transparent"},["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}}}),E0=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},C0(e)),I0(e)),T0(e))}),M0=e=>{const{componentCls:t}=e;return{position:"relative",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"},["".concat(t,"-show-search&")]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},["".concat(t,"-disabled&")]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},R0=e=>{const{componentCls:t}=e;return{["".concat(t,"-selection-search-input")]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},A0=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:i,iconCls:r}=e;return{[n]:Object.assign(Object.assign({},Uf(e)),{position:"relative",display:"inline-block",cursor:"pointer",["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:Object.assign(Object.assign({},M0(e)),R0(e)),["".concat(n,"-selection-item")]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Pf),{["> ".concat(t,"-typography")]:{display:"inline"}}),["".concat(n,"-selection-placeholder")]:Object.assign(Object.assign({},Pf),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),["".concat(n,"-arrow")]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:"opacity ".concat(e.motionDurationSlow," ease"),[r]:{verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"},["&:not(".concat(n,"-suffix)")]:{pointerEvents:"auto"}},["".concat(n,"-disabled &")]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),["".concat(n,"-clear")]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{["".concat(n,"-clear")]:{opacity:1},["".concat(n,"-arrow:not(:last-child)")]:{opacity:0}}}),["".concat(n,"-has-feedback")]:{["".concat(n,"-clear")]:{insetInlineEnd:e.calc(i).add(e.fontSize).add(e.paddingXS).equal()}}}},k0=e=>{const{componentCls:t}=e;return[{[t]:{["&".concat(t,"-in-form-item")]:{width:"100%"}}},A0(e),v0(e),g0(e),f0(e),{["".concat(t,"-rtl")]:{direction:"rtl"}},kI(e,{borderElCls:"".concat(t,"-selector"),focusElCls:"".concat(t,"-focused")})]},x0=Dp("Select",((e,t)=>{let{rootPrefixCls:n}=t;const i=Sp(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[k0(i),E0(i)]}),(e=>{const{fontSize:t,lineHeight:n,controlHeight:i,controlPaddingHorizontal:r,zIndexPopupBase:a,colorText:o,fontWeightStrong:s,controlItemBgActive:l,controlItemBgHover:c,colorBgContainer:u,colorFillSecondary:d,controlHeightLG:f,controlHeightSM:h,colorBgContainerDisabled:p,colorTextDisabled:g}=e;return{zIndexPopup:a+50,optionSelectedColor:o,optionSelectedFontWeight:s,optionSelectedBg:l,optionActiveBg:c,optionPadding:"".concat((i-t*n)/2,"px ").concat(r,"px"),optionFontSize:t,optionLineHeight:n,optionHeight:i,selectorBg:u,clearBg:u,singleItemHeightLG:f,multipleItemBg:d,multipleItemBorderColor:"transparent",multipleItemHeight:h,multipleItemHeightLG:i,multipleSelectorBgDisabled:p,multipleItemColorDisabled:g,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize)}}),{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const D0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var O0=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:D0}))};const L0=i.forwardRef(O0);const _0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var N0=function(e,t){return i.createElement(og,Sl({},e,{ref:t,icon:_0}))};const j0=i.forwardRef(N0);var P0=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const U0="SECRET_COMBOBOX_MODE_DO_NOT_USE",F0=(e,t)=>{var n;const{prefixCls:r,bordered:a,className:o,rootClassName:s,getPopupContainer:l,popupClassName:c,dropdownClassName:u,listHeight:d=256,placement:f,listItemHeight:h,size:p,disabled:g,notFoundContent:m,status:v,builtinPlacements:b,dropdownMatchSelectWidth:y,popupMatchSelectWidth:C,direction:w,style:S,allowClear:I,variant:T,dropdownStyle:E,transitionName:M,tagRender:R,maxCount:A}=e,k=P0(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:x,getPrefixCls:D,renderEmpty:O,direction:L,virtual:_,popupMatchSelectWidth:N,popupOverflow:j,select:P}=i.useContext(Xc),[,U]=fp(),F=null!==h&&void 0!==h?h:null===U||void 0===U?void 0:U.controlHeight,B=D("select",r),z=D(),W=null!==w&&void 0!==w?w:L,{compactSize:V,compactItemClassnames:H}=VC(B,W),[G,Y]=JV(T,a),J=EC(B),[Q,q,X]=x0(B,J),K=i.useMemo((()=>{const{mode:t}=e;if("combobox"!==t)return t===U0?"combobox":t}),[e.mode]),Z="multiple"===K||"tags"===K,$=function(e,t){return void 0!==t?t:null!==e}(e.suffixIcon,e.showArrow),ee=null!==(n=null!==C&&void 0!==C?C:y)&&void 0!==n?n:N,{status:te,hasFeedback:ne,isFormItemInput:ie,feedbackIcon:re}=i.useContext(nM),ae=GV(te,v);let oe;oe=void 0!==m?m:"combobox"===K?null:(null===O||void 0===O?void 0:O("Select"))||i.createElement(c0,{componentName:"Select"});const{suffixIcon:se,itemIcon:le,removeIcon:ce,clearIcon:ue}=function(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:a,loading:o,multiple:s,hasFeedback:l,prefixCls:c,showSuffixIcon:u,feedbackIcon:d,showArrow:f,componentName:h}=e;const p=null!==n&&void 0!==n?n:i.createElement(rT,null),g=e=>null!==t||l||f?i.createElement(i.Fragment,null,!1!==u&&e,l&&d):null;let m=null;if(void 0!==t)m=g(t);else if(o)m=g(i.createElement(KS,{spin:!0}));else{const e="".concat(c,"-suffix");m=t=>{let{open:n,showSearch:r}=t;return g(n&&r?i.createElement(dH,{className:e}):i.createElement(j0,{className:e}))}}let v=null;v=void 0!==r?r:s?i.createElement(L0,null):null;let b=null;return b=void 0!==a?a:i.createElement(CT,null),{clearIcon:p,suffixIcon:m,itemIcon:v,removeIcon:b}}(Object.assign(Object.assign({},k),{multiple:Z,hasFeedback:ne,feedbackIcon:re,showSuffixIcon:$,prefixCls:B,componentName:"Select"})),de=!0===I?{clearIcon:ue}:I,fe=vv(k,["suffixIcon","itemIcon"]),he=Bl()(c||u,{["".concat(B,"-dropdown-").concat(W)]:"rtl"===W},s,X,J,q),pe=jC((e=>{var t;return null!==(t=null!==p&&void 0!==p?p:V)&&void 0!==t?t:e})),ge=i.useContext($v),me=null!==g&&void 0!==g?g:ge,ve=Bl()({["".concat(B,"-lg")]:"large"===pe,["".concat(B,"-sm")]:"small"===pe,["".concat(B,"-rtl")]:"rtl"===W,["".concat(B,"-").concat(G)]:Y,["".concat(B,"-in-form-item")]:ie},HV(B,ae,ne),H,null===P||void 0===P?void 0:P.className,o,s,X,J,q),be=i.useMemo((()=>void 0!==f?f:"rtl"===W?"bottomRight":"bottomLeft"),[f,W]);const[ye]=Sv("SelectLike",null===E||void 0===E?void 0:E.zIndex);return Q(i.createElement($$,Object.assign({ref:t,virtual:_,showSearch:null===P||void 0===P?void 0:P.showSearch},fe,{style:Object.assign(Object.assign({},null===P||void 0===P?void 0:P.style),S),dropdownMatchSelectWidth:ee,transitionName:IC(z,"slide-up",M),builtinPlacements:u0(b,j),listHeight:d,listItemHeight:F,mode:K,prefixCls:B,placement:be,direction:W,suffixIcon:se,menuItemSelectedIcon:le,removeIcon:ce,allowClear:de,notFoundContent:oe,className:ve,getPopupContainer:l||x,dropdownClassName:he,disabled:me,dropdownStyle:Object.assign(Object.assign({},E),{zIndex:ye}),maxCount:Z?A:void 0,tagRender:Z?R:void 0})))};const B0=i.forwardRef(F0),z0=Sb(B0);B0.SECRET_COMBOBOX_MODE_DO_NOT_USE=U0,B0.Option=h$,B0.OptGroup=d$,B0._InternalPanelDoNotUseOrYouWillBeFired=z0;const W0=B0;var V0=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],H0=(0,i.forwardRef)((function(e,t){var n=e.prefixCls,r=void 0===n?"rc-checkbox":n,a=e.className,o=e.style,s=e.checked,l=e.disabled,c=e.defaultChecked,u=void 0!==c&&c,d=e.type,f=void 0===d?"checkbox":d,h=e.title,p=e.onChange,g=jl(e,V0),m=(0,i.useRef)(null),v=nu(Yf(u,{value:s}),2),b=v[0],y=v[1];(0,i.useImperativeHandle)(t,(function(){return{focus:function(e){var t;null===(t=m.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=m.current)||void 0===e||e.blur()},input:m.current}}));var C=Bl()(r,a,wi(wi({},"".concat(r,"-checked"),b),"".concat(r,"-disabled"),l));return i.createElement("span",{className:C,title:h,style:o},i.createElement("input",Sl({},g,{className:"".concat(r,"-input"),ref:m,onChange:function(t){l||("checked"in e||y(t.target.checked),null===p||void 0===p||p({target:Tl(Tl({},e),{},{type:f,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:l,checked:!!b,type:f})),i.createElement("span",{className:"".concat(r,"-inner")}))}));const G0=H0,Y0=i.createContext(null),J0=e=>{const{checkboxCls:t}=e,n="".concat(t,"-wrapper");return[{["".concat(t,"-group")]:Object.assign(Object.assign({},Uf(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},Uf(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Uf(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(t,"-inner")]:Object.assign({},zf(e))},["".concat(t,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat($u(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat($u(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(t,":not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{borderColor:e.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled) ").concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(t,"-checked")]:{["".concat(t,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(t,"-checked:not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{["".concat(t,"-inner")]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(t,"-disabled")]:{["&, ".concat(t,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(t,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(t,"-indeterminate ").concat(t,"-inner::after")]:{background:e.colorTextDisabled}}}]};function Q0(e,t){const n=Sp(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[J0(n)]}const q0=Dp("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[Q0(n,e)]}));var X0=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const K0=(e,t)=>{var n;const{prefixCls:r,className:a,rootClassName:o,children:s,indeterminate:l=!1,style:c,onMouseEnter:u,onMouseLeave:d,skipGroup:f=!1,disabled:h}=e,p=X0(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:g,direction:m,checkbox:v}=i.useContext(Xc),b=i.useContext(Y0),{isFormItemInput:y}=i.useContext(nM),C=i.useContext($v),w=null!==(n=(null===b||void 0===b?void 0:b.disabled)||h)&&void 0!==n?n:C,S=i.useRef(p.value);i.useEffect((()=>{null===b||void 0===b||b.registerValue(p.value)}),[]),i.useEffect((()=>{if(!f)return p.value!==S.current&&(null===b||void 0===b||b.cancelValue(S.current),null===b||void 0===b||b.registerValue(p.value),S.current=p.value),()=>null===b||void 0===b?void 0:b.cancelValue(p.value)}),[p.value]);const I=g("checkbox",r),T=EC(I),[E,M,R]=q0(I,T),A=Object.assign({},p);b&&!f&&(A.onChange=function(){p.onChange&&p.onChange.apply(p,arguments),b.toggleOption&&b.toggleOption({label:s,value:p.value})},A.name=b.name,A.checked=b.value.includes(p.value));const k=Bl()("".concat(I,"-wrapper"),{["".concat(I,"-rtl")]:"rtl"===m,["".concat(I,"-wrapper-checked")]:A.checked,["".concat(I,"-wrapper-disabled")]:w,["".concat(I,"-wrapper-in-form-item")]:y},null===v||void 0===v?void 0:v.className,a,o,R,T,M),x=Bl()({["".concat(I,"-indeterminate")]:l},LS,M),D=l?"mixed":void 0;return E(i.createElement(PS,{component:"Checkbox",disabled:w},i.createElement("label",{className:k,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),c),onMouseEnter:u,onMouseLeave:d},i.createElement(G0,Object.assign({"aria-checked":D},A,{prefixCls:I,className:x,disabled:w,ref:t})),void 0!==s&&i.createElement("span",null,s))))};const Z0=i.forwardRef(K0);var $0=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const e1=i.forwardRef(((e,t)=>{const{defaultValue:n,children:r,options:a=[],prefixCls:o,className:s,rootClassName:l,style:c,onChange:u}=e,d=$0(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:f,direction:h}=i.useContext(Xc),[p,g]=i.useState(d.value||n||[]),[m,v]=i.useState([]);i.useEffect((()=>{"value"in d&&g(d.value||[])}),[d.value]);const b=i.useMemo((()=>a.map((e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e))),[a]),y=f("checkbox",o),C="".concat(y,"-group"),w=EC(y),[S,I,T]=q0(y,w),E=vv(d,["value","disabled"]),M=a.length?b.map((e=>i.createElement(Z0,{prefixCls:y,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:p.includes(e.value),onChange:e.onChange,className:"".concat(C,"-item"),style:e.style,title:e.title,id:e.id,required:e.required},e.label))):r,R={toggleOption:e=>{const t=p.indexOf(e.value),n=ru(p);-1===t?n.push(e.value):n.splice(t,1),"value"in d||g(n),null===u||void 0===u||u(n.filter((e=>m.includes(e))).sort(((e,t)=>b.findIndex((t=>t.value===e))-b.findIndex((e=>e.value===t)))))},value:p,disabled:d.disabled,name:d.name,registerValue:e=>{v((t=>[].concat(ru(t),[e])))},cancelValue:e=>{v((t=>t.filter((t=>t!==e))))}},A=Bl()(C,{["".concat(C,"-rtl")]:"rtl"===h},s,l,T,w,I);return S(i.createElement("div",Object.assign({className:A,style:c},E,{ref:t}),i.createElement(Y0.Provider,{value:R},M)))})),t1=e1,n1=Z0;n1.Group=t1,n1.__ANT_CHECKBOX=!0;const i1=n1;function r1(){const e=(0,i.useRef)(),t=st(),[n,r]=(0,i.useState)({isPartyEnabled:!1}),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null);return(0,o.jsx)(gZ,{active:"Announcement",children:(0,o.jsxs)("div",{className:"createAdContainer",children:[(0,o.jsx)("h3",{className:"m-4",children:"Create Broadcast"}),(0,o.jsx)("img",{src:"",id:"adImg",onClick:()=>e.current.click(),className:"adImageInput m-2"}),(0,o.jsx)("input",{onInput:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{r({...n,media:e.target.result}),document.getElementById("adImg").src=e.target.result},e.readAsDataURL(t)}},ref:e,type:"file",hidden:!0,accept:"image/*"}),(0,o.jsx)(YI,{className:"mt-2",wrap:!0,children:(0,o.jsx)(W0,{defaultValue:"Content type : ",onChange:e=>r({...n,contentType:e}),style:{width:"63vh"},options:[{value:"banned",label:"Banned"},{value:"custom",label:"Custom"}]})}),(0,o.jsxs)("div",{className:"inputAd",children:["custom"==n.contentType&&(0,o.jsx)(kH,{id:"ad_name",onChange:e=>r({...n,caption:e.target.value}),type:"text",placeholder:"Hi {username}..."}),(0,o.jsx)(YI,{className:"m-2",wrap:!0,children:(0,o.jsx)(W0,{disabled:Boolean(!n.contentType),defaultValue:"Message type : ",onChange:e=>r({...n,type:e}),style:{width:"63vh"},options:[{value:"broadcast",label:"Broadcast",disabled:"banned"==n.contentType},{value:"personal",label:"Personal"},{value:"excluded",label:"Excluded broadcast",disabled:"banned"==n.contentType}]})}),n.type&&"broadcast"!=n.type&&(0,o.jsx)(kH,{onChange:function(e){if(n.contentType){let t=e.target.value;t=t.includes(",")?t.split(","):[t],r({...n,["personal"==n.type?"persons":"exclude"]:t})}},type:"text",placeholder:"Enter ".concat("personal"==n.type?"username or email":"excluded user username or email "," (add multiple using coma) ")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"#greetingCheckBox",children:"Enable party popper : "}),(0,o.jsx)(i1,{onChange:e=>r({...n,isPartyEnabled:e.target.checked}),id:"greetingCheckbox",className:"m-2"})]}),(0,o.jsx)("button",{onClick:async function(e){if(!a){s(!0);let e=n;if(e.media){const t=new FormData;t.append("file",e.media),t.append("quality","auto:low"),t.append("upload_preset","syncup_preset");const n=await ll.post("https://api.cloudinary.com/v1_1/drjubxrbt/image/upload",t).catch((e=>bi(e.message))),{secure_url:i}=null===n||void 0===n?void 0:n.data;i&&(e={...e,media:i})}const i={route:"admin/publishBroadcast",payload:{data:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("SyncUp_AdminToken"))},method:"POST"};hl(i).then((e=>{e.data.success&&(t("/admin/announcement"),bi.success(e.data.message)),s(!1)}))}},className:"submitAd m-2",children:a?"Sending message..":"Send broadcast"}),l&&(0,o.jsx)("p",{className:"text-danger mt-3",children:l})]})]})})}const a1=function(){const e=so((e=>e.progress.value)),t=bo();return(0,i.useEffect)((()=>{e&&tP().delay((()=>t(ka())),5e3)}),[]),(0,o.jsxs)(i.Fragment,{children:[e&&(0,o.jsx)("div",{className:"spinnerParent",children:(0,o.jsxs)("div",{className:"spinnerBackdrop",children:[(0,o.jsx)("span",{className:"spinner-border",role:"status","aria-hidden":"true"}),(0,o.jsx)("span",{children:"Loading.."})]})}),(0,o.jsx)(Qt,{children:(0,o.jsxs)(It,{children:[(0,o.jsx)(wt,{path:"/",element:(0,o.jsx)(Bt,{})}),(0,o.jsx)(wt,{path:"/login",element:(0,o.jsx)(zH,{children:(0,o.jsx)(yl,{})})}),(0,o.jsx)(wt,{path:"/register",element:(0,o.jsx)(zH,{children:(0,o.jsx)(Cl,{})})}),(0,o.jsx)(wt,{path:"/chats",element:(0,o.jsx)(BH,{children:(0,o.jsx)(FH,{})})}),(0,o.jsx)(wt,{path:"/plans",element:(0,o.jsx)(BH,{children:(0,o.jsx)(xZ,{})})}),(0,o.jsx)(wt,{path:"/forgetPassword",element:(0,o.jsx)(zH,{children:(0,o.jsx)(WH,{})})}),(0,o.jsx)(wt,{path:"/resetPassword",element:(0,o.jsx)(zH,{children:(0,o.jsx)(VH,{})})}),(0,o.jsx)(wt,{path:"/admin",element:(0,o.jsx)(YH,{children:(0,o.jsx)(hZ,{})})}),(0,o.jsx)(wt,{path:"/admin/users",element:(0,o.jsx)(YH,{children:(0,o.jsx)(nG,{})})}),(0,o.jsx)(wt,{path:"/admin/ads",element:(0,o.jsx)(YH,{children:(0,o.jsx)(pZ,{})})}),(0,o.jsx)(wt,{path:"/admin/ads/new",element:(0,o.jsx)(YH,{children:(0,o.jsx)(mZ,{})})}),(0,o.jsx)(wt,{path:"/admin/reports",element:(0,o.jsx)(YH,{children:(0,o.jsx)(LZ,{})})}),(0,o.jsx)(wt,{path:"/admin/chats",element:(0,o.jsx)(YH,{children:(0,o.jsx)(_Z,{})})}),(0,o.jsx)(wt,{path:"/admin/notes",element:(0,o.jsx)(YH,{children:(0,o.jsx)($H,{})})}),(0,o.jsx)(wt,{path:"/admin/announcement",element:(0,o.jsx)(YH,{children:(0,o.jsx)(NZ,{})})}),(0,o.jsx)(wt,{path:"/admin/announcement/new",element:(0,o.jsx)(YH,{children:(0,o.jsx)(r1,{})})}),(0,o.jsx)(wt,{path:"*",element:(0,o.jsx)("h4",{children:"Not found"})})]})})]})};a.createRoot(document.getElementById("root")).render((0,o.jsx)(ml,{clientId:"682630855398-5la44mk32656m2jak6b0t02785nn0ku1.apps.googleusercontent.com",children:(0,o.jsxs)(ho,{store:Qa,children:[(0,o.jsx)(vi,{}),(0,o.jsx)(EA,{children:(0,o.jsx)(a1,{})})]})}))})()})();
//# sourceMappingURL=main.7d182fbd.js.map